"use strict";(self["webpackChunkmangobox"]=self["webpackChunkmangobox"]||[]).push([[360],{49360:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"CreateProject daoContentBg"},[s("div",{staticClass:"CreateProject-content"},[s("h2",[t._v("Creat your projects")]),s("div",{staticClass:"progress-box"},[s("div",{staticClass:"progress-item",on:{click:function(s){t.activeStep=0}}},[s("div",{staticClass:"index",class:t.activeStep>=0?"active":""},[t._v("1")]),s("div",{staticClass:"name"},[t._v(" Project details ")])]),s("div",{staticClass:"progress-item",on:{click:function(s){t.activeStep=1}}},[s("div",{staticClass:"index",class:t.activeStep>=1?"active":""},[t._v("2")]),s("div",{staticClass:"name"},[t._v(" Funding cycle ")])]),s("div",{staticClass:"progress-item",on:{click:function(s){t.activeStep=2}}},[s("div",{staticClass:"index",class:t.activeStep>=2?"active":""},[t._v("3")]),s("div",{staticClass:"name"},[t._v(" Review and deploy ")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.activeStep,expression:"activeStep===0"}],staticClass:"step-box"},[s("div",{staticClass:"input-box"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.name,expression:"ipfsObj.name"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.name},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"name",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Project description ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.description,expression:"ipfsObj.description"}],attrs:{name:"",cols:"50",rows:"5"},domProps:{value:t.ipfsObj.description},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"description",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Logo ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.icon,expression:"ipfsObj.icon"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.icon},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"icon",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Website ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.webside,expression:"ipfsObj.webside"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.webside},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"webside",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Twitter handle ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.twitter,expression:"ipfsObj.twitter"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.twitter},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"twitter",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Discord ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.discord,expression:"ipfsObj.discord"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.discord},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"discord",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Pay button text ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.payButton,expression:"ipfsObj.payButton"}],attrs:{type:"text"},domProps:{value:t.ipfsObj.payButton},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"payButton",s.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Pay disclosure ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipfsObj.payDisclosure,expression:"ipfsObj.payDisclosure"}],attrs:{name:"",cols:"50",rows:"5"},domProps:{value:t.ipfsObj.payDisclosure},on:{input:function(s){s.target.composing||t.$set(t.ipfsObj,"payDisclosure",s.target.value)}}})]),s("div",{staticClass:"intro",staticStyle:{opacity:"0.5"}},[t._v(" Disclose any details to your contributors before they pay your project. ")]),s("button",{staticClass:"mangobox-button",on:{click:t.checkAndUpload}},[t._v(" SAVE ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activeStep,expression:"activeStep===1"}],staticClass:"step-box"},[s("h3",{staticClass:"step-item-title"},[t._v(" 01 Funding ")]),s("div",{staticClass:"flex-box"},[s("div",{staticClass:"switch"},[s("div",{staticClass:"switch__1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.autoFundingCycles,expression:"autoFundingCycles"}],attrs:{id:"switch-1",type:"checkbox"},domProps:{checked:Array.isArray(t.autoFundingCycles)?t._i(t.autoFundingCycles,null)>-1:t.autoFundingCycles},on:{change:function(s){var e=t.autoFundingCycles,a=s.target,i=!!a.checked;if(Array.isArray(e)){var o=null,n=t._i(e,o);a.checked?n<0&&(t.autoFundingCycles=e.concat([o])):n>-1&&(t.autoFundingCycles=e.slice(0,n).concat(e.slice(n+1)))}else t.autoFundingCycles=i}}}),s("label",{attrs:{for:"switch-1"}})])]),t._v(" Automate funding cycles ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.autoFundingCycles,expression:"!autoFundingCycles"}],staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Funding cycle duration ")]),s("div",{staticClass:"flex-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.durationDay,expression:"durationDay"}],attrs:{type:"text",placeholder:"duration(day)"},domProps:{value:t.durationDay},on:{input:function(s){s.target.composing||(t.durationDay=s.target.value)}}}),s("el-select",{attrs:{placeholder:"Days"},model:{value:t.durationDay,callback:function(s){t.durationDay=s},expression:"durationDay"}},[s("el-option",{attrs:{label:"Never expire",value:"0"}}),s("el-option",{attrs:{label:"5",value:"5"}}),s("el-option",{attrs:{label:"15",value:"15"}}),s("el-option",{attrs:{label:"30",value:"30"}})],1)],1)]),s("h2",[t._v(" Payouts ")]),s("div",{staticClass:"intro"},[t._v(" Choose how you would like to configure your payouts. ")]),s("div",[s("el-radio",{attrs:{label:"1"},model:{value:t.payouts,callback:function(s){t.payouts=s},expression:"payouts"}},[s("strong",[t._v("Amounts")]),s("div",{staticClass:"intro"},[s("p",[t._v(" Distribute a specific amount of funds to entities each funding cycle. ")]),s("p",[t._v(" Your distribution limit will equal the sum of all payout amounts. ")])])])],1),s("div",[s("el-radio",{attrs:{label:"2"},model:{value:t.payouts,callback:function(s){t.payouts=s},expression:"payouts"}},[t._v("Percentages "),s("div",{staticClass:"intro"},[s("p",[t._v("Distribute a percentage of all funds received to entities.")]),s("p",[t._v(" Your distribution limit will be infinite.")])])])],1),s("div",{staticClass:"add-payout-btn"},[t._v(" Add payout ")]),s("h3",{staticClass:"step-item-title"},[t._v(" 02 Project token ")]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"name"},[t._v(" Time interval between ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mustStartAtOrAfter,expression:"mustStartAtOrAfter"}],attrs:{type:"text"},domProps:{value:t.mustStartAtOrAfter},on:{input:function(s){s.target.composing||(t.mustStartAtOrAfter=s.target.value)}}})])]),s("div",{staticClass:"slider-box"},[s("strong",{staticClass:"name"},[t._v(" Initial mint rate ")]),s("el-slider",{staticStyle:{width:"500px"},attrs:{"show-input":""},model:{value:t.weight,callback:function(s){t.weight=s},expression:"weight"}})],1),s("div",{staticClass:"slider-box"},[s("strong",{staticClass:"name"},[t._v(" Discount Rate ")]),s("el-slider",{staticStyle:{width:"500px"},attrs:{"show-input":""},model:{value:t.discountRate,callback:function(s){t.discountRate=s},expression:"discountRate"}})],1),s("button",{staticClass:"mangobox-button",on:{click:function(s){t.activeStep++}}},[t._v(" SAVE ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.activeStep,expression:"activeStep===2"}],staticClass:"step-box"},[s("h3",{staticClass:"step-item-title"},[t._v(" Project details ")]),s("div",{staticClass:"intro"},[t._v(" Project details can be edited at any time. ")]),s("div",{staticClass:"project-detail"},[s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Name ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.name?t.ipfsObj.name:"-")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Logo ")]),s("img",{attrs:{src:t.ipfsObj.icon,alt:""}})]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Webside ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.webside?t.ipfsObj.webside:"-")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Pay button text ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.payButton?t.ipfsObj.payButton:"-")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Twitter ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.twitter?t.ipfsObj.twitter:"-")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Discord ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.discord?t.ipfsObj.discord:"-")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Pay disclosure ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.ipfsObj.payDisclosure?t.ipfsObj.payDisclosure:"-")+" ")])])]),s("h3",{staticClass:"step-item-title"},[t._v(" Funding cycle details ")]),s("div",{staticClass:"intro"},[t._v(" Once launched, your first funding cycle can't be changed. You can reconfigure upcoming funding cycles according to the project's reconfiguration rules. ")]),s("div",{staticClass:"funding-cycle-detail"},[s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Duration ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.durationDay?t.durationDay+"day":"auto")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Initial mint rate ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.weight?t.weight:"auto")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Discount Rate ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.discountRate?t.discountRate:"0")+" ")])]),s("div",{staticClass:"detail-item"},[s("div",{staticClass:"name"},[t._v(" Start After ")]),s("div",{staticClass:"value"},[t._v(" "+t._s(t.mustStartAtOrAfter?t.mustStartAtOrAfter:"0")+" ")])])]),s("button",{staticClass:"mangobox-button",on:{click:t.launchProjectFor}},[t._v(" DEPLOY ")])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"name"},[t._v(" Project name "),s("strong",{staticStyle:{color:"#ff0000"}},[t._v("*")])])}],o=(e(57658),e(31660)),n=e(15941),c={name:"CreateProject",data(){return{imageUrl:"",ipfsObj:{},reservedTokens:0,payouts:0,activeStep:0,ipfsStr:"",autoFundingCycles:!1,durationDay:void 0,mustStartAtOrAfter:void 0,weight:0,discountRate:0}},methods:{handleChange(t){n.log(t),(0,o.cT)(t).then((t=>{n.log(t)}))},handleAvatarSuccess(t,s){this.imageUrl=URL.createObjectURL(s.raw)},beforeAvatarUpload(){},async checkAndUpload(){this.ipfsObj.name?this.activeStep++:this.$eventBus.$emit("message",{message:"Please Input Name",type:"error"})},mint(){this.$store.dispatch("MBProjects/mint")},ownerOf(){this.$store.dispatch("MBProjects/ownerOf")},async launchProjectFor(){this.$store.commit("app/SET_LOADINDING",!0);const t=await(0,o.bA)({...this.ipfsObj,createTime:new Date});this.ipfsStr=t.data.IpfsHash,this.$store.dispatch("MBController/launchProjectFor",{_owner:this.$store.state.app.account,_projectMetadata:this.ipfsStr,_data:{duration:this.durationDay?(86400*this.durationDay).toString():0,weight:(this.weight*10**18).toString(),discountRate:0,ballot:this.$store.state.app.account},_metadata:0,_mustStartAtOrAfter:this.mustStartAtOrAfter,_groupedSplits:[],_fundAccessConstraints:[{terminal:this.$store.state.app.account,token:this.$store.state.app.account,distributionLimit:0,distributionLimitCurrency:0,overflowAllowance:0,overflowAllowanceCurrency:0}],_terminals:[],_memo:""}).then((()=>{this.$store.commit("app/SET_LOADINDING",!1)})).catch((t=>{this.$eventBus.$emit("message",{message:t,type:"error"}),this.$store.commit("app/SET_LOADINDING",!1)}))}},created(){this.$eventBus.$on("message",(t=>{"success"==t.type&&"Create success"==t.message&&this.$router.push("/")}))},beforeDestroy(){this.$eventBus.$on("message",(()=>{}))}},l=c,r=e(1001),d=(0,r.Z)(l,a,i,!1,null,"ca7e9508",null),u=d.exports}}]);
//# sourceMappingURL=360.f6ecef09.js.map