{"version":3,"file":"js/520.ca38a2e0.js","mappings":"u8KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,WAAaL,EAAIM,WAAWJ,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,QAAQ,SAASP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,mBAAmBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,QAAQ,SAAST,EAAIU,GAAG,GAAGR,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACF,EAAIO,GAAG,iBAAiBL,EAAG,SAAS,CAACF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIW,gBAAgB,SAAST,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQf,EAAIgB,cAAgBhB,EAAIiB,YAAYjB,EAAIkB,OAAOC,MAAMC,IAAIC,QAASC,WAAW,0DAA0DlB,YAAY,kBAAkBmB,YAAY,CAAC,aAAa,OAAO,QAAU,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI0B,cAAa,CAAI,IAAI,CAAC1B,EAAIO,GAAG,oBAAoBL,EAAG,KAAK,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQf,EAAIgB,cAAgBhB,EAAIiB,YAAYjB,EAAIkB,OAAOC,MAAMC,IAAIC,QAASC,WAAW,0DAA0DlB,YAAY,aAAa,CAACJ,EAAIO,GAAG,kCAAkCL,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAIgB,aAAcM,WAAW,iBAAiBlB,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIO,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI2B,aAAa,eAAezB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI4B,WAAW,cAAc1B,EAAG,MAAM,CAACE,YAAY,kBAAkBmB,YAAY,CAAC,QAAU,YAAYC,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI6B,mBAAoB,CAAI,IAAI,CAAC7B,EAAIO,GAAG,sBAAsBL,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIO,GAAG,mBAAmBP,EAAIQ,GAAGsB,SAAS9B,EAAI+B,iBAAiBC,QAAS,GAAG,OAAO9B,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,0BAA0BL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI+B,iBAAiBE,OAAOjC,EAAI+B,iBAAiBE,OAAO,QAAQ,SAAS/B,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,gBAAgBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAkC,GAA/BR,EAAI+B,iBAAiBG,SAAY,UAAUlC,EAAI+B,iBAAiBG,UAAU,SAAShC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI+B,iBAAiBI,cAAc,SAASjC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI+B,iBAAiBK,QAAQ,aAAalC,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAIgB,aAAcM,WAAW,iBAAiBlB,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,MAAMmB,YAAY,CAAC,SAAW,aAAa,CAACrB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIqC,OAAQf,WAAW,WAAWjB,MAAM,CAAC,KAAO,QAAQiC,SAAS,CAAC,MAAStC,EAAIqC,QAASb,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAIqC,OAAOZ,EAAOc,OAAOxB,MAAK,OAAOb,EAAG,SAAS,CAACqB,YAAY,CAAC,SAAW,WAAW,KAAO,QAAQ,IAAM,QAAQ,CAACvB,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACE,YAAY,kBAAkBmB,YAAY,CAAC,QAAU,UAAUC,GAAG,CAAC,MAAQxB,EAAIyC,MAAM,CAACzC,EAAIO,GAAG,aAAaL,EAAG,MAAM,CAACF,EAAIO,GAAG,aAAaL,EAAG,SAAS,CAACF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI0C,wBAAwB,cAAcxC,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIO,GAAG,gBAAgBL,EAAG,MAAM,CAACE,YAAY,aAAaJ,EAAI2C,GAAI3C,EAAI4C,WAAW,SAASC,EAAKC,GAAO,OAAO5C,EAAG,MAAM,CAAC6C,IAAID,EAAM1C,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACF,EAAIO,GAAG,YAAYL,EAAG,MAAM,CAACF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGqC,EAAKG,MAAM,SAAS9C,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,KAAKP,EAAIQ,GAAGqC,EAAK9B,OAAO,OAAOb,EAAG,MAAM,CAACF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGqC,EAAKI,MAAMC,OAAO,EAAG,GAAK,MAAQL,EAAKI,MAAMC,OAAOL,EAAKI,MAAME,OAAS,EAAGN,EAAKI,MAAME,SAAS,UAAU,IAAG,OAAOjD,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAI0B,aAAcJ,WAAW,iBAAiBlB,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,kDAAkDoB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO2B,iBAAkB,IAAI,CAAClD,EAAG,KAAK,CAACF,EAAIO,GAAG,kBAAkBL,EAAG,KAAK,CAACF,EAAIO,GAAG,gBAAgBL,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIqD,UAAW/B,WAAW,cAAcjB,MAAM,CAAC,KAAO,OAAO,YAAc,cAAciC,SAAS,CAAC,MAAStC,EAAIqD,WAAY7B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAIqD,UAAU5B,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,KAAK,CAACF,EAAIO,GAAG,kBAAkBL,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIsD,YAAahC,WAAW,gBAAgBjB,MAAM,CAAC,KAAO,OAAO,YAAc,gBAAgBiC,SAAS,CAAC,MAAStC,EAAIsD,aAAc9B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAIsD,YAAY7B,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQxB,EAAIuD,gBAAgB,CAACvD,EAAIO,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI0B,cAAa,CAAK,IAAI,CAAC1B,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAIwD,WAAYlC,WAAW,eAAelB,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,kDAAkDoB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO2B,iBAAkB,IAAI,CAAClD,EAAG,KAAK,CAACF,EAAIO,GAAG,gBAAgBL,EAAG,KAAK,CAACF,EAAIO,GAAG,iBAAiBL,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIyD,WAAYnC,WAAW,eAAejB,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUiC,SAAS,CAAC,MAAStC,EAAIyD,YAAajC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAIyD,WAAWhC,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQxB,EAAI0D,UAAU,CAAC1D,EAAIO,GAAG,YAAYL,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAIwD,YAAW,CAAK,IAAI,CAACxD,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAI6B,kBAAmBP,WAAW,sBAAsBlB,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI6B,mBAAkB,CAAK,IAAI,CAAC7B,EAAIO,GAAG,SAASL,EAAG,KAAK,CAACF,EAAIO,GAAG,wBAAwBL,EAAG,MAAM,CAACE,YAAY,cAAcoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI2D,YAAW,CAAI,IAAI,CAACzD,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,kBAAkBL,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,+FAA+FP,EAAIU,GAAG,KAAKR,EAAG,MAAM,CAACE,YAAY,cAAcoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI4D,aAAY,CAAI,IAAI,CAAC1D,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,6BAA6BL,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,kEAAkEP,EAAIU,GAAG,KAAKR,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI6B,mBAAoB,CAAK,IAAI,CAAC7B,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAI2D,WAAYrC,WAAW,eAAelB,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,kDAAkDoB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO2B,iBAAkB,IAAI,CAAClD,EAAG,KAAK,CAACF,EAAIO,GAAG,gBAAgBL,EAAG,KAAK,CAACF,EAAIO,GAAG,iBAAiBL,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAI6D,WAAYvC,WAAW,eAAejB,MAAM,CAAC,KAAO,OAAO,YAAc,eAAeiC,SAAS,CAAC,MAAStC,EAAI6D,YAAarC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAI6D,WAAWpC,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAI8D,SAAUxC,WAAW,aAAajB,MAAM,CAAC,KAAO,OAAO,YAAc,kBAAkBiC,SAAS,CAAC,MAAStC,EAAI8D,UAAWtC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAI8D,SAASrC,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQxB,EAAI+D,iBAAiB,CAAC/D,EAAIO,GAAG,YAAYL,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAIwD,YAAW,CAAK,IAAI,CAACxD,EAAIO,GAAG,oBAAoBL,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAI4D,YAAatC,WAAW,gBAAgBlB,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,MAAM,CAACE,YAAY,kDAAkDoB,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO2B,iBAAkB,IAAI,CAAClD,EAAG,KAAK,CAACF,EAAIO,GAAG,iBAAiBL,EAAG,KAAK,CAACF,EAAIO,GAAG,iBAAiBL,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIgE,YAAa1C,WAAW,gBAAgBjB,MAAM,CAAC,KAAO,OAAO,YAAc,gBAAgBiC,SAAS,CAAC,MAAStC,EAAIgE,aAAcxC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,YAAiBxC,EAAIgE,YAAYvC,EAAOc,OAAOxB,MAAK,KAAKb,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQxB,EAAIiE,WAAW,CAACjE,EAAIO,GAAG,aAAaL,EAAG,MAAM,CAACE,YAAY,kBAAkBoB,GAAG,CAAC,MAAQ,SAASC,GAAQzB,EAAI4D,aAAY,CAAK,IAAI,CAAC5D,EAAIO,GAAG,qBAAqB,EACr6S,EACI2D,EAAkB,CAAC,WAAY,IAAIlE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,mBAAmBL,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,sBACrM,EAAE,WAAY,IAAIP,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM8D,EAAQ,OAA2B,IAAM,OACjJ,EAAE,WAAY,IAAInE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM8D,EAAQ,OAA2B,IAAM,OACjJ,G,WCLMC,EAAc,SAASrD,GAO3B,OAAiB,OAAVA,GAAmC,oBAAVA,GAAwBsD,SAAStD,EAAMoC,OACzE,EAEA,ICRMmB,EAAW,SAASC,EAAYxD,GACpC,QAAKqD,EAAYG,IAGVA,EAAIC,QAAQzD,IAAU,CAC/B,EAEA,ICPM0D,G,SAAS,SAAaF,EAAUG,GACpC,IAAKN,EAAYG,GACf,OAAOA,EAGT,IADA,IAAMI,EAAc,GACX7B,EAAQ,EAAGA,EAAQyB,EAAIpB,OAAQL,IAAS,CAC/C,IAAM/B,EAAQwD,EAAIzB,GACd4B,EAAK3D,EAAO+B,IACd6B,EAAOC,KAAK7D,E,CAIhB,OAAO4D,CACT,GAEA,ICLME,EAAa,SAAYN,EAAUO,GACvC,YADuC,QAAAA,EAAAA,IAChCL,EAAOF,GAAK,SAACxD,GAAe,OAACuD,EAASQ,EAAQ/D,EAAlB,GACrC,EAEA,IChBMgE,EAAW,GAAGA,SAEdC,EAAS,SAACjE,EAAYkE,GAA0B,SAASC,KAAKnE,KAAW,WAAakE,EAAO,GAA7C,EAEtD,ICGA,WAAgBlE,GACd,OAAOiE,EAAOjE,EAAO,WACtB,ECRKoE,EAAQ,SAASpE,GAKrB,OAAiB,OAAVA,QAA4BqE,IAAVrE,CAC3B,EAEA,ICPA,WAAgBA,GACd,OAAOsE,MAAMC,QACXD,MAAMC,QAAQvE,GACdiE,EAAOjE,EAAO,QACjB,ECND,WAA4BA,GAO1B,IAAMkE,SAAclE,EACpB,OAAiB,OAAVA,GAA2B,WAATkE,GAA8B,aAATA,CAC/C,ECND,SAASM,EAAMC,EAA0Bd,GAIvC,IAAIe,EAHJ,GAAKD,EAIL,GAAIF,EAAQE,IACV,IAAK,IAAIE,EAAI,EAAGC,EAAMH,EAASrC,OAAQuC,EAAIC,EAAKD,IAE9C,GADAD,EAAMf,EAAKc,EAASE,GAAIA,IACZ,IAARD,EACF,WAGC,GAAIG,EAASJ,GAClB,IAAK,IAAMK,KAAKL,EACd,GAAIA,EAASM,eAAeD,KAC1BJ,EAAMf,EAAKc,EAASK,GAAIA,IACZ,IAARJ,GACF,KAKV,CAEA,QCxBMM,EAAOC,OAAOD,KAAO,YAAO,cAAOA,KAAKE,EAAZ,EAAmB,YACnD,IAAMtB,EAAS,GAMf,OALAY,EAAKU,GAAK,SAAClF,EAAOgC,GACVmD,EAAWD,IAAgB,cAARlD,GACvB4B,EAAOC,KAAK7B,EAEhB,IACO4B,CACT,EAEA,ICVA,SAASwB,EAAQF,EAAU5F,GACzB,IAAM+F,EAAQL,EAAK1F,GACb8C,EAASiD,EAAMjD,OACrB,GAAIgC,EAAMc,GAAM,OAAQ9C,EACxB,IAAK,IAAIuC,EAAI,EAAGA,EAAIvC,EAAQuC,GAAK,EAAG,CAClC,IAAM3C,EAAMqD,EAAMV,GAClB,GAAIrF,EAAM0C,KAASkD,EAAIlD,MAAUA,KAAOkD,GACtC,OAAO,C,CAGX,OAAO,CACT,CAEA,QChBMI,EAAe,SAAStF,GAO5B,MAAwB,kBAAVA,GAAgC,OAAVA,CACtC,EAEA,ICPMuF,EAAgB,SAASvF,GAO7B,IAAKsF,EAAatF,KAAWiE,EAAOjE,EAAO,UACzC,OAAO,EAET,GAAqC,OAAjCiF,OAAOO,eAAexF,GACxB,OAAO,EAET,IAAIyF,EAAQzF,EACZ,MAAwC,OAAjCiF,OAAOO,eAAeC,GAC3BA,EAAQR,OAAOO,eAAeC,GAEhC,OAAOR,OAAOO,eAAexF,KAAWyF,CAC1C,EAEA,ICfA,SAASC,EAAQlC,EAAUmC,GACzB,IAAKpB,EAAQf,GAAM,OAAO,KAE1B,IAAIoC,EAOJ,GANIT,EAAWQ,KACbC,EAAaD,GAEXJ,EAAcI,KAChBC,EAAa,YAAK,SAAQC,EAAGF,EAAX,GAEhBC,EACF,IAAK,IAAIjB,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,GAAK,EACnC,GAAIiB,EAAWpC,EAAImB,IACjB,OAAOnB,EAAImB,GAIjB,OAAO,IACT,CAEA,QCzBMmB,EAAa,SAASC,EAAgBjG,GAE1C,IADA,IAAI4E,EAAM,KACDC,EAAI,EAAGA,EAAIoB,EAAK3D,OAAQuC,IAAK,CACpC,IAAMO,EAAMa,EAAKpB,GACX3E,EAAQkF,EAAIpF,GAClB,IAAKsE,EAAMpE,GAAQ,CAEf0E,EADEH,EAAQvE,GACJA,EAAM,GAENA,EAER,K,EAGJ,OAAO0E,CACT,EAEA,ICTMsB,EAAU,SAAaxC,GAC3B,IAAKe,EAAQf,GACX,MAAO,GAGT,IADA,IAAIkB,EAAW,GACNC,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,IAC9BD,EAAMA,EAAIuB,OAAOzC,EAAImB,IAEvB,OAAOD,CACT,EAEA,ICFA,WAAgBlB,GACd,GAAKe,EAAQf,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKC,IAAIH,EAAMC,EACxB,GAAG5C,EAAI,GACR,ECPD,WAAgBA,GACd,GAAKe,EAAQf,GAGb,OAAOA,EAAI0C,QAAO,SAACC,EAAMC,GACvB,OAAOC,KAAKE,IAAIJ,EAAMC,EACxB,GAAG5C,EAAI,GACR,EClBKgD,GAAW,SAAUzC,GAEzB,IAAI0C,EAAe1C,EAAOL,QAAO,SAACgD,GAAM,OAACC,MAAMD,EAAP,IACxC,IAAKD,EAAarE,OAEhB,MAAO,CACLmE,IAAK,EACLD,IAAK,GAGT,GAAI/B,EAAQR,EAAO,IAAK,CAEtB,IADA,IAAI6C,EAAM,GACDjC,EAAI,EAAGA,EAAIZ,EAAO3B,OAAQuC,IACjCiC,EAAMA,EAAIX,OAAOlC,EAAOY,IAE1B8B,EAAeG,C,CAEjB,IAAMN,EAAMO,EAAOJ,GACbF,EAAMO,EAAOL,GACnB,MAAO,CACLF,IAAG,EACHD,IAAG,EAEP,EAEA,MClCMS,GAAezC,MAAM0C,UCErBC,IDDSF,GAAaE,OACZF,GAAatD,QCAda,MAAM0C,UAAUC,QAEzBC,GAAS,SAAoB1D,EAAU2D,GAC3C,IAAK9D,EAAYG,GACf,MAAO,GAET,IAAIpB,EAASoB,EAAM2D,EAAQ/E,OAAS,EAC9BgF,EAAOhF,EAAS,EAEtB,MAAOA,IAAU,CACf,IAAIiF,OAAQ,EACNtF,EAAQoF,EAAQ/E,GAClBA,IAAWgF,GAAQrF,IAAUsF,IAC/BA,EAAWtF,EACXkF,GAAO9C,KAAKX,EAAKzB,EAAO,G,CAG5B,OAAOyB,CACT,EAEA,MCjBM0C,GAAS,SAAe1C,EAAwB8D,EAAqDC,GACzG,IAAKhD,EAAQf,KAAS+B,EAAc/B,GAClC,OAAOA,EAET,IAAII,EAAS2D,EAIb,OAHA/C,EAAKhB,GAAK,SAACuC,EAAMpB,GACff,EAAS0D,EAAG1D,EAAQmC,EAAMpB,EAC5B,IACOf,CACT,EAEA,MCbM4D,GAAS,SAAYhE,EAAUmC,GAOnC,IAAM/B,EAAS,GACf,IAAKP,EAAYG,GACf,OAAOI,EAET,IAAIe,GAAK,EACHwC,EAAU,GACV/E,EAASoB,EAAIpB,OAEnB,QAASuC,EAAIvC,EAAQ,CACnB,IAAMpC,EAAQwD,EAAImB,GACdgB,EAAU3F,EAAO2E,EAAGnB,KACtBI,EAAOC,KAAK7D,GACZmH,EAAQtD,KAAKc,G,CAIjB,OADAuC,GAAO1D,EAAK2D,GACLvD,CACT,EAEA,MC3BA,YAAgB6D,GACd,OAAOxD,EAAOwD,EAAK,SACpB,ECJa,SAAUC,GAAKlE,EAAYmE,QAAA,QAAAA,EAAAA,IAAYC,KACnD,IAAMC,EAAI,GAEV,GAAIvD,MAAMC,QAAQf,GAChB,IAAK,IAAImB,EAAI,EAAGC,EAAMpB,EAAIpB,OAAQuC,EAAIC,EAAKD,IAAM,CAC/C,IAAM7C,EAAO0B,EAAImB,GAEZgD,EAAMG,IAAIhG,KACb+F,EAAEhE,KAAK/B,GACP6F,EAAMI,IAAIjG,GAAM,G,CAItB,OAAO+F,CACT,CCZA,ICCA,YAAgB9B,EAAajG,GAI3B,IAHA,IAAM4E,EAAM,GACNsD,EAAS,GAENrD,EAAI,EAAGA,EAAIoB,EAAK3D,OAAQuC,IAAK,CACpC,IAAMO,EAAMa,EAAKpB,GACb3E,EAAQkF,EAAIpF,GAEhB,IAAKsE,EAAMpE,GAAQ,CAEZuE,EAAQvE,KACXA,EAAQ,CAAEA,IAEZ,IAAK,IAAIiI,EAAI,EAAGA,EAAIjI,EAAMoC,OAAQ6F,IAAK,CACrC,IAAMC,EAAMlI,EAAMiI,GAEbD,EAAOE,KACVxD,EAAIb,KAAKqE,GACTF,EAAOE,IAAO,E,GAMtB,OAAOxD,CACR,EC1Ba,SAAUyD,GAAKC,GAC3B,GAAI/E,EAAY+E,GACd,OAAwBA,EAAG,EAG/B,CCLc,SAAUhB,GAAKgB,GAC3B,GAAI/E,EAAY+E,GAAI,CAClB,IAAM5E,EAAM4E,EACZ,OAAO5E,EAAIA,EAAIpB,OAAS,E,CAG5B,CCCA,ICJMiG,GAAQ,SAAa7E,EAAUG,GACnC,IAAK,IAAIgB,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,IAC9B,IAAKhB,EAAKH,EAAImB,GAAIA,GAAI,OAAO,EAG/B,OAAO,CACT,EAEA,MCRM2D,GAAO,SAAa9E,EAAUG,GAClC,IAAK,IAAIgB,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,IAC9B,GAAIhB,EAAKH,EAAImB,GAAIA,GAAI,OAAO,EAG9B,OAAO,CACT,EAEA,MCVMI,GAAiBE,OAAO+B,UAAUjC,eAQxC,SAASwD,GAAWxC,EAAWyC,GAC7B,IAAKA,IAAcjE,EAAQwB,GACzB,MAAO,GAQT,IANA,IAKI/D,EALE4B,EAAwB,GAGxB+B,EAAYR,EAAWqD,GAAaA,EAAY,SAAC1G,GAAS,SAAK0G,EAAL,EAGvD7D,EAAI,EAAGA,EAAIoB,EAAK3D,OAAQuC,IAAK,CACpC,IAAM7C,EAAOiE,EAAKpB,GAClB3C,EAAM2D,EAAU7D,GACZiD,GAAeZ,KAAKP,EAAQ5B,GAC9B4B,EAAO5B,GAAK6B,KAAK/B,GAEjB8B,EAAO5B,GAAO,CAAEF,E,CAIpB,OAAO8B,CACT,CAEA,UCzBc,SAAU6E,GAAW1C,EAAWyC,GAC5C,IAAKA,EACH,MAAO,CACL,EAAGzC,GAGP,IAAKZ,EAAWqD,GAAY,CAE1B,IAAME,EAAkBnE,EAAQiE,GAAaA,EAAYA,EAAUG,QAAQ,OAAQ,IAAIC,MAAM,KAC7FJ,EAAY,SAAUK,GAIpB,IAHA,IAAIC,EAAS,IAGJnE,EAAI,EAAGoE,EAAIL,EAAgBtG,OAAQuC,EAAIoE,EAAGpE,IACjDmE,GAAUD,EAAIH,EAAgB/D,KAAOkE,EAAIH,EAAgB/D,IAAIX,WAE/D,OAAO8E,CACT,C,CAEF,OAAOP,GAAQxC,EAAMyC,EACvB,CC3BA,gBAAmBzC,EAAWyC,GAC5B,IAAKA,EAEH,MAAO,CAAEzC,GAEX,IAAMiD,EAASP,GAAW1C,EAAMyC,GAC1BS,EAAQ,GACd,IAAK,IAAMtE,KAAKqE,EACdC,EAAMpF,KAAKmF,EAAOrE,IAEpB,OAAOsE,CACR,EC+BD,IC5CMC,GAAQ,SAASrD,EAAWU,EAAaD,GAC7C,OAAIT,EAAIU,EACCA,EACEV,EAAIS,EACNA,EAEFT,CACT,EAEA,MCTMsD,GAAY,SAASzC,EAAW0C,GACpC,IAAM3B,EAAM2B,EAAKpF,WACXjC,EAAQ0F,EAAIhE,QAAQ,KAC1B,IAAe,IAAX1B,EACF,OAAOsE,KAAKgD,MAAM3C,GAEpB,IAAItE,EAASqF,EAAItF,OAAOJ,EAAQ,GAAGK,OAInC,OAHIA,EAAS,KACXA,EAAS,IAEJkH,WAAW5C,EAAE6C,QAAQnH,GAC9B,EAEA,MCPMoH,GAAW,SAASxJ,GACxB,OAAOiE,EAAOjE,EAAO,SACvB,EACA,MCTMyJ,ICEYC,OAAOC,WAAYD,OAAOC,UDF1B,MAEJ,SAAUC,GAAc/D,EAAWgE,EAAWC,GAC1D,YAD0D,QAAAA,EAAAA,IACnDzD,KAAK0D,IAAKlE,EAAIgE,GAAMC,CAC7B,CEFA,ICFME,GAAM,SAASC,EAAWC,GAC9B,OAASD,EAAIC,EAAKA,GAAKA,CACzB,EAEA,MCJMC,ICAe9D,KAAK+D,GCA1B,SFAe/D,KAAK+D,GAAK,KAEnBC,GAAW,SAASC,GACxB,OAAOH,GAASG,CAClB,EAEA,MGNA,YAAgBpF,EAAalD,GAAsB,SAAI+C,eAAe/C,EAAI,ECC1E,MCGM+B,GAASkB,OAAOlB,OAAS,YAAO,cAAOA,OAAOmB,EAAd,EAAqB,YACzD,IAAMtB,EAAS,GAMf,OALAY,EAAKU,GAAK,SAAClF,EAAOgC,GACVmD,EAAWD,IAAgB,cAARlD,GACvB4B,EAAOC,KAAK7D,EAEhB,IACO4D,CACT,EAEA,MCZA,YAAgB5D,GACd,OAAIoE,EAAMpE,GAAe,GAClBA,EAAMgE,UACd,ECHKuG,GAAY,SAAS9C,GACzB,OAAOzD,GAASyD,GAAK+C,aACvB,EAEA,MCFA,SAASC,GAAehD,EAAaW,GACnC,OAAKX,GAAQW,EAGNX,EAAIkB,QAAQ,oBAAoB,SAAC+B,EAAO5K,GAC7C,MAAwB,OAApB4K,EAAMC,OAAO,GACRD,EAAME,MAAM,QAEDvG,IAAZ+D,EAAEtI,GAAuB,GAAKsI,EAAEtI,EAC1C,IAPS2H,CAQX,CAEA,UCdMoD,GAAa,SAAS7K,GAC1B,IAAMyH,EAAMzD,GAAShE,GACrB,OAAOyH,EAAIkD,OAAO,GAAGG,cAAgBrD,EAAIsD,UAAU,EACrD,EAEA,MCPM/G,GAAW,GAAGA,SAEdgH,GAAU,SAAShL,GACvB,OAAOgE,GAASG,KAAKnE,GAAO2I,QAAQ,aAAc,IAAIA,QAAQ,KAAM,GACtE,EAEA,MCEMsC,GAAY,SAASjL,GACzB,OAAOiE,EAAOjE,EAAO,UACvB,EAEA,MCVMkL,GAAS,SAASlL,GACtB,OAAOiE,EAAOjE,EAAO,OACvB,EAEA,MCNA,IAAMmL,GAAS,SAASnL,GACtB,OAAiB,OAAVA,CACT,EAEA,MCJMoL,GAAcnG,OAAO+B,UAErBqE,GAAc,SAASrL,GAC3B,IAAMsL,EAAOtL,GAASA,EAAMuL,YACtB9F,EAAyB,oBAAT6F,GAAuBA,EAAKtE,WAAcoE,GAChE,OAAOpL,IAAUyF,CACnB,EAEA,MCRM+F,GAAc,SAASxL,GAC3B,YAAiBqE,IAAVrE,CACT,EAEA,MCAMyL,GAAY,SAASrD,GACzB,OAAOA,aAAasD,SAAWtD,aAAauD,YAC9C,EACA,MCPc,SAAUC,GAAsBtE,GAC5C,IAAMuE,EAASC,OAAOF,uBACpBE,OAAOC,6BAEPD,OAAOE,0BAEPF,OAAOG,yBACP,SAASC,GACP,OAAOC,WAAWD,EAAG,GACvB,EAEF,OAAOL,EAAOvE,EAChB,CCZc,SAAU8E,GAAqBC,GAC3C,IAAMR,EAASC,OAAOM,sBACpBN,OAAOQ,4BAEPR,OAAOS,yBAEPT,OAAOU,wBACPC,aAEFZ,EAAOQ,EACT,CCNA,ICFMK,GAAQ,SAASxH,GACrB,GAAmB,kBAARA,GAA4B,OAARA,EAC7B,OAAOA,EAET,IAAIR,EACJ,GAAIH,EAAQW,GAAM,CAChBR,EAAM,GACN,IAAK,IAAIC,EAAI,EAAGoE,EAAI7D,EAAI9C,OAAQuC,EAAIoE,EAAGpE,IACf,kBAAXO,EAAIP,IAA6B,MAAVO,EAAIP,GACpCD,EAAIC,GAAK+H,GAAMxH,EAAIP,IAEnBD,EAAIC,GAAKO,EAAIP,E,MAKjB,IAAK,IAAMG,KADXJ,EAAM,GACUQ,EACQ,kBAAXA,EAAIJ,IAA6B,MAAVI,EAAIJ,GACpCJ,EAAII,GAAK4H,GAAMxH,EAAIJ,IAEnBJ,EAAII,GAAKI,EAAIJ,GAKnB,OAAOJ,CACT,EAEA,MC7BA,SAASiI,GAAShJ,EAAgBiJ,EAAeC,GAC/C,IAAIC,EACJ,OAAO,WACL,IAAMC,EAAU,KACdC,EAAOC,UACHC,EAAQ,WACZJ,EAAU,KACLD,GACHlJ,EAAKwJ,MAAMJ,EAASC,EAExB,EACMI,EAAUP,IAAcC,EAC9BL,aAAaK,GACbA,EAAUX,WAAWe,EAAON,GACxBQ,GACFzJ,EAAKwJ,MAAMJ,EAASC,EAExB,CACF,CAEA,UCbA,YAAgBd,EAAamB,GAC3B,IAAKlI,EAAW+G,GACd,MAAM,IAAIoB,UAAU,uBAGtB,IAAMC,EAAW,W,IAAS,aAAAC,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,GAAAA,UAAAA,GAExB,IAAMhL,EAAMqL,EAAWA,EAASF,MAAM,KAAMH,GAAQA,EAAK,GACnDrF,EAAQ4F,EAAS5F,MAEvB,GAAIA,EAAMG,IAAI9F,GACZ,OAAO2F,EAAM8F,IAAIzL,GAEnB,IAAM4B,EAASsI,EAAEiB,MAAM,KAAMH,GAG7B,OADArF,EAAMI,IAAI/F,EAAK4B,GACRA,CACT,EAIA,OAFA2J,EAAS5F,MAAQ,IAAIC,IAEd2F,CACR,EC3BKG,GAAgB,EAEtB,SAASC,GAASC,EAAMC,EAAKC,EAAQC,GAGnC,IAAK,IAAM/L,KAFX8L,EAAQA,GAAS,EACjBC,EAAWA,GAAYL,GACLG,EAChB,GAAIA,EAAI9I,eAAe/C,GAAM,CAC3B,IAAMhC,EAAQ6N,EAAI7L,GACJ,OAAVhC,GAAkBuF,EAAcvF,IAC7BuF,EAAcqI,EAAK5L,MACtB4L,EAAK5L,GAAO,IAEV8L,EAAQC,EACVJ,GAASC,EAAK5L,GAAMhC,EAAO8N,EAAQ,EAAGC,GAEtCH,EAAK5L,GAAO6L,EAAI7L,IAETuC,EAAQvE,IACjB4N,EAAK5L,GAAO,GACZ4L,EAAK5L,GAAO4L,EAAK5L,GAAKiE,OAAOjG,SACVqE,IAAVrE,IACT4N,EAAK5L,GAAOhC,E,CAIpB,CAGA,IAAMgO,GAAU,SAAStJ,G,IAAS,aAAA8I,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,EAAAA,GAAAA,UAAAA,GAChC,IAAK,IAAIrI,EAAI,EAAGA,EAAIqI,EAAK5K,OAAQuC,GAAK,EACpCgJ,GAASjJ,EAAKsI,EAAKrI,IAErB,OAAOD,CACT,EAEA,MCpCMjB,GAAU,SAAaD,EAAU0B,GACrC,IAAK7B,EAAYG,GACf,OAAQ,EAEV,IAAM0G,EAAI5F,MAAM0C,UAAUvD,QAC1B,GAAIyG,EACF,OAAOA,EAAE/F,KAAKX,EAAK0B,GAIrB,IAFA,IAAInD,GAAS,EAEJ4C,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,IAC9B,GAAInB,EAAImB,KAAOO,EAAK,CAClBnD,EAAQ4C,EACR,K,CAGJ,OAAO5C,CACT,EAEA,MChBMgD,GAAiBE,OAAO+B,UAAUjC,eAExC,SAASkJ,GAAQjO,GAUf,GAAIoE,EAAMpE,GACR,OAAO,EAET,GAAIqD,EAAYrD,GACd,OAAQA,EAAMoC,OAEhB,IAAM8B,EAAO8G,GAAQhL,GACrB,GAAa,QAATkE,GAA2B,QAATA,EACpB,OAAQlE,EAAMkO,KAEhB,GAAI7C,GAAYrL,GACd,OAAQiF,OAAOD,KAAKhF,GAAOoC,OAE7B,IAAK,IAAMJ,KAAOhC,EAChB,GAAI+E,GAAeZ,KAAKnE,EAAOgC,GAC7B,OAAO,EAGX,OAAO,CACT,CAEA,UClCMmM,GAAU,SAACnO,EAAYoO,GAC3B,GAAIpO,IAAUoO,EACZ,OAAO,EAET,IAAKpO,IAAUoO,EACb,OAAO,EAET,GAAIC,GAASrO,IAAUqO,GAASD,GAC9B,OAAO,EAET,GAAI/K,EAAYrD,IAAUqD,EAAY+K,GAAQ,CAC5C,GAAIpO,EAAMoC,SAAWgM,EAAMhM,OACzB,OAAO,EAGT,IADA,IAAIsC,GAAM,EACDC,EAAI,EAAGA,EAAI3E,EAAMoC,OAAQuC,IAEhC,GADAD,EAAMyJ,GAAQnO,EAAM2E,GAAIyJ,EAAMzJ,KACzBD,EACH,MAGJ,OAAOA,C,CAET,GAAIY,EAAatF,IAAUsF,EAAa8I,GAAQ,CAC9C,IAAME,EAAYrJ,OAAOD,KAAKhF,GACxBuO,EAAYtJ,OAAOD,KAAKoJ,GAC9B,GAAIE,EAAUlM,SAAWmM,EAAUnM,OACjC,OAAO,EAGT,IADIsC,GAAM,EACDC,EAAI,EAAGA,EAAI2J,EAAUlM,OAAQuC,IAEpC,GADAD,EAAMyJ,GAAQnO,EAAMsO,EAAU3J,IAAKyJ,EAAME,EAAU3J,MAC9CD,EACH,MAGJ,OAAOA,C,CAET,OAAO,CACT,EAEA,MC3CM8J,GAAM,SAAQhL,EAAUG,GAC5B,IAAKN,EAAYG,GAEf,OAAOA,EAIT,IAFA,IAAMI,EAAc,GAEX7B,EAAQ,EAAGA,EAAQyB,EAAIpB,OAAQL,IAAS,CAC/C,IAAM/B,EAAQwD,EAAIzB,GAClB6B,EAAOC,KAAKF,EAAK3D,EAAO+B,G,CAE1B,OAAO6B,CACT,EAEA,MCbM6K,GAAW,SAAI/H,GAAY,UAMjC,YAAmBgI,EAA8B/K,QAAA,QAAAA,EAAAA,IAC/C,IAAMkE,EAAc,GAOpB,OANIhD,EAAS6J,KAAYtK,EAAMsK,IAC7BzJ,OAAOD,KAAK0J,GAAQC,SAAQ,YAE1B9G,EAAE7F,GAAO2B,EAAK+K,EAAO1M,GAAMA,EAC7B,IAEK6F,CACR,ECjBD,SAAS+G,GAAmBhB,EAAqB1I,GAC/C,IAAK,IAAMlD,KAAOkD,EACZA,EAAIH,eAAe/C,IAAgB,gBAARA,QAAsCqC,IAAba,EAAIlD,KACpD4L,EAAM5L,GAAOkD,EAAIlD,GAG7B,CAEc,SAAU6M,GAAmBjB,EAAwBkB,EAAUC,EAAUC,GAIrF,OAHIF,GAAMF,GAAKhB,EAAMkB,GACjBC,GAAMH,GAAKhB,EAAMmB,GACjBC,GAAMJ,GAAKhB,EAAMoB,GACdpB,CACT,CCPA,ICEIqB,GDFJ,YAAgB/J,EAAUlD,EAAqBkN,GAC7C,IAAIC,EAAI,EAEFC,EAASf,GAASrM,GAAOA,EAAI4G,MAAM,KAAO5G,EAEhD,MAAOkD,GAAOiK,EAAIC,EAAOhN,OACvB8C,EAAMA,EAAIkK,EAAOD,MAGnB,YAAgB9K,IAARa,GAAqBiK,EAAIC,EAAOhN,OAAU8M,EAAehK,CAClE,EEPD,YAAgBA,EAAUmK,EAAsBrP,GAC9C,IAAIoI,EAAIlD,EAEFkK,EAASf,GAASgB,GAAQA,EAAKzG,MAAM,KAAOyG,EAclD,OAZAD,EAAOT,SAAQ,SAAC3M,EAAsBsN,GAEhCA,EAAMF,EAAOhN,OAAS,GACnByC,EAASuD,EAAEpG,MACdoG,EAAEpG,GAAOwH,GAAS4F,EAAOE,EAAM,IAAM,GAAK,IAE5ClH,EAAIA,EAAEpG,IAENoG,EAAEpG,GAAOhC,CAEb,IAEOkF,CACR,ECzBKH,GAAiBE,OAAO+B,UAAUjC,eAiBxC,YAAmB2J,EAAuB1J,GACxC,GAAe,OAAX0J,IAAoBnJ,EAAcmJ,GACpC,MAAO,GAET,IAAM9K,EAAwB,GAM9B,OALAY,EAAKQ,GAAM,YACLD,GAAeZ,KAAKuK,EAAQ1M,KAC9B4B,EAAO5B,GAAO0M,EAAO1M,GAEzB,IACO4B,CACR,EC1BD,YAAgBD,EAAgBiJ,EAAc2C,GAC5C,IAAIzC,EACFC,EACAC,EACApJ,EACEyD,EAAW,EACVkI,IAASA,EAAU,IAExB,IAAMrC,EAAQ,WACZ7F,GAA+B,IAApBkI,EAAQC,QAAoB,EAAIC,KAAKC,MAChD5C,EAAU,KACVlJ,EAASD,EAAKwJ,MAAMJ,EAASC,GACxBF,IAASC,EAAUC,EAAO,KACjC,EAEM2C,EAAY,WAChB,IAAMD,EAAMD,KAAKC,MACZrI,IAAgC,IAApBkI,EAAQC,UAAmBnI,EAAWqI,GACvD,IAAME,EAAYhD,GAAQ8C,EAAMrI,GAchC,OAbA0F,EAAU,KACVC,EAAOC,UACH2C,GAAa,GAAKA,EAAYhD,GAC5BE,IACFL,aAAaK,GACbA,EAAU,MAEZzF,EAAWqI,EACX9L,EAASD,EAAKwJ,MAAMJ,EAASC,GACxBF,IAASC,EAAUC,EAAO,OACrBF,IAAgC,IAArByC,EAAQM,WAC7B/C,EAAUX,WAAWe,EAAO0C,IAEvBhM,CACT,EAQA,OANA+L,EAAUG,OAAS,WACjBrD,aAAaK,GACbzF,EAAW,EACXyF,EAAUC,EAAUC,EAAO,IAC7B,EAEO2C,CACR,EC7CD,YAAgB3P,GACd,OAAOqD,EAAYrD,GAASsE,MAAM0C,UAAU4D,MAAMzG,KAAKnE,GAAS,EACjE,ECJKwO,GAAM,GAEZ,YAAgBuB,GAOd,OANAA,EAASA,GAAU,IACdvB,GAAIuB,GAGPvB,GAAIuB,IAAW,EAFfvB,GAAIuB,GAAU,EAITA,EAASvB,GAAIuB,EACrB,ECVD,cAAuB,ECGT,SAAU7B,GAAK9F,GAC3B,OAAIhE,EAAMgE,GACD,EAEL4H,EAAY5H,GACUA,EAAGhG,OAEtB6C,OAAOD,KAAaoD,GAAGhG,MAChC,CPGA,IQXY6N,GAYAC,GAsBAC,GRvBZ,GAAeC,IACb,SAACC,EAAWC,QAAA,QAAAA,EAAAA,CAAAA,GACF,MAA6DA,EAAI,SAAvDC,EAAmDD,EAAI,WAA3CE,EAAuCF,EAAI,WAA/BG,EAA2BH,EAAI,UAApBI,EAAgBJ,EAAI,YAKzE,OAJKrB,KACHA,GAAM0B,SAASC,cAAc,UAAUC,WAAW,OAEpD5B,GAAKqB,KAAO,CAACG,EAAWC,EAAaF,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAC5E9B,GAAK+B,YAAY3C,GAASgC,GAAQA,EAAO,IAAIY,KACtD,IACA,SAACZ,EAAWC,GAAoB,YAApB,QAAAA,EAAAA,CAAAA,IAAoB,SAACD,GAAStM,GAAOuM,IAAOS,KAAK,GAA7B,ISTlC,YAAgBV,EAAuBa,EAAkBZ,EAAa7I,QAAA,QAAAA,EAAAA,OACpE,IAOI0J,EACAC,EAREC,EAAO,GACPC,EAAoBC,GAAiB9J,EAAK6I,GAC5CkB,EAAYnD,GAASgC,GAAyBA,EAAjBrM,GAASqM,GAEtCoB,EAAYP,EAEVrJ,EAAI,GAIV,GAAI0J,GAAiBlB,EAAMC,IAASY,EAClC,OAAOb,EAKT,MAAO,EAAM,CAMX,GAJAc,EAAcK,EAASrP,OAAO,EAAGkP,GAEjCD,EAAeG,GAAiBJ,EAAab,GAEzCc,EAAeE,EAAoBG,GACjCL,EAAeK,EACjB,MASJ,GALA5J,EAAEhE,KAAKsN,GAEPM,GAAaL,EACbI,EAAWA,EAASrP,OAAOkP,IAEtBG,EACH,OAAO3J,EAAEkJ,KAAK,G,CAMlB,MAAO,EAAM,CAMX,GAJAI,EAAcK,EAASrP,OAAO,EAAG,GAEjCiP,EAAeG,GAAiBJ,EAAab,GAEzCc,EAAeE,EAAoBG,EACrC,MAOF,GALA5J,EAAEhE,KAAKsN,GAEPM,GAAaL,EACbI,EAAWA,EAASrP,OAAO,IAEtBqP,EACH,OAAO3J,EAAEkJ,KAAK,G,CAGlB,MAAO,GAAGlJ,EAAEkJ,KAAK,IAAMtJ,CACxB,ECvED,2BACE,SAA4B,EA0B9B,QAxBEiK,EAAAA,UAAAA,IAAA,SAAI1P,GACF,YAAyBqC,IAAlB,KAAKmK,IAAIxM,EAClB,EAEA0P,EAAAA,UAAAA,IAAA,SAAI1P,EAAa2P,GACf,IAAMjL,EAAI,KAAK8H,IAAIxM,GACnB,YAAaqC,IAANqC,EAAkBiL,EAAMjL,CACjC,EAEAgL,EAAAA,UAAAA,IAAA,SAAI1P,EAAahC,GACf,KAAKwO,IAAIxM,GAAOhC,CAClB,EAEA0R,EAAAA,UAAAA,MAAA,WACE,KAAKlD,IAAM,EACb,EAEAkD,EAAAA,UAAAA,OAAA,SAAO1P,UACE,KAAKwM,IAAIxM,EAClB,EAEA0P,EAAAA,UAAAA,KAAA,WACE,OAAOzM,OAAOD,KAAK,KAAKwJ,KAAKpM,MAC/B,EACF,EA3BA,G,OFAA,SAAY6N,GAEVA,EAAAA,QAAAA,OAEAA,EAAAA,OAAAA,MAEAA,EAAAA,MAAAA,IACD,EAPD,CAAYA,KAAAA,GAAK,KAYjB,SAAYC,GACVA,EAAAA,OAAAA,MACAA,EAAAA,YAAAA,WACAA,EAAAA,aAAAA,YACAA,EAAAA,SAAAA,QACAA,EAAAA,aAAAA,YACAA,EAAAA,gBAAAA,eACAA,EAAAA,QAAAA,OACAA,EAAAA,YAAAA,WACAA,EAAAA,eAAAA,cACAA,EAAAA,UAAAA,SACAA,EAAAA,eAAAA,cACAA,EAAAA,gBAAAA,eACAA,EAAAA,UAAAA,SACAA,EAAAA,UAAAA,SAEAA,EAAAA,QAAAA,MACD,CAjBD,CAAYA,KAAAA,GAAS,KAsBrB,SAAYC,GAEVA,EAAAA,QAAAA,OAEAA,EAAAA,QAAAA,OAEAA,EAAAA,UAAAA,SAEAA,EAAAA,WAAAA,UAEAA,EAAAA,cAAAA,aAEAA,EAAAA,UAAAA,SAEAA,EAAAA,aAAAA,YAEAA,EAAAA,SAAAA,OACD,CAjBD,CAAYA,KAAAA,GAAc,KAsBnB,IAUKyB,GAsBAC,GAWAC,GAwBAC,GAnECC,GAAgB,CAC3BC,KAAM,EACNC,IAAK,EACLC,GAAI,IAON,SAAYP,GACVA,EAAAA,iBAAAA,eACAA,EAAAA,gBAAAA,cAEAA,EAAAA,gBAAAA,cACAA,EAAAA,eAAAA,aAEAA,EAAAA,sBAAAA,mBACAA,EAAAA,qBAAAA,kBAEAA,EAAAA,gBAAAA,cACAA,EAAAA,eAAAA,aAEAA,EAAAA,kBAAAA,gBAEAA,EAAAA,sBAAAA,mBACAA,EAAAA,qBAAAA,iBACD,EAjBD,CAAYA,KAAAA,GAAgB,KAsB5B,SAAYC,GACVA,EAAAA,uBAAAA,gBACAA,EAAAA,sBAAAA,eAEAA,EAAAA,uBAAAA,oBACAA,EAAAA,sBAAAA,kBACD,CAND,CAAYA,KAAAA,GAAoB,KAWhC,SAAYC,GAEVA,EAAAA,eAAAA,kBACAA,EAAAA,cAAAA,iBACAA,EAAAA,cAAAA,iBACAA,EAAAA,YAAAA,eACAA,EAAAA,eAAAA,kBAEAA,EAAAA,eAAAA,kBACAA,EAAAA,cAAAA,iBACAA,EAAAA,aAAAA,gBACAA,EAAAA,gBAAAA,mBAEAA,EAAAA,SAAAA,aACAA,EAAAA,YAAAA,gBACAA,EAAAA,eAAAA,mBAEAA,EAAAA,SAAAA,aACAA,EAAAA,SAAAA,YACD,CAnBD,CAAYA,KAAAA,GAAW,KAwBvB,SAAYC,GACVA,EAAAA,UAAAA,SACAA,EAAAA,YAAAA,WACAA,EAAAA,YAAAA,WACAA,EAAAA,WAAAA,SACD,CALD,CAAYA,KAAAA,GAAa,KAQlB,IGhIHK,GACAC,GACAC,GACAC,GH6HSC,GAAc,CAAC,QAAS,QAAS,QAEjCC,GAAe,UAEfC,GAAkB,EAElBC,GAAmB,EAEnBC,GAAgC,II5IvCC,GAA8B,CAAC,EAO/B,SAAUC,GAAUhT,GACxB,IAAMiT,EAAIF,GAAQ/S,GAElB,IAAKiT,EACH,MAAM,IAAIC,MAAM,oBAAalT,EAAI,iDAGnC,OAAOiT,CACT,CAOM,SAAUE,GAAenT,EAAcoT,GAC3CL,GAAQ/S,GAAQoT,CAClB,CDZA,SAASC,KACPf,GAAQzB,SAASC,cAAc,SAC/ByB,GAAW1B,SAASC,cAAc,MAClC0B,GAAe,qBACfC,GAAa,CACXa,GAAIzC,SAASC,cAAc,SAC3ByC,MAAOjB,GACPkB,MAAOlB,GACPmB,MAAOnB,GACPoB,GAAInB,GACJoB,GAAIpB,GACJ,IAAK1B,SAASC,cAAc,OAEhC,CAEc,SAAU8C,GAAUjM,GAC3B2K,IACHe,KAEF,IAAIrT,EAAOwS,GAAaqB,KAAKlM,IAAQmM,OAAOC,GACvC/T,GAAUA,KAAQyS,KACrBzS,EAAO,KAET,IAAMgU,EAAYvB,GAAWzS,GAC7B2H,EAAqB,kBAARA,EAAmBA,EAAIkB,QAAQ,iBAAkB,IAAMlB,EACpEqM,EAAUC,UAAY,GAAKtM,EAC3B,IAAMuM,EAAMF,EAAUG,WAAW,GAIjC,OAHID,GAAOF,EAAUvQ,SAASyQ,IAC5BF,EAAUI,YAAYF,GAEjBA,CACT,CE7Cc,SAAUG,GAAUH,EAAkBI,GAClD,GAAIJ,EACF,IAAK,IAAMhS,KAAOoS,EACZA,EAAIrP,eAAe/C,KACrBgS,EAAIK,MAAMrS,GAAOoS,EAAIpS,IAI3B,OAAOgS,CACT,CCDA,SAASM,GAAeC,GACtB,IAAMF,EAAQG,iBAAiBD,GAE/B,MAAO,CACLtD,OACGsD,EAAIE,aAAe1T,SAASsT,EAAMpD,MAAO,KAC1ClQ,SAASsT,EAAMK,YAAa,IAC5B3T,SAASsT,EAAMM,aAAc,IAC/BC,QACGL,EAAIM,cAAgB9T,SAASsT,EAAMO,OAAQ,KAC5C7T,SAASsT,EAAMS,WAAY,IAC3B/T,SAASsT,EAAMU,cAAe,IAEpC,CAOA,SAASvL,GAAS9C,GAChB,MAAoB,kBAANA,IAAmBC,MAAMD,EACzC,CAWM,SAAUsO,GAAaT,EAAkBU,EAAkBhE,EAAe2D,GAC9E,IAAIM,EAAIjE,EACJkE,EAAIP,EAER,GAAIK,EAAS,CACX,IAAM/G,EAAOoG,GAAeC,GAE5BW,EAAIhH,EAAK+C,MAAQ/C,EAAK+C,MAAQiE,EAC9BC,EAAIjH,EAAK0G,OAAS1G,EAAK0G,OAASO,C,CAGlC,MAAO,CACLlE,MAAO5K,KAAKC,IAAIkD,GAAS0L,GAAKA,EAAIxC,GAAiBA,IACnDkC,OAAQvO,KAAKC,IAAIkD,GAAS2L,GAAKA,EAAIxC,GAAkBA,IAEzD,CAOM,SAAUyC,GAAUpB,GACxB,IAAMqB,EAASrB,EAAIsB,WAEfD,GACFA,EAAOnB,YAAYF,EAEvB,CC9DA,IAAMuB,GAAW,IAGjB,2BACU,aAAsB,EAwGhC,QAhGEC,EAAAA,UAAAA,GAAA,SAAGC,EAAaC,EAAoBC,GAQlC,OAPK,KAAKC,QAAQH,KAChB,KAAKG,QAAQH,GAAO,IAEtB,KAAKG,QAAQH,GAAK5R,KAAK,CACrB6R,SAAQ,EACRC,OAAQA,IAEH,IACT,EAOAH,EAAAA,UAAAA,KAAA,SAAKC,EAAaC,GAChB,OAAO,KAAKjV,GAAGgV,EAAKC,GAAU,EAChC,EAOAF,EAAAA,UAAAA,KAAA,SAAKC,G,IAAL,WAAkB,SAAAjI,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,EAAAA,GAAAA,UAAAA,GAChB,IAAM6I,EAAS,KAAKD,QAAQH,IAAQ,GAC9BK,EAAiB,KAAKF,QAAQL,KAAa,GAG3CQ,EAAS,SAACC,GAEd,IADA,IAAI5T,EAAS4T,EAAG5T,OACPuC,EAAI,EAAGA,EAAIvC,EAAQuC,IAC1B,GAAKqR,EAAGrR,GAAR,CAGM,MAAqBqR,EAAGrR,GAAtB+Q,EAAQ,WAAEC,EAAI,OAElBA,IACFK,EAAG/O,OAAOtC,EAAG,GAEK,IAAdqR,EAAG5T,eACE6T,EAAKL,QAAQH,GAGtBrT,IACAuC,KAGF+Q,EAASvI,MAAM8I,EAAMjJ,E,CAEzB,EAEA+I,EAAOF,GACPE,EAAOD,EACT,EAOAN,EAAAA,UAAAA,IAAA,SAAIC,EAAcC,GAChB,GAAKD,EAIH,GAAKC,EAGE,CAKL,IAHA,IAAMG,EAAS,KAAKD,QAAQH,IAAQ,GAEhCS,EAASL,EAAOzT,OACXuC,EAAI,EAAGA,EAAIuR,EAAQvR,IACtBkR,EAAOlR,GAAG+Q,WAAaA,IACzBG,EAAO5O,OAAOtC,EAAG,GACjBuR,IACAvR,KAIkB,IAAlBkR,EAAOzT,eACF,KAAKwT,QAAQH,E,aAff,KAAKG,QAAQH,QAJtB,KAAKG,QAAU,GAwBjB,OAAO,IACT,EAGAJ,EAAAA,UAAAA,UAAA,WACE,OAAO,KAAKI,OACd,EACF,EAzGA,G,MCDA,eAME,WAAYO,GAAZ,MACEC,EAAAA,KAAAA,OAAO,KAHFH,EAAAA,WAAqB,EAIlB,MAAmBE,EAAG,QAAtBE,OAAO,IAAG,GAAI,E,OACtBJ,EAAKI,QAAUA,E,CACjB,CAyCF,OAnDkCC,EAAAA,EAAAA,IAAAA,EAAAA,GAezBC,EAAAA,UAAAA,KAAP,WACE,IAAMF,EAAUnX,KAAKmX,QAChBA,GACHnX,KAAKsX,eAAc,EAEvB,EAKOD,EAAAA,UAAAA,KAAP,WACE,IAAMF,EAAUnX,KAAKmX,QACjBA,GACFnX,KAAKsX,eAAc,EAEvB,EAKOD,EAAAA,UAAAA,QAAP,WACErX,KAAKuX,MACLvX,KAAKwX,WAAY,CACnB,EAOOH,EAAAA,UAAAA,cAAP,SAAqBF,GACfnX,KAAKmX,UAAYA,IAGrBnX,KAAKmX,QAAUA,EACjB,EACF,EAnDA,CAAkCM,I,MCN5BC,I,SACJ,4CACIC,GAAe,IAAIjD,OACvB,WAAWgD,GAAM,wCAAwCA,GAAM,QAAQA,GAAM,QAC7E,MAEIE,GAAc,IAAIlD,OAAO,qCAAqCgD,GAAM,QAAQA,GAAM,KAAM,MAExFG,GAAkB,SAAUC,GAChC,IAAKA,EACH,OAAO,KAGT,GAAIzS,EAAQyS,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBpR,EAAG,EACHqR,EAAG,EACH9O,EAAG,EACH+M,EAAG,EACHpM,EAAG,EACHmB,EAAG,EACHrC,EAAG,EACHsP,EAAG,EACHC,EAAG,EACHC,EAAG,EACH3Q,EAAG,EACH4Q,EAAG,EACHC,EAAG,GAECxR,EAAO,GA6Bb,OA3BAyR,OAAOR,GAAYrO,QAAQkO,IAAc,SAAChR,EAAGgE,EAAGqN,GAC9C,IAAMO,EAAS,GACX3X,EAAO+J,EAAEW,cAYb,GAXA0M,EAAEvO,QAAQmO,IAAa,SAACjR,EAAGgE,GACzBA,GAAK4N,EAAO5T,MAAMgG,EACpB,IACa,MAAT/J,GAAgB2X,EAAOrV,OAAS,IAClC2D,EAAKlC,KAAK,CAACgG,GAAG5D,OAAOwR,EAAOxQ,OAAO,EAAG,KACtCnH,EAAO,IACP+J,EAAU,MAANA,EAAY,IAAM,KAEX,MAAT/J,GAAkC,IAAlB2X,EAAOrV,QACzB2D,EAAKlC,KAAK,CAACgG,EAAG4N,EAAO,KAEV,MAAT3X,EACFiG,EAAKlC,KAAK,CAACgG,GAAG5D,OAAOwR,SAErB,MAAOA,EAAOrV,QAAU6U,EAAYnX,GAElC,GADAiG,EAAKlC,KAAK,CAACgG,GAAG5D,OAAOwR,EAAOxQ,OAAO,EAAGgQ,EAAYnX,OAC7CmX,EAAYnX,GACf,MAIN,OAAOkX,CACT,IAEOjR,CACT,EAGM2R,GAAqB,SAAUC,EAAKJ,GAGxC,IAFA,IAAMK,EAAI,GAEDjT,EAAI,EAAGkT,EAAOF,EAAIvV,OAAQyV,EAAO,GAAKN,EAAI5S,EAAGA,GAAK,EAAG,CAC5D,IAAMwK,EAAI,CACR,CACE2I,GAAIH,EAAIhT,EAAI,GACZoT,GAAIJ,EAAIhT,EAAI,IAEd,CACEmT,GAAIH,EAAIhT,GACRoT,GAAIJ,EAAIhT,EAAI,IAEd,CACEmT,GAAIH,EAAIhT,EAAI,GACZoT,GAAIJ,EAAIhT,EAAI,IAEd,CACEmT,GAAIH,EAAIhT,EAAI,GACZoT,GAAIJ,EAAIhT,EAAI,KAGZ4S,EACG5S,EAKMkT,EAAO,IAAMlT,EACtBwK,EAAE,GAAK,CACL2I,GAAIH,EAAI,GACRI,GAAIJ,EAAI,IAEDE,EAAO,IAAMlT,IACtBwK,EAAE,GAAK,CACL2I,GAAIH,EAAI,GACRI,GAAIJ,EAAI,IAEVxI,EAAE,GAAK,CACL2I,GAAIH,EAAI,GACRI,GAAIJ,EAAI,KAhBVxI,EAAE,GAAK,CACL2I,GAAIH,EAAIE,EAAO,GACfE,GAAIJ,EAAIE,EAAO,IAkBfA,EAAO,IAAMlT,EACfwK,EAAE,GAAKA,EAAE,GACCxK,IACVwK,EAAE,GAAK,CACL2I,GAAIH,EAAIhT,GACRoT,GAAIJ,EAAIhT,EAAI,KAIlBiT,EAAE/T,KAAK,CACL,MACEsL,EAAE,GAAG2I,EAAI,EAAI3I,EAAE,GAAG2I,EAAI3I,EAAE,GAAG2I,GAAK,IAChC3I,EAAE,GAAG4I,EAAI,EAAI5I,EAAE,GAAG4I,EAAI5I,EAAE,GAAG4I,GAAK,GACjC5I,EAAE,GAAG2I,EAAI,EAAI3I,EAAE,GAAG2I,EAAI3I,EAAE,GAAG2I,GAAK,GAChC3I,EAAE,GAAG4I,EAAI,EAAI5I,EAAE,GAAG4I,EAAI5I,EAAE,GAAG4I,GAAK,EACjC5I,EAAE,GAAG2I,EACL3I,EAAE,GAAG4I,G,CAIT,OAAOH,CACT,EAEMI,GAAc,SAAUF,EAAGC,EAAGE,EAAIC,EAAIrS,GAC1C,IAAIsS,EAAM,GAQV,GAPU,OAANtS,GAAqB,OAAPqS,IAChBA,EAAKD,GAEPH,GAAKA,EACLC,GAAKA,EACLE,GAAMA,EACNC,GAAMA,EACI,OAANrS,EAAY,CACd,IAAMuS,EAAM/R,KAAK+D,GAAK,IAChBiO,EAAKP,EAAIG,EAAK5R,KAAKiS,KAAKJ,EAAKE,GAC7BG,EAAKT,EAAIG,EAAK5R,KAAKiS,KAAKzS,EAAIuS,GAC5BI,EAAKT,EAAIE,EAAK5R,KAAKoS,KAAKP,EAAKE,GAC7BM,EAAKX,EAAIE,EAAK5R,KAAKoS,KAAK5S,EAAIuS,GAClCD,EAAM,CACJ,CAAC,IAAKE,EAAIG,GACV,CAAC,IAAKP,EAAIA,EAAI,IAAKpS,EAAIqS,EAAK,KAAM,EAAGK,EAAIG,G,MAG3CP,EAAM,CAAC,CAAC,IAAKL,EAAGC,GAAI,CAAC,IAAK,GAAIG,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAK,CAAC,MAE7G,OAAOC,CACT,EAEMQ,GAAiB,SAAUC,GAG/B,GAFAA,EAAY7B,GAAgB6B,IAEvBA,IAAcA,EAAUxW,OAC3B,MAAO,CAAC,CAAC,IAAK,EAAG,IAEnB,IAMIyW,EACAC,EAPAX,EAAM,GACNL,EAAI,EACJC,EAAI,EACJgB,EAAK,EACLC,EAAK,EACLC,EAAQ,EAGY,MAApBL,EAAU,GAAG,KACfd,GAAKc,EAAU,GAAG,GAClBb,GAAKa,EAAU,GAAG,GAClBG,EAAKjB,EACLkB,EAAKjB,EACLkB,IACAd,EAAI,GAAK,CAAC,IAAKL,EAAGC,IAOpB,IALA,IAAMmB,EACiB,IAArBN,EAAUxW,QACU,MAApBwW,EAAU,GAAG,IACqB,MAAlCA,EAAU,GAAG,GAAG9N,eACkB,MAAlC8N,EAAU,GAAG,GAAG9N,cACTjD,OAAC,EAAEsR,OAAE,EAAExU,EAAIsU,EAAOG,EAAKR,EAAUxW,OAAQuC,EAAIyU,EAAIzU,IAAK,CAI7D,GAHAwT,EAAItU,KAAMgE,EAAI,IACdsR,EAAKP,EAAUjU,GACfkU,EAAMM,EAAG,GACLN,IAAQA,EAAI/N,cAEd,OADAjD,EAAE,GAAKgR,EAAI/N,cACHjD,EAAE,IACR,IAAK,IACHA,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,IAAMsR,EAAG,GAAKrB,EAChBjQ,EAAE,IAAMsR,EAAG,GAAKpB,EAChB,MACF,IAAK,IACHlQ,EAAE,IAAMsR,EAAG,GAAKpB,EAChB,MACF,IAAK,IACHlQ,EAAE,IAAMsR,EAAG,GAAKrB,EAChB,MACF,IAAK,IACHgB,EAAO,CAAChB,EAAGC,GAAG9R,OAAOkT,EAAGvO,MAAM,IAC9B,IAAK,IAAI3C,EAAI,EAAGoR,EAAKP,EAAK1W,OAAQ6F,EAAIoR,EAAIpR,IACxC6Q,EAAK7Q,IAAM6Q,EAAK7Q,GAAK6P,EACrBgB,IAAO7Q,IAAM6Q,EAAK7Q,GAAK8P,EAEzBI,EAAImB,MACJnB,EAAMA,EAAIlS,OAAOyR,GAAmBoB,EAAMI,IAC1C,MACF,IAAK,IACHf,EAAImB,MACJR,EAAOd,GAAYF,EAAGC,EAAGoB,EAAG,GAAIA,EAAG,IACnCL,EAAKjV,KAAKiV,EAAK,IACfX,EAAMA,EAAIlS,OAAO6S,GACjB,MACF,IAAK,IACHX,EAAImB,MACJnB,EAAMA,EAAIlS,OAAO+R,GAAYF,EAAGC,EAAGoB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpDtR,EAAI,CAAC,KAAK5B,OAAOkS,EAAIA,EAAI/V,OAAS,GAAGwI,OAAO,IAC5C,MACF,IAAK,IACHmO,GAAMI,EAAG,GAAKrB,EACdkB,GAAMG,EAAG,GAAKpB,EACd,MACF,QACE,IAAS9P,EAAI,EAAGoR,EAAKF,EAAG/W,OAAQ6F,EAAIoR,EAAIpR,IACtCJ,EAAEI,IAAMkR,EAAGlR,IAAMA,EAAI,EAAI6P,EAAIC,QAG9B,GAAY,MAARc,EACTC,EAAO,CAAChB,EAAGC,GAAG9R,OAAOkT,EAAGvO,MAAM,IAC9BuN,EAAImB,MACJnB,EAAMA,EAAIlS,OAAOyR,GAAmBoB,EAAMI,IAC1CrR,EAAI,CAAC,KAAK5B,OAAOkT,EAAGvO,OAAO,SACtB,GAAY,MAARiO,EACTV,EAAImB,MACJR,EAAOd,GAAYF,EAAGC,EAAGoB,EAAG,GAAIA,EAAG,IACnCL,EAAKjV,KAAKiV,EAAK,IACfX,EAAMA,EAAIlS,OAAO6S,QACZ,GAAY,MAARD,EACTV,EAAImB,MACJnB,EAAMA,EAAIlS,OAAO+R,GAAYF,EAAGC,EAAGoB,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpDtR,EAAI,CAAC,KAAK5B,OAAOkS,EAAIA,EAAI/V,OAAS,GAAGwI,OAAO,SAE5C,IAAK,IAAI9F,EAAI,EAAGyU,EAAKJ,EAAG/W,OAAQ0C,EAAIyU,EAAIzU,IACtC+C,EAAE/C,GAAKqU,EAAGrU,GAId,GADA+T,EAAMA,EAAI/N,cACE,MAAR+N,EACF,OAAQhR,EAAE,IACR,IAAK,IACHiQ,GAAKiB,EACLhB,GAAKiB,EACL,MACF,IAAK,IACHlB,EAAIjQ,EAAE,GACN,MACF,IAAK,IACHkQ,EAAIlQ,EAAE,GACN,MACF,IAAK,IACHkR,EAAKlR,EAAEA,EAAEzF,OAAS,GAClB4W,EAAKnR,EAAEA,EAAEzF,OAAS,GAClB,MACF,QACE0V,EAAIjQ,EAAEA,EAAEzF,OAAS,GACjB2V,EAAIlQ,EAAEA,EAAEzF,OAAS,G,CAKzB,OAAO+V,CACT,EAEMqB,GAAM,SAAUnB,EAAIG,EAAID,EAAIG,GAChC,MAAO,CAACL,EAAIG,EAAID,EAAIG,EAAIH,EAAIG,EAC9B,EAEMe,GAAM,SAAUpB,EAAIG,EAAIkB,EAAIC,EAAIpB,EAAIG,GACxC,IAAMkB,EAAM,EAAI,EACVC,EAAM,EAAI,EAChB,MAAO,CAACD,EAAMvB,EAAKwB,EAAMH,EAAIE,EAAMpB,EAAKqB,EAAMF,EAAIC,EAAMrB,EAAKsB,EAAMH,EAAIE,EAAMlB,EAAKmB,EAAMF,EAAIpB,EAAIG,EAClG,EAEMoB,GAAM,SAAUzB,EAAIG,EAAIP,EAAIC,EAAI6B,EAAOC,EAAgBC,EAAY1B,EAAIG,EAAIwB,GAG3EjC,IAAOC,IACTD,GAAM,GAGR,IAGIkC,EACAC,EACAC,EACAC,EACAC,EAPEC,EAAkB,IAAVnU,KAAK+D,GAAY,IACzBgO,EAAO/R,KAAK+D,GAAK,MAAS2P,GAAS,GACrC5B,EAAM,GAMJsC,EAAS,SAAU3C,EAAGC,EAAGK,GAC7B,IAAMsC,EAAI5C,EAAIzR,KAAKiS,IAAIF,GAAOL,EAAI1R,KAAKoS,IAAIL,GACrCuC,EAAI7C,EAAIzR,KAAKoS,IAAIL,GAAOL,EAAI1R,KAAKiS,IAAIF,GAC3C,MAAO,CACLN,EAAG4C,EACH3C,EAAG4C,EAEP,EACA,GAAKT,EA6CHE,EAAKF,EAAU,GACfG,EAAKH,EAAU,GACfI,EAAKJ,EAAU,GACfK,EAAKL,EAAU,OAhDD,CACdC,EAAKM,EAAOpC,EAAIG,GAAKJ,GACrBC,EAAK8B,EAAGrC,EACRU,EAAK2B,EAAGpC,EACRoC,EAAKM,EAAOlC,EAAIG,GAAKN,GACrBG,EAAK4B,EAAGrC,EACRY,EAAKyB,EAAGpC,EACJM,IAAOE,GAAMC,IAAOE,IAEtBH,GAAM,EACNG,GAAM,GAIR,IAAMZ,GAAKO,EAAKE,GAAM,EAChBR,GAAKS,EAAKE,GAAM,EAClBvD,EAAK2C,EAAIA,GAAMG,EAAKA,GAAOF,EAAIA,GAAMG,EAAKA,GAC1C/C,EAAI,IACNA,EAAI9O,KAAKuU,KAAKzF,GACd8C,GAAK9C,EACL+C,GAAK/C,GAEP,IAAM0F,EAAM5C,EAAKA,EACX6C,EAAM5C,EAAKA,EACXpT,GACHkV,IAAmBC,GAAc,EAAI,GACtC5T,KAAKuU,KAAKvU,KAAK0D,KAAK8Q,EAAMC,EAAMD,EAAM9C,EAAIA,EAAI+C,EAAMhD,EAAIA,IAAM+C,EAAM9C,EAAIA,EAAI+C,EAAMhD,EAAIA,KACxFwC,EAAMxV,EAAImT,EAAKF,EAAKG,GAAMG,EAAKE,GAAM,EACrCgC,EAAMzV,GAAKoT,EAAKJ,EAAKG,GAAMO,EAAKE,GAAM,EAEtC0B,EAAK/T,KAAK0U,OAAOvC,EAAK+B,GAAMrC,GAAI3O,QAAQ,IAExC8Q,EAAKhU,KAAK0U,OAAOrC,EAAK6B,GAAMrC,GAAI3O,QAAQ,IAExC6Q,EAAK/B,EAAKiC,EAAKjU,KAAK+D,GAAKgQ,EAAKA,EAC9BC,EAAK9B,EAAK+B,EAAKjU,KAAK+D,GAAKiQ,EAAKA,EAC9BD,EAAK,IAAMA,EAAe,EAAV/T,KAAK+D,GAASgQ,GAC9BC,EAAK,IAAMA,EAAe,EAAVhU,KAAK+D,GAASiQ,GAC1BJ,GAAcG,EAAKC,IACrBD,GAAoB,EAAV/T,KAAK+D,KAEZ6P,GAAcI,EAAKD,IACtBC,GAAoB,EAAVhU,KAAK+D,G,CAQnB,IAAI4Q,EAAKX,EAAKD,EACd,GAAI/T,KAAK0D,IAAIiR,GAAMR,EAAM,CACvB,IAAMS,EAAQZ,EACRa,EAAQ3C,EACR4C,EAAQzC,EACd2B,EAAKD,EAAKI,GAAQP,GAAcI,EAAKD,EAAK,GAAK,GAC/C7B,EAAK+B,EAAKrC,EAAK5R,KAAKiS,IAAI+B,GACxB3B,EAAK6B,EAAKrC,EAAK7R,KAAKoS,IAAI4B,GACxBlC,EAAM2B,GAAIvB,EAAIG,EAAIT,EAAIC,EAAI6B,EAAO,EAAGE,EAAYiB,EAAOC,EAAO,CAACd,EAAIY,EAAOX,EAAIC,G,CAEhFS,EAAKX,EAAKD,EACV,IAAMgB,EAAK/U,KAAKiS,IAAI8B,GACdiB,EAAKhV,KAAKoS,IAAI2B,GACdkB,EAAKjV,KAAKiS,IAAI+B,GACdkB,EAAKlV,KAAKoS,IAAI4B,GACdhD,EAAIhR,KAAKmV,IAAIR,EAAK,GAClBS,EAAM,EAAI,EAAKxD,EAAKZ,EACpBqE,EAAM,EAAI,EAAKxD,EAAKb,EACpBsE,EAAK,CAACtD,EAAIG,GACVoD,EAAK,CAACvD,EAAKoD,EAAKJ,EAAI7C,EAAKkD,EAAKN,GAC9BS,EAAK,CAACtD,EAAKkD,EAAKF,EAAI7C,EAAKgD,EAAKJ,GAC9BQ,EAAK,CAACvD,EAAIG,GAGhB,GAFAkD,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACvBA,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACnB1B,EACF,MAAO,CAAC0B,EAAIC,EAAIC,GAAI7V,OAAOkS,GAE7BA,EAAM,CAACyD,EAAIC,EAAIC,GAAI7V,OAAOkS,GAAKpH,OAAOnI,MAAM,KAE5C,IADA,IAAMmT,EAAS,GACNpX,EAAI,EAAGyU,EAAKjB,EAAI/V,OAAQuC,EAAIyU,EAAIzU,IACvCoX,EAAOpX,GAAKA,EAAI,EAAI8V,EAAOtC,EAAIxT,EAAI,GAAIwT,EAAIxT,GAAIyT,GAAKL,EAAI0C,EAAOtC,EAAIxT,GAAIwT,EAAIxT,EAAI,GAAIyT,GAAKN,EAE1F,OAAOiE,CACT,EAEMC,GAAc,SAAU3M,EAAM4M,GAClC,IA0BI7C,EA1BEjK,EAAIwJ,GAAetJ,GACnB6M,EAAKD,GAAStD,GAAesD,GAC7B3c,EAAQ,CACZwY,EAAG,EACHC,EAAG,EACHoE,GAAI,EACJC,GAAI,EACJ1B,EAAG,EACHC,EAAG,EACH0B,GAAI,KACJC,GAAI,MAEAC,EAAS,CACbzE,EAAG,EACHC,EAAG,EACHoE,GAAI,EACJC,GAAI,EACJ1B,EAAG,EACHC,EAAG,EACH0B,GAAI,KACJC,GAAI,MAEAE,EAAS,GACTC,EAAS,GACXC,EAAS,GACTC,EAAO,GAELC,EAAc,SAAUvN,EAAMuI,EAAG+E,GACrC,IAAIE,EACAC,EACJ,IAAKzN,EACH,MAAO,CAAC,IAAKuI,EAAEE,EAAGF,EAAEG,EAAGH,EAAEE,EAAGF,EAAEG,EAAGH,EAAEE,EAAGF,EAAEG,GAS1C,SANE1I,EAAK,IACL,CACE0N,EAAG,EACHC,EAAG,MAEDpF,EAAEyE,GAAKzE,EAAE0E,GAAK,MACZjN,EAAK,IACX,IAAK,IACHuI,EAAE8C,EAAIrL,EAAK,GACXuI,EAAE+C,EAAItL,EAAK,GACX,MACF,IAAK,IACHA,EAAO,CAAC,KAAKpJ,OAAO6T,GAAI3M,MAAM,EAAG,CAACyK,EAAEE,EAAGF,EAAEG,GAAG9R,OAAOoJ,EAAKzE,MAAM,MAC9D,MACF,IAAK,IACU,MAAT+R,GAAyB,MAATA,GAElBE,EAAW,EAANjF,EAAEE,EAAQF,EAAEuE,GACjBW,EAAW,EAANlF,EAAEG,EAAQH,EAAEwE,KAGjBS,EAAKjF,EAAEE,EACPgF,EAAKlF,EAAEG,GAET1I,EAAO,CAAC,IAAKwN,EAAIC,GAAI7W,OAAOoJ,EAAKzE,MAAM,IACvC,MACF,IAAK,IACU,MAAT+R,GAAyB,MAATA,GAElB/E,EAAEyE,GAAW,EAANzE,EAAEE,EAAQF,EAAEyE,GACnBzE,EAAE0E,GAAW,EAAN1E,EAAEG,EAAQH,EAAE0E,KAGnB1E,EAAEyE,GAAKzE,EAAEE,EACTF,EAAE0E,GAAK1E,EAAEG,GAEX1I,EAAO,CAAC,KAAKpJ,OAAOwT,GAAI7B,EAAEE,EAAGF,EAAEG,EAAGH,EAAEyE,GAAIzE,EAAE0E,GAAIjN,EAAK,GAAIA,EAAK,KAC5D,MACF,IAAK,IACHuI,EAAEyE,GAAKhN,EAAK,GACZuI,EAAE0E,GAAKjN,EAAK,GACZA,EAAO,CAAC,KAAKpJ,OAAOwT,GAAI7B,EAAEE,EAAGF,EAAEG,EAAG1I,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAClE,MACF,IAAK,IACHA,EAAO,CAAC,KAAKpJ,OAAOuT,GAAI5B,EAAEE,EAAGF,EAAEG,EAAG1I,EAAK,GAAIA,EAAK,KAChD,MACF,IAAK,IACHA,EAAO,CAAC,KAAKpJ,OAAOuT,GAAI5B,EAAEE,EAAGF,EAAEG,EAAG1I,EAAK,GAAIuI,EAAEG,IAC7C,MACF,IAAK,IACH1I,EAAO,CAAC,KAAKpJ,OAAOuT,GAAI5B,EAAEE,EAAGF,EAAEG,EAAGH,EAAEE,EAAGzI,EAAK,KAC5C,MACF,IAAK,IACHA,EAAO,CAAC,KAAKpJ,OAAOuT,GAAI5B,EAAEE,EAAGF,EAAEG,EAAGH,EAAE8C,EAAG9C,EAAE+C,IACzC,MACF,QACE,MAEJ,OAAOtL,CACT,EACM4N,EAAS,SAAUC,EAAIvY,GAC3B,GAAIuY,EAAGvY,GAAGvC,OAAS,EAAG,CACpB8a,EAAGvY,GAAGwY,QACN,IAAMC,EAAKF,EAAGvY,GACd,MAAOyY,EAAGhb,OACRoa,EAAO7X,GAAK,IACZuX,IAAOO,EAAO9X,GAAK,KACnBuY,EAAGjW,OAAOtC,IAAK,EAAG,CAAC,KAAKsB,OAAOmX,EAAGnW,OAAO,EAAG,KAE9CiW,EAAGjW,OAAOtC,EAAG,GACbyU,EAAK/S,KAAKC,IAAI6I,EAAE/M,OAAS8Z,GAAMA,EAAG9Z,QAAW,E,CAEjD,EACMib,EAAO,SAAUC,EAAOrB,EAAOsB,EAAIC,EAAI7Y,GACvC2Y,GAASrB,GAAyB,MAAhBqB,EAAM3Y,GAAG,IAA8B,MAAhBsX,EAAMtX,GAAG,KACpDsX,EAAMhV,OAAOtC,EAAG,EAAG,CAAC,IAAK6Y,EAAG1F,EAAG0F,EAAGzF,IAClCwF,EAAGpB,GAAK,EACRoB,EAAGnB,GAAK,EACRmB,EAAGzF,EAAIwF,EAAM3Y,GAAG,GAChB4Y,EAAGxF,EAAIuF,EAAM3Y,GAAG,GAChByU,EAAK/S,KAAKC,IAAI6I,EAAE/M,OAAS8Z,GAAMA,EAAG9Z,QAAW,GAEjD,EACAgX,EAAK/S,KAAKC,IAAI6I,EAAE/M,OAAS8Z,GAAMA,EAAG9Z,QAAW,GAC7C,IAAK,IAAIuC,EAAI,EAAGA,EAAIyU,EAAIzU,IAAK,CAC3BwK,EAAExK,KAAO+X,EAASvN,EAAExK,GAAG,IAER,MAAX+X,IAEFF,EAAO7X,GAAK+X,EACZ/X,IAAMgY,EAAOH,EAAO7X,EAAI,KAE1BwK,EAAExK,GAAKiY,EAAYzN,EAAExK,GAAIrF,EAAOqd,GAEd,MAAdH,EAAO7X,IAAyB,MAAX+X,IAAgBF,EAAO7X,GAAK,KAIrDsY,EAAO9N,EAAGxK,GAENuX,IAEFA,EAAGvX,KAAO+X,EAASR,EAAGvX,GAAG,IACV,MAAX+X,IACFD,EAAO9X,GAAK+X,EACZ/X,IAAMgY,EAAOF,EAAO9X,EAAI,KAE1BuX,EAAGvX,GAAKiY,EAAYV,EAAGvX,GAAI4X,EAAQI,GAEjB,MAAdF,EAAO9X,IAAyB,MAAX+X,IACvBD,EAAO9X,GAAK,KAGdsY,EAAOf,EAAIvX,IAEb0Y,EAAKlO,EAAG+M,EAAI5c,EAAOid,EAAQ5X,GAC3B0Y,EAAKnB,EAAI/M,EAAGoN,EAAQjd,EAAOqF,GAC3B,IAAM8Y,EAAMtO,EAAExK,GACR+Y,EAAOxB,GAAMA,EAAGvX,GAChBgZ,EAASF,EAAIrb,OACbwb,EAAU1B,GAAMwB,EAAKtb,OAC3B9C,EAAMwY,EAAI2F,EAAIE,EAAS,GACvBre,EAAMyY,EAAI0F,EAAIE,EAAS,GACvBre,EAAM6c,GAAK7S,WAAWmU,EAAIE,EAAS,KAAOre,EAAMwY,EAChDxY,EAAM8c,GAAK9S,WAAWmU,EAAIE,EAAS,KAAOre,EAAMyY,EAChDwE,EAAOJ,GAAKD,IAAO5S,WAAWoU,EAAKE,EAAU,KAAOrB,EAAOzE,GAC3DyE,EAAOH,GAAKF,IAAO5S,WAAWoU,EAAKE,EAAU,KAAOrB,EAAOxE,GAC3DwE,EAAOzE,EAAIoE,GAAMwB,EAAKE,EAAU,GAChCrB,EAAOxE,EAAImE,GAAMwB,EAAKE,EAAU,E,CAGlC,OAAO1B,EAAK,CAAC/M,EAAG+M,GAAM/M,CACxB,EAEM0O,GAAM,gBACNC,GAAiB,SAAUzO,GAC/B,OAAOA,EAAK0B,KAAK,KAAKpI,QAAQkV,GAAK,KACrC,EAEME,GAAQ,SAAU1G,EAAG2G,EAAI9B,EAAI+B,EAAIC,GACrC,IAAMC,GAAM,EAAIH,EAAK,EAAI9B,EAAK,EAAI+B,EAAK,EAAIC,EACrCE,EAAK/G,EAAI8G,EAAK,EAAIH,EAAK,GAAK9B,EAAK,EAAI+B,EAC3C,OAAO5G,EAAI+G,EAAK,EAAIJ,EAAK,EAAI9B,CAC/B,EAEMmC,GAAS,SAAUhG,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,EAAIlH,GAC7C,OAANA,IACFA,EAAI,GAENA,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,EAQ5B,IAPA,IAAMmH,EAAKnH,EAAI,EACTtN,EAAI,GACJ0U,EAAU,EACb,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAAS,MAAQ,OAE1FC,EAAU,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OACrGC,EAAM,EACDla,EAAI,EAAGA,EAAIsF,EAAGtF,IAAK,CAC1B,IAAMma,EAAKJ,EAAKC,EAAQha,GAAK+Z,EACvBK,EAAQhB,GAAMe,EAAIzG,EAAIE,EAAI+F,EAAIE,GAC9BQ,EAAQjB,GAAMe,EAAItG,EAAIE,EAAI6F,EAAIE,GAC9BQ,EAAOF,EAAQA,EAAQC,EAAQA,EACrCH,GAAOD,EAAQja,GAAK0B,KAAKuU,KAAKqE,E,CAEhC,OAAOP,EAAKG,CACd,EAEMK,GAAW,SAAUC,EAAIC,EAAI/G,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,GAQrD,IAPA,IAEI1Y,EACAgE,EACAqN,EACAG,EALEgI,EAAU,GACVC,EAAS,CAAC,GAAI,IAMX3a,EAAI,EAAGA,EAAI,IAAKA,EAUvB,GATU,IAANA,GACFkF,EAAI,EAAIsV,EAAK,GAAK9G,EAAK,EAAIE,EAC3B1S,GAAK,EAAIsZ,EAAK,EAAI9G,EAAK,EAAIE,EAAK,EAAI+F,EACpCpH,EAAI,EAAImB,EAAK,EAAI8G,IAEjBtV,EAAI,EAAIuV,EAAK,GAAK5G,EAAK,EAAIE,EAC3B7S,GAAK,EAAIuZ,EAAK,EAAI5G,EAAK,EAAIE,EAAK,EAAI6F,EACpCrH,EAAI,EAAIsB,EAAK,EAAI4G,GAEf/Y,KAAK0D,IAAIlE,GAAK,MAAlB,CACE,GAAIQ,KAAK0D,IAAIF,GAAK,MAChB,SAEFwN,GAAKH,EAAIrN,EACLwN,EAAI,GAAKA,EAAI,GACfgI,EAAQxb,KAAKwT,E,KANjB,CAUA,IAAMkI,EAAO1V,EAAIA,EAAI,EAAIqN,EAAIrR,EACvB2Z,EAAWnZ,KAAKuU,KAAK2E,GAC3B,KAAIA,EAAO,GAAX,CAGA,IAAMpB,IAAOtU,EAAI2V,IAAa,EAAI3Z,GAC9BsY,EAAK,GAAKA,EAAK,GACjBkB,EAAQxb,KAAKsa,GAEf,IAAMC,IAAOvU,EAAI2V,IAAa,EAAI3Z,GAC9BuY,EAAK,GAAKA,EAAK,GACjBiB,EAAQxb,KAAKua,E,EAIjB,IAEIqB,EAFAxX,EAAIoX,EAAQjd,OACVsd,EAAOzX,EAEb,MAAOA,IACLoP,EAAIgI,EAAQpX,GACZwX,EAAK,EAAIpI,EACTiI,EAAO,GAAGrX,GAAKwX,EAAKA,EAAKA,EAAKN,EAAK,EAAIM,EAAKA,EAAKpI,EAAIgB,EAAK,EAAIoH,EAAKpI,EAAIA,EAAIkB,EAAKlB,EAAIA,EAAIA,EAAIiH,EAC5FgB,EAAO,GAAGrX,GAAKwX,EAAKA,EAAKA,EAAKL,EAAK,EAAIK,EAAKA,EAAKpI,EAAImB,EAAK,EAAIiH,EAAKpI,EAAIA,EAAIqB,EAAKrB,EAAIA,EAAIA,EAAIkH,EAS9F,OANAe,EAAO,GAAGI,GAAQP,EAClBG,EAAO,GAAGI,GAAQN,EAClBE,EAAO,GAAGI,EAAO,GAAKpB,EACtBgB,EAAO,GAAGI,EAAO,GAAKnB,EACtBe,EAAO,GAAGld,OAASkd,EAAO,GAAGld,OAASsd,EAAO,EAEtC,CACLnZ,IAAK,CACHuR,EAAGzR,KAAKE,IAAI4G,MAAM,EAAGmS,EAAO,IAC5BvH,EAAG1R,KAAKE,IAAI4G,MAAM,EAAGmS,EAAO,KAE9BhZ,IAAK,CACHwR,EAAGzR,KAAKC,IAAI6G,MAAM,EAAGmS,EAAO,IAC5BvH,EAAG1R,KAAKC,IAAI6G,MAAM,EAAGmS,EAAO,KAGlC,EAEMK,GAAY,SAAUtH,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,GACtD,KACEpY,KAAKC,IAAI+R,EAAIE,GAAMlS,KAAKE,IAAI+X,EAAIE,IAChCnY,KAAKE,IAAI8R,EAAIE,GAAMlS,KAAKC,IAAIgY,EAAIE,IAChCnY,KAAKC,IAAIkS,EAAIE,GAAMrS,KAAKE,IAAIgY,EAAIE,IAChCpY,KAAKE,IAAIiS,EAAIE,GAAMrS,KAAKC,IAAIiY,EAAIE,IAJlC,CAQA,IAAM5B,GAAMxE,EAAKK,EAAKF,EAAKD,IAAO+F,EAAKE,IAAOnG,EAAKE,IAAO+F,EAAKG,EAAKF,EAAKC,GACnE1B,GAAMzE,EAAKK,EAAKF,EAAKD,IAAOgG,EAAKE,IAAOjG,EAAKE,IAAO4F,EAAKG,EAAKF,EAAKC,GACnEoB,GAAevH,EAAKE,IAAOgG,EAAKE,IAAOjG,EAAKE,IAAO4F,EAAKE,GAE9D,GAAKoB,EAAL,CAGA,IAAMC,EAAKhD,EAAK+C,EACVE,EAAKhD,EAAK8C,EACVG,GAAOF,EAAGtW,QAAQ,GAClByW,GAAOF,EAAGvW,QAAQ,GACxB,KACEwW,GAAO1Z,KAAKE,IAAI8R,EAAIE,GAAIhP,QAAQ,IAChCwW,GAAO1Z,KAAKC,IAAI+R,EAAIE,GAAIhP,QAAQ,IAChCwW,GAAO1Z,KAAKE,IAAI+X,EAAIE,GAAIjV,QAAQ,IAChCwW,GAAO1Z,KAAKC,IAAIgY,EAAIE,GAAIjV,QAAQ,IAChCyW,GAAO3Z,KAAKE,IAAIiS,EAAIE,GAAInP,QAAQ,IAChCyW,GAAO3Z,KAAKC,IAAIkS,EAAIE,GAAInP,QAAQ,IAChCyW,GAAO3Z,KAAKE,IAAIgY,EAAIE,GAAIlV,QAAQ,IAChCyW,GAAO3Z,KAAKC,IAAIiY,EAAIE,GAAIlV,QAAQ,IAIlC,MAAO,CACLuO,EAAG+H,EACH9H,EAAG+H,E,EAEP,EAEMG,GAAoB,SAAUC,EAAMpI,EAAGC,GAC3C,OAAOD,GAAKoI,EAAKpI,GAAKA,GAAKoI,EAAKpI,EAAIoI,EAAKjP,OAAS8G,GAAKmI,EAAKnI,GAAKA,GAAKmI,EAAKnI,EAAImI,EAAKtL,MACtF,EAEMuL,GAAW,SAAUrI,EAAGC,EAAG7C,EAAGC,EAAGtN,GACrC,GAAIA,EACF,MAAO,CACL,CAAC,KAAMiQ,IAAKjQ,EAAGkQ,GACf,CAAC,IAAK7C,EAAQ,EAAJrN,EAAO,GACjB,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GACxB,CAAC,IAAK,EAAGsN,EAAQ,EAAJtN,GACb,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GACzB,CAAC,IAAS,EAAJA,EAAQqN,EAAG,GACjB,CAAC,IAAKrN,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAC1B,CAAC,IAAK,EAAO,EAAJA,EAAQsN,GACjB,CAAC,IAAKtN,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GACzB,CAAC,MAGL,IAAMsQ,EAAM,CAAC,CAAC,IAAKL,EAAGC,GAAI,CAAC,IAAK7C,EAAG,GAAI,CAAC,IAAK,EAAGC,GAAI,CAAC,KAAMD,EAAG,GAAI,CAAC,MAGnE,OADAiD,EAAI2F,eAAiBA,GACd3F,CACT,EAEMiI,GAAM,SAAUtI,EAAIC,EAAI9G,EAAQ2D,GAUpC,OATU,OAANkD,IACFA,EAAIC,EAAI9G,EAAQ2D,EAAS,GAEjB,OAANmD,IACFA,EAAID,EAAEC,EACN9G,EAAQ6G,EAAE7G,MACV2D,EAASkD,EAAElD,OACXkD,EAAIA,EAAEA,GAED,CACLA,EAAC,EACDC,EAAC,EACD9G,MAAK,EACLiE,EAAGjE,EACH2D,OAAM,EACNO,EAAGP,EACH2D,GAAIT,EAAI7G,EACRyH,GAAIX,EAAInD,EACR0F,GAAIxC,EAAI7G,EAAQ,EAChBsJ,GAAIxC,EAAInD,EAAS,EACjByL,GAAIha,KAAKE,IAAI0K,EAAO2D,GAAU,EAC9B0L,GAAIja,KAAKC,IAAI2K,EAAO2D,GAAU,EAC9B2L,GAAIla,KAAKuU,KAAK3J,EAAQA,EAAQ2D,EAASA,GAAU,EACjDvF,KAAM8Q,GAASrI,EAAGC,EAAG9G,EAAO2D,GAC5B4L,GAAI,CAAC1I,EAAGC,EAAG9G,EAAO2D,GAAQ7D,KAAK,KAEnC,EAEM0P,GAAkB,SAAUC,EAAOC,GAGvC,OAFAD,EAAQN,GAAIM,GACZC,EAAQP,GAAIO,GAEVV,GAAkBU,EAAOD,EAAM5I,EAAG4I,EAAM3I,IACxCkI,GAAkBU,EAAOD,EAAMnI,GAAImI,EAAM3I,IACzCkI,GAAkBU,EAAOD,EAAM5I,EAAG4I,EAAMhI,KACxCuH,GAAkBU,EAAOD,EAAMnI,GAAImI,EAAMhI,KACzCuH,GAAkBS,EAAOC,EAAM7I,EAAG6I,EAAM5I,IACxCkI,GAAkBS,EAAOC,EAAMpI,GAAIoI,EAAM5I,IACzCkI,GAAkBS,EAAOC,EAAM7I,EAAG6I,EAAMjI,KACxCuH,GAAkBS,EAAOC,EAAMpI,GAAIoI,EAAMjI,MACtCgI,EAAM5I,EAAI6I,EAAMpI,IAAMmI,EAAM5I,EAAI6I,EAAM7I,GAAO6I,EAAM7I,EAAI4I,EAAMnI,IAAMoI,EAAM7I,EAAI4I,EAAM5I,KAClF4I,EAAM3I,EAAI4I,EAAMjI,IAAMgI,EAAM3I,EAAI4I,EAAM5I,GAAO4I,EAAM5I,EAAI2I,EAAMhI,IAAMiI,EAAM5I,EAAI2I,EAAM3I,EAE3F,EAEM6I,GAAa,SAAUC,EAAKC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,GAC/D7c,EAAQsc,KACXA,EAAM,CAACA,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,IAE5C,IAAMlB,EAAOhB,GAAS/R,MAAM,KAAM0T,GAClC,OAAOT,GAAIF,EAAK3Z,IAAIuR,EAAGoI,EAAK3Z,IAAIwR,EAAGmI,EAAK5Z,IAAIwR,EAAIoI,EAAK3Z,IAAIuR,EAAGoI,EAAK5Z,IAAIyR,EAAImI,EAAK3Z,IAAIwR,EACpF,EAEMsJ,GAAoB,SAAUR,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAK/J,GAC1E,IAAM8G,EAAK,EAAI9G,EACTiK,EAAMjb,KAAKkb,IAAIpD,EAAI,GACnBqD,EAAMnb,KAAKkb,IAAIpD,EAAI,GACnBC,EAAK/G,EAAIA,EACToK,EAAKrD,EAAK/G,EACVS,EAAIwJ,EAAMT,EAAY,EAANW,EAAUnK,EAAI0J,EAAW,EAAL5C,EAAS9G,EAAIA,EAAI4J,EAAMQ,EAAKN,EAChEpJ,EAAIuJ,EAAMR,EAAY,EAANU,EAAUnK,EAAI2J,EAAW,EAAL7C,EAAS9G,EAAIA,EAAI6J,EAAMO,EAAKL,EAChErI,EAAK8H,EAAM,EAAIxJ,GAAK0J,EAAMF,GAAOzC,GAAM6C,EAAM,EAAIF,EAAMF,GACvD7H,EAAK8H,EAAM,EAAIzJ,GAAK2J,EAAMF,GAAO1C,GAAM8C,EAAM,EAAIF,EAAMF,GACvDjE,EAAKkE,EAAM,EAAI1J,GAAK4J,EAAMF,GAAO3C,GAAM+C,EAAM,EAAIF,EAAMF,GACvDjE,EAAKkE,EAAM,EAAI3J,GAAK6J,EAAMF,GAAO5C,GAAMgD,EAAM,EAAIF,EAAMF,GACvDtH,EAAKyE,EAAK0C,EAAMxJ,EAAI0J,EACpBpH,EAAKwE,EAAK2C,EAAMzJ,EAAI2J,EACpB1G,EAAK6D,EAAK8C,EAAM5J,EAAI8J,EACpB5G,EAAK4D,EAAK+C,EAAM7J,EAAI+J,EACpBM,EAAQ,GAAqC,IAA/Brb,KAAKsb,MAAM5I,EAAK8D,EAAI7D,EAAK8D,GAAazW,KAAK+D,GAE/D,MAAO,CACL0N,EAAC,EACDC,EAAC,EACD7N,EAAG,CACD4N,EAAGiB,EACHhB,EAAGiB,GAEL/O,EAAG,CACD6N,EAAG+E,EACH9E,EAAG+E,GAEL7D,MAAO,CACLnB,EAAG4B,EACH3B,EAAG4B,GAELiI,IAAK,CACH9J,EAAGwC,EACHvC,EAAGwC,GAELmH,MAAK,EAET,EAEMG,GAAc,SAAUC,EAAMC,EAAMC,GACxC,IAAMtB,EAAQE,GAAWkB,GACnBnB,EAAQC,GAAWmB,GACzB,IAAKtB,GAAgBC,EAAOC,GAC1B,OAAOqB,EAAY,EAAI,GAUzB,IARA,IAAMC,EAAK5D,GAAOlR,MAAM,EAAG2U,GACrBI,EAAK7D,GAAOlR,MAAM,EAAG4U,GACrBI,KAAQF,EAAK,GACbG,KAAQF,EAAK,GACbG,EAAQ,GACRC,EAAQ,GACRnI,EAAK,GACPhC,EAAM6J,EAAY,EAAI,GACjBrd,EAAI,EAAGA,EAAIwd,EAAK,EAAGxd,IAAK,CAC/B,IAAMiT,EAAIyJ,GAAkBlU,MAAM,EAAG2U,EAAK7b,OAAOtB,EAAIwd,IACrDE,EAAMxe,KAAK,CACTiU,EAAGF,EAAEE,EACLC,EAAGH,EAAEG,EACLV,EAAG1S,EAAIwd,G,CAGX,IAASxd,EAAI,EAAGA,EAAIyd,EAAK,EAAGzd,IAAK,CACzBiT,EAAIyJ,GAAkBlU,MAAM,EAAG4U,EAAK9b,OAAOtB,EAAIyd,IACrDE,EAAMze,KAAK,CACTiU,EAAGF,EAAEE,EACLC,EAAGH,EAAEG,EACLV,EAAG1S,EAAIyd,G,CAGX,IAASzd,EAAI,EAAGA,EAAIwd,EAAIxd,IACtB,IAAK,IAAIsD,EAAI,EAAGA,EAAIma,EAAIna,IAAK,CAC3B,IAAMsa,EAAKF,EAAM1d,GACX6d,EAAMH,EAAM1d,EAAI,GAChB8d,EAAKH,EAAMra,GACXya,EAAMJ,EAAMra,EAAI,GAChB0a,EAAKtc,KAAK0D,IAAIyY,EAAI1K,EAAIyK,EAAGzK,GAAK,KAAQ,IAAM,IAC5C8K,EAAKvc,KAAK0D,IAAI2Y,EAAI5K,EAAI2K,EAAG3K,GAAK,KAAQ,IAAM,IAC5C+K,EAAKlD,GAAU4C,EAAGzK,EAAGyK,EAAGxK,EAAGyK,EAAI1K,EAAG0K,EAAIzK,EAAG0K,EAAG3K,EAAG2K,EAAG1K,EAAG2K,EAAI5K,EAAG4K,EAAI3K,GACtE,GAAI8K,EAAI,CACN,GAAI1I,EAAG0I,EAAG/K,EAAEvO,QAAQ,MAAQsZ,EAAG9K,EAAExO,QAAQ,GACvC,SAEF4Q,EAAG0I,EAAG/K,EAAEvO,QAAQ,IAAMsZ,EAAG9K,EAAExO,QAAQ,GACnC,IAAM4U,EAAKoE,EAAGlL,EAAIhR,KAAK0D,KAAK8Y,EAAGF,GAAMJ,EAAGI,KAAQH,EAAIG,GAAMJ,EAAGI,MAASH,EAAInL,EAAIkL,EAAGlL,GAC3E+G,EAAKqE,EAAGpL,EAAIhR,KAAK0D,KAAK8Y,EAAGD,GAAMH,EAAGG,KAAQF,EAAIE,GAAMH,EAAGG,MAASF,EAAIrL,EAAIoL,EAAGpL,GAC7E8G,GAAM,GAAKA,GAAM,GAAKC,GAAM,GAAKA,GAAM,IACrC4D,EAEF7J,GAAO,EAGPA,EAAItU,KAAK,CACPiU,EAAG+K,EAAG/K,EACNC,EAAG8K,EAAG9K,EACNoG,GAAE,EACFC,GAAE,I,EAOd,OAAOjG,CACT,EAEM2K,GAAkB,SAAUxF,EAAOrB,EAAO+F,GAG9C,IAAI3J,EACAG,EACAD,EACAG,EACAqK,EACAC,EACAC,EACAC,EACApB,EACAC,EAXJzE,EAAQtB,GAAYsB,GACpBrB,EAAQD,GAAYC,GAYpB,IADA,IAAI9D,EAAM6J,EAAY,EAAI,GACjBrd,EAAI,EAAGyU,EAAKkE,EAAMlb,OAAQuC,EAAIyU,EAAIzU,IAAK,CAC9C,IAAMyY,EAAKE,EAAM3Y,GACjB,GAAc,MAAVyY,EAAG,GACL/E,EAAK0K,EAAM3F,EAAG,GACd5E,EAAKwK,EAAM5F,EAAG,OACT,CACS,MAAVA,EAAG,IACL0E,EAAO,CAACzJ,EAAIG,GAAIvS,OAAOmX,EAAGxS,MAAM,IAChCyN,EAAKyJ,EAAK,GACVtJ,EAAKsJ,EAAK,KAEVA,EAAO,CAACzJ,EAAIG,EAAIH,EAAIG,EAAIuK,EAAKC,EAAKD,EAAKC,GACvC3K,EAAK0K,EACLvK,EAAKwK,GAEP,IAAK,IAAI/a,EAAI,EAAGoR,EAAK4C,EAAM7Z,OAAQ6F,EAAIoR,EAAIpR,IAAK,CAC9C,IAAMkb,EAAKlH,EAAMhU,GACjB,GAAc,MAAVkb,EAAG,GACL5K,EAAK0K,EAAME,EAAG,GACdzK,EAAKwK,EAAMC,EAAG,OACT,CACS,MAAVA,EAAG,IACLpB,EAAO,CAACxJ,EAAIG,GAAIzS,OAAOkd,EAAGvY,MAAM,IAChC2N,EAAKwJ,EAAK,GACVrJ,EAAKqJ,EAAK,KAEVA,EAAO,CAACxJ,EAAIG,EAAIH,EAAIG,EAAIuK,EAAKC,EAAKD,EAAKC,GACvC3K,EAAK0K,EACLvK,EAAKwK,GAEP,IAAME,EAAOvB,GAAYC,EAAMC,EAAMC,GACrC,GAAIA,EAEF7J,GAAOiL,MACF,CAEL,IAAK,IAAIte,EAAI,EAAGyU,EAAK6J,EAAKhhB,OAAQ0C,EAAIyU,EAAIzU,IACxCse,EAAKte,GAAGue,SAAW1e,EACnBye,EAAKte,GAAGwe,SAAWrb,EACnBmb,EAAKte,GAAGgd,KAAOA,EACfsB,EAAKte,GAAGid,KAAOA,EAGjB5J,EAAMA,EAAIlS,OAAOmd,E,KAM3B,OAAOjL,CACT,EAEMoL,GAAe,SAAUjG,EAAOrB,GACpC,OAAO6G,GAAgBxF,EAAOrB,EAChC,EAEA,SAASuH,GAAYC,EAAQpM,GAC3B,IAAMqM,EAAO,GACPC,EAAQ,GAEd,SAASC,EAAQH,EAAQpM,GACvB,GAAsB,IAAlBoM,EAAOrhB,OACTshB,EAAK7f,KAAK4f,EAAO,IACjBE,EAAM9f,KAAK4f,EAAO,QACb,CAEL,IADA,IAAMI,EAAe,GACZlf,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAS,EAAGuC,IAC3B,IAANA,GACF+e,EAAK7f,KAAK4f,EAAO,IAEf9e,IAAM8e,EAAOrhB,OAAS,GACxBuhB,EAAM9f,KAAK4f,EAAO9e,EAAI,IAExBkf,EAAalf,GAAK,EACf,EAAI0S,GAAKoM,EAAO9e,GAAG,GAAK0S,EAAIoM,EAAO9e,EAAI,GAAG,IAC1C,EAAI0S,GAAKoM,EAAO9e,GAAG,GAAK0S,EAAIoM,EAAO9e,EAAI,GAAG,IAG/Cif,EAAQC,EAAcxM,E,CAE1B,CAIA,OAHIoM,EAAOrhB,QACTwhB,EAAQH,EAAQpM,GAEX,CAAEqM,KAAI,EAAEC,MAAOA,EAAMG,UAC9B,CAEA,SAASC,GAAW9K,EAAO2I,EAAKoC,GAC9B,IAAMP,EAAS,CAAC,CAACxK,EAAM,GAAIA,EAAM,KACjC+K,EAAQA,GAAS,EACjB,IAAMC,EAAW,GACF,MAAXrC,EAAI,IACN6B,EAAO5f,KAAK+d,EAAI,IAChB6B,EAAO5f,KAAK+d,EAAI,KACI,MAAXA,EAAI,IACb6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,KACzB6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,KACzB6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,MACL,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IAC/B6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,KACzB6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,MAEzB6B,EAAO5f,KAAK,CAAC+d,EAAI,GAAIA,EAAI,KAM3B,IAHA,IAAIsC,EAAeT,EACbpM,EAAI,EAAI2M,EAELrf,EAAI,EAAGA,EAAIqf,EAAQ,EAAGrf,IAAK,CAClC,IAAMwf,EAAK9M,GAAK,EAAIA,EAAI1S,GAClBiE,EAAQ4a,GAAYU,EAAcC,GACxCF,EAASpgB,KAAK+E,EAAM8a,MACpBQ,EAAetb,EAAM+a,K,CAEvBM,EAASpgB,KAAKqgB,GACd,IAAMtgB,EAASqgB,EAASzV,KAAI,SAAC4V,GAC3B,IAAIC,EAAM,GAeV,OAduB,IAAnBD,EAAQhiB,SACViiB,EAAIxgB,KAAK,KACTwgB,EAAMA,EAAIpe,OAAOme,EAAQ,KAEvBA,EAAQhiB,QAAU,IACG,IAAnBgiB,EAAQhiB,QACViiB,EAAIxgB,KAAK,KAEXwgB,EAAMA,EAAIpe,OAAOme,EAAQ,KAEJ,IAAnBA,EAAQhiB,QACViiB,EAAIxgB,KAAK,KAEXwgB,EAAMA,EAAIpe,OAAOme,EAAQA,EAAQhiB,OAAS,IACnCiiB,CACT,IACA,OAAOzgB,CACT,CAEA,IAAM0gB,GAAe,SAAUrL,EAAO2I,EAAKoC,GACzC,GAAc,IAAVA,EACF,MAAO,CAAC,GAAG/d,OAAOgT,IAEpB,IAAIgL,EAAW,GACf,GAAe,MAAXrC,EAAI,IAAyB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GAC1CqC,EAAWA,EAAShe,OAAO8d,GAAW9K,EAAO2I,EAAKoC,QAC7C,CACL,IAAMO,EAAO,GAAGte,OAAOgT,GACP,MAAZsL,EAAK,KACPA,EAAK,GAAK,KAEZ,IAAK,IAAI5f,EAAI,EAAGA,GAAKqf,EAAQ,EAAGrf,IAC9Bsf,EAASpgB,KAAK0gB,E,CAGlB,OAAON,CACT,EAEMO,GAAW,SAAUC,EAAQjjB,GACjC,GAAsB,IAAlBijB,EAAOriB,OACT,OAAOqiB,EAET,IAAMC,EAAYD,EAAOriB,OAAS,EAC5BuiB,EAAYnjB,EAAOY,OAAS,EAC5BwiB,EAAQF,EAAYC,EACpBE,EAAiB,GACvB,GAAsB,IAAlBJ,EAAOriB,QAAiC,MAAjBqiB,EAAO,GAAG,GAAY,CAC/C,IAAK,IAAI9f,EAAI,EAAGA,EAAIggB,EAAYD,EAAW/f,IACzC8f,EAAO5gB,KAAK4gB,EAAO,IAErB,OAAOA,C,CAET,IAAS9f,EAAI,EAAGA,EAAIggB,EAAWhgB,IAAK,CAClC,IAAM5C,EAAQsE,KAAKye,MAAMF,EAAQjgB,GACjCkgB,EAAe9iB,IAAU8iB,EAAe9iB,IAAU,GAAK,C,CAEzD,IAAMgjB,EAASF,EAAe3e,QAAO,SAAC6e,EAAQf,EAAOrf,GACnD,OAAIA,IAAM+f,EACDK,EAAO9e,OAAOwe,EAAOC,IAEvBK,EAAO9e,OAAOqe,GAAaG,EAAO9f,GAAI8f,EAAO9f,EAAI,GAAIqf,GAC9D,GAAG,IAKH,OAJAe,EAAOC,QAAQP,EAAO,IACI,MAAtBjjB,EAAOmjB,IAA4C,MAAtBnjB,EAAOmjB,IACtCI,EAAOlhB,KAAK,KAEPkhB,CACT,EAEM5W,GAAU,SAAU8W,EAAMC,GAC9B,GAAID,EAAK7iB,SAAW8iB,EAAK9iB,OACvB,OAAO,EAET,IAAIwB,GAAS,EAOb,OANAY,EAAKygB,GAAM,SAACnjB,EAAM6C,GAChB,GAAI7C,IAASojB,EAAKvgB,GAEhB,OADAf,GAAS,GACF,CAEX,IACOA,CACT,EACA,SAASuhB,GAAWC,EAAKC,EAAKC,GAC5B,IAAIphB,EAAO,KACPqC,EAAM+e,EASV,OARID,EAAM9e,IACRA,EAAM8e,EACNnhB,EAAO,OAELkhB,EAAM7e,IACRA,EAAM6e,EACNlhB,EAAO,OAEF,CACLA,KAAI,EACJqC,IAAG,EAEP,CAMA,IAAMgf,GAAsB,SAAUd,EAAQjjB,GAC5C,IAEIgkB,EACAC,EAHEf,EAAYD,EAAOriB,OACnBuiB,EAAYnjB,EAAOY,OAGrBmiB,EAAO,EACX,GAAkB,IAAdG,GAAiC,IAAdC,EACrB,OAAO,KAGT,IADA,IAAM/W,EAAO,GACJjJ,EAAI,EAAGA,GAAK+f,EAAW/f,IAC9BiJ,EAAKjJ,GAAK,GACViJ,EAAKjJ,GAAG,GAAK,CAAE4B,IAAK5B,GAEtB,IAAK,IAAIsD,EAAI,EAAGA,GAAK0c,EAAW1c,IAC9B2F,EAAK,GAAG3F,GAAK,CAAE1B,IAAK0B,GAGtB,IAAStD,EAAI,EAAGA,GAAK+f,EAAW/f,IAAK,CACnC6gB,EAAgBf,EAAO9f,EAAI,GAC3B,IAASsD,EAAI,EAAGA,GAAK0c,EAAW1c,IAAK,CACnCwd,EAAgBjkB,EAAOyG,EAAI,GAEzBsc,EADEpW,GAAQqX,EAAeC,GAClB,EAEA,EAET,IAAML,EAAMxX,EAAKjJ,EAAI,GAAGsD,GAAG1B,IAAM,EAC3B8e,EAAMzX,EAAKjJ,GAAGsD,EAAI,GAAG1B,IAAM,EAC3B+e,EAAS1X,EAAKjJ,EAAI,GAAGsD,EAAI,GAAG1B,IAAMge,EACxC3W,EAAKjJ,GAAGsD,GAAKkd,GAAWC,EAAKC,EAAKC,E,EAGtC,OAAO1X,CACT,EAEM8X,GAAiB,SAAUjB,EAAQjjB,GACvC,IAAMmkB,EAAaJ,GAAoBd,EAAQjjB,GAC3CkjB,EAAYD,EAAOriB,OACjBuiB,EAAYnjB,EAAOY,OACnBwjB,EAAU,GACZ7jB,EAAQ,EACR8jB,EAAS,EAEb,GAAIF,EAAWjB,GAAWC,GAAWpe,MAAQme,EAAW,CAEtD,IAAK,IAAI/f,EAAI,EAAGA,GAAK+f,EAAW/f,IAAK,CACnC,IAAI4B,EAAMof,EAAWhhB,GAAGA,GAAG4B,IAC3Bsf,EAASlhB,EACT,IAAK,IAAIsD,EAAIlG,EAAOkG,GAAK0c,EAAW1c,IAC9B0d,EAAWhhB,GAAGsD,GAAG1B,IAAMA,IACzBA,EAAMof,EAAWhhB,GAAGsD,GAAG1B,IACvBsf,EAAS5d,GAGblG,EAAQ8jB,EACJF,EAAWhhB,GAAG5C,GAAOmC,MACvB0hB,EAAQ/hB,KAAK,CAAE9B,MAAO4C,EAAI,EAAGT,KAAMyhB,EAAWhhB,GAAG5C,GAAOmC,M,CAI5D,IAASS,EAAIihB,EAAQxjB,OAAS,EAAGuC,GAAK,EAAGA,IACvC5C,EAAQ6jB,EAAQjhB,GAAG5C,MACK,QAApB6jB,EAAQjhB,GAAGT,KACbugB,EAAOxd,OAAOlF,EAAO,EAAG,GAAGkE,OAAOwe,EAAO1iB,KAEzC0iB,EAAOxd,OAAOlF,EAAO,E,CAK3B2iB,EAAYD,EAAOriB,OACnB,IAAM0jB,EAAOnB,EAAYD,EACzB,GAAIA,EAAYC,EACd,IAAShgB,EAAI,EAAGA,EAAImhB,EAAMnhB,IACS,MAA7B8f,EAAOC,EAAY,GAAG,IAA2C,MAA7BD,EAAOC,EAAY,GAAG,GAC5DD,EAAOxd,OAAOyd,EAAY,EAAG,EAAGD,EAAOC,EAAY,IAEnDD,EAAO5gB,KAAK4gB,EAAOC,EAAY,IAEjCA,GAAa,EAGjB,OAAOD,CACT,EAGA,SAASsB,GAAatC,EAAQuC,EAAQhC,GAKpC,IAJA,IACIjiB,EADE6B,EAAS,GAAGqC,OAAOwd,GAErBpM,EAAI,GAAK2M,EAAQ,GACfiC,EAAYC,GAAkBF,GAAQ,GACnCrhB,EAAI,EAAGA,GAAKqf,EAAOrf,IAC1B0S,GAAK1S,EACL5C,EAAQsE,KAAKye,MAAMrB,EAAOrhB,OAASiV,GACrB,IAAVtV,EACF6B,EAAOohB,QAAQ,CAACiB,EAAU,GAAK5O,EAAIoM,EAAO1hB,GAAO,IAAM,EAAIsV,GAAI4O,EAAU,GAAK5O,EAAIoM,EAAO1hB,GAAO,IAAM,EAAIsV,KAE1GzT,EAAOqD,OAAOlF,EAAO,EAAG,CACtBkkB,EAAU,GAAK5O,EAAIoM,EAAO1hB,GAAO,IAAM,EAAIsV,GAC3C4O,EAAU,GAAK5O,EAAIoM,EAAO1hB,GAAO,IAAM,EAAIsV,KAIjD,OAAOzT,CACT,CAQA,SAASsiB,GAAkB9B,GACzB,IAAMX,EAAS,GACf,OAAQW,EAAQ,IACd,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjCX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjCX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjCX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjCX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,IAAK,IACHX,EAAO5f,KAAK,CAACugB,EAAQ,GAAIA,EAAQ,KACjC,MACF,SAEF,OAAOX,CACT,CAEA,IAAM0C,GAAa,SAAUC,EAAUC,GACrC,GAAID,EAAShkB,QAAU,EACrB,OAAOgkB,EAGT,IADA,IAAI3C,EACK9e,EAAI,EAAGA,EAAI0hB,EAAOjkB,OAAQuC,IACjC,GAAIyhB,EAASzhB,GAAG,KAAO0hB,EAAO1hB,GAAG,GAG/B,OADA8e,EAASyC,GAAkBE,EAASzhB,IAC5B0hB,EAAO1hB,GAAG,IAChB,IAAK,IACHyhB,EAASzhB,GAAK,CAAC,KAAKsB,OAAOwd,EAAO,IAClC,MACF,IAAK,IACH2C,EAASzhB,GAAK,CAAC,KAAKsB,OAAOwd,EAAO,IAClC,MACF,IAAK,IACH2C,EAASzhB,GAAK,GAAGsB,OAAOogB,EAAO1hB,IAC/ByhB,EAASzhB,GAAG,GAAK8e,EAAO,GAAG,GAC3B2C,EAASzhB,GAAG,GAAK8e,EAAO,GAAG,GAC3B,MACF,IAAK,IACH,GAAIA,EAAOrhB,OAAS,EAAG,CACrB,KAAIuC,EAAI,GAED,CACLyhB,EAASzhB,GAAK0hB,EAAO1hB,GACrB,K,CAHA8e,EAASsC,GAAatC,EAAQ2C,EAASzhB,EAAI,GAAI,E,CAMnDyhB,EAASzhB,GAAK,CAAC,KAAKsB,OAClBwd,EAAOvd,QAAO,SAAC1C,EAAKmB,GAClB,OAAOnB,EAAIyC,OAAOtB,EACpB,GAAG,KAEL,MACF,IAAK,IACHyhB,EAASzhB,GAAK,CAAC,KAAKsB,OAAOwd,EAAO,IAClC,MACF,IAAK,IACH,GAAIA,EAAOrhB,OAAS,EAAG,CACrB,KAAIuC,EAAI,GAED,CACLyhB,EAASzhB,GAAK0hB,EAAO1hB,GACrB,K,CAHA8e,EAASsC,GAAatC,EAAQ2C,EAASzhB,EAAI,GAAI,E,CAMnDyhB,EAASzhB,GAAK,CAAC,KAAKsB,OAClBwd,EAAOvd,QAAO,SAAC1C,EAAKmB,GAClB,OAAOnB,EAAIyC,OAAOtB,EACpB,GAAG,KAEL,MACF,IAAK,IACH,GAAI8e,EAAOrhB,OAAS,EAAG,CACrB,KAAIuC,EAAI,GAED,CACLyhB,EAASzhB,GAAK0hB,EAAO1hB,GACrB,K,CAHA8e,EAASsC,GAAatC,EAAQ2C,EAASzhB,EAAI,GAAI,E,CAMnDyhB,EAASzhB,GAAK,CAAC,KAAKsB,OAClBwd,EAAOvd,QAAO,SAAC1C,EAAKmB,GAClB,OAAOnB,EAAIyC,OAAOtB,EACpB,GAAG,KAEL,MACF,QACEyhB,EAASzhB,GAAK0hB,EAAO1hB,GAI7B,OAAOyhB,CACT,EC50CA,cAiGE,WAAYliB,EAAMoiB,GA9DlB,cAAmB,EAKnB,YAAsB,KAKtB,mBAA6B,KAK7B,oBAA8B,KAK9B,oBAAyB,KAKzB,uBAA4B,EAK5B,yBAA8B,EAK9B,WAAgB,KAKhB,eAAoB,KAKpB,aAAkB,KAelB,qBAAyB,GAGvB,KAAKpiB,KAAOA,EACZ,KAAKpE,KAAOoE,EACZ,KAAKqiB,cAAgBD,EACrB,KAAKE,UAAYF,EAAME,SACzB,CA2BF,OAtBEC,EAAAA,UAAAA,eAAA,WACE,KAAKC,kBAAmB,EACpB,KAAKH,cAAcI,gBACrB,KAAKJ,cAAcI,gBAEvB,EAKAF,EAAAA,UAAAA,gBAAA,WACE,KAAKG,oBAAqB,CAC5B,EAEAH,EAAAA,UAAAA,SAAA,WACE,IAAMviB,EAAO,KAAKA,KAClB,MAAO,gBAAgBA,EAAI,IAC7B,EAEAuiB,EAAAA,UAAAA,KAAA,WAAQ,EAERA,EAAAA,UAAAA,QAAA,WAAW,EACb,EAjIA,GAmIA,MCrIM,SAAUI,GAAgBrjB,EAAY0B,GAC1C,IAAMnD,EAAQyB,EAAIC,QAAQyB,IACX,IAAXnD,GACFyB,EAAIyD,OAAOlF,EAAO,EAEtB,CAEO,IAAM+kB,GAA8B,qBAAXhb,QAAqD,qBAApBA,OAAO6E,SAIlE,SAAUoW,GAASjT,EAAWkT,GAElC,GAAIlT,EAAUmT,WACZ,OAAO,EAET,IAAI5R,EAAS2R,EAAME,YACfH,GAAW,EACf,MAAO1R,EAAQ,CACb,GAAIA,IAAWvB,EAAW,CACxBiT,GAAW,EACX,K,CAEF1R,EAASA,EAAO6R,W,CAElB,OAAOH,CACT,CAEM,SAAUI,GAAeC,GAE7B,OAAOA,EAAQjR,IAAIE,SAAW+Q,EAAQjR,IAAIkR,OAC5C,CC5BA,mBAsBE,WAAYlR,GAAZ,MACEC,EAAAA,KAAAA,OAAO,KAZTH,EAAAA,WAAqB,EAanB,IAAMqR,EAAarR,EAAKsR,gB,OACxBtR,EAAKE,IAAMtH,GAAIyY,EAAYnR,G,CAC7B,CAmBF,OA7C4BG,EAAAA,EAAAA,IAAAA,EAAAA,GAkB1BC,EAAAA,UAAAA,cAAA,WACE,MAAO,EACT,EASAA,EAAAA,UAAAA,IAAA,SAAIzW,GACF,OAAO,KAAKqW,IAAIrW,EAClB,EAEAyW,EAAAA,UAAAA,IAAA,SAAIzW,EAAME,GACR,KAAKmW,IAAIrW,GAAQE,CACnB,EAGAuW,EAAAA,UAAAA,QAAA,WACE,KAAKJ,IAAM,CACTO,WAAW,GAEb,KAAKD,MACL,KAAKC,WAAY,CACnB,EACF,EA7CA,CAA4BC,IA+C5B,M,YCnDI6Q,GAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArB1a,UAAU7K,OAAc,IAAK,IAA4BwlB,EAAxBjjB,EAAI,EAAGoE,EAAI2e,EAAKtlB,OAAYuC,EAAIoE,EAAGpE,KACxEijB,GAAQjjB,KAAK+iB,IACRE,IAAIA,EAAKtjB,MAAM0C,UAAU4D,MAAMzG,KAAKujB,EAAM,EAAG/iB,IAClDijB,EAAGjjB,GAAK+iB,EAAK/iB,IAGrB,OAAO8iB,EAAGxhB,OAAO2hB,GAAMtjB,MAAM0C,UAAU4D,MAAMzG,KAAKujB,GACtD,EACIG,GAA6B,WAC7B,SAASA,EAAY/nB,EAAMgoB,EAASC,GAChC7oB,KAAKY,KAAOA,EACZZ,KAAK4oB,QAAUA,EACf5oB,KAAK6oB,GAAKA,EACV7oB,KAAKgF,KAAO,SAChB,CACA,OAAO2jB,CACX,CARiC,GAU7BG,GAA0B,WAC1B,SAASA,EAASF,GACd5oB,KAAK4oB,QAAUA,EACf5oB,KAAKgF,KAAO,OACZhF,KAAKY,KAAO,OACZZ,KAAK6oB,GAAKE,GAAQC,QACtB,CACA,OAAOF,CACX,CAR8B,GAU1BG,GAAqC,WACrC,SAASA,EAAoBroB,EAAMgoB,EAASC,EAAIK,GAC5ClpB,KAAKY,KAAOA,EACZZ,KAAK4oB,QAAUA,EACf5oB,KAAK6oB,GAAKA,EACV7oB,KAAKkpB,IAAMA,EACXlpB,KAAKgF,KAAO,YAChB,CACA,OAAOikB,CACX,CATyC,GAWrCE,GAAyB,WACzB,SAASA,IACLnpB,KAAKgF,KAAO,MACZhF,KAAKkpB,KAAM,EACXlpB,KAAKY,KAAO,MACZZ,KAAK4oB,QAAU,KACf5oB,KAAK6oB,GAAK,IACd,CACA,OAAOM,CACX,CAT6B,GAWzBC,GAAiC,WACjC,SAASA,IACLppB,KAAKgF,KAAO,eACZhF,KAAKY,KAAO,eACZZ,KAAK4oB,QAAU,KACf5oB,KAAK6oB,GAAK,IACd,CACA,OAAOO,CACX,CARqC,GAWjCC,GAAqB,+HACrBC,GAAqB,qFACrBC,GAAyB,EACzBC,GAAiB,CACjB,CAAC,MAAO,0BACR,CAAC,OAAQ,qBACT,CAAC,WAAY,uBACb,CAAC,gBAAiB,0BAClB,CAAC,YAAa,yBACd,CAAC,UAAW,8BACZ,CAAC,OAAQ,yBACT,CAAC,OAAQ,4BACT,CAAC,SAAU,6BACX,CAAC,gBAAiB,qBAClB,CACI,mBACA,0DAEJ,CAAC,SAAU,oDACX,CAAC,YAAa,iCACd,CAAC,QAAS,6BACV,CAAC,UAAW,+BACZ,CAAC,QAAS,qBACV,CAAC,aAAc,mCACf,CAAC,QAAS,6BACV,CAAC,QAAS,2BACV,CAAC,MAAO,oDACR,CAAC,MAAO,iGACR,CAAC,WAAY,wCACb,CAAC,KAAM,6CACP,CAAC,KAAM,uCACP,CAAC,KAAM,gBACP,CAAC,OAAQ,qCACT,CAAC,UAAW,uBACZ,CAAC,MAAO,0CACR,CAAC,SAAU,gCACX,CAAC,WAAY,uBACb,CAAC,YAAa,yBACd,CAAC,cAAe,mCAChB,CAAC,cAAe,qCAChB,CAAC,OAAQ,sBACT,CAAC,YAAaH,KAEdI,GAAuB,CACvB,CAAC,MAAO,kBACR,CAAC,aAAc,WACf,CAAC,gBAAiB,mBAClB,CAAC,iBAAkB,YACnB,CAAC,YAAa,UACd,CAAC,eAAgB,SACjB,CAAC,aAAc,qCACf,CAAC,aAAc,wBACf,CAAC,eAAgB,mCACjB,CAAC,aAAc,iCACf,CAAC,sBAAuB,oBACxB,CAAC,gBAAiB,oBAClB,CAAC,YAAa,oBACd,CAAC,YAAa,oBACd,CAAC,cAAe,oBAChB,CAAC,aAAc,qBACf,CAAC,aAAc,cACf,CAAC,aAAc,uDACf,CAAC,WAAY,WACb,CAAC,SAAU,SACX,CAAC,YAAa,QACd,CAAC,QAAS,iBACV,CAAC,SAAU,6BACX,CAAC,MAAO,OACR,CAAC,OAAQ,QACT,CAAC,OAAQ,UAEN,SAASC,GAAOC,GACnB,OAAMA,EACKC,GAAeD,GAEF,qBAAblY,UACc,qBAAdoY,WACe,gBAAtBA,UAAUC,QACH,IAAIV,GAEU,qBAAdS,UACAD,GAAeC,UAAUF,WAE7BI,IACX,CACA,SAASC,GAAeC,GAKpB,MAAe,KAAPA,GACJT,GAAexiB,QAAO,SAAUkjB,EAASC,GACrC,IAAIC,EAAUD,EAAG,GAAIE,EAAQF,EAAG,GAChC,GAAID,EACA,OAAOA,EAEX,IAAII,EAAUD,EAAME,KAAKN,GACzB,QAASK,GAAW,CAACF,EAASE,EAClC,IAAG,EACX,CAKO,SAASV,GAAeK,GAC3B,IAAIO,EAAcR,GAAeC,GACjC,IAAKO,EACD,OAAO,KAEX,IAAI5pB,EAAO4pB,EAAY,GAAIhf,EAAQgf,EAAY,GAC/C,GAAa,cAAT5pB,EACA,OAAO,IAAIuoB,GAGf,IAAIsB,EAAejf,EAAM,IAAMA,EAAM,GAAG9B,MAAM,KAAKmI,KAAK,KAAKnI,MAAM,KAAKgC,MAAM,EAAG,GAC7E+e,EACIA,EAAavnB,OAASqmB,KACtBkB,EAAenC,GAAcA,GAAc,GAAImC,GAAc,GAAOC,GAAmBnB,GAAyBkB,EAAavnB,SAAS,IAI1IunB,EAAe,GAEnB,IAAI7B,EAAU6B,EAAa5Y,KAAK,KAC5BgX,EAAK8B,GAASV,GACdW,EAAiBtB,GAAmBiB,KAAKN,GAC7C,OAAIW,GAAkBA,EAAe,GAC1B,IAAI3B,GAAoBroB,EAAMgoB,EAASC,EAAI+B,EAAe,IAE9D,IAAIjC,GAAY/nB,EAAMgoB,EAASC,EAC1C,CACO,SAAS8B,GAASV,GACrB,IAAK,IAAI/P,EAAK,EAAG4K,EAAQ2E,GAAqBvmB,OAAQgX,EAAK4K,EAAO5K,IAAM,CACpE,IAAIiQ,EAAKV,GAAqBvP,GAAK2O,EAAKsB,EAAG,GAAIE,EAAQF,EAAG,GACtD3e,EAAQ6e,EAAME,KAAKN,GACvB,GAAIze,EACA,OAAOqd,CAEf,CACA,OAAO,IACX,CACO,SAASkB,KACZ,IAAIc,EAA4B,qBAAZ9B,IAA2BA,GAAQH,QACvD,OAAOiC,EAAS,IAAI/B,GAASC,GAAQH,QAAQld,MAAM,IAAM,IAC7D,CACA,SAASgf,GAAmB5F,GAExB,IADA,IAAIgG,EAAS,GACJ5Q,EAAK,EAAGA,EAAK4K,EAAO5K,IACzB4Q,EAAOnmB,KAAK,KAEhB,OAAOmmB,CACX,C,kBCPO,SAASC,GAAOC,EAAKrkB,GAC1B,IAAIskB,EAAMtkB,EAAE,GACRukB,EAAMvkB,EAAE,GACRwkB,EAAMxkB,EAAE,GACRykB,EAAMzkB,EAAE,GACR0kB,EAAM1kB,EAAE,GACR2kB,EAAM3kB,EAAE,GACR4kB,EAAM5kB,EAAE,GACR6kB,EAAM7kB,EAAE,GACR8kB,EAAM9kB,EAAE,GACR+kB,EAAMD,EAAMJ,EAAMC,EAAME,EACxBG,GAAOF,EAAML,EAAME,EAAMC,EACzBK,EAAMJ,EAAMJ,EAAMC,EAAME,EAExBM,EAAMZ,EAAMS,EAAMR,EAAMS,EAAMR,EAAMS,EAExC,OAAKC,GAILA,EAAM,EAAMA,EACZb,EAAI,GAAKU,EAAMG,EACfb,EAAI,KAAOS,EAAMP,EAAMC,EAAMK,GAAOK,EACpCb,EAAI,IAAMM,EAAMJ,EAAMC,EAAME,GAAOQ,EACnCb,EAAI,GAAKW,EAAME,EACfb,EAAI,IAAMS,EAAMR,EAAME,EAAMI,GAAOM,EACnCb,EAAI,KAAOM,EAAML,EAAME,EAAMC,GAAOS,EACpCb,EAAI,GAAKY,EAAMC,EACfb,EAAI,KAAOQ,EAAMP,EAAMC,EAAMK,GAAOM,EACpCb,EAAI,IAAMK,EAAMJ,EAAMC,EAAME,GAAOS,EAC5Bb,GAbE,IAcX,CA0DO,SAASc,GAASd,EAAKrkB,EAAGgE,GAC/B,IAAIsgB,EAAMtkB,EAAE,GACRukB,EAAMvkB,EAAE,GACRwkB,EAAMxkB,EAAE,GACRykB,EAAMzkB,EAAE,GACR0kB,EAAM1kB,EAAE,GACR2kB,EAAM3kB,EAAE,GACR4kB,EAAM5kB,EAAE,GACR6kB,EAAM7kB,EAAE,GACR8kB,EAAM9kB,EAAE,GACRolB,EAAMphB,EAAE,GACR+gB,EAAM/gB,EAAE,GACRqhB,EAAMrhB,EAAE,GACRshB,EAAMthB,EAAE,GACRghB,EAAMhhB,EAAE,GACRuhB,EAAMvhB,EAAE,GACRwhB,EAAMxhB,EAAE,GACRihB,EAAMjhB,EAAE,GACRyhB,EAAMzhB,EAAE,GAUZ,OATAqgB,EAAI,GAAKe,EAAMd,EAAMS,EAAMN,EAAMY,EAAMT,EACvCP,EAAI,GAAKe,EAAMb,EAAMQ,EAAML,EAAMW,EAAMR,EACvCR,EAAI,GAAKe,EAAMZ,EAAMO,EAAMJ,EAAMU,EAAMP,EACvCT,EAAI,GAAKiB,EAAMhB,EAAMU,EAAMP,EAAMc,EAAMX,EACvCP,EAAI,GAAKiB,EAAMf,EAAMS,EAAMN,EAAMa,EAAMV,EACvCR,EAAI,GAAKiB,EAAMd,EAAMQ,EAAML,EAAMY,EAAMT,EACvCT,EAAI,GAAKmB,EAAMlB,EAAMW,EAAMR,EAAMgB,EAAMb,EACvCP,EAAI,GAAKmB,EAAMjB,EAAMU,EAAMP,EAAMe,EAAMZ,EACvCR,EAAI,GAAKmB,EAAMhB,EAAMS,EAAMN,EAAMc,EAAMX,EAChCT,CACT,CAoGO,SAASqB,GAAgBrB,EAAKxjB,GAUnC,OATAwjB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKxjB,EAAE,GACXwjB,EAAI,GAAKxjB,EAAE,GACXwjB,EAAI,GAAK,EACFA,CACT,CAaO,SAASsB,GAAatB,EAAK9R,GAChC,IAAIhB,EAAI/Q,KAAKoS,IAAIL,GACblB,EAAI7Q,KAAKiS,IAAIF,GAUjB,OATA8R,EAAI,GAAKhT,EACTgT,EAAI,GAAK9S,EACT8S,EAAI,GAAK,EACTA,EAAI,IAAM9S,EACV8S,EAAI,GAAKhT,EACTgT,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CAaO,SAASuB,GAAYvB,EAAKxjB,GAU/B,OATAwjB,EAAI,GAAKxjB,EAAE,GACXwjB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKxjB,EAAE,GACXwjB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,CACT,CA8RO,IC7vBIwB,GAAqC,qBAAjBC,aAA+BA,aAAernB,MACzD+B,KAAKulB,OAUZvlB,KAAK+D,GCLX,SAASyhB,KACd,IAAI3B,EAAM,IAAI4B,GAAoB,GAOlC,OALIA,IAAuBH,eACzBzB,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,CACT,CAgEO,SAAS7E,GAAI6E,EAAKrkB,EAAGgE,GAG1B,OAFAqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EAAE,GAClBqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EAAE,GACXqgB,CACT,CAUO,SAAS6B,GAAS7B,EAAKrkB,EAAGgE,GAG/B,OAFAqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EAAE,GAClBqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EAAE,GACXqgB,CACT,CAgEO,SAAS3jB,GAAI2jB,EAAKrkB,EAAGgE,GAG1B,OAFAqgB,EAAI,GAAK7jB,KAAKE,IAAIV,EAAE,GAAIgE,EAAE,IAC1BqgB,EAAI,GAAK7jB,KAAKE,IAAIV,EAAE,GAAIgE,EAAE,IACnBqgB,CACT,CAUO,SAAS5jB,GAAI4jB,EAAKrkB,EAAGgE,GAG1B,OAFAqgB,EAAI,GAAK7jB,KAAKC,IAAIT,EAAE,GAAIgE,EAAE,IAC1BqgB,EAAI,GAAK7jB,KAAKC,IAAIT,EAAE,GAAIgE,EAAE,IACnBqgB,CACT,CAuBO,SAAS8B,GAAM9B,EAAKrkB,EAAGgE,GAG5B,OAFAqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EAChBqgB,EAAI,GAAKrkB,EAAE,GAAKgE,EACTqgB,CACT,CAwBO,SAAS+B,GAASpmB,EAAGgE,GAC1B,IAAIiO,EAAIjO,EAAE,GAAKhE,EAAE,GACbkS,EAAIlO,EAAE,GAAKhE,EAAE,GACjB,OAAOQ,KAAK6lB,MAAMpU,EAAGC,EACvB,CAqBO,SAAS3V,GAAOyD,GACrB,IAAIiS,EAAIjS,EAAE,GACNkS,EAAIlS,EAAE,GACV,OAAOQ,KAAK6lB,MAAMpU,EAAGC,EACvB,CA+CO,SAASoU,GAAUjC,EAAKrkB,GAC7B,IAAIiS,EAAIjS,EAAE,GACNkS,EAAIlS,EAAE,GACNjB,EAAMkT,EAAIA,EAAIC,EAAIA,EAStB,OAPInT,EAAM,IAERA,EAAM,EAAIyB,KAAKuU,KAAKhW,IAGtBslB,EAAI,GAAKrkB,EAAE,GAAKjB,EAChBslB,EAAI,GAAKrkB,EAAE,GAAKjB,EACTslB,CACT,CASO,SAASkC,GAAIvmB,EAAGgE,GACrB,OAAOhE,EAAE,GAAKgE,EAAE,GAAKhE,EAAE,GAAKgE,EAAE,EAChC,CA2FO,SAASwiB,GAAcnC,EAAKrkB,EAAGqE,GACpC,IAAI4N,EAAIjS,EAAE,GACNkS,EAAIlS,EAAE,GAGV,OAFAqkB,EAAI,GAAKhgB,EAAE,GAAK4N,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GACjCggB,EAAI,GAAKhgB,EAAE,GAAK4N,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GAC1BggB,CACT,CA8CO,SAASnQ,GAAMlU,EAAGgE,GACvB,IAAIwO,EAAKxS,EAAE,GACP2S,EAAK3S,EAAE,GACP0S,EAAK1O,EAAE,GACP6O,EAAK7O,EAAE,GAEXyiB,EAAMjmB,KAAKuU,KAAKvC,EAAKA,EAAKG,EAAKA,GAAMnS,KAAKuU,KAAKrC,EAAKA,EAAKG,EAAKA,GAE9D6T,EAASD,IAAQjU,EAAKE,EAAKC,EAAKE,GAAM4T,EAEtC,OAAOjmB,KAAKmmB,KAAKnmB,KAAKE,IAAIF,KAAKC,IAAIimB,GAAS,GAAI,GAClD,CA+BO,SAASE,GAAY5mB,EAAGgE,GAC7B,OAAOhE,EAAE,KAAOgE,EAAE,IAAMhE,EAAE,KAAOgE,EAAE,EACrC,CDneKxD,KAAK6lB,QAAO7lB,KAAK6lB,MAAQ,WAC5B,IAAInU,EAAI,EACJpT,EAAIsI,UAAU7K,OAElB,MAAOuC,IACLoT,GAAK9K,UAAUtI,GAAKsI,UAAUtI,GAGhC,OAAO0B,KAAKuU,KAAK7C,EACnB,GC+eO,IAMI2U,GAAMX,IA4CI,WACnB,IAAIY,EAAMd,IA4BZ,EA7BqB,GC3kBf,SAAUe,GAAc1C,EAAKrkB,EAAGa,GACpC,IAAMmmB,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAC,GAAqBD,EAAUnmB,GACxBomB,GAAc5C,EAAK2C,EAAUhnB,EACtC,CAEM,SAAUknB,GAAW7C,EAAKrkB,EAAGuS,GACjC,IAAM4U,EAAsB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEtD,OADAF,GAAkBE,EAAW5U,GACtB0U,GAAc5C,EAAK8C,EAAWnnB,EACvC,CAEM,SAAUonB,GAAU/C,EAAKrkB,EAAGa,GAChC,IAAMwmB,EAAqB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErD,OADAJ,GAAiBI,EAAUxmB,GACpBomB,GAAc5C,EAAKgD,EAAUrnB,EACtC,CAEA,SAASsnB,GAAajD,EAAKrkB,EAAG0X,GAC5B,OAAOuP,GAAc5C,EAAK3M,EAAI1X,EAChC,CAMM,SAAUunB,GAAUljB,EAAamjB,GAGrC,IAFA,IAAMC,EAASpjB,EAAI,GAAGjE,OAAOiE,GAAK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnDvF,EAAI,EAAGC,EAAMyoB,EAAQjrB,OAAQuC,EAAIC,EAAKD,IAAK,CAClD,IAAM4oB,EAASF,EAAQ1oB,GACvB,OAAQ4oB,EAAO,IACb,IAAK,IACHX,GAAcU,EAAQA,EAAQ,CAAEC,EAAO,GAAIA,EAAO,KAClD,MACF,IAAK,IACHN,GAAUK,EAAQA,EAAQ,CAAEC,EAAO,GAAIA,EAAO,KAC9C,MACF,IAAK,IACHR,GAAWO,EAAQA,EAAQC,EAAO,IAClC,MACF,IAAK,IACHJ,GAAaG,EAAQA,EAAQC,EAAO,IACpC,MACF,QACE,M,CAIN,OAAOD,CACT,CAQM,SAAUE,GAAUC,EAAcC,GACtC,OAAOD,EAAG,GAAKC,EAAG,GAAKA,EAAG,GAAKD,EAAG,EACpC,CAQM,SAAUE,GAAQF,EAAsBC,EAAsBE,GAClE,IAAMC,EAAMC,GAAWL,EAAIC,GACrBK,EAAmBP,GAAUC,EAAIC,IAAO,EAC9C,OAAIE,EACEG,EACe,EAAV1nB,KAAK+D,GAASyjB,EAEhBA,EAGLE,EACKF,EAEQ,EAAVxnB,KAAK+D,GAASyjB,CACvB,CC9EM,SAAUG,GAAenoB,EAAagE,GAC1C,IAAMqgB,EAAM,GACNC,EAAMtkB,EAAE,GACRukB,EAAMvkB,EAAE,GACRwkB,EAAMxkB,EAAE,GAERykB,EAAMzkB,EAAE,GACR0kB,EAAM1kB,EAAE,GACR2kB,EAAM3kB,EAAE,GACR4kB,EAAM5kB,EAAE,GACR6kB,EAAM7kB,EAAE,GACR8kB,EAAM9kB,EAAE,GAERolB,EAAMphB,EAAE,GACR+gB,EAAM/gB,EAAE,GACRqhB,EAAMrhB,EAAE,GACRshB,EAAMthB,EAAE,GACRghB,EAAMhhB,EAAE,GACRuhB,EAAMvhB,EAAE,GACRwhB,EAAMxhB,EAAE,GACRihB,EAAMjhB,EAAE,GACRyhB,EAAMzhB,EAAE,GAad,OAXAqgB,EAAI,GAAKe,EAAMd,EAAMS,EAAMN,EAAMY,EAAMT,EACvCP,EAAI,GAAKe,EAAMb,EAAMQ,EAAML,EAAMW,EAAMR,EACvCR,EAAI,GAAKe,EAAMZ,EAAMO,EAAMJ,EAAMU,EAAMP,EAEvCT,EAAI,GAAKiB,EAAMhB,EAAMU,EAAMP,EAAMc,EAAMX,EACvCP,EAAI,GAAKiB,EAAMf,EAAMS,EAAMN,EAAMa,EAAMV,EACvCR,EAAI,GAAKiB,EAAMd,EAAMQ,EAAML,EAAMY,EAAMT,EAEvCT,EAAI,GAAKmB,EAAMlB,EAAMW,EAAMR,EAAMgB,EAAMb,EACvCP,EAAI,GAAKmB,EAAMjB,EAAMU,EAAMP,EAAMe,EAAMZ,EACvCR,EAAI,GAAKmB,EAAMhB,EAAMS,EAAMN,EAAMc,EAAMX,EAChCT,CACT,CAOM,SAAU+D,GAAa/jB,EAAaxD,GACxC,IAAMwjB,EAAM,GACNpS,EAAIpR,EAAE,GACNqR,EAAIrR,EAAE,GAGZ,OAFAwjB,EAAI,GAAKhgB,EAAE,GAAK4N,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GACjCggB,EAAI,GAAKhgB,EAAE,GAAK4N,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GAC1BggB,CACT,CAMM,SAAUD,GAAOpkB,GACrB,IAAMqkB,EAAM,GACNC,EAAMtkB,EAAE,GACRukB,EAAMvkB,EAAE,GACRwkB,EAAMxkB,EAAE,GACRykB,EAAMzkB,EAAE,GACR0kB,EAAM1kB,EAAE,GACR2kB,EAAM3kB,EAAE,GACR4kB,EAAM5kB,EAAE,GACR6kB,EAAM7kB,EAAE,GACR8kB,EAAM9kB,EAAE,GAER+kB,EAAMD,EAAMJ,EAAMC,EAAME,EACxBG,GAAOF,EAAML,EAAME,EAAMC,EACzBK,EAAMJ,EAAMJ,EAAMC,EAAME,EAG1BM,EAAMZ,EAAMS,EAAMR,EAAMS,EAAMR,EAAMS,EAExC,OAAKC,GAGLA,EAAM,EAAMA,EAEZb,EAAI,GAAKU,EAAMG,EACfb,EAAI,KAAOS,EAAMP,EAAMC,EAAMK,GAAOK,EACpCb,EAAI,IAAMM,EAAMJ,EAAMC,EAAME,GAAOQ,EACnCb,EAAI,GAAKW,EAAME,EACfb,EAAI,IAAMS,EAAMR,EAAME,EAAMI,GAAOM,EACnCb,EAAI,KAAOM,EAAML,EAAME,EAAMC,GAAOS,EACpCb,EAAI,GAAKY,EAAMC,EACfb,EAAI,KAAOQ,EAAMP,EAAMC,EAAMK,GAAOM,EACpCb,EAAI,IAAMK,EAAMJ,EAAMC,EAAME,GAAOS,EAC5Bb,GAbE,IAcX,CC3FQ,OAAcgE,GAEhBC,GAAS,SACTC,GAAa,CAAC,SAAU,UAAW,UAAW,QAG9CC,GAAiB,CAAC,UAElBC,GAAmB,IACnB/Y,GAAW,IAIjB,SAASgZ,GAAgB/qB,GAEvB,IADA,IAAMI,EAAS,GACNe,EAAI,EAAGA,EAAInB,EAAIpB,OAAQuC,IAC1BJ,EAAQf,EAAImB,IACdf,EAAOC,KAAK,GAAGoC,OAAOzC,EAAImB,KAE1Bf,EAAOC,KAAKL,EAAImB,IAGpB,OAAOf,CACT,CAEA,SAAS4qB,GAAmBC,EAASzH,GACnC,IAAM0H,EAAY,GACZpvB,EAAQ0nB,EAAM1nB,MACpB,IAAK,IAAMwF,KAAK2pB,EACdC,EAAU5pB,GAAKxF,EAAMwF,GAEvB,OAAO4pB,CACT,CAEA,SAASC,GAAiBC,EAAO5H,GAC/B,IAAMyH,EAAU,GACVnvB,EAAQ0nB,EAAM6H,OAMpB,OALArqB,EAAKoqB,GAAO,SAACloB,EAAG5B,IACqB,IAA/BupB,GAAe5qB,QAAQqB,IAAcqJ,GAAQ7O,EAAMwF,GAAI4B,KACzD+nB,EAAQ3pB,GAAK4B,EAEjB,IACO+nB,CACT,CAEA,SAASK,GAAkBC,EAAyBC,GAClD,GAAIA,EAAUC,QACZ,OAAOF,EAED,MAA+BC,EAAS,UAA7BE,EAAoBF,EAAS,MAAtB7tB,EAAa6tB,EAAS,SAC1CjqB,EAAiBE,OAAO+B,UAAUjC,eAaxC,OAZAP,EAAKuqB,GAAY,SAACjtB,GAEZqtB,EAAYD,EAAQptB,EAAKqtB,UAAYrtB,EAAKotB,MAAQptB,EAAKX,UAAYA,EAAWW,EAAKotB,OACrF1qB,EAAKwqB,EAAUP,SAAS,SAAC/nB,EAAG5B,GACtBC,EAAeZ,KAAKrC,EAAK2sB,QAAS3pB,YAC7BhD,EAAK2sB,QAAQ3pB,UACbhD,EAAK4sB,UAAU5pB,GAE1B,GAEJ,IAEOiqB,CACT,CAEA,mBAQE,WAAY5Y,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAHZF,EAAAA,MAAoB,GAIlB,IAAM3W,EAAQ2W,EAAKmZ,kB,OACnBvgB,GAAIvP,EAAO6W,EAAI7W,OACf2W,EAAK3W,MAAQA,EACb2W,EAAKoZ,UAAU/vB,GACf2W,EAAKqZ,c,CACP,CA2pBF,OA1qB+BhZ,EAAAA,EAAAA,IAAAA,EAAAA,GAkB7B5K,EAAAA,UAAAA,cAAA,WACE,MAAO,CACL2K,SAAS,EACTgR,SAAS,EACTkI,OAAQ,EAEZ,EAMA7jB,EAAAA,UAAAA,gBAAA,WACE,MAAO,CACL4hB,OAAQ,KAAKkC,mBACbC,QAAS,EAEb,EAUA/jB,EAAAA,UAAAA,eAAA,SAAegkB,GAAyB,EAOxChkB,EAAAA,UAAAA,UAAA,SAAUpM,GAAoB,EAM9BoM,EAAAA,UAAAA,YAAA,WACE,KAAK3D,IAAI,YAAY,GACrB,KAAKA,IAAI,aAAa,EACxB,EAEA2D,EAAAA,UAAAA,QAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,UAAA,WACE,OAAO,KAAK+B,IAAI,SAClB,EAEA/B,EAAAA,UAAAA,UAAA,WACE,OAAO,KAAK+B,IAAI,SAClB,EAEA/B,EAAAA,UAAAA,KAAA,W,UAAK,SAAA8B,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,GAAAA,UAAAA,GACI,MAAeA,EAAI,GAAbhN,EAASgN,EAAI,GAC1B,IAAKlN,EAAM,OAAO,KAAKR,MACvB,GAAIuF,EAAS/E,GAAO,CAClB,IAAK,IAAMgF,KAAKhF,EACd,KAAK6vB,QAAQ7qB,EAAGhF,EAAKgF,IAGvB,OADA,KAAK8qB,iBAAiB9vB,GACf,I,CAET,OAAoB,IAAhBkN,EAAK5K,QACP,KAAKutB,QAAQ7vB,EAAME,GACnB,KAAK4vB,kBAAgB,KACnBvG,EAACvpB,GAAOE,EAAK,IAER,MAEF,KAAKV,MAAMQ,EACpB,EAQA4L,EAAAA,UAAAA,UAAA,SAAUmkB,EAAMC,GACd,IAAMC,EAAO,KAAKC,UAClB,OAAOD,IAASA,EAAKE,MAAMJ,EAAMC,EACnC,EAOApkB,EAAAA,UAAAA,QAAA,SAAQ5L,EAAcE,GACpB,IAAMkwB,EAAc,KAAK5wB,MAAMQ,GAC3BowB,IAAgBlwB,IAClB,KAAKV,MAAMQ,GAAQE,EACnB,KAAKmwB,aAAarwB,EAAME,EAAOkwB,GAEnC,EASAxkB,EAAAA,UAAAA,aAAA,SAAa5L,EAAcE,EAAYkwB,GACxB,WAATpwB,GACF,KAAKiI,IAAI,cAAe,KAE5B,EAMA2D,EAAAA,UAAAA,iBAAA,SAAiB0kB,GACf,GAAI,KAAKja,IAAIka,YAAa,CACxB,IAAMC,EAAU,KAAKna,IAAIma,QACrBA,GACFA,EAAQC,eAAe,O,MAGzB,KAAKA,eAAe,OAExB,EAEA7kB,EAAAA,UAAAA,KAAA,WAIE,OAFA,KAAK3D,IAAI,WAAW,GACpB,KAAKwoB,eAAe,QACb,IACT,EAEA7kB,EAAAA,UAAAA,KAAA,WAIE,OAFA,KAAK3D,IAAI,WAAW,GACpB,KAAKwoB,eAAe,QACb,IACT,EAEA7kB,EAAAA,UAAAA,UAAA,SAAU6jB,GACR,KAAKxnB,IAAI,SAAUwnB,GACnB,IAAMla,EAAS,KAAK6R,YAKpB,OAJI7R,GAEFA,EAAOmb,OAEF,IACT,EAEA9kB,EAAAA,UAAAA,QAAA,WACE,IAAM2J,EAAS,KAAK6R,YACpB,GAAK7R,EAAL,CAGA,IAAMob,EAAWpb,EAAOqb,cAElB3uB,GADK,KAAK0L,IAAI,MACNgjB,EAAShtB,QAAQ,OAC/BgtB,EAASxpB,OAAOlF,EAAO,GACvB0uB,EAAS5sB,KAAK,MACd,KAAK0sB,eAAe,S,CACtB,EAEA7kB,EAAAA,UAAAA,OAAA,WACE,IAAM2J,EAAS,KAAK6R,YACpB,GAAK7R,EAAL,CAGA,IAAMob,EAAWpb,EAAOqb,cAElB3uB,GADK,KAAK0L,IAAI,MACNgjB,EAAShtB,QAAQ,OAC/BgtB,EAASxpB,OAAOlF,EAAO,GACvB0uB,EAASzL,QAAQ,MACjB,KAAKuL,eAAe,S,CACtB,EAEA7kB,EAAAA,UAAAA,OAAA,SAAOilB,QAAA,QAAAA,GAAAA,GACL,IAAMtb,EAAS,KAAK6R,YAChB7R,GACFwR,GAAgBxR,EAAOqb,cAAe,MACjCrb,EAAO5H,IAAI,aAEd,KAAK8iB,eAAe,WAGtB,KAAKA,eAAe,UAElBI,GACF,KAAKA,SAET,EAEAjlB,EAAAA,UAAAA,YAAA,WACE,KAAKmjB,KAAKV,GAAQ,KAAKqB,oBACvB,KAAKe,eAAe,SACtB,EAEA7kB,EAAAA,UAAAA,UAAA,WACE,OAAO,KAAKmjB,KAAKV,GACnB,EAEAziB,EAAAA,UAAAA,UAAA,SAAUxB,GACR,KAAK2kB,KAAKV,GAAQjkB,GAClB,KAAKqmB,eAAe,SACtB,EAGA7kB,EAAAA,UAAAA,eAAA,WACE,IAAIklB,EAAc,KAAKza,IAAIya,YAC3B,IAAKA,EAAa,CAChB,IAAMC,EAAgB,KAAKhC,KAAK,UAC1BiC,EAAe,KAAK3a,IAAI2a,aAE5BF,EADEE,GAAgBD,EACJ7C,GAAe8C,EAAcD,GAE7BA,GAAiBC,EAEjC,KAAK/oB,IAAI,cAAe6oB,E,CAE1B,OAAOA,CACT,EAGAllB,EAAAA,UAAAA,YAAA,SAAY4hB,GACV,IAAMuD,EAAgB,KAAKhC,KAAK,UAC5B+B,EAAc,KAEhBA,EADEtD,GAAUuD,EACE7C,GAAeV,EAAQuD,GAEvBA,GAAiBvD,EAEjC,KAAKvlB,IAAI,cAAe6oB,GACxB,KAAK7oB,IAAI,eAAgBulB,EAC3B,EAOA5hB,EAAAA,UAAAA,iBAAA,WACE,OAAO,IACT,EAGAA,EAAAA,UAAAA,cAAA,SAAchF,GACZ,IAAM4mB,EAAS,KAAKuB,KAAK,UACzB,OAAIvB,EACKW,GAAaX,EAAQ5mB,GAEvBA,CACT,EAGAgF,EAAAA,UAAAA,iBAAA,SAAiBhF,GACf,IAAM4mB,EAAS,KAAKuB,KAAK,UACzB,GAAIvB,EAAQ,CACV,IAAMyD,EAAe9G,GAAOqD,GAC5B,GAAIyD,EACF,OAAO9C,GAAa8C,EAAcrqB,E,CAGtC,OAAOA,CACT,EAGAgF,EAAAA,UAAAA,QAAA,SAAQslB,GACN,IAAMC,EAAS,KAAKC,YAQhBC,EAAY,KAEhB,GAAIH,EAAS,CACX,IAAMI,EAAY,KAAKC,eACjBC,EAAYzmB,GAAWmmB,EAAQ9sB,MAC/BqtB,EAAOH,EAAUE,GACnBC,IACFJ,EAAY,IAAII,EAAK,CACnBrtB,KAAM8sB,EAAQ9sB,KACdmsB,aAAa,EACbC,QAAS,KACThxB,MAAO0xB,EAAQ1xB,MACf2xB,OAAM,I,CAOZ,OAFA,KAAKlpB,IAAI,YAAaopB,GACtB,KAAKZ,eAAe,QACbY,CACT,EAEAzlB,EAAAA,UAAAA,QAAA,WAEE,IAAMylB,EAAY,KAAKhb,IAAIgb,UAE3B,OAAKA,GACI,IAGX,EAEAzlB,EAAAA,UAAAA,MAAA,sBACQ8lB,EAAc,KAAKlyB,MACnBA,EAAQ,GACdkF,EAAKgtB,GAAa,SAAC7sB,EAAGG,GAChBP,EAAQitB,EAAY1sB,IACtBxF,EAAMwF,GAAKypB,GAAgBiD,EAAY1sB,IAEvCxF,EAAMwF,GAAK0sB,EAAY1sB,EAE3B,IACA,IAAM2sB,EAAO,KAAKlmB,YAEZmB,EAAQ,IAAI+kB,EAAK,CAAEnyB,MAAK,IAI9B,OAHAkF,EAAK4pB,IAAY,SAACsD,GAChBhlB,EAAM3E,IAAI2pB,EAASzb,EAAKxI,IAAIikB,GAC9B,IACOhlB,CACT,EAEAhB,EAAAA,UAAAA,QAAA,WACE,IAAMgL,EAAY,KAAKA,UACnBA,IAGJ,KAAKpX,MAAQ,GACb8W,EAAAA,UAAMua,QAAO,WAEf,EAMAjlB,EAAAA,UAAAA,gBAAA,WACE,OAAO,KAAK+B,IAAI,UAAUkkB,QAC5B,EAgBAjmB,EAAAA,UAAAA,QAAA,W,IAAQ,aAAA8B,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,GAAAA,UAAAA,GACN,GAAK,KAAKS,IAAI,aAAgB,KAAKA,IAAI,UAAvC,CAGA,KAAK1F,IAAI,aAAa,GACtB,IAAI6pB,EAAW,KAAKnkB,IAAI,YACnBmkB,IACHA,EAAW,KAAKnkB,IAAI,UAAUA,IAAI,YAClC,KAAK1F,IAAI,WAAY6pB,IAEvB,IAAI7C,EAAa,KAAKthB,IAAI,eAAiB,GAEtCmkB,EAASC,OACZD,EAASE,YAEN,IACD7C,EACA8C,EACAC,EACAC,EACAC,EALC,EAAwEllB,EAAI,GAAnE7L,EAA+D6L,EAAI,GAAzDqc,EAAqDrc,EAAI,GAAzDmlB,OAAM,MAAG,aAAY,EAAEC,EAA8BplB,EAAI,GAAlC0I,OAAQ,MAAG2c,GAAI,EAAElzB,EAAa6N,EAAI,GAAjBkiB,OAAK,MAAG,EAAC,EAOrE/pB,EAAWspB,IACbQ,EAAUR,EACVA,EAAU,IACD5pB,EAAS4pB,IAAaA,EAAgBQ,UAE/CA,EAAWR,EAAgBQ,QAC3B8C,EAAUtD,EAAgBsD,QAGxBltB,EAAS1D,IACX+wB,EAAa/wB,EACbA,EAAW+wB,EAAW/wB,SACtBgxB,EAASD,EAAWC,QAAU,aAC9BjD,EAAQgD,EAAWhD,OAAS,EAE5B6C,EAASG,EAAWH,QAAUA,IAAU,EACxCrc,EAAWwc,EAAWxc,UAAY2c,GAClCL,EAAgBE,EAAWF,eAAiBK,GAC5CJ,EAAiBC,EAAWD,gBAAkBI,KAG1C7oB,GAASkM,KACXwZ,EAAQxZ,EACRA,EAAW,MAGTvQ,EAAWgtB,IACbzc,EAAWyc,EACXA,EAAS,cAETA,EAASA,GAAU,cAGvB,IAAMG,EAAgB3D,GAAiBF,EAAS,MAC1CO,EAAuB,CAC3BN,UAAWF,GAAmB8D,EAAe,MAC7C7D,QAAS6D,EACTnxB,SAAQ,EACRgxB,OAAM,EACNJ,OAAM,EACNrc,SAAQ,EACRsc,cAAa,EACbC,eAAc,EACd/C,MAAK,EACLC,UAAWyC,EAASW,UACpBC,GAAIC,KACJxD,QAAO,EACPyD,eAAe,GAGb3D,EAAW3sB,OAAS,EAEtB2sB,EAAaD,GAAkBC,EAAYC,GAG3C4C,EAASe,YAAY,MAEvB5D,EAAWlrB,KAAKmrB,GAChB,KAAKjnB,IAAI,aAAcgnB,GACvB,KAAKhnB,IAAI,SAAU,CAAE4pB,UAAU,G,CACjC,EAMAjmB,EAAAA,UAAAA,YAAA,SAAYknB,GAAZ,gBAAY,QAAAA,GAAAA,GACV,IAAM7D,EAAa,KAAKthB,IAAI,cAC5BjJ,EAAKuqB,GAAY,SAACC,GAEZ4D,IACE5D,EAAUC,QACZhZ,EAAK4Y,KAAKG,EAAUC,QAAQ,IAE5BhZ,EAAK4Y,KAAKG,EAAUP,UAGpBO,EAAUtZ,UAEZsZ,EAAUtZ,UAEd,IACA,KAAK3N,IAAI,aAAa,GACtB,KAAKA,IAAI,aAAc,GACzB,EAKA2D,EAAAA,UAAAA,aAAA,WACE,IAAMkmB,EAAW,KAAKnkB,IAAI,YACpBshB,EAAa,KAAKthB,IAAI,cACtBolB,EAAYjB,EAASW,UAc3B,OAbA/tB,EAAKuqB,GAAY,SAACC,GAChBA,EAAU8D,SAAU,EACpB9D,EAAU+D,WAAaF,EACnB7D,EAAUgD,eAEZhD,EAAUgD,eAEd,IAEA,KAAKjqB,IAAI,SAAU,CACjB4pB,UAAU,EACVkB,UAAS,IAEJ,IACT,EAKAnnB,EAAAA,UAAAA,cAAA,WACE,IAAMkmB,EAAW,KAAKnkB,IAAI,YACpBulB,EAAUpB,EAASW,UACnBxD,EAAa,KAAKthB,IAAI,cACtBolB,EAAY,KAAKplB,IAAI,UAAUolB,UAcrC,OAZAruB,EAAKuqB,GAAY,SAACC,GAChBA,EAAUG,UAAYH,EAAUG,WAAa6D,EAAUH,GACvD7D,EAAU8D,SAAU,EACpB9D,EAAU+D,WAAa,KACnB/D,EAAUiD,gBACZjD,EAAUiD,gBAEd,IACA,KAAKlqB,IAAI,SAAU,CACjB4pB,UAAU,IAEZ,KAAK5pB,IAAI,aAAcgnB,GAChB,IACT,EAOArjB,EAAAA,UAAAA,eAAA,SAAexH,EAAc+uB,GAA7B,IAGMC,EAHN,OACQC,EAAQF,EAASG,gBACR,KAAKC,YAEP,eAATnvB,EACFgvB,EAAgBD,EAASK,UACP,eAATpvB,IACTgvB,EAAgBD,EAASM,SAG3B,I,eAAS5uB,GACP,IAAMyiB,EAAU+L,EAAMxuB,GAEhB6uB,EAAOpM,EAAQ3Z,IAAI,QACzB,GAAI+lB,EAAM,CAER,IAEGpM,EAAQqM,WAAcrM,EAAQH,UAAYG,EAAQH,aACnDiM,GACAnM,GAASK,EAAS8L,G,cAIhB3uB,EAAQivB,GACVhvB,EAAKgvB,GAAM,SAACE,GACVzd,EAAK0d,kBAAkBvM,EAASsM,EAAST,EAC3C,IAEAW,EAAKD,kBAAkBvM,EAASoM,EAAMP,E,UAnBnCtuB,EAAI,EAAGA,EAAIwuB,EAAM/wB,OAAQuC,IAAG,C,QAA5BA,G,qBAuBX,EAEQ+G,EAAAA,UAAAA,kBAAR,SAA0B0b,EAAStnB,EAAcmzB,GAC/C,IAAMpd,EAAS,KAAKwd,YAEdQ,EAAY/zB,EAAOwuB,GAAmB2E,EAAS/uB,MACjD2R,EAAOge,IAAche,EAAON,OAE9B0d,EAASnzB,KAAO+zB,EAChBZ,EAASa,cAAgB1M,EACzB6L,EAASc,eAAiB,KAE1Bd,EAASe,eAAiB5M,EAAQ3Z,IAAI,kBACtC,KAAKwmB,KAAKJ,EAAWZ,GAEzB,EAQAvnB,EAAAA,UAAAA,UAAA,SAAUwoB,EAAwBC,QAAxB,QAAAD,EAAAA,QAAwB,QAAAC,EAAAA,GAChC,IAAM7G,EAAS,KAAK8G,YACdC,EAAYjH,GAAUE,EAAQ,CAAC,CAAC,IAAK4G,EAAYC,KAEvD,OADA,KAAKG,UAAUD,GACR,IACT,EAQA3oB,EAAAA,UAAAA,KAAA,SAAK6oB,EAAiBC,GACpB,IAAM1c,EAAI,KAAK+W,KAAK,MAAQ,EACtB9W,EAAI,KAAK8W,KAAK,MAAQ,EAE5B,OADA,KAAK4F,UAAUF,EAAUzc,EAAG0c,EAAUzc,GAC/B,IACT,EAQArM,EAAAA,UAAAA,OAAA,SAAO6oB,EAAiBC,GACtB,OAAO,KAAKE,KAAKH,EAASC,EAC5B,EAQA9oB,EAAAA,UAAAA,MAAA,SAAMipB,EAAgBC,GACpB,IAAMtH,EAAS,KAAK8G,YACdC,EAAYjH,GAAUE,EAAQ,CAAC,CAAC,IAAKqH,EAAQC,GAAUD,KAE7D,OADA,KAAKL,UAAUD,GACR,IACT,EAOA3oB,EAAAA,UAAAA,OAAA,SAAOmpB,GACL,IAAMvH,EAAS,KAAK8G,YACdC,EAAYjH,GAAUE,EAAQ,CAAC,CAAC,IAAKuH,KAE3C,OADA,KAAKP,UAAUD,GACR,IACT,EAOA3oB,EAAAA,UAAAA,cAAA,SAAc+O,GACN,MAAW,KAAKoU,OAAd/W,EAAC,IAAEC,EAAC,IACNuV,EAAS,KAAK8G,YACdC,EAAYjH,GAAUE,EAAQ,CAClC,CAAC,KAAMxV,GAAIC,GACX,CAAC,IAAK0C,GACN,CAAC,IAAK3C,EAAGC,KAGX,OADA,KAAKuc,UAAUD,GACR,IACT,EAOA3oB,EAAAA,UAAAA,cAAA,SAAcoM,EAAWC,EAAW0C,GAClC,IAAM6S,EAAS,KAAK8G,YACdC,EAAYjH,GAAUE,EAAQ,CAClC,CAAC,KAAMxV,GAAIC,GACX,CAAC,IAAK0C,GACN,CAAC,IAAK3C,EAAGC,KAGX,OADA,KAAKuc,UAAUD,GACR,IACT,EACF,EA1qBA,CAA+B9d,IA4qB/B,MChvBMue,GAAY,GACZC,GAAQ,SAOd,SAASC,GAAU5N,EAAmB6J,GAEpC,GADA7J,EAAQrf,IAAI,SAAUkpB,GAClB7J,EAAQqM,UAAW,CACrB,IAAMhD,EAAWrJ,EAAQ3Z,IAAI,YACzBgjB,EAASruB,QACXquB,EAAS9hB,SAAQ,SAACsmB,GAChBD,GAAUC,EAAOhE,EACnB,G,CAGN,CAOA,SAASiE,GAAY9N,EAAmBwK,GAEtC,GADAxK,EAAQrf,IAAI,WAAY6pB,GACpBxK,EAAQqM,UAAW,CACrB,IAAMhD,EAAWrJ,EAAQ3Z,IAAI,YACzBgjB,EAASruB,QACXquB,EAAS9hB,SAAQ,SAACsmB,GAChBC,GAAYD,EAAOrD,EACrB,G,CAGN,CAOA,SAAS1d,GAAYJ,EAAuBsT,EAAmBuJ,QAAA,QAAAA,GAAAA,GAEzDA,EACFvJ,EAAQuJ,WAERvJ,EAAQrf,IAAI,SAAU,MACtBqf,EAAQrf,IAAI,SAAU,OAExB8e,GAAgB/S,EAAU4c,cAAetJ,EAC3C,CAEA,SAAS+N,GAAYC,GACnB,OAAO,SAAU1R,EAAMC,GACrB,IAAM/f,EAASwxB,EAAQ1R,EAAMC,GAC7B,OAAkB,IAAX/f,EAAe8f,EAAKqR,IAASpR,EAAMoR,IAASnxB,CACrD,CACF,CAEA,IC/DIyxB,GACAC,GD8DJ,4B,8CA+ZA,QA/ZiChf,EAAAA,EAAAA,IAAAA,EAAAA,GAC/Bif,EAAAA,UAAAA,SAAA,WACE,OAAO,CACT,EAGAA,EAAAA,UAAAA,QAAA,WAEE,IAAIC,EAAOC,IACPC,GAAQD,IACRE,EAAOF,IACPG,GAAQH,IACNI,EAAO,GACPC,EAAO,GAEPrF,EAAW,KAAKC,cAAchtB,QAClC,SAACuxB,GACC,SAAMxnB,IAAI,cAAgBwnB,EAAMxB,WAAcwB,EAAMxB,WAAcwB,EAAiBvE,cAActuB,OAAS,EAA1G,IAEAquB,EAASruB,OAAS,GACpBoC,EAAKisB,GAAU,SAACwE,GACd,IAAM7U,EAAM6U,EAAMc,UAClBF,EAAKhyB,KAAKuc,EAAIoV,KAAMpV,EAAIsV,MACxBI,EAAKjyB,KAAKuc,EAAIuV,KAAMvV,EAAIwV,KAC1B,IACAJ,EAAOjvB,EAAIsvB,GACXH,EAAOpvB,EAAIuvB,GACXF,EAAOpvB,EAAIuvB,GACXF,EAAOtvB,EAAIwvB,KAEXN,EAAO,EACPE,EAAO,EACPC,EAAO,EACPC,EAAO,GAET,IAAMxV,EAAM,CACVtI,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,GAEjB,OAAOvV,CACT,EAGAmV,EAAAA,UAAAA,cAAA,WACE,IAAIC,EAAOC,IACPC,GAAQD,IACRE,EAAOF,IACPG,GAAQH,IACNI,EAAO,GACPC,EAAO,GAEPrF,EAAW,KAAKC,cAAchtB,QAClC,SAACuxB,GACC,SAAMxnB,IAAI,cAAgBwnB,EAAMxB,WAAcwB,EAAMxB,WAAcwB,EAAiBvE,cAActuB,OAAS,EAA1G,IAEAquB,EAASruB,OAAS,GACpBoC,EAAKisB,GAAU,SAACwE,GACd,IAAM7U,EAAM6U,EAAMe,gBAClBH,EAAKhyB,KAAKuc,EAAIoV,KAAMpV,EAAIsV,MACxBI,EAAKjyB,KAAKuc,EAAIuV,KAAMvV,EAAIwV,KAC1B,IACAJ,EAAOjvB,EAAIsvB,GACXH,EAAOpvB,EAAIuvB,GACXF,EAAOpvB,EAAIuvB,GACXF,EAAOtvB,EAAIwvB,KAEXN,EAAO,EACPE,EAAO,EACPC,EAAO,EACPC,EAAO,GAET,IAAMxV,EAAM,CACVtI,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,GAEjB,OAAOvV,CACT,EAEAmV,EAAAA,UAAAA,cAAA,WACE,IAAMpf,EAAMC,EAAAA,UAAMmR,cAAa,WAE/B,OADApR,EAAI,YAAc,GACXA,CACT,EAEAof,EAAAA,UAAAA,aAAA,SAAaz1B,EAAME,EAAOkwB,GAExB,GADA9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GACnB,WAATpwB,EAAmB,CACrB,IAAM8wB,EAAc,KAAKqF,iBACzB,KAAKC,oBAAoBtF,E,CAE7B,EAGA2E,EAAAA,UAAAA,YAAA,SAAYjI,GACV,IAAM6I,EAAiB,KAAKF,iBAC5B7f,EAAAA,UAAMggB,YAAW,UAAC9I,GAClB,IAAMsD,EAAc,KAAKqF,iBAGrBrF,IAAgBuF,GAGpB,KAAKD,oBAAoBtF,EAC3B,EAGA2E,EAAAA,UAAAA,oBAAA,SAAoB3E,GAClB,IAAMH,EAAW,KAAKC,cACtBlsB,EAAKisB,GAAU,SAACwE,GACdA,EAAMmB,YAAYxF,EACpB,GACF,EAGA2E,EAAAA,UAAAA,SAAA,W,IAAS,aAAA/nB,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,GAAAA,UAAAA,GACP,IAAM9I,EAAO8I,EAAK,GACdmJ,EAAMnJ,EAAK,GACXnI,EAASX,GACXiS,EAAMjS,EAENiS,EAAI,QAAUjS,EAEhB,IAAIotB,EAAYwD,GAAU3e,EAAIjS,MACzBotB,IACHA,EAAYzmB,GAAWsL,EAAIjS,MAC3B4wB,GAAU3e,EAAIjS,MAAQotB,GAExB,IAAMF,EAAY,KAAKC,eACjBrK,EAAQ,IAAIoK,EAAUE,GAAWnb,GAEvC,OADA,KAAKkP,IAAI2B,GACFA,CACT,EAEAuO,EAAAA,UAAAA,SAAA,W,IAAS,aAAA/nB,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,GAAAA,UAAAA,GACA,IACHqpB,EADG,EAAmBrpB,EAAI,GAAXmJ,EAAOnJ,EAAI,GAE9B,GAAI7H,EAAWmxB,GAEXD,EAAQ,IAAIC,EADVngB,GAGqB,CAErBd,OAAQ,WAGP,CACL,IAAMkhB,EAASD,GAAc,GACvBE,EAAgB,KAAKC,eAC3BJ,EAAQ,IAAIG,EAAcD,E,CAG5B,OADA,KAAKlR,IAAIgR,GACFA,CACT,EAEAd,EAAAA,UAAAA,UAAA,WACE,IAAItE,EAMJ,OAJEA,EADE,KAAKhK,WACE,KAEA,KAAKxZ,IAAI,UAEbwjB,CACT,EAEAsE,EAAAA,UAAAA,SAAA,SAASzd,EAAWC,EAAW2e,GAE7B,IAAKvP,GAAe,MAClB,OAAO,KAET,IACIH,EADEyJ,EAAW,KAAKC,cAGtB,GAAK,KAAKzJ,WAQRD,EAAQ,KAAK2P,WAAWlG,EAAU3Y,EAAGC,EAAG2e,OARpB,CACpB,IAAIhwB,EAAI,CAACoR,EAAGC,EAAG,GAEfrR,EAAI,KAAKkwB,iBAAiBlwB,GACrB,KAAKmwB,UAAUnwB,EAAE,GAAIA,EAAE,MAC1BsgB,EAAQ,KAAK2P,WAAWlG,EAAU/pB,EAAE,GAAIA,EAAE,GAAIgwB,G,CAKlD,OAAO1P,CACT,EAEAuO,EAAAA,UAAAA,WAAA,SAAW9E,EAAsB3Y,EAAWC,EAAW2e,GAErD,IADA,IAAI1P,EAAQ,KACHriB,EAAI8rB,EAASruB,OAAS,EAAGuC,GAAK,EAAGA,IAAK,CAC7C,IAAMswB,EAAQxE,EAAS9rB,GAQvB,GAPIwiB,GAAe8N,KACbA,EAAMxB,UACRzM,EAASiO,EAAiB6B,SAAShf,EAAGC,EAAG2e,GAC/BzB,EAAiBhF,MAAMnY,EAAGC,KACpCiP,EAAQiO,IAGRjO,EACF,K,CAGJ,OAAOA,CACT,EAEAuO,EAAAA,UAAAA,IAAA,SAAInO,GACF,IAAM6J,EAAS,KAAKC,YACdT,EAAW,KAAKC,cAChBkB,EAAW,KAAKnkB,IAAI,YACpBspB,EAAY3P,EAAQF,YACtB6P,GACF7iB,GAAY6iB,EAAW3P,GAAS,GAElCA,EAAQrf,IAAI,SAAU,MAClBkpB,GACF+D,GAAU5N,EAAS6J,GAEjBW,GACFsD,GAAY9N,EAASwK,GAEvBnB,EAAS5sB,KAAKujB,GACdA,EAAQmJ,eAAe,OACvB,KAAKyG,oBAAoB5P,EAC3B,EAGAmO,EAAAA,UAAAA,oBAAA,SAAoBnO,GAClB,IAAMwJ,EAAc,KAAKqF,iBAErBrF,GACFxJ,EAAQgP,YAAYxF,EAExB,EAEA2E,EAAAA,UAAAA,YAAA,WACE,OAAO,KAAK9nB,IAAI,WAClB,EAEA8nB,EAAAA,UAAAA,KAAA,WACE,IAAM9E,EAAW,KAAKC,cAEtBlsB,EAAKisB,GAAU,SAACwE,EAAOlzB,GAErB,OADAkzB,EAAMF,IAAShzB,EACRkzB,CACT,IACAxE,EAASD,KACP2E,IAAY,SAAClQ,EAAMC,GACjB,OAAOD,EAAKxX,IAAI,UAAYyX,EAAKzX,IAAI,SACvC,KAEF,KAAK8iB,eAAe,OACtB,EAEAgF,EAAAA,UAAAA,MAAA,WAEE,GADA,KAAKxtB,IAAI,YAAY,IACjB,KAAK2O,UAAT,CAIA,IADA,IAAM+Z,EAAW,KAAKC,cACb/rB,EAAI8rB,EAASruB,OAAS,EAAGuC,GAAK,EAAGA,IACxC8rB,EAAS9rB,GAAGgsB,UAEd,KAAK5oB,IAAI,WAAY,IACrB,KAAKwoB,eAAe,SACpB,KAAKxoB,IAAI,YAAY,E,CACvB,EAEAwtB,EAAAA,UAAAA,QAAA,WACM,KAAK9nB,IAAI,eAGb,KAAKwpB,QACL7gB,EAAAA,UAAMua,QAAO,WACf,EAMA4E,EAAAA,UAAAA,SAAA,WACE,OAAO,KAAK2B,gBAAgB,EAC9B,EAMA3B,EAAAA,UAAAA,QAAA,WACE,IAAM9E,EAAW,KAAKC,cACtB,OAAO,KAAKwG,gBAAgBzG,EAASruB,OAAS,EAChD,EAMAmzB,EAAAA,UAAAA,gBAAA,SAAgBxzB,GACd,IAAM0uB,EAAW,KAAKC,cACtB,OAAOD,EAAS1uB,EAClB,EAMAwzB,EAAAA,UAAAA,SAAA,WACE,IAAM9E,EAAW,KAAKC,cACtB,OAAOD,EAASruB,MAClB,EAOAmzB,EAAAA,UAAAA,QAAA,SAAQnO,GACN,IAAMqJ,EAAW,KAAKC,cACtB,OAAOD,EAAShtB,QAAQ2jB,IAAY,CACtC,EAOAmO,EAAAA,UAAAA,YAAA,SAAYnO,EAAmBuJ,QAAA,QAAAA,GAAAA,GACzB,KAAKwG,QAAQ/P,IACfA,EAAQ5f,OAAOmpB,EAEnB,EAOA4E,EAAAA,UAAAA,QAAA,SAAQjuB,GACN,IAAI5C,EAAkB,GAChB+rB,EAAW,KAAKC,cAStB,OARAlsB,EAAKisB,GAAU,SAACrJ,GACV9f,EAAG8f,IACL1iB,EAAIb,KAAKujB,GAEPA,EAAQqM,YACV/uB,EAAMA,EAAIuB,OAAQmhB,EAAmBgQ,QAAQ9vB,IAEjD,IACO5C,CACT,EAOA6wB,EAAAA,UAAAA,KAAA,SAAKjuB,GACH,IAAI5C,EAAgB,KACd+rB,EAAW,KAAKC,cAWtB,OAVAlsB,EAAKisB,GAAU,SAACrJ,GAMd,GALI9f,EAAG8f,GACL1iB,EAAM0iB,EACGA,EAAQqM,YACjB/uB,EAAO0iB,EAAmB1hB,KAAK4B,IAE7B5C,EACF,OAAO,CAEX,IACOA,CACT,EAOA6wB,EAAAA,UAAAA,SAAA,SAAS/C,GACP,OAAO,KAAK9sB,MAAK,SAAC0hB,GAChB,OAAOA,EAAQ3Z,IAAI,QAAU+kB,CAC/B,GACF,EASA+C,EAAAA,UAAAA,gBAAA,SAAgB8B,GACd,OAAO,KAAK3xB,MAAK,SAAC0hB,GAChB,OAAOA,EAAQ3Z,IAAI,eAAiB4pB,CACtC,GACF,EAOA9B,EAAAA,UAAAA,cAAA,SAAcz1B,GACZ,OAAO,KAAKs3B,SAAQ,SAAChQ,GACnB,OAAOA,EAAQ3Z,IAAI,UAAY3N,CACjC,GACF,EACF,EA/ZA,CAAiC4L,IAiajC,MCpeI4rB,GAAQ,EACRxqB,GAAU,EACVyqB,GAAW,EACXC,GAAY,IAGZC,GAAY,EACZC,GAAW,EACXC,GAAY,EACZC,GAA+B,kBAAhBC,aAA4BA,YAAYnoB,IAAMmoB,YAAcpoB,KAC3EqoB,GAA6B,kBAAXhsB,QAAuBA,OAAOF,sBAAwBE,OAAOF,sBAAsBmsB,KAAKjsB,QAAU,SAASI,GAAKC,WAAWD,EAAG,GAAK,EAElJ,SAASwD,KACd,OAAOgoB,KAAaI,GAASE,IAAWN,GAAWE,GAAMloB,MAAQioB,GACnE,CAEA,SAASK,KACPN,GAAW,CACb,CAEO,SAASO,KACd/4B,KAAKg5B,MACLh5B,KAAKi5B,MACLj5B,KAAKk5B,MAAQ,IACf,CAyBO,SAASvG,GAAMnc,EAAUwZ,EAAOjtB,GACrC,IAAIoV,EAAI,IAAI4gB,GAEZ,OADA5gB,EAAEghB,QAAQ3iB,EAAUwZ,EAAOjtB,GACpBoV,CACT,CAEO,SAASihB,KACd5oB,OACE4nB,GACF,IAAkBiB,EAAdlhB,EAAIge,GACR,MAAOhe,GACAkhB,EAAIb,GAAWrgB,EAAE8gB,QAAU,GAAG9gB,EAAE6gB,MAAM/zB,KAAK,KAAMo0B,GACtDlhB,EAAIA,EAAE+gB,QAENd,EACJ,CAEA,SAASkB,KACPd,IAAYD,GAAYG,GAAMloB,OAASioB,GACvCL,GAAQxqB,GAAU,EAClB,IACEwrB,IAKF,CAJE,QACAhB,GAAQ,EACRmB,KACAf,GAAW,CACb,CACF,CAEA,SAASgB,KACP,IAAIhpB,EAAMkoB,GAAMloB,MAAOwf,EAAQxf,EAAM+nB,GACjCvI,EAAQsI,KAAWG,IAAazI,EAAOuI,GAAY/nB,EACzD,CAEA,SAAS+oB,KACP,IAAIE,EAAmBva,EAAfD,EAAKkX,GAAcpzB,EAAOwzB,IAClC,MAAOtX,EACDA,EAAG+Z,OACDj2B,EAAOkc,EAAGga,QAAOl2B,EAAOkc,EAAGga,OAC/BQ,EAAKxa,EAAIA,EAAKA,EAAGia,QAEjBha,EAAKD,EAAGia,MAAOja,EAAGia,MAAQ,KAC1Bja,EAAKwa,EAAKA,EAAGP,MAAQha,EAAKiX,GAAWjX,GAGzCkX,GAAWqD,EACXC,GAAM32B,EACR,CAEA,SAAS22B,GAAM32B,GACb,IAAIq1B,GAAJ,CACIxqB,KAASA,GAAUL,aAAaK,KACpC,IAAIoiB,EAAQjtB,EAAOy1B,GACfxI,EAAQ,IACNjtB,EAAOwzB,MAAU3oB,GAAUX,WAAWqsB,GAAMv2B,EAAO21B,GAAMloB,MAAQioB,KACjEJ,KAAUA,GAAWsB,cAActB,OAElCA,KAAUE,GAAYG,GAAMloB,MAAO6nB,GAAWuB,YAAYJ,GAAMlB,KACrEF,GAAQ,EAAGQ,GAASU,IARL,CAUnB,CC7Ge,YAASjtB,EAAawtB,EAAS/xB,GAC5CuE,EAAYvE,UAAY+xB,EAAQ/xB,UAAYA,EAC5CA,EAAUuE,YAAcA,CAC1B,CAEO,SAASytB,GAAO3jB,EAAQ4jB,GAC7B,IAAIjyB,EAAY/B,OAAO4mB,OAAOxW,EAAOrO,WACrC,IAAK,IAAIhF,KAAOi3B,EAAYjyB,EAAUhF,GAAOi3B,EAAWj3B,GACxD,OAAOgF,CACT,CCPO,SAASkyB,KAAS,CFwBzBjB,GAAMjxB,UAAY6qB,GAAM7qB,UAAY,CAClCuE,YAAa0sB,GACbI,QAAS,SAAS3iB,EAAUwZ,EAAOjtB,GACjC,GAAwB,oBAAbyT,EAAyB,MAAM,IAAIpI,UAAU,8BACxDrL,GAAgB,MAARA,EAAeyN,MAASzN,IAAkB,MAATitB,EAAgB,GAAKA,GACzDhwB,KAAKk5B,OAAS9C,KAAap2B,OAC1Bo2B,GAAUA,GAAS8C,MAAQl5B,KAC1Bm2B,GAAWn2B,KAChBo2B,GAAWp2B,MAEbA,KAAKg5B,MAAQxiB,EACbxW,KAAKi5B,MAAQl2B,EACb22B,IACF,EACAO,KAAM,WACAj6B,KAAKg5B,QACPh5B,KAAKg5B,MAAQ,KACbh5B,KAAKi5B,MAAQ1C,IACbmD,KAEJ,GE1CK,IAAIQ,GAAS,GACTC,GAAW,EAAID,GAEtBE,GAAM,sBACNC,GAAM,gDACNC,GAAM,iDACNC,GAAQ,qBACRC,GAAe,IAAI9lB,OAAO,UAAY,CAAC0lB,GAAKA,GAAKA,IAAO,QACxDK,GAAe,IAAI/lB,OAAO,UAAY,CAAC4lB,GAAKA,GAAKA,IAAO,QACxDI,GAAgB,IAAIhmB,OAAO,WAAa,CAAC0lB,GAAKA,GAAKA,GAAKC,IAAO,QAC/DM,GAAgB,IAAIjmB,OAAO,WAAa,CAAC4lB,GAAKA,GAAKA,GAAKD,IAAO,QAC/DO,GAAe,IAAIlmB,OAAO,UAAY,CAAC2lB,GAAKC,GAAKA,IAAO,QACxDO,GAAgB,IAAInmB,OAAO,WAAa,CAAC2lB,GAAKC,GAAKA,GAAKD,IAAO,QAE/DS,GAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXjnB,IAAK,SACLknB,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAASC,KACP,OAAOlkC,KAAKmkC,MAAMC,WACpB,CAEA,SAASC,KACP,OAAOC,GAAWtkC,MAAMukC,WAC1B,CAEA,SAASC,KACP,OAAOxkC,KAAKmkC,MAAMM,WACpB,CAEe,SAASC,GAAMC,GAC5B,IAAI35B,EAAGnB,EAEP,OADA86B,GAAUA,EAAS,IAAIC,OAAOt5B,eACtBN,EAAIuvB,GAAMhQ,KAAKoa,KAAY96B,EAAImB,EAAE,GAAG9H,OAAQ8H,EAAInJ,SAASmJ,EAAE,GAAI,IAAW,IAANnB,EAAUg7B,GAAK75B,GAC/E,IAANnB,EAAU,IAAIi7B,GAAK95B,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANnB,EAAUk7B,GAAK/5B,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANnB,EAAUk7B,GAAM/5B,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAIwvB,GAAajQ,KAAKoa,IAAW,IAAIG,GAAI95B,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAIyvB,GAAalQ,KAAKoa,IAAW,IAAIG,GAAW,IAAP95B,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAI0vB,GAAcnQ,KAAKoa,IAAWI,GAAK/5B,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAI2vB,GAAcpQ,KAAKoa,IAAWI,GAAY,IAAP/5B,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAI4vB,GAAarQ,KAAKoa,IAAWK,GAAKh6B,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAI6vB,GAActQ,KAAKoa,IAAWK,GAAKh6B,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxE8vB,GAAMj1B,eAAe8+B,GAAUE,GAAK/J,GAAM6J,IAC/B,gBAAXA,EAA2B,IAAIG,GAAIG,IAAKA,IAAKA,IAAK,GAClD,IACR,CAEA,SAASJ,GAAK95B,GACZ,OAAO,IAAI+5B,GAAI/5B,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,EAC1D,CAEA,SAASg6B,GAAKp8B,EAAGu8B,EAAGv6B,EAAGhE,GAErB,OADIA,GAAK,IAAGgC,EAAIu8B,EAAIv6B,EAAIs6B,KACjB,IAAIH,GAAIn8B,EAAGu8B,EAAGv6B,EAAGhE,EAC1B,CAEO,SAASw+B,GAAWj8B,GAEzB,OADMA,aAAa8wB,KAAQ9wB,EAAIw7B,GAAMx7B,IAChCA,GACLA,EAAIA,EAAEi7B,MACC,IAAIW,GAAI57B,EAAEP,EAAGO,EAAEg8B,EAAGh8B,EAAEyB,EAAGzB,EAAEqnB,UAFjB,IAAIuU,EAGrB,CAEO,SAASX,GAAIx7B,EAAGu8B,EAAGv6B,EAAG4lB,GAC3B,OAA4B,IAArBxiB,UAAU7K,OAAeiiC,GAAWx8B,GAAK,IAAIm8B,GAAIn8B,EAAGu8B,EAAGv6B,EAAc,MAAX4lB,EAAkB,EAAIA,EACzF,CAEO,SAASuU,GAAIn8B,EAAGu8B,EAAGv6B,EAAG4lB,GAC3BvwB,KAAK2I,GAAKA,EACV3I,KAAKklC,GAAKA,EACVllC,KAAK2K,GAAKA,EACV3K,KAAKuwB,SAAWA,CAClB,CA0BA,SAAS6U,KACP,MAAO,IAAMC,GAAIrlC,KAAK2I,GAAK08B,GAAIrlC,KAAKklC,GAAKG,GAAIrlC,KAAK2K,EACpD,CAEA,SAAS26B,KACP,IAAI3+B,EAAI3G,KAAKuwB,QACb,OADsB5pB,EAAIc,MAAMd,GAAK,EAAIQ,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGV,KACnD,IAANA,EAAU,OAAS,SACrBQ,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKgD,MAAMnK,KAAK2I,IAAM,IAAM,KACtDxB,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKgD,MAAMnK,KAAKklC,IAAM,IAAM,KACtD/9B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKgD,MAAMnK,KAAK2K,IAAM,KACzC,IAANhE,EAAU,IAAM,KAAOA,EAAI,IACpC,CAEA,SAAS0+B,GAAIvkC,GAEX,OADAA,EAAQqG,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKF,KAAKgD,MAAMrJ,IAAU,KAC/CA,EAAQ,GAAK,IAAM,IAAMA,EAAMgE,SAAS,GAClD,CAEA,SAASkgC,GAAK/uB,EAAGiC,EAAGrO,EAAGlD,GAIrB,OAHIA,GAAK,EAAGsP,EAAIiC,EAAIrO,EAAIo7B,IACfp7B,GAAK,GAAKA,GAAK,EAAGoM,EAAIiC,EAAI+sB,IAC1B/sB,GAAK,IAAGjC,EAAIgvB,KACd,IAAIM,GAAItvB,EAAGiC,EAAGrO,EAAGlD,EAC1B,CAEO,SAAS29B,GAAWp7B,GACzB,GAAIA,aAAaq8B,GAAK,OAAO,IAAIA,GAAIr8B,EAAE+M,EAAG/M,EAAEgP,EAAGhP,EAAEW,EAAGX,EAAEqnB,SAEtD,GADMrnB,aAAa8wB,KAAQ9wB,EAAIw7B,GAAMx7B,KAChCA,EAAG,OAAO,IAAIq8B,GACnB,GAAIr8B,aAAaq8B,GAAK,OAAOr8B,EAC7BA,EAAIA,EAAEi7B,MACN,IAAIx7B,EAAIO,EAAEP,EAAI,IACVu8B,EAAIh8B,EAAEg8B,EAAI,IACVv6B,EAAIzB,EAAEyB,EAAI,IACVtD,EAAMF,KAAKE,IAAIsB,EAAGu8B,EAAGv6B,GACrBvD,EAAMD,KAAKC,IAAIuB,EAAGu8B,EAAGv6B,GACrBsL,EAAIgvB,IACJ/sB,EAAI9Q,EAAMC,EACVwC,GAAKzC,EAAMC,GAAO,EAUtB,OATI6Q,GACajC,EAAXtN,IAAMvB,GAAU89B,EAAIv6B,GAAKuN,EAAc,GAATgtB,EAAIv6B,GAC7Bu6B,IAAM99B,GAAUuD,EAAIhC,GAAKuP,EAAI,GAC5BvP,EAAIu8B,GAAKhtB,EAAI,EACvBA,GAAKrO,EAAI,GAAMzC,EAAMC,EAAM,EAAID,EAAMC,EACrC4O,GAAK,IAELiC,EAAIrO,EAAI,GAAKA,EAAI,EAAI,EAAIoM,EAEpB,IAAIsvB,GAAItvB,EAAGiC,EAAGrO,EAAGX,EAAEqnB,QAC5B,CAEO,SAASiV,GAAIvvB,EAAGiC,EAAGrO,EAAG0mB,GAC3B,OAA4B,IAArBxiB,UAAU7K,OAAeohC,GAAWruB,GAAK,IAAIsvB,GAAItvB,EAAGiC,EAAGrO,EAAc,MAAX0mB,EAAkB,EAAIA,EACzF,CAEA,SAASgV,GAAItvB,EAAGiC,EAAGrO,EAAG0mB,GACpBvwB,KAAKiW,GAAKA,EACVjW,KAAKkY,GAAKA,EACVlY,KAAK6J,GAAKA,EACV7J,KAAKuwB,SAAWA,CAClB,CAwCA,SAASkV,GAAQxvB,EAAGwG,EAAIC,GACtB,OAGY,KAHJzG,EAAI,GAAKwG,GAAMC,EAAKD,GAAMxG,EAAI,GAChCA,EAAI,IAAMyG,EACVzG,EAAI,IAAMwG,GAAMC,EAAKD,IAAO,IAAMxG,GAAK,GACvCwG,EACR,CClXO,SAASipB,GAAMzmB,EAAI0mB,EAAIpX,EAAIC,EAAIoX,GACpC,IAAI1mB,EAAKD,EAAKA,EAAIsD,EAAKrD,EAAKD,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAIC,EAAKqD,GAAMojB,GAC9B,EAAI,EAAIzmB,EAAK,EAAIqD,GAAMgM,GACvB,EAAI,EAAItP,EAAK,EAAIC,EAAK,EAAIqD,GAAMiM,EACjCjM,EAAKqjB,GAAM,CACnB,CAEe,YAAS/gC,GACtB,IAAIkG,EAAIlG,EAAO3B,OAAS,EACxB,OAAO,SAASiV,GACd,IAAI1S,EAAI0S,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGpN,EAAI,GAAK5D,KAAKye,MAAMzN,EAAIpN,GAChEwjB,EAAK1pB,EAAOY,GACZ+oB,EAAK3pB,EAAOY,EAAI,GAChBkgC,EAAKlgC,EAAI,EAAIZ,EAAOY,EAAI,GAAK,EAAI8oB,EAAKC,EACtCoX,EAAKngC,EAAIsF,EAAI,EAAIlG,EAAOY,EAAI,GAAK,EAAI+oB,EAAKD,EAC9C,OAAOmX,IAAOvtB,EAAI1S,EAAIsF,GAAKA,EAAG46B,EAAIpX,EAAIC,EAAIoX,EAC5C,CACF,CChBe,YAAS/gC,GACtB,IAAIkG,EAAIlG,EAAO3B,OACf,OAAO,SAASiV,GACd,IAAI1S,EAAI0B,KAAKye,QAAQzN,GAAK,GAAK,IAAMA,EAAIA,GAAKpN,GAC1C46B,EAAK9gC,GAAQY,EAAIsF,EAAI,GAAKA,GAC1BwjB,EAAK1pB,EAAOY,EAAIsF,GAChByjB,EAAK3pB,GAAQY,EAAI,GAAKsF,GACtB66B,EAAK/gC,GAAQY,EAAI,GAAKsF,GAC1B,OAAO26B,IAAOvtB,EAAI1S,EAAIsF,GAAKA,EAAG46B,EAAIpX,EAAIC,EAAIoX,EAC5C,CACF,CCZe,YAAShtB,GACtB,OAAO,WACL,OAAOA,CACT,CACF,CCFA,SAASitB,GAAOl/B,EAAG+R,GACjB,OAAO,SAASP,GACd,OAAOxR,EAAIwR,EAAIO,CACjB,CACF,CAEA,SAASotB,GAAYn/B,EAAGgE,EAAGkO,GACzB,OAAOlS,EAAIQ,KAAKkb,IAAI1b,EAAGkS,GAAIlO,EAAIxD,KAAKkb,IAAI1X,EAAGkO,GAAKlS,EAAGkS,EAAI,EAAIA,EAAG,SAASV,GACrE,OAAOhR,KAAKkb,IAAI1b,EAAIwR,EAAIxN,EAAGkO,EAC7B,CACF,CAOO,SAASktB,GAAMltB,GACpB,OAAoB,KAAZA,GAAKA,GAAWmtB,GAAU,SAASr/B,EAAGgE,GAC5C,OAAOA,EAAIhE,EAAIm/B,GAAYn/B,EAAGgE,EAAGkO,GAAKotB,GAASx+B,MAAMd,GAAKgE,EAAIhE,EAChE,CACF,CAEe,SAASq/B,GAAQr/B,EAAGgE,GACjC,IAAI+N,EAAI/N,EAAIhE,EACZ,OAAO+R,EAAImtB,GAAOl/B,EAAG+R,GAAKutB,GAASx+B,MAAMd,GAAKgE,EAAIhE,EACpD,CJ6IAu/B,GAAOlM,GAAO0K,GAAO,CACnByB,KAAM,SAASC,GACb,OAAOrgC,OAAOsgC,OAAO,IAAIrmC,KAAKqM,YAAarM,KAAMomC,EACnD,EACAE,YAAa,WACX,OAAOtmC,KAAKmkC,MAAMmC,aACpB,EACAjB,IAAKnB,GACLE,UAAWF,GACXK,UAAWF,GACXI,UAAWD,GACX1/B,SAAU0/B,KA6DZ0B,GAAOpB,GAAKX,GAAKrK,GAAOE,GAAO,CAC7BG,SAAU,SAASv0B,GAEjB,OADAA,EAAS,MAALA,EAAYu0B,GAAWhzB,KAAKkb,IAAI8X,GAAUv0B,GACvC,IAAIk/B,GAAI9kC,KAAK2I,EAAI/C,EAAG5F,KAAKklC,EAAIt/B,EAAG5F,KAAK2K,EAAI/E,EAAG5F,KAAKuwB,QAC1D,EACA2J,OAAQ,SAASt0B,GAEf,OADAA,EAAS,MAALA,EAAYs0B,GAAS/yB,KAAKkb,IAAI6X,GAAQt0B,GACnC,IAAIk/B,GAAI9kC,KAAK2I,EAAI/C,EAAG5F,KAAKklC,EAAIt/B,EAAG5F,KAAK2K,EAAI/E,EAAG5F,KAAKuwB,QAC1D,EACA4T,IAAK,WACH,OAAOnkC,IACT,EACAsmC,YAAa,WACX,OAAS,IAAOtmC,KAAK2I,GAAK3I,KAAK2I,EAAI,QAC1B,IAAO3I,KAAKklC,GAAKllC,KAAKklC,EAAI,QAC1B,IAAOllC,KAAK2K,GAAK3K,KAAK2K,EAAI,OAC3B,GAAK3K,KAAKuwB,SAAWvwB,KAAKuwB,SAAW,CAC/C,EACA8U,IAAKD,GACLhB,UAAWgB,GACXX,UAAWa,GACXxgC,SAAUwgC,MAiEZY,GAAOX,GAAKC,GAAK1L,GAAOE,GAAO,CAC7BG,SAAU,SAASv0B,GAEjB,OADAA,EAAS,MAALA,EAAYu0B,GAAWhzB,KAAKkb,IAAI8X,GAAUv0B,GACvC,IAAI2/B,GAAIvlC,KAAKiW,EAAGjW,KAAKkY,EAAGlY,KAAK6J,EAAIjE,EAAG5F,KAAKuwB,QAClD,EACA2J,OAAQ,SAASt0B,GAEf,OADAA,EAAS,MAALA,EAAYs0B,GAAS/yB,KAAKkb,IAAI6X,GAAQt0B,GACnC,IAAI2/B,GAAIvlC,KAAKiW,EAAGjW,KAAKkY,EAAGlY,KAAK6J,EAAIjE,EAAG5F,KAAKuwB,QAClD,EACA4T,IAAK,WACH,IAAIluB,EAAIjW,KAAKiW,EAAI,IAAqB,KAAdjW,KAAKiW,EAAI,GAC7BiC,EAAIzQ,MAAMwO,IAAMxO,MAAMzH,KAAKkY,GAAK,EAAIlY,KAAKkY,EACzCrO,EAAI7J,KAAK6J,EACT6S,EAAK7S,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAKqO,EACjCuE,EAAK,EAAI5S,EAAI6S,EACjB,OAAO,IAAIooB,GACTW,GAAQxvB,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKwG,EAAIC,GAC1C+oB,GAAQxvB,EAAGwG,EAAIC,GACf+oB,GAAQxvB,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKwG,EAAIC,GACzC1c,KAAKuwB,QAET,EACA+V,YAAa,WACX,OAAQ,GAAKtmC,KAAKkY,GAAKlY,KAAKkY,GAAK,GAAKzQ,MAAMzH,KAAKkY,KACzC,GAAKlY,KAAK6J,GAAK7J,KAAK6J,GAAK,GACzB,GAAK7J,KAAKuwB,SAAWvwB,KAAKuwB,SAAW,CAC/C,EACAgU,UAAW,WACT,IAAI59B,EAAI3G,KAAKuwB,QACb,OADsB5pB,EAAIc,MAAMd,GAAK,EAAIQ,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGV,KACnD,IAANA,EAAU,OAAS,UACpB3G,KAAKiW,GAAK,GAAK,KACA,KAAfjW,KAAKkY,GAAK,GAAW,MACN,KAAflY,KAAK6J,GAAK,GAAW,KACf,IAANlD,EAAU,IAAM,KAAOA,EAAI,IACpC,KKpWF,OAAe,SAAU4/B,EAAS1tB,GAChC,IAAI6rB,EAAQqB,GAAMltB,GAElB,SAASsrB,EAAIpqB,EAAO2I,GAClB,IAAI/Z,EAAI+7B,GAAO3qB,EAAQysB,GAASzsB,IAAQpR,GAAI+Z,EAAM8jB,GAAS9jB,IAAM/Z,GAC7Du8B,EAAIR,EAAM3qB,EAAMmrB,EAAGxiB,EAAIwiB,GACvBv6B,EAAI+5B,EAAM3qB,EAAMpP,EAAG+X,EAAI/X,GACvB4lB,EAAUyV,GAAQjsB,EAAMwW,QAAS7N,EAAI6N,SACzC,OAAO,SAASpY,GAKd,OAJA4B,EAAMpR,EAAIA,EAAEwP,GACZ4B,EAAMmrB,EAAIA,EAAE/sB,GACZ4B,EAAMpP,EAAIA,EAAEwN,GACZ4B,EAAMwW,QAAUA,EAAQpY,GACjB4B,EAAQ,EACjB,CACF,CAIA,OAFAoqB,EAAI4B,MAAQQ,EAELpC,CACR,CApBD,CAoBG,GAEH,SAASsC,GAAUC,GACjB,OAAO,SAASC,GACd,IAIIlhC,EAAGi/B,EAJH35B,EAAI47B,EAAOzjC,OACXyF,EAAI,IAAIvD,MAAM2F,GACdm6B,EAAI,IAAI9/B,MAAM2F,GACdJ,EAAI,IAAIvF,MAAM2F,GAElB,IAAKtF,EAAI,EAAGA,EAAIsF,IAAKtF,EACnBi/B,EAAQ8B,GAASG,EAAOlhC,IACxBkD,EAAElD,GAAKi/B,EAAM/7B,GAAK,EAClBu8B,EAAEz/B,GAAKi/B,EAAMQ,GAAK,EAClBv6B,EAAElF,GAAKi/B,EAAM/5B,GAAK,EAMpB,OAJAhC,EAAI+9B,EAAO/9B,GACXu8B,EAAIwB,EAAOxB,GACXv6B,EAAI+7B,EAAO/7B,GACX+5B,EAAMnU,QAAU,EACT,SAASpY,GAId,OAHAusB,EAAM/7B,EAAIA,EAAEwP,GACZusB,EAAMQ,EAAIA,EAAE/sB,GACZusB,EAAM/5B,EAAIA,EAAEwN,GACLusB,EAAQ,EACjB,CACF,CACF,CAEsB+B,GAAUf,IACJe,GAAUG,ICtDvB,YAASjgC,EAAGgE,GACpBA,IAAGA,EAAI,IACZ,IAEIlF,EAFAsF,EAAIpE,EAAIQ,KAAKE,IAAIsD,EAAEzH,OAAQyD,EAAEzD,QAAU,EACvC8U,EAAIrN,EAAEe,QAEV,OAAO,SAASyM,GACd,IAAK1S,EAAI,EAAGA,EAAIsF,IAAKtF,EAAGuS,EAAEvS,GAAKkB,EAAElB,IAAM,EAAI0S,GAAKxN,EAAElF,GAAK0S,EACvD,OAAOH,CACT,CACF,CAEO,SAAS6uB,GAAcjuB,GAC5B,OAAOkuB,YAAYC,OAAOnuB,MAAQA,aAAaouB,SACjD,CCVe,YAASrgC,EAAGgE,GACzB,OAAQk8B,GAAcl8B,GAAKs8B,GAAcC,IAAcvgC,EAAGgE,EAC5D,CAEO,SAASu8B,GAAavgC,EAAGgE,GAC9B,IAIIlF,EAJA0hC,EAAKx8B,EAAIA,EAAEzH,OAAS,EACpBkkC,EAAKzgC,EAAIQ,KAAKE,IAAI8/B,EAAIxgC,EAAEzD,QAAU,EAClC0V,EAAI,IAAIxT,MAAMgiC,GACdpvB,EAAI,IAAI5S,MAAM+hC,GAGlB,IAAK1hC,EAAI,EAAGA,EAAI2hC,IAAM3hC,EAAGmT,EAAEnT,GAAK3E,GAAM6F,EAAElB,GAAIkF,EAAElF,IAC9C,KAAOA,EAAI0hC,IAAM1hC,EAAGuS,EAAEvS,GAAKkF,EAAElF,GAE7B,OAAO,SAAS0S,GACd,IAAK1S,EAAI,EAAGA,EAAI2hC,IAAM3hC,EAAGuS,EAAEvS,GAAKmT,EAAEnT,GAAG0S,GACrC,OAAOH,CACT,CACF,CCrBe,YAASrR,EAAGgE,GACzB,IAAI+N,EAAI,IAAInI,KACZ,OAAO5J,GAAKA,EAAGgE,GAAKA,EAAG,SAASwN,GAC9B,OAAOO,EAAE2uB,QAAQ1gC,GAAK,EAAIwR,GAAKxN,EAAIwN,GAAIO,CACzC,CACF,CCLe,YAAS/R,EAAGgE,GACzB,OAAOhE,GAAKA,EAAGgE,GAAKA,EAAG,SAASwN,GAC9B,OAAOxR,GAAK,EAAIwR,GAAKxN,EAAIwN,CAC3B,CACF,CCFe,YAASxR,EAAGgE,GACzB,IAEI/E,EAFAH,EAAI,CAAC,EACLuS,EAAI,CAAC,EAMT,IAAKpS,KAHK,OAANe,GAA2B,kBAANA,IAAgBA,EAAI,CAAC,GACpC,OAANgE,GAA2B,kBAANA,IAAgBA,EAAI,CAAC,GAEpCA,EACJ/E,KAAKe,EACPlB,EAAEG,GAAK9E,GAAM6F,EAAEf,GAAI+E,EAAE/E,IAErBoS,EAAEpS,GAAK+E,EAAE/E,GAIb,OAAO,SAASuS,GACd,IAAKvS,KAAKH,EAAGuS,EAAEpS,GAAKH,EAAEG,GAAGuS,GACzB,OAAOH,CACT,CACF,CCpBA,IAAIsvB,GAAM,8CACNC,GAAM,IAAI7yB,OAAO4yB,GAAI/hB,OAAQ,KAEjC,SAASiiB,GAAK78B,GACZ,OAAO,WACL,OAAOA,CACT,CACF,CAEA,SAAS88B,GAAI98B,GACX,OAAO,SAASwN,GACd,OAAOxN,EAAEwN,GAAK,EAChB,CACF,CAEe,YAASxR,EAAGgE,GACzB,IACI+8B,EACAC,EACAC,EAHAC,EAAKP,GAAIQ,UAAYP,GAAIO,UAAY,EAIrCriC,GAAK,EACLyS,EAAI,GACJD,EAAI,GAGRtR,GAAQ,GAAIgE,GAAQ,GAGpB,OAAQ+8B,EAAKJ,GAAI/c,KAAK5jB,MACdghC,EAAKJ,GAAIhd,KAAK5f,KACfi9B,EAAKD,EAAG9kC,OAASglC,IACpBD,EAAKj9B,EAAEe,MAAMm8B,EAAID,GACb1vB,EAAEzS,GAAIyS,EAAEzS,IAAMmiC,EACb1vB,IAAIzS,GAAKmiC,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxBzvB,EAAEzS,GAAIyS,EAAEzS,IAAMkiC,EACbzvB,IAAIzS,GAAKkiC,GAEdzvB,IAAIzS,GAAK,KACTwS,EAAEtT,KAAK,CAACc,EAAGA,EAAGmT,EAAG7W,GAAO2lC,EAAIC,MAE9BE,EAAKN,GAAIO,UAYX,OARID,EAAKl9B,EAAEzH,SACT0kC,EAAKj9B,EAAEe,MAAMm8B,GACT3vB,EAAEzS,GAAIyS,EAAEzS,IAAMmiC,EACb1vB,IAAIzS,GAAKmiC,GAKT1vB,EAAEhV,OAAS,EAAK+U,EAAE,GACnBwvB,GAAIxvB,EAAE,GAAGW,GACT4uB,GAAK78B,IACJA,EAAIsN,EAAE/U,OAAQ,SAASiV,GACtB,IAAK,IAAWjP,EAAPzD,EAAI,EAAMA,EAAIkF,IAAKlF,EAAGyS,GAAGhP,EAAI+O,EAAExS,IAAIA,GAAKyD,EAAE0P,EAAET,GACrD,OAAOD,EAAErG,KAAK,GAChB,EACR,CCrDe,YAASlL,EAAGgE,GACzB,IAAkBqN,EAAdG,SAAWxN,EACf,OAAY,MAALA,GAAmB,YAANwN,EAAkB8tB,GAASt7B,IAClC,WAANwN,EAAiBpW,GACZ,WAANoW,GAAmBH,EAAI0sB,GAAM/5B,KAAOA,EAAIqN,EAAGmsB,IAAO4D,GAClDp9B,aAAa+5B,GAAQP,GACrBx5B,aAAa4F,KAAOy3B,GACpBnB,GAAcl8B,GAAKs8B,GACnB7hC,MAAMC,QAAQsF,GAAKu8B,GACE,oBAAdv8B,EAAEs9B,SAAgD,oBAAft9B,EAAE7F,UAA2B2C,MAAMkD,GAAK6E,GAClFzN,IAAQ4E,EAAGgE,EACnB,CCrBO,SAASk7B,GAAO1tB,GACrB,OAAQA,CACV,CCFO,SAAS+vB,GAAO/vB,GACrB,OAAOA,EAAIA,CACb,CAEO,SAASgwB,GAAQhwB,GACtB,OAAOA,GAAK,EAAIA,EAClB,CAEO,SAASiwB,GAAUjwB,GACxB,QAASA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,CACvD,CCVO,SAASkwB,GAAQlwB,GACtB,OAAOA,EAAIA,EAAIA,CACjB,CAEO,SAASmwB,GAASnwB,GACvB,QAASA,EAAIA,EAAIA,EAAI,CACvB,CAEO,SAASowB,GAAWpwB,GACzB,QAASA,GAAK,IAAM,EAAIA,EAAIA,EAAIA,GAAKA,GAAK,GAAKA,EAAIA,EAAI,GAAK,CAC9D,CCVA,IAAIqwB,GAAW,EAEJC,GAAU,SAASC,EAAOrP,GAGnC,SAASoP,EAAOtwB,GACd,OAAOhR,KAAKkb,IAAIlK,EAAGkhB,EACrB,CAIA,OARAA,GAAKA,EAMLoP,EAAOD,SAAWE,EAEXD,CACT,CAVqB,CAUlBD,IAEQG,GAAW,SAASD,EAAOrP,GAGpC,SAASsP,EAAQxwB,GACf,OAAO,EAAIhR,KAAKkb,IAAI,EAAIlK,EAAGkhB,EAC7B,CAIA,OARAA,GAAKA,EAMLsP,EAAQH,SAAWE,EAEZC,CACT,CAVsB,CAUnBH,IAEQI,GAAa,SAASF,EAAOrP,GAGtC,SAASuP,EAAUzwB,GACjB,QAASA,GAAK,IAAM,EAAIhR,KAAKkb,IAAIlK,EAAGkhB,GAAK,EAAIlyB,KAAKkb,IAAI,EAAIlK,EAAGkhB,IAAM,CACrE,CAIA,OARAA,GAAKA,EAMLuP,EAAUJ,SAAWE,EAEdE,CACT,CAVwB,CAUrBJ,ICpCCtqB,GAAK/W,KAAK+D,GACV29B,GAAS3qB,GAAK,EAEX,SAAS4qB,GAAM3wB,GACpB,OAAe,KAANA,EAAW,EAAI,EAAIhR,KAAKiS,IAAIjB,EAAI0wB,GAC3C,CAEO,SAASE,GAAO5wB,GACrB,OAAOhR,KAAKoS,IAAIpB,EAAI0wB,GACtB,CAEO,SAASG,GAAS7wB,GACvB,OAAQ,EAAIhR,KAAKiS,IAAI8E,GAAK/F,IAAM,CAClC,CCZO,SAAS8wB,GAAKrwB,GACnB,OAA+C,oBAAvCzR,KAAKkb,IAAI,GAAI,GAAKzJ,GAAK,YACjC,CCDO,SAASswB,GAAM/wB,GACpB,OAAO8wB,GAAK,GAAK9wB,EACnB,CAEO,SAASgxB,GAAOhxB,GACrB,OAAO,EAAI8wB,GAAK9wB,EAClB,CAEO,SAASixB,GAASjxB,GACvB,QAASA,GAAK,IAAM,EAAI8wB,GAAK,EAAI9wB,GAAK,EAAI8wB,GAAK9wB,EAAI,IAAM,CAC3D,CCZO,SAASkxB,GAASlxB,GACvB,OAAO,EAAIhR,KAAKuU,KAAK,EAAIvD,EAAIA,EAC/B,CAEO,SAASmxB,GAAUnxB,GACxB,OAAOhR,KAAKuU,KAAK,KAAMvD,EAAIA,EAC7B,CAEO,SAASoxB,GAAYpxB,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAIhR,KAAKuU,KAAK,EAAIvD,EAAIA,GAAKhR,KAAKuU,KAAK,GAAKvD,GAAK,GAAKA,GAAK,GAAK,CACxF,CCVA,IAAIqxB,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,EAAI,EACTC,GAAK,EAAI,GACTC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,GAAK,GACVC,GAAK,EAAIT,GAAKA,GAEX,SAASU,GAAS/xB,GACvB,OAAO,EAAIgyB,GAAU,EAAIhyB,EAC3B,CAEO,SAASgyB,GAAUhyB,GACxB,OAAQA,GAAKA,GAAKqxB,GAAKS,GAAK9xB,EAAIA,EAAIA,EAAIuxB,GAAKO,IAAM9xB,GAAKsxB,IAAMtxB,EAAIwxB,GAAKxxB,EAAI0xB,GAAKI,IAAM9xB,GAAKyxB,IAAMzxB,EAAI2xB,GAAKG,IAAM9xB,GAAK4xB,IAAM5xB,EAAI6xB,EACjI,CAEO,SAASI,GAAYjyB,GAC1B,QAASA,GAAK,IAAM,EAAI,EAAIgyB,GAAU,EAAIhyB,GAAKgyB,GAAUhyB,EAAI,GAAK,GAAK,CACzE,CCrBA,IAAIkyB,GAAY,QAELC,GAAU,SAAS5B,EAAOxwB,GAGnC,SAASoyB,EAAOnyB,GACd,OAAQA,GAAKA,GAAKA,GAAKD,GAAKC,EAAI,GAAKA,EACvC,CAIA,OARAD,GAAKA,EAMLoyB,EAAOD,UAAY3B,EAEZ4B,CACT,CAVqB,CAUlBD,IAEQE,GAAW,SAAS7B,EAAOxwB,GAGpC,SAASqyB,EAAQpyB,GACf,QAASA,EAAIA,IAAMA,EAAI,GAAKD,EAAIC,GAAK,CACvC,CAIA,OARAD,GAAKA,EAMLqyB,EAAQF,UAAY3B,EAEb6B,CACT,CAVsB,CAUnBF,IAEQG,GAAa,SAAS9B,EAAOxwB,GAGtC,SAASsyB,EAAUryB,GACjB,QAASA,GAAK,GAAK,EAAIA,EAAIA,IAAMD,EAAI,GAAKC,EAAID,IAAMC,GAAK,GAAKA,IAAMD,EAAI,GAAKC,EAAID,GAAK,GAAK,CAC7F,CAIA,OARAA,GAAKA,EAMLsyB,EAAUH,UAAY3B,EAEf8B,CACT,CAVwB,CAUrBH,IClCCI,GAAM,EAAItjC,KAAK+D,GACfw/B,GAAY,EACZC,GAAS,GAEFC,GAAa,SAASlC,EAAO/hC,EAAGsJ,GACzC,IAAIiI,EAAI/Q,KAAK0U,KAAK,GAAKlV,EAAIQ,KAAKC,IAAI,EAAGT,MAAQsJ,GAAKw6B,IAEpD,SAASG,EAAUzyB,GACjB,OAAOxR,EAAIsiC,OAAS9wB,GAAMhR,KAAKoS,KAAKrB,EAAIC,GAAKlI,EAC/C,CAKA,OAHA26B,EAAUF,UAAY,SAAS/jC,GAAK,OAAO+hC,EAAO/hC,EAAGsJ,EAAIw6B,GAAM,EAC/DG,EAAUD,OAAS,SAAS16B,GAAK,OAAOy4B,EAAO/hC,EAAGsJ,EAAI,EAE/C26B,CACT,CAXwB,CAWrBF,GAAWC,IAEHE,GAAc,SAASnC,EAAO/hC,EAAGsJ,GAC1C,IAAIiI,EAAI/Q,KAAK0U,KAAK,GAAKlV,EAAIQ,KAAKC,IAAI,EAAGT,MAAQsJ,GAAKw6B,IAEpD,SAASI,EAAW1yB,GAClB,OAAO,EAAIxR,EAAIsiC,GAAK9wB,GAAKA,GAAKhR,KAAKoS,KAAKpB,EAAID,GAAKjI,EACnD,CAKA,OAHA46B,EAAWH,UAAY,SAAS/jC,GAAK,OAAO+hC,EAAO/hC,EAAGsJ,EAAIw6B,GAAM,EAChEI,EAAWF,OAAS,SAAS16B,GAAK,OAAOy4B,EAAO/hC,EAAGsJ,EAAI,EAEhD46B,CACT,CAXyB,CAWtBH,GAAWC,IAEHG,GAAgB,SAASpC,EAAO/hC,EAAGsJ,GAC5C,IAAIiI,EAAI/Q,KAAK0U,KAAK,GAAKlV,EAAIQ,KAAKC,IAAI,EAAGT,MAAQsJ,GAAKw6B,IAEpD,SAASK,EAAa3yB,GACpB,QAASA,EAAQ,EAAJA,EAAQ,GAAK,EACpBxR,EAAIsiC,IAAM9wB,GAAKhR,KAAKoS,KAAKrB,EAAIC,GAAKlI,GAClC,EAAItJ,EAAIsiC,GAAK9wB,GAAKhR,KAAKoS,KAAKrB,EAAIC,GAAKlI,IAAM,CACnD,CAKA,OAHA66B,EAAaJ,UAAY,SAAS/jC,GAAK,OAAO+hC,EAAO/hC,EAAGsJ,EAAIw6B,GAAM,EAClEK,EAAaH,OAAS,SAAS16B,GAAK,OAAOy4B,EAAO/hC,EAAGsJ,EAAI,EAElD66B,CACT,CAb2B,CAaxBJ,GAAWC,ICrCRI,GAAwB,GAMxB,SAAUC,GAAUhmC,GAExB,OAAO+lC,GAAW/lC,EAAKsG,gBAAkB2/B,EAAOjmC,EAClD,CAOM,SAAUkmC,GAAelmC,EAAcmmC,GAC3CJ,GAAW/lC,EAAKsG,eAAiB6/B,CACnC,CC1BO,IAAMC,GAAc,SAACC,GAAS,OAAC,OAAQ,SAAU,YAAa,eAAeC,SAASD,EAAxD,EAExBE,GAAkB,SAACviC,GAAQ,6BAAuByL,KAAKzL,EAA5B,ECOlCwiC,GAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GASjD,SAASC,GAAQ3jB,EAAiBgI,EAAsBpK,GACtD,IAAMgmB,EAAS,GACP,EAAuB5b,EAAS,UAArBP,EAAYO,EAAS,QACxC,IAAIhI,EAAMtQ,UAAV,CAGA,IAAIm0B,EACJ,IAAK,IAAM/lC,KAAK2pB,EACd,IAAKtgB,GAAQugB,EAAU5pB,GAAI2pB,EAAQ3pB,IACjC,GAAU,SAANA,EAAc,CAChB,IAAIuhB,EAASoI,EAAQ3pB,GACjBshB,EAAWsI,EAAU5pB,GACrBuhB,EAAOjkB,OAASgkB,EAAShkB,QAC3BikB,EAASykB,GAAyBrc,EAAQ3pB,IAC1CshB,EAAW0kB,GAAyBpc,EAAU5pB,IAC9CshB,EAAW0kB,GAAwB1kB,EAAUC,GAC7CD,EAAW0kB,GAAoB1kB,EAAUC,GACzC2I,EAAUN,UAAUrf,KAAO+W,EAC3B4I,EAAUP,QAAQpf,KAAOgX,GACf2I,EAAU0D,gBACpBrM,EAASykB,GAAyBrc,EAAQ3pB,IAC1CshB,EAAW0kB,GAAyBpc,EAAU5pB,IAC9CshB,EAAW0kB,GAAoB1kB,EAAUC,GACzC2I,EAAUN,UAAUrf,KAAO+W,EAC3B4I,EAAUP,QAAQpf,KAAOgX,EACzB2I,EAAU0D,eAAgB,GAE5BkY,EAAO9lC,GAAK,GACZ,IAAK,IAAIH,EAAI,EAAGA,EAAI0hB,EAAOjkB,OAAQuC,IAAK,CAItC,IAHA,IAAMomC,EAAc1kB,EAAO1hB,GACrBqmC,EAAgB5kB,EAASzhB,GACzBsmC,EAAa,GACVhjC,EAAI,EAAGA,EAAI8iC,EAAY3oC,OAAQ6F,IAClCuB,GAASuhC,EAAY9iC,KAAO+iC,GAAiBxhC,GAASwhC,EAAc/iC,KACtE4iC,EAASK,GAAYF,EAAc/iC,GAAI8iC,EAAY9iC,IACnDgjC,EAAWpnC,KAAKgnC,EAAOjmB,KAEvBqmB,EAAWpnC,KAAKknC,EAAY9iC,IAGhC2iC,EAAO9lC,GAAGjB,KAAKonC,E,OAEZ,GAAU,WAANnmC,EAAgB,CAKzB,IAAMqmC,EAAWC,GAAiB1c,EAAU5pB,IAAM4lC,GAAiBjc,EAAQ3pB,IAAM4lC,IAC3E7Z,EAAgBsa,EAASvmB,GAC/BgmB,EAAO9lC,GAAK+rB,C,MACHyZ,GAAYxlC,IAAM2lC,GAAgBhc,EAAQ3pB,IACnD8lC,EAAO9lC,GAAK2pB,EAAQ3pB,GACVK,EAAWspB,EAAQ3pB,MAE7B+lC,EAASK,GAAYxc,EAAU5pB,GAAI2pB,EAAQ3pB,IAC3C8lC,EAAO9lC,GAAK+lC,EAAOjmB,IAIzBoC,EAAM6H,KAAK+b,E,CACb,CASA,SAASS,GAAOrkB,EAAiBgI,EAAsBsc,GAC7C,IAKJ1mB,EALI,EAAqBoK,EAAS,UAAnBE,EAAUF,EAAS,MAEtC,GAAIsc,EAAUnc,EAAYD,GAASF,EAAU8D,QAC3C,OAAO,EAGT,IAAM3xB,EAAW6tB,EAAU7tB,SACrBgxB,EAASnD,EAAUmD,OACnBkY,EAASH,GAAU/X,GAIzB,GADAmZ,EAAUA,EAAUnc,EAAYH,EAAUE,MACtCF,EAAU+C,OAEZnN,EAAS0mB,EAAUnqC,EAAYA,EAC/ByjB,EAAQylB,EAAOzlB,OACV,CAEL,GADAA,EAAQ0mB,EAAUnqC,IACdyjB,EAAQ,GAUV,OALIoK,EAAUC,QACZjI,EAAM6H,KAAKG,EAAUC,QAAQ,IAE7BjI,EAAM6H,KAAKG,EAAUP,UAEhB,EARP7J,EAAQylB,EAAOzlB,E,CAWnB,GAAIoK,EAAUC,QAAS,CACrB,IAAM3vB,EAAQ0vB,EAAUC,QAAQrK,GAChCoC,EAAM6H,KAAKvvB,E,MAEXqrC,GAAQ3jB,EAAOgI,EAAWpK,GAE5B,OAAO,CACT,CAEA,kBA0BE,WAAYqM,GAhBZ,eAAwB,GAKxB,aAAkB,EAKlB,WAAuB,KAOrB,KAAKA,OAASA,CAChB,CA+FF,OA1FEsa,EAAAA,UAAAA,UAAA,eAEMvkB,EACA+H,EACAC,EAJN,OACMwc,GAAa,EAIjB,KAAK3Z,MAAQ4Z,IAAc,SAACH,GAE1B,GADAr1B,EAAK+c,QAAUsY,EACXr1B,EAAKy1B,UAAUtpC,OAAS,EAAG,CAC7B,IAAK,IAAIuC,EAAIsR,EAAKy1B,UAAUtpC,OAAS,EAAGuC,GAAK,EAAGA,IAE9C,GADAqiB,EAAQ/Q,EAAKy1B,UAAU/mC,GACnBqiB,EAAMtQ,UAERT,EAAK01B,eAAehnC,OAFtB,CAKA,IAAKqiB,EAAM4kB,kBAAmB,CAC5B7c,EAAa/H,EAAMvZ,IAAI,cACvB,IAAK,IAAIxF,EAAI8mB,EAAW3sB,OAAS,EAAG6F,GAAK,EAAGA,IAC1C+mB,EAAYD,EAAW9mB,GACvBujC,EAAaH,GAAOrkB,EAAOgI,EAAWsc,GAClCE,IACFzc,EAAW9nB,OAAOgB,EAAG,GACrBujC,GAAa,EACTxc,EAAUtZ,UACZsZ,EAAUtZ,W,CAKQ,IAAtBqZ,EAAW3sB,QACb6T,EAAK01B,eAAehnC,E,CAGxB,IAAMknC,EAAW51B,EAAKgb,OAAOxjB,IAAI,YAE5Bo+B,GACH51B,EAAKgb,OAAO6a,M,CAGlB,GACF,EAKAP,EAAAA,UAAAA,YAAA,SAAYvkB,GACV,KAAK0kB,UAAU7nC,KAAKmjB,EACtB,EAKAukB,EAAAA,UAAAA,eAAA,SAAexpC,GACb,KAAK2pC,UAAUzkC,OAAOlF,EAAO,EAC/B,EAKAwpC,EAAAA,UAAAA,YAAA,WACE,QAAS,KAAKG,UAAUtpC,MAC1B,EAKAmpC,EAAAA,UAAAA,KAAA,WACM,KAAK1Z,OACP,KAAKA,MAAMsH,MAEf,EAMAoS,EAAAA,UAAAA,kBAAA,SAAkB3Y,QAAA,QAAAA,GAAAA,GAChB,KAAK8Y,UAAU/8B,SAAQ,SAACo9B,GACtBA,EAASC,YAAYpZ,EACvB,IACA,KAAK8Y,UAAY,GACjB,KAAKza,OAAO6a,MACd,EAKAP,EAAAA,UAAAA,QAAA,WACE,OAAO,KAAKvY,OACd,EACF,EA3HA,GA6HA,MCtPMiZ,GAAe,GACfC,GAAgB,EAGhBC,GAAS,CACb,YACA,UACA,WACA,WACA,YACA,YACA,aACA,aACA,aACA,YACA,WACA,YACA,WACA,YACA,OACA,cACA,cAcF,SAASC,GAAgB5qC,EAAQ0C,EAAM+uB,GACrCA,EAASnzB,KAAOoE,EAChB+uB,EAASzxB,OAASA,EAClByxB,EAASa,cAAgBtyB,EACzByxB,EAASc,eAAiBvyB,EAC1BA,EAAOyyB,KAAK/vB,EAAM+uB,EACpB,CAGA,SAASoZ,GAAYv4B,EAAW5P,EAAM+uB,GACpC,GAAIA,EAASqZ,QAAS,CACpB,IAAIpZ,OAAa,EACbqZ,GAAc,EASlB,GARa,eAATroC,GACFgvB,EAAgBD,EAASK,UACzBiZ,GAAc,GACI,eAATroC,IACTqoC,GAAc,EACdrZ,EAAgBD,EAASM,SAGvBzf,EAAUmT,YAAcslB,EAC1B,OAGF,GAAIrZ,GAAiBnM,GAASjT,EAAWof,GAGvC,YADAD,EAASqZ,SAAU,GAIrBrZ,EAASnzB,KAAOoE,EAChB+uB,EAASa,cAAgBhgB,EACzBmf,EAASc,eAAiBjgB,EAC1BA,EAAUmgB,KAAK/vB,EAAM+uB,E,CAEzB,CAEA,kBAYE,WAAY9c,GAAZ,WARQ,mBAAwB,KACxB,eAAoB,EAEpB,kBAAuB,KACvB,oBAAyB,KACzB,oBAAiB,KAsDzB,oBAAiB,SAACugB,GAChB,IAAMxyB,EAAOwyB,EAAGxyB,KAChB+R,EAAKu2B,cAActoC,EAAMwyB,EAC3B,EAiEA,qBAAkB,SAACA,GACjB,IAAMzF,EAAShb,EAAKgb,OACdwb,EAAKxb,EAAOxjB,IAAI,MACtB,GAAIg/B,IAAO/V,EAAGl1B,SAERyU,EAAKy2B,UAAYz2B,EAAK02B,cAAc,CACtC,IAAMC,EAAY32B,EAAK42B,cAAcnW,GAEjCzgB,EAAKy2B,UACPz2B,EAAK62B,WAAW,OAAQpW,EAAIkW,EAAW32B,EAAK82B,c,CAUpD,EAEA,wBAAqB,SAACrW,GACpB,IAAMzF,EAAShb,EAAKgb,OACdwb,EAAKxb,EAAOxjB,IAAI,MACtB,GAAIg/B,IAAO/V,EAAGl1B,QAERyU,EAAKy2B,SAAU,CACjB,IAAME,EAAY32B,EAAK42B,cAAcnW,GACjCzgB,EAAK82B,eAEP92B,EAAK62B,WAAW,OAAQpW,EAAIkW,EAAW,MAEzC32B,EAAK62B,WAAW,UAAWpW,EAAIkW,EAAW32B,EAAK82B,eAC/C92B,EAAK+2B,WAAW/2B,EAAK82B,cAAeH,EAAWlW,E,CAGrD,EA1JE,KAAKzF,OAAS9a,EAAI8a,MACpB,CAiWF,OA/VEgc,EAAAA,UAAAA,KAAA,WACE,KAAKC,aACP,EAGAD,EAAAA,UAAAA,YAAA,sBACQR,EAAK,KAAKxb,OAAOxjB,IAAI,MAC3BjJ,EAAK2nC,IAAQ,SAACtY,GACZ4Y,EAAGU,iBAAiBtZ,EAAW5d,EAAKm3B,eACtC,IAEIz8B,WAGFA,SAASw8B,iBAAiB,YAAa,KAAKE,iBAE5C18B,SAASw8B,iBAAiB,UAAW,KAAKG,oBAE9C,EAGAL,EAAAA,UAAAA,aAAA,sBACQR,EAAK,KAAKxb,OAAOxjB,IAAI,MAC3BjJ,EAAK2nC,IAAQ,SAACtY,GACZ4Y,EAAGc,oBAAoB1Z,EAAW5d,EAAKm3B,eACzC,IACIz8B,WACFA,SAAS48B,oBAAoB,YAAa,KAAKF,iBAC/C18B,SAAS48B,oBAAoB,UAAW,KAAKD,oBAEjD,EAEAL,EAAAA,UAAAA,aAAA,SAAa/oC,EAAMoiB,EAAOknB,EAAOhsC,EAAQ8xB,EAAWC,GAClD,IAAMN,EAAW,IAAIxM,GAAWviB,EAAMoiB,GAUtC,OATA2M,EAASK,UAAYA,EACrBL,EAASM,QAAUA,EACnBN,EAASnb,EAAI01B,EAAM11B,EACnBmb,EAASlb,EAAIy1B,EAAMz1B,EACnBkb,EAASwa,QAAUD,EAAMC,QACzBxa,EAASya,QAAUF,EAAME,QAEzBza,EAASG,gBAAgBvvB,KAAKrC,GAEvByxB,CACT,EASAga,EAAAA,UAAAA,UAAA,SAAUO,EAAO9W,GACf,OAAO,KAAKzF,OAAO6F,SAAS0W,EAAM11B,EAAG01B,EAAMz1B,EAAG2e,EAChD,EAEAuW,EAAAA,UAAAA,cAAA,SAAcvW,GACZ,IAAMzF,EAAS,KAAKA,OACd0c,EAAc1c,EAAO2c,iBAAiBlX,GACtC8W,EAAQvc,EAAO4c,gBAAgBnX,GACrC,MAAO,CACL5e,EAAG01B,EAAM11B,EACTC,EAAGy1B,EAAMz1B,EACT01B,QAASE,EAAY71B,EACrB41B,QAASC,EAAY51B,EAEzB,EAGAk1B,EAAAA,UAAAA,cAAA,SAAc/oC,EAAMwyB,GAClB,IAAMkW,EAAY,KAAKC,cAAcnW,GAE/B1P,EAAQ,KAAK8mB,UAAUlB,EAAWlW,GAClC7qB,EAAS,KAAK,MAAM3H,GACtB6pC,GAAc,EAClB,GAAIliC,EACFA,EAAO1H,KAAK,KAAMyoC,EAAW5lB,EAAO0P,OAC/B,CACL,IAAMsX,EAAW,KAAKrB,aAET,eAATzoC,GAAkC,cAATA,GAAiC,cAATA,GACnD,KAAK4oC,WAAW5oC,EAAMwyB,EAAIkW,EAAW,KAAM,KAAM5lB,GAC7CA,GACF,KAAK8lB,WAAW5oC,EAAMwyB,EAAIkW,EAAW5lB,EAAO,KAAMA,GAEvC,eAAT9iB,GAAyB,KAAK6oC,eAEhC,KAAKD,WAAW,YAAapW,EAAIkW,EAAW,OAE5B,eAAT1oC,GAAkC,cAATA,GAAiC,aAATA,GAC1D6pC,GAAc,EACVC,GACF,KAAKlB,WAAW5oC,EAAMwyB,EAAIkW,EAAWoB,EAAUA,EAAU,MAE3D,KAAKlB,WAAW5oC,EAAMwyB,EAAIkW,EAAW,KAAMoB,EAAU,MACxC,eAAT9pC,GAAyB,KAAK6oC,eAChC,KAAKD,WAAW,YAAapW,EAAIkW,EAAW,OAG9C,KAAKE,WAAW5oC,EAAMwyB,EAAIkW,EAAW5lB,EAAO,KAAM,K,CAOtD,GAJK+mB,IACH,KAAKpB,aAAe3lB,GAGlBA,IAAUA,EAAMvZ,IAAI,aAAc,CACpC,IAAMwjB,EAAS,KAAKA,OACdwb,EAAKxb,EAAOxjB,IAAI,MACtBg/B,EAAGp4B,MAAM45B,OAASjnB,EAAM6H,KAAK,WAAaoC,EAAOxjB,IAAI,S,CAEzD,EA0CAw/B,EAAAA,UAAAA,aAAA,SAAaL,EAAW5lB,EAAOV,GAEzBA,EAAM4nB,SAAWhC,KACnB,KAAKiC,eAAiBnnB,EACtB,KAAKonB,eAAiBxB,EACtB,KAAKyB,mBAAqB/nB,EAAME,WAElC,KAAKsmB,WAAW,YAAaxmB,EAAOsmB,EAAW5lB,EAAO,KAAM,KAC9D,EAIAimB,EAAAA,UAAAA,qBAAA,SAAqB3mB,EAAOsmB,EAAWtZ,EAAWC,GAChD,IAAMkZ,EAAK,KAAKxb,OAAOxjB,IAAI,MACvB6lB,IAAcC,IACZD,IACF,KAAKwZ,WAAW,WAAYxmB,EAAOsmB,EAAWtZ,EAAWA,EAAWC,GACpE,KAAKuZ,WAAW,aAAcxmB,EAAOsmB,EAAWtZ,EAAWA,EAAWC,GAEjEA,IAAWA,EAAQ9lB,IAAI,eAC1Bg/B,EAAGp4B,MAAM45B,OAAS,KAAKhd,OAAOxjB,IAAI,YAGlC8lB,IACF,KAAKuZ,WAAW,YAAaxmB,EAAOsmB,EAAWrZ,EAASD,EAAWC,GACnE,KAAKuZ,WAAW,aAAcxmB,EAAOsmB,EAAWrZ,EAASD,EAAWC,IAG1E,EAEA0Z,EAAAA,UAAAA,oBAAA,SAAoB3mB,EAAOsmB,EAAWtZ,EAAWC,EAAS+a,GACpD/a,GACEA,IAAYD,IACVA,GACF,KAAKwZ,WAAW,YAAaxmB,EAAOsmB,EAAWtZ,EAAWA,EAAWC,GAEvE,KAAKuZ,WAAW,YAAaxmB,EAAOsmB,EAAWrZ,EAASD,EAAWC,IAEhE+a,GACH,KAAKxB,WAAW,WAAYxmB,EAAOsmB,EAAWrZ,IAEvCD,GAGT,KAAKwZ,WAAW,YAAaxmB,EAAOsmB,EAAWtZ,EAAWA,EAAWC,GAGnE+a,GACF,KAAKxB,WAAW,WAAYxmB,EAAOsmB,EAAWrZ,EAElD,EAGA0Z,EAAAA,UAAAA,WAAA,SAAWF,EAAeH,EAAWtmB,GAC/BymB,IACFA,EAAchlC,IAAI,WAAW,GAC7B,KAAKglC,cAAgB,MAEvB,KAAKL,UAAW,EAEhB,IAAM1lB,EAAQ,KAAK8mB,UAAUlB,EAAWtmB,GAEpCU,IAAU+lB,GACZ,KAAKwB,qBAAqBjoB,EAAOsmB,EAAWG,EAAe/lB,GAE7D,KAAK2lB,aAAe3lB,CACtB,EAEAimB,EAAAA,UAAAA,WAAA,SAAWL,EAAW5lB,EAAOV,GAG3B,GAAIA,EAAM4nB,SAAWhC,GAAe,CAClC,IAAMa,EAAgB,KAAKA,cACvB,KAAKL,UAEHK,GACF,KAAKD,WAAW,OAAQxmB,EAAOsmB,EAAW5lB,GAE5C,KAAK8lB,WAAW,UAAWxmB,EAAOsmB,EAAWG,GAC7C,KAAKC,WAAWD,EAAeH,EAAWtmB,KAE1C,KAAKwmB,WAAW,UAAWxmB,EAAOsmB,EAAW5lB,GACzCA,IAAU,KAAKmnB,gBACjB,KAAKrB,WAAW,QAASxmB,EAAOsmB,EAAW5lB,GAE7C,KAAKmnB,eAAiB,KACtB,KAAKC,eAAiB,K,CAG5B,EAGAnB,EAAAA,UAAAA,YAAA,SAAYL,EAAW5lB,EAAOV,GAC5BA,EAAMK,iBACN,IAAMqnB,EAAW,KAAKrB,aACtB,KAAK6B,oBAAoBloB,EAAOsmB,EAAWoB,EAAUhnB,GAAO,EAC9D,EAGAimB,EAAAA,UAAAA,aAAA,SAAaL,EAAW5lB,EAAOV,GAC7B,IAAM2K,EAAS,KAAKA,OACd+c,EAAW,KAAKrB,aAClBI,EAAgB,KAAKA,cAEzB,GAAI,KAAKL,SAEHK,GAEF,KAAKyB,oBAAoBloB,EAAOsmB,EAAWoB,EAAUhnB,GAAO,GAI9D,KAAK8lB,WAAW,OAAQxmB,EAAOsmB,EAAWG,OACrC,CACL,IAAMqB,EAAiB,KAAKA,eAC5B,GAAIA,EAAgB,CAElB,IAAMD,EAAiB,KAAKA,eACtBz+B,EAAM4W,EAAME,UACZioB,EAAa/+B,EAAM,KAAK2+B,mBACxBK,EAAKN,EAAeX,QAAUb,EAAUa,QACxCkB,EAAKP,EAAeV,QAAUd,EAAUc,QACxC9/B,EAAO8gC,EAAKA,EAAKC,EAAKA,EACxBF,EAAa,KAAO7gC,EAAOq+B,GACzBkC,GAAkBA,EAAe1gC,IAAI,cAEvCs/B,EAAgB,KAAKoB,eACrBpB,EAAchlC,IAAI,WAAW,GAC7B,KAAKglC,cAAgBA,EACrB,KAAKL,UAAW,EAChB,KAAKI,WAAW,YAAaxmB,EAAOsmB,EAAWG,GAE/C,KAAKoB,eAAiB,KACtB,KAAKC,eAAiB,OACZD,GAAkBld,EAAOxjB,IAAI,cAEvC,KAAKi/B,UAAW,EAChB,KAAKI,WAAW,YAAaxmB,EAAOsmB,EAAW,MAE/C,KAAKuB,eAAiB,KACtB,KAAKC,eAAiB,OAEtB,KAAKG,qBAAqBjoB,EAAOsmB,EAAWoB,EAAUhnB,GACtD,KAAK8lB,WAAW,YAAaxmB,EAAOsmB,EAAW5lB,KAGjD,KAAKunB,qBAAqBjoB,EAAOsmB,EAAWoB,EAAUhnB,GACtD,KAAK8lB,WAAW,YAAaxmB,EAAOsmB,EAAW5lB,G,MAIjD,KAAKunB,qBAAqBjoB,EAAOsmB,EAAWoB,EAAUhnB,GAEtD,KAAK8lB,WAAW,YAAaxmB,EAAOsmB,EAAW5lB,E,CAGrD,EAGAimB,EAAAA,UAAAA,WAAA,SAAW/oC,EAAMoiB,EAAOsmB,EAAW5lB,EAAOsM,EAAYC,GACpD,IAAMN,EAAW,KAAK2b,aAAa1qC,EAAMoiB,EAAOsmB,EAAW5lB,EAAOsM,EAAWC,GAE7E,GAAIvM,EAAO,CACTiM,EAASjM,MAAQA,EAEjBolB,GAAgBplB,EAAO9iB,EAAM+uB,GAC7B,IAAI4b,EAAS7nB,EAAME,YAEnB,MAAO2nB,EAELA,EAAOC,eAAe5qC,EAAM+uB,GAEvBA,EAASrM,oBACZylB,GAAYwC,EAAQ3qC,EAAM+uB,GAE5BA,EAASG,gBAAgBvvB,KAAKgrC,GAC9BA,EAASA,EAAO3nB,W,KAEb,CAEL,IAAM+J,EAAS,KAAKA,OAEpBmb,GAAgBnb,EAAQ/sB,EAAM+uB,E,CAElC,EAEAga,EAAAA,UAAAA,QAAA,WAEE,KAAK8B,eAEL,KAAK9d,OAAS,KACd,KAAK0b,aAAe,KACpB,KAAKI,cAAgB,KACrB,KAAKqB,eAAiB,KACtB,KAAKD,eAAiB,KACtB,KAAKE,mBAAqB,IAC5B,EACF,EA/WA,GAiXA,MCzbMW,GAAY,KAEZ1lB,GAAUV,KACVqmB,GAAY3lB,IAA4B,YAAjBA,GAAQxpB,KAErC,eACE,WAAYqW,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAKi5B,gBACLj5B,EAAKk5B,UACLl5B,EAAKm5B,aACLn5B,EAAKo5B,e,CACP,CA4NF,OAnO8B/4B,EAAAA,EAAAA,IAAAA,EAAAA,GAS5Bg5B,EAAAA,UAAAA,cAAA,WACE,IAAMn5B,EAAMC,EAAAA,UAAMmR,cAAa,WAK/B,OAHApR,EAAI,UAAY,UAEhBA,EAAI,wBAAyB,EACtBA,CACT,EAMAm5B,EAAAA,UAAAA,cAAA,WACE,IAAIx7B,EAAY,KAAKrG,IAAI,aACrBY,GAASyF,KACXA,EAAYnD,SAAS4+B,eAAez7B,GACpC,KAAK/L,IAAI,YAAa+L,GAE1B,EAMAw7B,EAAAA,UAAAA,QAAA,WACE,IAAM7C,EAAK,KAAK/4B,YAChB,KAAK3L,IAAI,KAAM0kC,GAEf,IAAM34B,EAAY,KAAKrG,IAAI,aAC3BqG,EAAU07B,YAAY/C,GAEtB,KAAKgD,WAAW,KAAKhiC,IAAI,SAAU,KAAKA,IAAI,UAC9C,EAYA6hC,EAAAA,UAAAA,WAAA,WACE,IAAMI,EAAkB,IAAIzC,GAAgB,CAC1Chc,OAAQ,OAEVye,EAAgBnoC,OAChB,KAAKQ,IAAI,kBAAmB2nC,EAC9B,EAMAJ,EAAAA,UAAAA,aAAA,WACE,IAAM1d,EAAW,IAAI2Z,GAAS,MAC9B,KAAKxjC,IAAI,WAAY6pB,EACvB,EAQA0d,EAAAA,UAAAA,WAAA,SAAWr+B,EAAe2D,GACxB,IAAM63B,EAAK,KAAKh/B,IAAI,MAChBqZ,KACF2lB,EAAGp4B,MAAMpD,MAAQA,EAAQ+9B,GACzBvC,EAAGp4B,MAAMO,OAASA,EAASo6B,GAE/B,EAGAM,EAAAA,UAAAA,WAAA,SAAWr+B,EAAe2D,GACxB,KAAK66B,WAAWx+B,EAAO2D,GACvB,KAAK7M,IAAI,QAASkJ,GAClB,KAAKlJ,IAAI,SAAU6M,GACnB,KAAK2b,eAAe,aACtB,EAMA+e,EAAAA,UAAAA,YAAA,WACE,OAAO,KAAK7hC,IAAI,WAClB,EAMA6hC,EAAAA,UAAAA,UAAA,WACE,OAAO,KAAK7hC,IAAI,SAClB,EAMA6hC,EAAAA,UAAAA,UAAA,SAAUrB,GACR,KAAKlmC,IAAI,SAAUkmC,GACnB,IAAMxB,EAAK,KAAKh/B,IAAI,MAChBqZ,IAAa2lB,IAEfA,EAAGp4B,MAAM45B,OAASA,EAEtB,EAGAqB,EAAAA,UAAAA,gBAAA,SAAgB5Y,GACd,IAAMiZ,EAAsB,KAAKliC,IAAI,uBACrC,GAAIkiC,EAAqB,CAEvB,GAAIV,KAAc7qC,EAAOsyB,EAAWkZ,SAAYlZ,EAAWkZ,SAAYlZ,EAAkBmZ,QACvF,MAAO,CACL/3B,EAAI4e,EAAWkZ,OACf73B,EAAI2e,EAAWoZ,QAGnB,IAAK1rC,EAAOsyB,EAAkBmZ,SAE5B,MAAO,CACL/3B,EAAI4e,EAAkBmZ,QACtB93B,EAAI2e,EAAkBqZ,Q,CAMtB,MAA6B,KAAKnC,iBAAiBlX,GAA9C+W,EAAO,IAAKC,EAAO,IAC9B,OAAO,KAAKsC,iBAAiBvC,EAASC,EACxC,EAGA4B,EAAAA,UAAAA,iBAAA,SAAiB5Y,GACf,IAAIuZ,EAAiCvZ,EAQrC,OAPKA,EAAkBwZ,UAEnBD,EADc,aAAZvZ,EAAGxyB,KACSwyB,EAAkByZ,eAAe,GAEjCzZ,EAAkBwZ,QAAQ,IAGrC,CACLp4B,EAAGm4B,EAAWxC,QACd11B,EAAGk4B,EAAWvC,QAElB,EAGA4B,EAAAA,UAAAA,iBAAA,SAAiB7B,EAAiBC,GAChC,IAAMjB,EAAK,KAAKh/B,IAAI,MACdyS,EAAOusB,EAAG2D,wBAChB,MAAO,CACLt4B,EAAG21B,EAAUvtB,EAAKwD,KAClB3L,EAAG21B,EAAUxtB,EAAKmwB,IAEtB,EAGAf,EAAAA,UAAAA,iBAAA,SAAiBx3B,EAAWC,GAC1B,IAAM00B,EAAK,KAAKh/B,IAAI,MACdyS,EAAOusB,EAAG2D,wBAChB,MAAO,CACLt4B,EAAGA,EAAIoI,EAAKwD,KACZ3L,EAAGA,EAAImI,EAAKmwB,IAEhB,EAGAf,EAAAA,UAAAA,KAAA,WAAQ,EAMRA,EAAAA,UAAAA,UAAA,WACE,IAAM7C,EAAK,KAAKh/B,IAAI,MACpBg/B,EAAGn3B,WAAWpB,YAAYu4B,EAC5B,EAMA6C,EAAAA,UAAAA,YAAA,WACE,IAAMI,EAAkB,KAAKjiC,IAAI,mBACjCiiC,EAAgB/e,SAClB,EAEA2e,EAAAA,UAAAA,SAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,UAAA,WACE,OAAO,IACT,EAEAA,EAAAA,UAAAA,QAAA,WACE,IAAM1d,EAAW,KAAKnkB,IAAI,YACtB,KAAKA,IAAI,eAGb,KAAKwpB,QAEDrF,GAEFA,EAASuH,OAEX,KAAKmX,cACL,KAAKl7B,YACLgB,EAAAA,UAAMua,QAAO,WACf,EACF,EAnOA,CAA8B4E,IAqO9B,MC/OA,4B,8CAmBA,QAnBqCjf,EAAAA,EAAAA,IAAAA,EAAAA,GACnCi6B,EAAAA,UAAAA,QAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,cAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,MAAA,WAIE,IAHA,IAAM7jC,EAAQ0J,EAAAA,UAAM1J,MAAK,WAEnB+jB,EAAW,KAAKC,cACb/rB,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IAAK,CACxC,IAAMswB,EAAQxE,EAAS9rB,GACvB+H,EAAM2Y,IAAI4P,EAAMvoB,Q,CAElB,OAAOA,CACT,EACF,EAnBA,CAAqC6oB,IAqBrC,MCpBA,eACE,WAAYpf,G,OACVC,EAAAA,KAAAA,KAAMD,IAAI,IACZ,CA0JF,OA7JqCG,EAAAA,EAAAA,IAAAA,EAAAA,GAMnCk6B,EAAAA,UAAAA,UAAA,SAAU3gB,EAAMC,GACd,IAAM5P,EAAO,KAAK6V,UAClB,OAAO7V,EAAKsV,MAAQ3F,GAAQ3P,EAAKwV,MAAQ7F,GAAQ3P,EAAKyV,MAAQ7F,GAAQ5P,EAAK0V,MAAQ9F,CACrF,EAOA0gB,EAAAA,UAAAA,iBAAA,SAAiBpgB,GACfha,EAAAA,UAAMwZ,iBAAgB,UAACQ,GACvB,KAAKqgB,gBACP,EAEAD,EAAAA,UAAAA,QAAA,WACE,IAAItwB,EAAO,KAAK/J,IAAI+J,KAKpB,OAJKA,IACHA,EAAO,KAAKwwB,gBACZ,KAAK3oC,IAAI,OAAQmY,IAEZA,CACT,EAEAswB,EAAAA,UAAAA,cAAA,WACE,IAAIG,EAAa,KAAKx6B,IAAIw6B,WAK1B,OAJKA,IACHA,EAAa,KAAKC,sBAClB,KAAK7oC,IAAI,aAAc4oC,IAElBA,CACT,EAQAH,EAAAA,UAAAA,YAAA,SAAYljB,GACVlX,EAAAA,UAAMggB,YAAW,UAAC9I,GAElB,KAAKvlB,IAAI,aAAc,KACzB,EAMAyoC,EAAAA,UAAAA,oBAAA,WACE,IAAMtwB,EAAO,KAAK6V,UACZnF,EAAc,KAAKqF,iBACnB,EAA2B/V,EAAI,KAAzByV,EAAqBzV,EAAI,KAAnBwV,EAAexV,EAAI,KAAb0V,EAAS1V,EAAI,KACrC,GAAI0Q,EAAa,CACf,IAAMigB,EAAU5iB,GAAa2C,EAAa,CAAC1Q,EAAKsV,KAAMtV,EAAKyV,OACrDmb,EAAW7iB,GAAa2C,EAAa,CAAC1Q,EAAKwV,KAAMxV,EAAKyV,OACtDob,EAAa9iB,GAAa2C,EAAa,CAAC1Q,EAAKsV,KAAMtV,EAAK0V,OACxDob,EAAc/iB,GAAa2C,EAAa,CAAC1Q,EAAKwV,KAAMxV,EAAK0V,OAC/DJ,EAAOnvB,KAAKE,IAAIsqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEtb,EAAOrvB,KAAKC,IAAIuqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpErb,EAAOtvB,KAAKE,IAAIsqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEpb,EAAOvvB,KAAKC,IAAIuqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,G,CAEtE,IAAM1xC,EAAQ,KAAKA,MAEnB,GAAIA,EAAM2xC,YAAa,CACb,MAAyD3xC,EAAK,WAA9D4xC,OAAU,MAAG,EAAC,EAAE9e,EAAyC9yB,EAAK,cAA9C6xC,OAAa,MAAG,EAAC,EAAEhyC,EAAsBG,EAAK,cAA3B8xC,OAAa,MAAG,EAAC,EACtDC,EAAa7b,EAAO0b,EAAaC,EACjCG,EAAc5b,EAAOwb,EAAaC,EAClCI,EAAY5b,EAAOub,EAAaE,EAChCI,EAAe5b,EAAOsb,EAAaE,EACzC5b,EAAOnvB,KAAKE,IAAIivB,EAAM6b,GACtB3b,EAAOrvB,KAAKC,IAAIovB,EAAM4b,GACtB3b,EAAOtvB,KAAKE,IAAIovB,EAAM4b,GACtB3b,EAAOvvB,KAAKC,IAAIsvB,EAAM4b,E,CAExB,MAAO,CACL15B,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,EAMA6a,EAAAA,UAAAA,eAAA,WACE,KAAKzoC,IAAI,OAAQ,MACjB,KAAKA,IAAI,aAAc,KACzB,EAGAyoC,EAAAA,UAAAA,YAAA,WACE,OAAO,KAAK/iC,IAAI,cAClB,EASA+iC,EAAAA,UAAAA,UAAA,SAAU3gB,EAAcC,GACtB,OAAO,CACT,EAOA0gB,EAAAA,UAAAA,aAAA,WACE,OAAO,CACT,EAGAA,EAAAA,UAAAA,MAAA,SAAM14B,EAAWC,GACf,IAAM05B,EAAkB,KAAKhkC,IAAI,mBAC3BikC,EAAgB,KAAKjkC,IAAI,iBAC3Bkf,EAAM,CAAC7U,EAAGC,EAAG,GACjB4U,EAAM,KAAKiK,iBAAiBjK,GACrB,MAAcA,EAAG,GAAXmD,EAAQnD,EAAG,GAClBglB,EAAS,KAAKC,UAAU/hB,EAAMC,GAEpC,GAAI,KAAK+hB,eACP,OAAOF,EAGT,GAAIA,IAAW,KAAK9a,UAAUhH,EAAMC,GAAO,CAEzC,GAAI,KAAKgiB,UAAUjiB,EAAMC,GACvB,OAAO,EAGT,GAAI2hB,GAAmBA,EAAgBxhB,MAAMJ,EAAMC,GACjD,OAAO,EAGT,GAAI4hB,GAAiBA,EAAczhB,MAAMJ,EAAMC,GAC7C,OAAO,C,CAGX,OAAO,CACT,EACF,EA7JA,CAAqCpkB,IA+JrC,MChKM/D,GAAgC,IAAIC,IAOpC,SAAUmqC,GAAS7tC,EAAc2H,GACrClE,GAAMI,IAAI7D,EAAM2H,EAClB,CAMM,SAAUmmC,GAAU9tC,GACxB,OAAOyD,GAAM8F,IAAIvJ,EACnB,CCjBc,YAAW8iB,GACvB,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAwBvvB,EAAK,EAA1ByY,EAAqBzY,EAAK,EAAvB2R,EAAkB3R,EAAK,MAAhBsV,EAAWtV,EAAK,OACrC,MAAO,CACLwY,EAAC,EACDC,EAAC,EACD9G,MAAK,EACL2D,OAAM,EAEV,CCTc,YAAWoS,GACjB,MAAcA,EAAM6H,OAAlB/W,EAAC,IAAEC,EAAC,IAAElQ,EAAC,IACf,MAAO,CACLiQ,EAAGA,EAAIjQ,EACPkQ,EAAGA,EAAIlQ,EACPoJ,MAAW,EAAJpJ,EACP+M,OAAY,EAAJ/M,EAEZ,CCTA,SAASoqC,GAAOhpC,GACd,OAAO5C,KAAKE,IAAI4G,MAAM,KAAMlE,EAC9B,CAEA,SAASipC,GAAOjpC,GACd,OAAO5C,KAAKC,IAAI6G,MAAM,KAAMlE,EAC9B,CAUM,SAAUgjB,GAAS5T,EAAYG,EAAYD,EAAYG,GAC3D,IAAMg2B,EAAKr2B,EAAKE,EACVo2B,EAAKn2B,EAAKE,EAChB,OAAOrS,KAAKuU,KAAK8zB,EAAKA,EAAKC,EAAKA,EAClC,CAEM,SAAU/kC,GAAc6jB,EAAYC,GACxC,OAAOrnB,KAAK0D,IAAI0jB,EAAKC,GAAM,IAC7B,CAEM,SAAUykB,GAAetc,EAAgBC,GAC7C,IAAMN,EAAOyc,GAAOpc,GACdF,EAAOsc,GAAOnc,GACdJ,EAAOwc,GAAOrc,GACdD,EAAOsc,GAAOpc,GACpB,MAAO,CACLhe,EAAG0d,EACHzd,EAAG4d,EACH1kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,CAWM,SAAUyc,GAAMr4B,GACpB,OAAQA,EAAkB,EAAV1T,KAAK+D,KAAqB,EAAV/D,KAAK+D,GACvC,CChDA,QASEgW,IAAA,SAAI/H,EAAYG,EAAYD,EAAYG,GACtC,OAAOy5B,GAAe,CAAC95B,EAAIE,GAAK,CAACC,EAAIE,GACvC,EASAtW,OAAA,SAAOiW,EAAYG,EAAYD,EAAYG,GACzC,OAAOuT,GAAS5T,EAAIG,EAAID,EAAIG,EAC9B,EAUA25B,QAAA,SAAQh6B,EAAYG,EAAYD,EAAYG,EAAYrB,GACtD,MAAO,CACLS,GAAI,EAAIT,GAAKgB,EAAKhB,EAAIkB,EACtBR,GAAI,EAAIV,GAAKmB,EAAKnB,EAAIqB,EAE1B,EAWA45B,cAAA,SAAcj6B,EAAYG,EAAYD,EAAYG,EAAYZ,EAAWC,GAGvE,IAAMw6B,GAASh6B,EAAKF,IAAOP,EAAIO,IAAOK,EAAKF,IAAOT,EAAIS,GACtD,GAAI+5B,EAAQ,EACV,OAAOtmB,GAAS5T,EAAIG,EAAIV,EAAGC,GAE7B,IAAMy6B,GAAgBj6B,EAAKF,IAAOE,EAAKF,IAAOK,EAAKF,IAAOE,EAAKF,GAC/D,OAAI+5B,EAAQC,EACHvmB,GAAS1T,EAAIG,EAAIZ,EAAGC,GAEtB,KAAK06B,YAAYp6B,EAAIG,EAAID,EAAIG,EAAIZ,EAAGC,EAC7C,EAWA06B,YAAA,SAAYp6B,EAAYG,EAAYD,EAAYG,EAAYZ,EAAWC,GACrE,IAAMH,EAAI,CAACW,EAAKF,EAAIK,EAAKF,GAEzB,GAAIsV,GAAiBlW,EAAG,CAAC,EAAG,IAC1B,OAAOvR,KAAKuU,MAAM9C,EAAIO,IAAOP,EAAIO,IAAON,EAAIS,IAAOT,EAAIS,IAEzD,IAAMlB,EAAI,EAAEM,EAAE,GAAIA,EAAE,IACpBkW,GAAexW,EAAGA,GAClB,IAAMzR,EAAI,CAACiS,EAAIO,EAAIN,EAAIS,GACvB,OAAOnS,KAAK0D,IAAI+jB,GAASjoB,EAAGyR,GAC9B,EASAo7B,aAAA,SAAar6B,EAAYG,EAAYD,EAAYG,GAC/C,OAAOrS,KAAKsb,MAAMjJ,EAAKF,EAAID,EAAKF,EAClC,GC7FIs6B,GAAU,KASV,SAAUC,GACd/c,EACAC,EACAhe,EACAC,EACA86B,EACAzwC,GAEA,IAAIiV,EACAO,EAAI6d,IACFoP,EAAiB,CAAC/sB,EAAGC,GAEvB+6B,EAAS,GACT1wC,GAAUA,EAAS,MACrB0wC,EAAS1wC,EAAS,IAMpB,IAJA,IAAM2wC,EAAe,EAAID,EAErBvb,EAAWwb,EAAe,GAErBpuC,EAAI,EAAGA,GAAKmuC,EAAQnuC,IAAK,CAChC,IAAMquC,EAAKruC,EAAIouC,EACTtlB,EAAiB,CAAColB,EAAU1lC,MAAM,KAAM0oB,EAAK5vB,OAAO,CAAC+sC,KAAOH,EAAU1lC,MAAM,KAAM2oB,EAAK7vB,OAAO,CAAC+sC,MAE/FC,EAAKhnB,GAAS4Y,EAAG,GAAIA,EAAG,GAAIpX,EAAG,GAAIA,EAAG,IACxCwlB,EAAKr7B,IACPP,EAAI27B,EACJp7B,EAAIq7B,E,CAIR,GAAU,IAAN57B,EACF,MAAO,CACLS,EAAG+d,EAAK,GACR9d,EAAG+d,EAAK,IAGZ,GAAU,IAANze,EAAS,CACX,IAAM2M,EAAQ6R,EAAKzzB,OACnB,MAAO,CACL0V,EAAG+d,EAAK7R,EAAQ,GAChBjM,EAAG+d,EAAK9R,EAAQ,G,CAGpBpM,EAAI6d,IAEJ,IAAS9wB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,GAAI4yB,EAAWob,GACb,MAGF,IAAMxsC,EAAOkR,EAAIkgB,EACX2b,EAAO77B,EAAIkgB,EAEX9J,EAAK,CAAColB,EAAU1lC,MAAM,KAAM0oB,EAAK5vB,OAAO,CAACE,KAAS0sC,EAAU1lC,MAAM,KAAM2oB,EAAK7vB,OAAO,CAACE,MAErF8sC,EAAKhnB,GAAS4Y,EAAG,GAAIA,EAAG,GAAIpX,EAAG,GAAIA,EAAG,IAC5C,GAAItnB,GAAQ,GAAK8sC,EAAKr7B,EACpBP,EAAIlR,EACJyR,EAAIq7B,MACC,CACL,IAAMvlB,EAAK,CAACmlB,EAAU1lC,MAAM,KAAM0oB,EAAK5vB,OAAO,CAACitC,KAASL,EAAU1lC,MAAM,KAAM2oB,EAAK7vB,OAAO,CAACitC,MACrFC,EAAKlnB,GAAS4Y,EAAG,GAAIA,EAAG,GAAInX,EAAG,GAAIA,EAAG,IACxCwlB,GAAQ,GAAKC,EAAKv7B,GACpBP,EAAI67B,EACJt7B,EAAIu7B,GAEJ5b,GAAY,E,EAKlB,MAAO,CACLzf,EAAG+6B,EAAU1lC,MAAM,KAAM0oB,EAAK5vB,OAAO,CAACoR,KACtCU,EAAG86B,EAAU1lC,MAAM,KAAM2oB,EAAK7vB,OAAO,CAACoR,KAE1C,CAGM,SAAU+7B,GAAWvd,EAAgBC,GAGzC,IAFA,IAAIud,EAAc,EACZrvB,EAAQ6R,EAAKzzB,OACVuC,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAMmT,EAAI+d,EAAKlxB,GACToT,EAAI+d,EAAKnxB,GACT2uC,EAAQzd,GAAMlxB,EAAI,GAAKqf,GACvBuvB,EAAQzd,GAAMnxB,EAAI,GAAKqf,GAC7BqvB,GAAepnB,GAASnU,EAAGC,EAAGu7B,EAAOC,E,CAEvC,OAAOF,EAAc,CACvB,CChGA,SAASG,GAAYC,EAAYz1B,EAAY9B,EAAY7E,GACvD,IAAMq8B,EAAO,EAAIr8B,EACjB,OAAOq8B,EAAOA,EAAOD,EAAK,EAAIp8B,EAAIq8B,EAAO11B,EAAK3G,EAAIA,EAAI6E,CACxD,CAGA,SAASy3B,GAAQF,EAAYz1B,EAAY9B,GACvC,IAAMrW,EAAI4tC,EAAKv3B,EAAK,EAAI8B,EACxB,GAAIpU,GAAc/D,EAAG,GACnB,MAAO,CAAC,IAEV,IAAMnB,GAAO+uC,EAAKz1B,GAAMnY,EACxB,OAAInB,GAAO,GAAKA,GAAO,EACd,CAACA,GAEH,EACT,CAEA,SAASkvC,GAAaH,EAAYz1B,EAAY9B,EAAY7E,GACxD,OAAO,GAAK,EAAIA,IAAM2G,EAAKy1B,GAAM,EAAIp8B,GAAK6E,EAAK8B,EACjD,CAGA,SAAS61B,GAAgBx7B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYlH,GAE/F,IAAMy8B,EAAKN,GAAYn7B,EAAIE,EAAI+F,EAAIjH,GAC7B08B,EAAKP,GAAYh7B,EAAIE,EAAI6F,EAAIlH,GAG7B28B,EAAgBC,GAAAA,QAAa57B,EAAIG,EAAID,EAAIG,EAAIrB,GAE7C68B,EAAgBD,GAAAA,QAAa17B,EAAIG,EAAI4F,EAAIC,EAAIlH,GACnD,MAAO,CACL,CAACgB,EAAIG,EAAIw7B,EAAcl8B,EAAGk8B,EAAcj8B,EAAG+7B,EAAIC,GAC/C,CAACD,EAAIC,EAAIG,EAAcp8B,EAAGo8B,EAAcn8B,EAAGuG,EAAIC,GAEnD,CAGA,SAAS41B,GACP97B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACA61B,GAEA,GAAuB,IAAnBA,EACF,OAAQnoB,GAAS5T,EAAIG,EAAID,EAAIG,GAAMuT,GAAS1T,EAAIG,EAAI4F,EAAIC,GAAM0N,GAAS5T,EAAIG,EAAI8F,EAAIC,IAAO,EAE5F,IAAM81B,EAAaR,GAAgBx7B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAI,IACrDmF,EAAO2wB,EAAW,GAClB1wB,EAAQ0wB,EAAW,GAGzB,OAFA3wB,EAAK7f,KAAKuwC,EAAiB,GAC3BzwB,EAAM9f,KAAKuwC,EAAiB,GACrBD,GAAgBhnC,MAAM,KAAMuW,GAAQywB,GAAgBhnC,MAAM,KAAMwW,EACzE,CAEA,QACEvD,IAAA,SAAI/H,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,GAC9D,IAAM+1B,EAAWX,GAAQt7B,EAAIE,EAAI+F,GAAI,GAC/Bi2B,EAAWZ,GAAQn7B,EAAIE,EAAI6F,GAAI,GAE/BsX,EAAO,CAACxd,EAAIiG,GACZwX,EAAO,CAACtd,EAAI+F,GAOlB,YANiBla,IAAbiwC,GACFze,EAAKhyB,KAAK2vC,GAAYn7B,EAAIE,EAAI+F,EAAIg2B,SAEnBjwC,IAAbkwC,GACFze,EAAKjyB,KAAK2vC,GAAYh7B,EAAIE,EAAI6F,EAAIg2B,IAE7BpC,GAAetc,EAAMC,EAC9B,EACA1zB,OAAA,SAAOiW,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,GACjE,OAAO41B,GAAgB97B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAI,EACjD,EACAq0B,aAAA,SAAav6B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYY,EAAYC,GAC/F,OAAOwzB,GAAa,CAACv6B,EAAIE,EAAI+F,GAAK,CAAC9F,EAAIE,EAAI6F,GAAKY,EAAIC,EAAIo0B,GAC1D,EACAlB,cAAA,SAAcj6B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYY,EAAYC,GAChG,IAAMouB,EAAQ,KAAKoF,aAAav6B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIY,EAAIC,GAC5D,OAAO6M,GAASuhB,EAAM11B,EAAG01B,EAAMz1B,EAAGoH,EAAIC,EACxC,EACAo1B,gBAAiBhB,GACjBnB,QAAA,SAAQh6B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYlH,GAC9E,MAAO,CACLS,EAAG07B,GAAYn7B,EAAIE,EAAI+F,EAAIjH,GAC3BU,EAAGy7B,GAAYh7B,EAAIE,EAAI6F,EAAIlH,GAE/B,EACAo9B,OAAA,SAAOp8B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYlH,GAC7E,OAAOw8B,GAAgBx7B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIlH,EACjD,EACAq7B,aAAA,SAAar6B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYlH,GACnF,IAAMq3B,EAAKkF,GAAav7B,EAAIE,EAAI+F,EAAIjH,GAC9Bs3B,EAAKiF,GAAap7B,EAAIE,EAAI6F,EAAIlH,GAC9B0C,EAAQ1T,KAAKsb,MAAMgtB,EAAID,GAC7B,OAAO0D,GAAMr4B,EACf,GCpGF,SAAS26B,GAAQjB,EAAYz1B,EAAY9B,EAAY+B,EAAY5G,GAC/D,IAAMq8B,EAAO,EAAIr8B,EACjB,OAAOq8B,EAAOA,EAAOA,EAAOD,EAAK,EAAIz1B,EAAK3G,EAAIq8B,EAAOA,EAAO,EAAIx3B,EAAK7E,EAAIA,EAAIq8B,EAAOz1B,EAAK5G,EAAIA,EAAIA,CACnG,CAEA,SAASu8B,GAAaH,EAAYz1B,EAAY9B,EAAY+B,EAAY5G,GACpE,IAAMq8B,EAAO,EAAIr8B,EACjB,OAAO,GAAKq8B,EAAOA,GAAQ11B,EAAKy1B,GAAM,EAAIC,EAAOr8B,GAAK6E,EAAK8B,GAAM3G,EAAIA,GAAK4G,EAAK/B,GACjF,CAEA,SAASy3B,GAAQF,EAAYz1B,EAAY9B,EAAY+B,GACnD,IAIIE,EACAC,EACAu2B,EANE9uC,GAAK,EAAI4tC,EAAK,EAAIz1B,EAAK,EAAI9B,EAAK,EAAI+B,EACpCpU,EAAI,EAAI4pC,EAAK,GAAKz1B,EAAK,EAAI9B,EAC3BhF,EAAI,EAAI8G,EAAK,EAAIy1B,EACjBmB,EAAW,GAKjB,GAAIhrC,GAAc/D,EAAG,GACd+D,GAAcC,EAAG,KACpBsU,GAAMjH,EAAIrN,EACNsU,GAAM,GAAKA,GAAM,GACnBy2B,EAAS/wC,KAAKsa,QAGb,CACL,IAAM02B,EAAOhrC,EAAIA,EAAI,EAAIhE,EAAIqR,EACzBtN,GAAcirC,EAAM,GACtBD,EAAS/wC,MAAMgG,GAAK,EAAIhE,IACfgvC,EAAO,IAChBF,EAAWtuC,KAAKuU,KAAKi6B,GACrB12B,IAAOtU,EAAI8qC,IAAa,EAAI9uC,GAC5BuY,IAAOvU,EAAI8qC,IAAa,EAAI9uC,GACxBsY,GAAM,GAAKA,GAAM,GACnBy2B,EAAS/wC,KAAKsa,GAEZC,GAAM,GAAKA,GAAM,GACnBw2B,EAAS/wC,KAAKua,G,CAIpB,OAAOw2B,CACT,CAGA,SAASE,GACPz8B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACApH,GAGA,IAAMy8B,EAAKY,GAAQr8B,EAAIE,EAAI+F,EAAIE,EAAInH,GAC7B08B,EAAKW,GAAQl8B,EAAIE,EAAI6F,EAAIE,EAAIpH,GAE7B+D,EAAK64B,GAAAA,QAAa57B,EAAIG,EAAID,EAAIG,EAAIrB,GAClCiE,EAAK24B,GAAAA,QAAa17B,EAAIG,EAAI4F,EAAIC,EAAIlH,GAClC09B,EAAKd,GAAAA,QAAa31B,EAAIC,EAAIC,EAAIC,EAAIpH,GAClC29B,EAAMf,GAAAA,QAAa74B,EAAGtD,EAAGsD,EAAGrD,EAAGuD,EAAGxD,EAAGwD,EAAGvD,EAAGV,GAC3C49B,EAAMhB,GAAAA,QAAa34B,EAAGxD,EAAGwD,EAAGvD,EAAGg9B,EAAGj9B,EAAGi9B,EAAGh9B,EAAGV,GACjD,MAAO,CACL,CAACgB,EAAIG,EAAI4C,EAAGtD,EAAGsD,EAAGrD,EAAGi9B,EAAIl9B,EAAGk9B,EAAIj9B,EAAG+7B,EAAIC,GACvC,CAACD,EAAIC,EAAIkB,EAAIn9B,EAAGm9B,EAAIl9B,EAAGg9B,EAAGj9B,EAAGi9B,EAAGh9B,EAAGyG,EAAIC,GAE3C,CAGA,SAASy2B,GACP78B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACA21B,GAEA,GAAuB,IAAnBA,EACF,OAAOhB,GAAW,CAAC/6B,EAAIE,EAAI+F,EAAIE,GAAK,CAAChG,EAAIE,EAAI6F,EAAIE,IAEnD,IAAM02B,EAASL,GAAYz8B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,EAAI,IACrDiF,EAAOyxB,EAAO,GACdxxB,EAAQwxB,EAAO,GAGrB,OAFAzxB,EAAK7f,KAAKuwC,EAAiB,GAC3BzwB,EAAM9f,KAAKuwC,EAAiB,GACrBc,GAAY/nC,MAAM,KAAMuW,GAAQwxB,GAAY/nC,MAAM,KAAMwW,EACjE,CAEA,QACEgwB,QAAO,GACPvzB,IAAA,SAAI/H,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYC,EAAYC,GAKtF,IAJA,IAAMoX,EAAO,CAACxd,EAAImG,GACZsX,EAAO,CAACtd,EAAIiG,GACZ61B,EAAWX,GAAQt7B,EAAIE,EAAI+F,EAAIE,GAC/B+1B,EAAWZ,GAAQn7B,EAAIE,EAAI6F,EAAIE,GAC5B9Z,EAAI,EAAGA,EAAI2vC,EAASlyC,OAAQuC,IACnCkxB,EAAKhyB,KAAK6wC,GAAQr8B,EAAIE,EAAI+F,EAAIE,EAAI81B,EAAS3vC,KAE7C,IAASA,EAAI,EAAGA,EAAI4vC,EAASnyC,OAAQuC,IACnCmxB,EAAKjyB,KAAK6wC,GAAQl8B,EAAIE,EAAI6F,EAAIE,EAAI81B,EAAS5vC,KAE7C,OAAOwtC,GAAetc,EAAMC,EAC9B,EACA1zB,OAAA,SAAOiW,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYC,EAAYC,GAEzF,OAAOy2B,GAAY78B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,EAAI,EACrD,EACAm0B,aAAA,SACEv6B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACAU,EACAC,EACAhd,GAEA,OAAOwwC,GAAa,CAACv6B,EAAIE,EAAI+F,EAAIE,GAAK,CAAChG,EAAIE,EAAI6F,EAAIE,GAAKU,EAAIC,EAAIs1B,GAAStyC,EAC3E,EACAkwC,cAAA,SACEj6B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACAU,EACAC,EACAhd,GAEA,IAAMorC,EAAQ,KAAKoF,aAAav6B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,EAAIU,EAAIC,EAAIhd,GACxE,OAAO6pB,GAASuhB,EAAM11B,EAAG01B,EAAMz1B,EAAGoH,EAAIC,EACxC,EACAo1B,gBAAiBE,GACjBrC,QAAA,SACEh6B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACApH,GAEA,MAAO,CACLS,EAAG48B,GAAQr8B,EAAIE,EAAI+F,EAAIE,EAAInH,GAC3BU,EAAG28B,GAAQl8B,EAAIE,EAAI6F,EAAIE,EAAIpH,GAE/B,EACAo9B,OAAA,SAAOp8B,EAAYG,EAAYD,EAAYG,EAAY4F,EAAYC,EAAYC,EAAYC,EAAYpH,GACrG,OAAOy9B,GAAYz8B,EAAIG,EAAID,EAAIG,EAAI4F,EAAIC,EAAIC,EAAIC,EAAIpH,EACrD,EACAq7B,aAAA,SACEr6B,EACAG,EACAD,EACAG,EACA4F,EACAC,EACAC,EACAC,EACApH,GAEA,IAAMq3B,EAAKkF,GAAav7B,EAAIE,EAAI+F,EAAIE,EAAInH,GAClCs3B,EAAKiF,GAAap7B,EAAIE,EAAI6F,EAAIE,EAAIpH,GACxC,OAAO+6B,GAAM/rC,KAAKsb,MAAMgtB,EAAID,GAC9B,GC9KF,SAAS0G,GAAS3nB,EAAYC,GAC5B,IAAM2nB,EAAOhvC,KAAK0D,IAAI0jB,GACtB,OAAOC,EAAK,EAAI2nB,GAAe,EAARA,CACzB,CAEA,QASEj1B,IAAA,SAAItI,EAAWC,EAAWE,EAAYC,GACpC,MAAO,CACLJ,EAAGA,EAAIG,EACPF,EAAGA,EAAIG,EACPjH,MAAY,EAALgH,EACPrD,OAAa,EAALsD,EAEZ,EASA9V,OAAA,SAAO0V,EAAWC,EAAWE,EAAYC,GACvC,OAAO7R,KAAK+D,IAAM,GAAK6N,EAAKC,GAAM7R,KAAKuU,MAAM,EAAI3C,EAAKC,IAAOD,EAAK,EAAIC,IACxE,EAWA06B,aAAA,SAAa96B,EAAWC,EAAWE,EAAYC,EAAYiH,EAAYC,GACrE,IAAMvZ,EAAIoS,EACJpO,EAAIqO,EAEV,GAAU,IAANrS,GAAiB,IAANgE,EACb,MAAO,CACLiO,EAAC,EACDC,EAAC,GAeL,IAXA,IAQIu9B,EACAC,EATEC,EAAYr2B,EAAKrH,EACjB29B,EAAYr2B,EAAKrH,EACjB8H,EAAKxZ,KAAK0D,IAAIyrC,GACd11B,EAAKzZ,KAAK0D,IAAI0rC,GACdC,EAAU7vC,EAAIA,EACd8vC,EAAU9rC,EAAIA,EAEhBwN,EAAIhR,KAAK+D,GAAK,EAITzF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B2wC,EAAWzvC,EAAIQ,KAAKiS,IAAIjB,GACxBk+B,EAAW1rC,EAAIxD,KAAKoS,IAAIpB,GAExB,IAAMu+B,GAAOF,EAAUC,GAAWtvC,KAAAA,IAAAA,KAAKiS,IAAIjB,GAAM,GAAKxR,EAChDgwC,GAAOF,EAAUD,GAAWrvC,KAAAA,IAAAA,KAAKoS,IAAIpB,GAAM,GAAKxN,EAChDisC,EAAMR,EAAWM,EACjBG,EAAMR,EAAWM,EAEjBx5B,EAAKwD,EAAK+1B,EACVt5B,EAAKwD,EAAK+1B,EACVhuC,EAAIxB,KAAK6lB,MAAM6pB,EAAKD,GACpB3+B,EAAI9Q,KAAK6lB,MAAM5P,EAAID,GAEnB25B,EAAUnuC,EAAIxB,KAAK0U,MAAM+6B,EAAMx5B,EAAKy5B,EAAM15B,IAAOxU,EAAIsP,IACrD8+B,EAAUD,EAAU3vC,KAAKuU,KAAK86B,EAAUC,EAAUL,EAAWA,EAAWC,EAAWA,GAEzFl+B,GAAK4+B,EACL5+B,EAAIhR,KAAKE,IAAIF,KAAK+D,GAAK,EAAG/D,KAAKC,IAAI,EAAG+Q,G,CAGxC,MAAO,CACLS,EAAGA,EAAIs9B,GAASE,EAAUE,GAC1Bz9B,EAAGA,EAAIq9B,GAASG,EAAUE,GAE9B,EAWAnD,cAAA,SAAcx6B,EAAWC,EAAWE,EAAYC,EAAYiH,EAAYC,GACtE,IAAMwzB,EAAe,KAAKA,aAAa96B,EAAGC,EAAGE,EAAIC,EAAIiH,EAAIC,GACzD,OAAO6M,GAAS2mB,EAAa96B,EAAG86B,EAAa76B,EAAGoH,EAAIC,EACtD,EAUAizB,QAAA,SAAQv6B,EAAWC,EAAWE,EAAYC,EAAYb,GACpD,IAAM0C,EAAQ,EAAI1T,KAAK+D,GAAKiN,EAC5B,MAAO,CACLS,EAAGA,EAAIG,EAAK5R,KAAKiS,IAAIyB,GACrBhC,EAAGA,EAAIG,EAAK7R,KAAKoS,IAAIsB,GAEzB,EAUA24B,aAAA,SAAa56B,EAAWC,EAAWE,EAAYC,EAAYb,GACzD,IAAM0C,EAAQ,EAAI1T,KAAK+D,GAAKiN,EAEtBq7B,EAAersC,KAAKsb,MAAMzJ,EAAK7R,KAAKiS,IAAIyB,IAAS9B,EAAK5R,KAAKoS,IAAIsB,IAQrE,OAAOq4B,GAAMM,EACf,GCnJF,SAASwD,GACP57B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAt8B,GAEA,OAAQ,EAAI9B,EAAK5R,KAAKiS,IAAI69B,GAAa9vC,KAAKoS,IAAIsB,GAAS7B,EAAK7R,KAAKoS,IAAI09B,GAAa9vC,KAAKiS,IAAIyB,EAC/F,CAGA,SAASu8B,GACPh8B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAt8B,GAEA,OAAQ,EAAI9B,EAAK5R,KAAKoS,IAAI09B,GAAa9vC,KAAKoS,IAAIsB,GAAS7B,EAAK7R,KAAKiS,IAAI69B,GAAa9vC,KAAKiS,IAAIyB,EAC/F,CAGA,SAASu6B,GAASr8B,EAAYC,EAAYi+B,GACxC,OAAO9vC,KAAKkwC,MAAOr+B,EAAKD,EAAM5R,KAAKmV,IAAI26B,GACzC,CAGA,SAAS5B,GAASt8B,EAAYC,EAAYi+B,GACxC,OAAO9vC,KAAKkwC,KAAKr+B,GAAMD,EAAK5R,KAAKmV,IAAI26B,IACvC,CAGA,SAASK,GAAIl8B,EAAYC,EAAYtC,EAAYC,EAAYi+B,EAAmBp8B,GAC9E,OAAO9B,EAAK5R,KAAKiS,IAAI69B,GAAa9vC,KAAKiS,IAAIyB,GAAS7B,EAAK7R,KAAKoS,IAAI09B,GAAa9vC,KAAKoS,IAAIsB,GAASO,CACnG,CAGA,SAASm8B,GAAIn8B,EAAYC,EAAYtC,EAAYC,EAAYi+B,EAAmBp8B,GAC9E,OAAO9B,EAAK5R,KAAKoS,IAAI09B,GAAa9vC,KAAKiS,IAAIyB,GAAS7B,EAAK7R,KAAKiS,IAAI69B,GAAa9vC,KAAKoS,IAAIsB,GAASQ,CACnG,CAGA,SAASm8B,GAASz+B,EAAYC,EAAYiH,EAAYC,GACpD,IAAMrF,EAAQ1T,KAAKsb,MAAMvC,EAAKnH,EAAIkH,EAAKjH,GAEvC,OAAQ6B,EAAkB,EAAV1T,KAAK+D,KAAqB,EAAV/D,KAAK+D,GACvC,CAGA,SAASusC,GAAS1+B,EAAYC,EAAY6B,GACxC,MAAO,CACLjC,EAAGG,EAAK5R,KAAKiS,IAAIyB,GACjBhC,EAAGG,EAAK7R,KAAKoS,IAAIsB,GAErB,CAGA,SAASU,GAAO3C,EAAWC,EAAWgC,GACpC,IAAMzB,EAAMjS,KAAKiS,IAAIyB,GACftB,EAAMpS,KAAKoS,IAAIsB,GACrB,MAAO,CAACjC,EAAIQ,EAAMP,EAAIU,EAAKX,EAAIW,EAAMV,EAAIO,EAC3C,CAEA,QAYE8H,IAAA,SAAI9F,EAAYC,EAAYtC,EAAYC,EAAYi+B,EAAmBC,EAAoBC,GAKzF,IAJA,IAAMO,EAAOtC,GAASr8B,EAAIC,EAAIi+B,GAC1B3gB,EAAOC,IACPC,GAAQD,IACNohB,EAAK,CAACT,EAAYC,GACf1xC,EAAe,GAAV0B,KAAK+D,GAAQzF,GAAe,EAAV0B,KAAK+D,GAAQzF,GAAK0B,KAAK+D,GAAI,CACzD,IAAM0sC,EAASF,EAAOjyC,EAClByxC,EAAaC,EACXD,EAAaU,GAAUA,EAAST,GAClCQ,EAAGhzC,KAAKizC,GAGNT,EAAWS,GAAUA,EAASV,GAChCS,EAAGhzC,KAAKizC,E,CAKd,IAASnyC,EAAI,EAAGA,EAAIkyC,EAAGz0C,OAAQuC,IAAK,CAClC,IAAMmT,EAAI0+B,GAAIl8B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWU,EAAGlyC,IACxCmT,EAAI0d,IACNA,EAAO1d,GAELA,EAAI4d,IACNA,EAAO5d,E,CAIX,IAAMi/B,EAAOxC,GAASt8B,EAAIC,EAAIi+B,GAC1BxgB,EAAOF,IACPG,GAAQH,IACNuhB,EAAK,CAACZ,EAAYC,GACxB,IAAS1xC,EAAe,GAAV0B,KAAK+D,GAAQzF,GAAe,EAAV0B,KAAK+D,GAAQzF,GAAK0B,KAAK+D,GAAI,CACzD,IAAM6sC,EAASF,EAAOpyC,EAClByxC,EAAaC,EACXD,EAAaa,GAAUA,EAASZ,GAClCW,EAAGnzC,KAAKozC,GAGNZ,EAAWY,GAAUA,EAASb,GAChCY,EAAGnzC,KAAKozC,E,CAKd,IAAStyC,EAAI,EAAGA,EAAIqyC,EAAG50C,OAAQuC,IAAK,CAClC,IAAMoT,EAAI0+B,GAAIn8B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWa,EAAGryC,IACxCoT,EAAI4d,IACNA,EAAO5d,GAELA,EAAI6d,IACNA,EAAO7d,E,CAIX,MAAO,CACLD,EAAG0d,EACHzd,EAAG4d,EACH1kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,EAYAvzB,OAAA,SAAOkY,EAAYC,EAAYtC,EAAYC,EAAYi+B,EAAmBC,EAAoBC,GAAmB,EAcjHzD,aAAA,SACEt4B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAl3B,EACAC,GAGA,IAAM83B,EAAiBz8B,GAAO0E,EAAK7E,EAAI8E,EAAK7E,GAAK47B,GAC1C,EAAUe,EAAc,GAApB1+B,EAAM0+B,EAAc,GAE3BC,EAAgBC,GAAAA,aAAqB,EAAG,EAAGn/B,EAAIC,EAAIG,EAAIG,GAErDuB,EAAQ28B,GAASz+B,EAAIC,EAAIi/B,EAAcr/B,EAAGq/B,EAAcp/B,GAE1DgC,EAAQq8B,EAEVe,EAAgBR,GAAS1+B,EAAIC,EAAIk+B,GACxBr8B,EAAQs8B,IAEjBc,EAAgBR,GAAS1+B,EAAIC,EAAIm+B,IAGnC,IAAMgB,EAAS58B,GAAO08B,EAAcr/B,EAAGq/B,EAAcp/B,EAAGo+B,GACxD,MAAO,CACLr+B,EAAGu/B,EAAO,GAAK/8B,EACfvC,EAAGs/B,EAAO,GAAK98B,EAEnB,EACA+3B,cAAA,SACEh4B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAl3B,EACAC,GAEA,IAAMwzB,EAAe,KAAKA,aAAat4B,EAAIC,EAAItC,EAAIC,EAAIiH,EAAIC,GAC3D,OAAO6M,GAAS2mB,EAAa96B,EAAG86B,EAAa76B,EAAGoH,EAAIC,EACtD,EACAizB,QAAA,SACE/3B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAh/B,GAEA,IAAM0C,GAASs8B,EAAWD,GAAc/+B,EAAI++B,EAC5C,MAAO,CACLt+B,EAAG0+B,GAAIl8B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWp8B,GAClChC,EAAG0+B,GAAIn8B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWp8B,GAEtC,EACA24B,aAAA,SACEp4B,EACAC,EACAtC,EACAC,EACAi+B,EACAC,EACAC,EACAh/B,GAEA,IAAM0C,GAASs8B,EAAWD,GAAc/+B,EAAI++B,EACtC1H,EAAKwH,GAAc57B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWC,EAAYC,EAAUt8B,GACpE40B,EAAK2H,GAAch8B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWC,EAAYC,EAAUt8B,GAC1E,OAAOq4B,GAAM/rC,KAAKsb,MAAMgtB,EAAID,GAC9B,GCtPF,SAAS4I,GAAc7zB,GAIrB,IAFA,IAAI4vB,EAAc,EACZpvB,EAAsB,GACnBtf,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAS,EAAGuC,IAAK,CAC1C,IAAM+iB,EAAOjE,EAAO9e,GACd8iB,EAAKhE,EAAO9e,EAAI,GAChBuR,EAAS+V,GAASvE,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,IAC9ChK,EAAM,CACViK,KAAI,EACJD,GAAE,EACFrlB,OAAM,GAER6hB,EAASpgB,KAAK4Z,GACd41B,GAAen9B,C,CAEjB,MAAO,CAAE+N,SAAQ,EAAEovB,YAAW,EAChC,CAEM,SAAUkE,GAAgB9zB,GAC9B,GAAIA,EAAOrhB,OAAS,EAClB,OAAO,EAGT,IADA,IAAIixC,EAAc,EACT1uC,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAS,EAAGuC,IAAK,CAC1C,IAAM+iB,EAAOjE,EAAO9e,GACd8iB,EAAKhE,EAAO9e,EAAI,GACtB0uC,GAAepnB,GAASvE,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,G,CAEtD,OAAO4rB,CACT,CAQM,SAAUmE,GAAgB/zB,EAAsBpM,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKoM,EAAOrhB,OAAS,EACpC,OAAO,KAEH,MAA4Bk1C,GAAc7zB,GAAxCQ,EAAQ,WAAEovB,EAAW,cAE7B,GAAoB,IAAhBA,EACF,MAAO,CACLv7B,EAAG2L,EAAO,GAAG,GACb1L,EAAG0L,EAAO,GAAG,IAMjB,IAFA,IAAIg0B,EAAa,EACbjK,EAAQ,KACH7oC,EAAI,EAAGA,EAAIsf,EAAS7hB,OAAQuC,IAAK,CACxC,IAAM8Y,EAAMwG,EAAStf,GACb,EAAa8Y,EAAG,KAAVgK,EAAOhK,EAAG,GAClBi6B,EAAej6B,EAAIrb,OAASixC,EAClC,GAAIh8B,GAAKogC,GAAcpgC,GAAKogC,EAAaC,EAAc,CACrD,IAAMC,GAActgC,EAAIogC,GAAcC,EACtClK,EAAQyG,GAAAA,QAAavsB,EAAK,GAAIA,EAAK,GAAID,EAAG,GAAIA,EAAG,GAAIkwB,GACrD,K,CAEFF,GAAcC,C,CAEhB,OAAOlK,CACT,CAOM,SAAUoK,GAAgBn0B,EAAsBpM,GAEpD,GAAIA,EAAI,GAAKA,EAAI,GAAKoM,EAAOrhB,OAAS,EACpC,OAAO,EAMT,IAJM,MAA4Bk1C,GAAc7zB,GAAxCQ,EAAQ,WAAEovB,EAAW,cAEzBoE,EAAa,EACb19B,EAAQ,EACHpV,EAAI,EAAGA,EAAIsf,EAAS7hB,OAAQuC,IAAK,CACxC,IAAM8Y,EAAMwG,EAAStf,GACb,EAAa8Y,EAAG,KAAVgK,EAAOhK,EAAG,GAClBi6B,EAAej6B,EAAIrb,OAASixC,EAClC,GAAIh8B,GAAKogC,GAAcpgC,GAAKogC,EAAaC,EAAc,CACrD39B,EAAQ1T,KAAKsb,MAAM8F,EAAG,GAAKC,EAAK,GAAID,EAAG,GAAKC,EAAK,IACjD,K,CAEF+vB,GAAcC,C,CAEhB,OAAO39B,CACT,CAEM,SAAU89B,GAAkBp0B,EAAsB3L,EAAWC,GAEjE,IADA,IAAI+/B,EAAcriB,IACT9wB,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAS,EAAGuC,IAAK,CAC1C,IAAM6oC,EAAQ/pB,EAAO9e,GACfozC,EAAYt0B,EAAO9e,EAAI,GACvBqzC,EAAW/D,GAAAA,cAAmBzG,EAAM,GAAIA,EAAM,GAAIuK,EAAU,GAAIA,EAAU,GAAIjgC,EAAGC,GACnFigC,EAAWF,IACbA,EAAcE,E,CAGlB,OAAOF,CACT,CC1GA,QAME13B,IAAA,SAAIqD,GAGF,IAFA,IAAMoS,EAAO,GACPC,EAAO,GACJnxB,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAAK,CACtC,IAAM6oC,EAAQ/pB,EAAO9e,GACrBkxB,EAAKhyB,KAAK2pC,EAAM,IAChB1X,EAAKjyB,KAAK2pC,EAAM,G,CAElB,OAAO2E,GAAetc,EAAMC,EAC9B,EAMA1zB,OAAA,SAAOqhB,GACL,OAAO8zB,GAAgB9zB,EACzB,EAOA4uB,QAAA,SAAQ5uB,EAAsBpM,GAC5B,OAAOmgC,GAAgB/zB,EAAQpM,EACjC,EAQAi7B,cAAA,SAAc7uB,EAAsB3L,EAAWC,GAC7C,OAAO8/B,GAAkBp0B,EAAQ3L,EAAGC,EACtC,EAOA26B,aAAA,SAAajvB,EAAsBpM,GACjC,OAAOugC,GAAgBn0B,EAAQpM,EACjC,GCpDI,SAAU4gC,GAAUv3B,EAAOC,GAC/B,OAAKD,GAAUC,EAGR,CACL6U,KAAMnvB,KAAKE,IAAIma,EAAM8U,KAAM7U,EAAM6U,MACjCG,KAAMtvB,KAAKE,IAAIma,EAAMiV,KAAMhV,EAAMgV,MACjCD,KAAMrvB,KAAKC,IAAIoa,EAAMgV,KAAM/U,EAAM+U,MACjCE,KAAMvvB,KAAKC,IAAIoa,EAAMkV,KAAMjV,EAAMiV,OAN1BlV,GAASC,CAQpB,CAGM,SAAUu3B,GAAelxB,EAAe9G,GAC5C,IAAMuxB,EAAkBzqB,EAAMvZ,IAAI,mBAC5BikC,EAAgB1qB,EAAMvZ,IAAI,iBAC5B0qC,EAAiB,KACjBC,EAAe,KASnB,OARI3G,IACF0G,EAAiB1G,EAAgBzb,gBACjC9V,EAAO+3B,GAAU/3B,EAAMi4B,IAErBzG,IACF0G,EAAe1G,EAAc1b,gBAC7B9V,EAAO+3B,GAAU/3B,EAAMk4B,IAElBl4B,CACT,CCzBc,YAAW8G,GAKvB,IAJA,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAWvvB,EAAK,OAClBu2B,EAAO,GACPC,EAAO,GACJnxB,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAAK,CACtC,IAAM6oC,EAAQ/pB,EAAO9e,GACrBkxB,EAAKhyB,KAAK2pC,EAAM,IAChB1X,EAAKjyB,KAAK2pC,EAAM,G,CAEZ,MAA0B6K,GAAoBxiB,EAAMC,GAAlDhe,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SACvBsL,EAAO,CACTsV,KAAM1d,EACN6d,KAAM5d,EACN2d,KAAM5d,EAAI7G,EACV2kB,KAAM7d,EAAInD,GAGZ,OADAsL,EAAOg4B,GAAelxB,EAAO9G,GACtB,CACLpI,EAAGoI,EAAKsV,KACRzd,EAAGmI,EAAKyV,KACR1kB,MAAOiP,EAAKwV,KAAOxV,EAAKsV,KACxB5gB,OAAQsL,EAAK0V,KAAO1V,EAAKyV,KAE7B,CCzBc,YAAW3O,GAKvB,IAJA,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAWvvB,EAAK,OAClBu2B,EAAO,GACPC,EAAO,GACJnxB,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAAK,CACtC,IAAM6oC,EAAQ/pB,EAAO9e,GACrBkxB,EAAKhyB,KAAK2pC,EAAM,IAChB1X,EAAKjyB,KAAK2pC,EAAM,G,CAElB,OAAO6K,GAAoBxiB,EAAMC,EACnC,CCdA,IAAIwiB,GAAe,KACb,SAAUC,KACd,IAAKD,GAAc,CACjB,IAAMrnB,EAAStgB,SAASC,cAAc,UACtCqgB,EAAOhgB,MAAQ,EACfggB,EAAOrc,OAAS,EAChB0jC,GAAernB,EAAOpgB,WAAW,K,CAEnC,OAAOynC,EACT,CCAM,SAAUE,GAAcnoC,EAAcS,EAAkB2nC,GAC5D,IAAIC,EAAY,EAIhB,GAHIrqC,GAASgC,KACXqoC,EAAYroC,EAAKzH,MAAM,MAAMxG,QAE3Bs2C,EAAY,EAAG,CACjB,IAAMC,EAAYC,GAAgB9nC,EAAU2nC,GAC5C,OAAO3nC,EAAW4nC,EAAYC,GAAaD,EAAY,E,CAEzD,OAAO5nC,CACT,CAOM,SAAU8nC,GAAgB9nC,EAAkB2nC,GAChD,OAAOA,EAAaA,EAAa3nC,EAAsB,IAAXA,CAC9C,CAOM,SAAU+nC,GAAaxoC,EAAcC,GACzC,IAAMvD,EAAUwrC,KACZtnC,EAAQ,EAEZ,GAAI7M,EAAMiM,IAAkB,KAATA,EACjB,OAAOY,EAIT,GAFAlE,EAAQ+rC,OACR/rC,EAAQuD,KAAOA,EACXjC,GAASgC,IAASA,EAAKm6B,SAAS,MAAO,CACzC,IAAMuO,EAAU1oC,EAAKzH,MAAM,MAC3BpE,EAAKu0C,GAAS,SAACC,GACb,IAAMC,EAAelsC,EAAQiE,YAAYgoC,GAAS/nC,MAC9CA,EAAQgoC,IACVhoC,EAAQgoC,EAEZ,G,MAEAhoC,EAAQlE,EAAQiE,YAAYX,GAAMY,MAGpC,OADAlE,EAAQmsC,UACDjoC,CACT,CAEM,SAAUkoC,GAAa75C,GACnB,MAA6DA,EAAK,SAAxDiR,EAAmDjR,EAAK,WAA5CkR,EAAuClR,EAAK,WAAhCmR,EAA2BnR,EAAK,UAArBoR,EAAgBpR,EAAK,YAC1E,MAAO,CAACmR,EAAWC,EAAaF,EAAeM,EAAQ,KAAMP,GAAYQ,KAAK,KAAK+yB,MACrF,CC3Dc,YAAW9c,GACvB,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAqCvvB,EAAK,EAAvCyY,EAAkCzY,EAAK,EAApC+Q,EAA+B/Q,EAAK,KAA9BwR,EAAyBxR,EAAK,SAApBm5C,EAAen5C,EAAK,WAC9CgR,EAAOhR,EAAMgR,KACZA,IAEHA,EAAO6oC,GAAa75C,IAEtB,IACI4gB,EADEjP,EAAQ4nC,GAAaxoC,EAAMC,GAEjC,GAAKW,EAQE,CACG,MAA4B3R,EAAK,UAAtB85C,EAAiB95C,EAAK,aACnCsV,EAAS4jC,GAAcnoC,EAAMS,EAAU2nC,GAEvCjL,EAAQ,CACZ11B,EAAC,EACDC,EAAGA,EAAInD,GAELykC,IACgB,QAAdA,GAAqC,UAAdA,EACzB7L,EAAM11B,GAAK7G,EACY,WAAdooC,IACT7L,EAAM11B,GAAK7G,EAAQ,IAGnBmoC,IACmB,QAAjBA,EACF5L,EAAMz1B,GAAKnD,EACe,WAAjBwkC,IACT5L,EAAMz1B,GAAKnD,EAAS,IAIxBsL,EAAO,CACLpI,EAAG01B,EAAM11B,EACTC,EAAGy1B,EAAMz1B,EACT9G,MAAOA,EACP2D,OAAQA,E,MAjCVsL,EAAO,CACLpI,EAAC,EACDC,EAAC,EACD9G,MAAO,EACP2D,OAAQ,GAgCZ,OAAOsL,CACT,CCnDA,IAAMo5B,GAAY,iCACZC,GAAW,aAEjB,SAASC,GAAUrqC,GACjB,IAAIE,EAAOF,GAAK,GAChB,OAAI5K,EAAQ8K,GACHA,EAGLhB,GAASgB,IACXA,EAAOA,EAAK3E,MAAM4uC,IAClB90C,EAAK6K,GAAM,SAACvN,EAAMC,GAGhB,GADAD,EAAOA,EAAK4I,MAAM6uC,IACdz3C,EAAK,GAAGM,OAAS,EAAG,CACtB,IAAMq3C,EAAM33C,EAAK,GAAG6I,OAAO,GAE3B7I,EAAKmF,OAAO,EAAG,EAAGnF,EAAK,GAAGK,OAAO,IAEjCL,EAAK,GAAK23C,C,CAGZj1C,EAAK1C,GAAM,SAAU4qB,EAAK/nB,GACnBgC,MAAM+lB,KAET5qB,EAAK6C,IAAM+nB,EAEf,IAEArd,EAAKtN,GAASD,CAChB,IACOuN,QAtBT,CAwBF,CAEA,UChCA,SAASqqC,GAAaj2B,EAAek2B,EAAgBC,EAAiBC,GACpE,IAGIC,EACA/B,EACAxxC,EACAD,EACAyzC,EACAC,EACAC,EATEC,EAAc,GACdC,IAAkBN,EAUxB,GAAIM,EAAe,CACf5zC,EAAaszC,EAAU,GAAlBvzC,EAAQuzC,EAAU,GACzB,IAAK,IAAIl1C,EAAI,EAAGoE,EAAI0a,EAAOrhB,OAAQuC,EAAIoE,EAAGpE,GAAK,EAAG,CAChD,IAAM6oC,EAAQ/pB,EAAO9e,GACrB4B,EAAMunB,GAAS,CAAE,EAAG,GAAKvnB,EAAKinC,GAC9BlnC,EAAMwnB,GAAS,CAAE,EAAG,GAAKxnB,EAAKknC,E,EAIzB7oC,EAAI,EAAb,IAAK,IAAWC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,GAAK,EAAG,CAC9C6oC,EAAQ/pB,EAAO9e,GACrB,GAAU,IAANA,GAAYi1C,EAET,GAAIj1C,IAAMC,EAAM,GAAMg1C,EAItB,CACL,IAAMQ,EAAU,CAAEz1C,EAAIA,EAAI,EAAIC,EAAM,EAAGD,EAAI,GAAIi1C,EAAS,EAAI,GAC5DE,EAAYr2B,EAAO22B,GACnBrC,EAAYt0B,EAAOm2B,GAAUj1C,EAAI,GAAKC,EAAMD,EAAI,GAEhD,IAAI+B,EAAU,CAAE,EAAG,GACnBA,EAAIonB,GAASpnB,EAAGqxC,EAAW+B,GAC3BpzC,EAAIonB,GAAWpnB,EAAGA,EAAGizC,GAErB,IAAIU,EAAKvsB,GAAc0f,EAAOsM,GAC1B7G,EAAKnlB,GAAc0f,EAAOuK,GAExBl5B,EAAMw7B,EAAKpH,EACL,IAARp0B,IACFw7B,GAAMx7B,EACNo0B,GAAMp0B,GAGR,IAAI4O,EAAKK,GAAW,CAAE,EAAG,GAAKpnB,GAAI2zC,GAC9B3sB,EAAKI,GAAW,CAAE,EAAG,GAAKpnB,EAAGusC,GAEjC+G,EAAMlsB,GAAS,CAAE,EAAG,GAAK0f,EAAO/f,GAChCssB,EAAUjsB,GAAS,CAAE,EAAG,GAAK0f,EAAO9f,GAGpCqsB,EAAUjsB,GAAS,CAAE,EAAG,GAAKisB,EAASjsB,GAAS,CAAE,EAAG,GAAKiqB,EAAWvK,IACpEuM,EAAUjsB,GAAS,CAAE,EAAG,GAAKisB,EAASjsB,GAAS,CAAE,EAAG,GAAKiqB,EAAWvK,IAGpE/f,EAAKK,GAAS,CAAE,EAAG,GAAKisB,EAASvM,GACjC/f,EAAKK,GAAW,CAAE,EAAG,GAAKL,GAAK4sB,EAAKpH,GACpC+G,EAAMlsB,GAAS,CAAE,EAAG,GAAK0f,EAAO/f,GAGhCusB,EAAMlsB,GAAS,CAAE,EAAG,GAAKksB,EAAKlsB,GAAS,CAAE,EAAG,GAAKgsB,EAAWtM,IAC5DwM,EAAMlsB,GAAS,CAAE,EAAG,GAAKksB,EAAKlsB,GAAS,CAAE,EAAG,GAAKgsB,EAAWtM,IAG5D9f,EAAKI,GAAS,CAAE,EAAG,GAAK0f,EAAOwM,GAC/BtsB,EAAKI,GAAW,CAAE,EAAG,GAAKJ,EAAIulB,EAAKoH,GACnCN,EAAUjsB,GAAS,CAAE,EAAG,GAAK0f,EAAO9f,GAEhCysB,IACFH,EAAMlsB,GAAS,CAAE,EAAG,GAAKksB,EAAKzzC,GAC9ByzC,EAAMlsB,GAAS,CAAE,EAAG,GAAKksB,EAAK1zC,GAC9ByzC,EAAUjsB,GAAS,CAAE,EAAG,GAAKisB,EAASxzC,GACtCwzC,EAAUjsB,GAAS,CAAE,EAAG,GAAKisB,EAASzzC,IAGxC4zC,EAAIr2C,KAAKo2C,GACTC,EAAIr2C,KAAKm2C,GACTC,EAAMF,C,MAtDNC,EAAMxM,EACN0M,EAAIr2C,KAAKo2C,GACTC,EAAIr2C,KAAKm2C,QAJTC,EAAMzM,C,CAgEV,OAJIoM,GACFM,EAAIr2C,KAAKq2C,EAAI/8B,SAGR+8B,CACT,CAQA,SAASI,GACP3iC,EACAJ,EACAsiC,QADA,QAAAtiC,GAAAA,QACA,QAAAsiC,EAAAA,CACE,CAAE,EAAG,GACL,CAAE,EAAG,KAKP,IAFA,IAAMD,IAAWriC,EACXgjC,EAAmB,GAChB51C,EAAI,EAAGoE,EAAI4O,EAAIvV,OAAQuC,EAAIoE,EAAGpE,GAAK,EAC1C41C,EAAU12C,KAAK,CAAE8T,EAAIhT,GAAIgT,EAAIhT,EAAI,KAGnC,IAIIq1C,EACAQ,EACArrC,EANEsrC,EAAmBf,GAAaa,EAAW,GAAKX,EAAQC,GACxDj1C,EAAM21C,EAAUn4C,OAChB6wC,EAAoB,GAM1B,IAAStuC,EAAI,EAAGA,EAAIC,EAAM,EAAGD,GAAK,EAChCq1C,EAAMS,EAAqB,EAAJ91C,GACvB61C,EAAMC,EAAqB,EAAJ91C,EAAQ,GAC/BwK,EAAIorC,EAAU51C,EAAI,GAElBsuC,EAAGpvC,KAAK,CAAE,IAAKm2C,EAAI,GAAIA,EAAI,GAAIQ,EAAI,GAAIA,EAAI,GAAIrrC,EAAE,GAAIA,EAAE,KAUzD,OAPIyqC,IACFI,EAAMS,EAAiB71C,GACvB41C,EAAMC,EAAiB71C,EAAM,GAC3BuK,EAAMorC,EAAS,GAEjBtH,EAAGpvC,KAAK,CAAE,IAAKm2C,EAAI,GAAIA,EAAI,GAAIQ,EAAI,GAAIA,EAAI,GAAIrrC,EAAE,GAAIA,EAAE,MAElD8jC,CACT,CAEA,UC5IA,IAAMr8B,GAAS,2CACTC,GAAe,IAAIjD,OAAO,WAAagD,GAAS,wCAA0CA,GAAS,QAAUA,GAAS,QAAS,MAC/HE,GAAc,IAAIlD,OAAO,qCAAuCgD,GAAS,QAAUA,GAAS,KAAM,MAG1F,SAAUG,GAAgBC,GACtC,IAAKA,EACH,OAAO,KAGT,GAAIzS,EAAQyS,GACV,OAAOA,EAET,IAAMC,EAAc,CAClBpR,EAAG,EACHqR,EAAG,EACH9O,EAAG,EACH+M,EAAG,EACHpM,EAAG,EACHmB,EAAG,EACHrC,EAAG,EACHsP,EAAG,EACHC,EAAG,EACHC,EAAG,EACH3Q,EAAG,EACH4Q,EAAG,EACHC,EAAG,GAECxR,EAAO,GA6Bb,OA3BAyR,OAAOR,GAAYrO,QAAQkO,IAAc,SAAUhR,EAAGgE,EAAGqN,GACvD,IAAMO,EAAS,GACX3X,EAAO+J,EAAEW,cAYb,GAXA0M,EAAEvO,QAAQmO,IAAa,SAAUjR,EAAGgE,GAClCA,GAAK4N,EAAO5T,MAAMgG,EACpB,IACa,MAAT/J,GAAgB2X,EAAOrV,OAAS,IAClC2D,EAAKlC,KAAK,CAAEgG,GAAI5D,OAAOwR,EAAOxQ,OAAO,EAAG,KACxCnH,EAAO,IACP+J,EAAU,MAANA,EAAY,IAAM,KAEX,MAAT/J,GAAkC,IAAlB2X,EAAOrV,QACzB2D,EAAKlC,KAAK,CAAEgG,EAAG4N,EAAO,KAEX,MAAT3X,EACFiG,EAAKlC,KAAK,CAAEgG,GAAI5D,OAAOwR,SAEvB,MAAOA,EAAOrV,QAAU6U,EAAYnX,GAElC,GADAiG,EAAKlC,KAAK,CAAEgG,GAAI5D,OAAOwR,EAAOxQ,OAAO,EAAGgQ,EAAYnX,OAC/CmX,EAAYnX,GACf,MAIN,MAAO,EACT,IAEOiG,CACT,CC3DA,IAAM20C,GAAW,QAEjB,SAASC,GAAWxrC,EAAG+H,GACrB,MAAO,CACLA,EAAE,IAAMA,EAAE,GAAK/H,EAAE,IACjB+H,EAAE,IAAMA,EAAE,GAAK/H,EAAE,IAErB,CAEc,SAAUwJ,GAAe3B,GACrC,IAAM4B,EAAY7B,GAAgBC,GAElC,IAAK4B,IAAcA,EAAUxW,OAC3B,MAAO,CACL,CAAE,IAAK,EAAG,IAId,IADA,IAAIw4C,GAAc,EACTj2C,EAAI,EAAGA,EAAIiU,EAAUxW,OAAQuC,IAAK,CACzC,IAAM0f,EAAMzL,EAAUjU,GAAG,GAEzB,GAAI+1C,GAAS/mC,KAAK0Q,IAAQ,CAAE,IAAK,IAAK,IAAK,KAAM5gB,QAAQ4gB,IAAQ,EAAG,CAClEu2B,GAAc,EACd,K,EAKJ,IAAKA,EACH,OAAOhiC,EAGT,IAAMT,EAAM,GACRL,EAAI,EACJC,EAAI,EACJgB,EAAK,EACLC,EAAK,EACLC,EAAQ,EAGN4hC,EAAQjiC,EAAU,GACP,MAAbiiC,EAAM,IAA2B,MAAbA,EAAM,KAC5B/iC,GAAK+iC,EAAM,GACX9iC,GAAK8iC,EAAM,GACX9hC,EAAKjB,EACLkB,EAAKjB,EACLkB,IACAd,EAAI,GAAK,CAAE,IAAKL,EAAGC,IAGZpT,EAAIsU,EAAb,IAAK,IAAeG,EAAKR,EAAUxW,OAAQuC,EAAIyU,EAAIzU,IAAK,CACtD,IAAMwU,EAAKP,EAAUjU,GACfm2C,EAAY3iC,EAAIxT,EAAI,GACtBkD,EAAI,GAEFkzC,GADA12B,EAAMlL,EAAG,GACDkL,EAAIvZ,eAClB,GAAIuZ,IAAQ02B,EAEV,OADAlzC,EAAE,GAAKkzC,EACCA,GACN,IAAK,IACHlzC,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,GAAKsR,EAAG,GACVtR,EAAE,IAAMsR,EAAG,GAAKrB,EAChBjQ,EAAE,IAAMsR,EAAG,GAAKpB,EAChB,MACF,IAAK,IACHlQ,EAAE,IAAMsR,EAAG,GAAKpB,EAChB,MACF,IAAK,IACHlQ,EAAE,IAAMsR,EAAG,GAAKrB,EAChB,MACF,IAAK,IACHiB,GAAMI,EAAG,GAAKrB,EACdkB,GAAMG,EAAG,GAAKpB,EACdlQ,EAAE,GAAKkR,EACPlR,EAAE,GAAKmR,EACP,MACF,QACE,IAAK,IAAI/Q,EAAI,EAAGoR,EAAKF,EAAG/W,OAAQ6F,EAAIoR,EAAIpR,IACtCJ,EAAEI,IAAMkR,EAAGlR,IAAOA,EAAI,EAAK6P,EAAIC,QAIrClQ,EAAI+Q,EAAUjU,GAGhB,OAAQo2C,GACN,IAAK,IACHjjC,GAAKiB,EACLhB,GAAKiB,EACL,MACF,IAAK,IACHlB,EAAIjQ,EAAE,GACNA,EAAI,CAAE,IAAKiQ,EAAGC,GACd,MACF,IAAK,IACHA,EAAIlQ,EAAE,GACNA,EAAI,CAAE,IAAKiQ,EAAGC,GACd,MACF,IAAK,IACHD,EAAIjQ,EAAE,GACNkQ,EAAIlQ,EAAE,GAGN,IAAMmzC,EAAYL,GAAW,CAAEG,EAAU,GAAIA,EAAU,IAAM,CAAEA,EAAU,GAAIA,EAAU,KACvFjzC,EAAI,CAAE,IAAKmzC,EAAU,GAAIA,EAAU,GAAIljC,EAAGC,GAC1C,MACF,IAAK,IACHD,EAAIjQ,EAAEA,EAAEzF,OAAS,GACjB2V,EAAIlQ,EAAEA,EAAEzF,OAAS,GAGjB,IAAM8T,EAAS4kC,EAAU14C,OACnB64C,EAAYN,GAChB,CAAEG,EAAU5kC,EAAS,GAAI4kC,EAAU5kC,EAAS,IAC5C,CAAE4kC,EAAU5kC,EAAS,GAAI4kC,EAAU5kC,EAAS,KAC9CrO,EAAI,CAAE,IAAKozC,EAAU,GAAIA,EAAU,GAAIpzC,EAAE,GAAIA,EAAE,GAAIiQ,EAAGC,GACtD,MACF,IAAK,IACHgB,EAAKlR,EAAEA,EAAEzF,OAAS,GAClB4W,EAAKnR,EAAEA,EAAEzF,OAAS,GAClB,MACF,QACE0V,EAAIjQ,EAAEA,EAAEzF,OAAS,GACjB2V,EAAIlQ,EAAEA,EAAEzF,OAAS,GAErB+V,EAAItU,KAAKgE,E,CAGX,OAAOsQ,CACT,CCtIY9R,KAAK+D,GCGjB,SAAS8wC,GAAKx0C,GACZ,OAAOL,KAAKuU,KAAKlU,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAC1C,CAGA,SAASy0C,GAAO7jC,EAAG5Q,GAEjB,OAAOw0C,GAAK5jC,GAAK4jC,GAAKx0C,IAAM4Q,EAAE,GAAK5Q,EAAE,GAAK4Q,EAAE,GAAK5Q,EAAE,KAAOw0C,GAAK5jC,GAAK4jC,GAAKx0C,IAAM,CACjF,CAGA,SAAS00C,GAAO9jC,EAAG5Q,GACjB,OAAQ4Q,EAAE,GAAK5Q,EAAE,GAAK4Q,EAAE,GAAK5Q,EAAE,IAAM,EAAI,GAAKL,KAAKmmB,KAAK2uB,GAAO7jC,EAAG5Q,GACpE,CAOM,SAAU20C,GAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,EACzD,CAGc,SAAUC,GAAaC,EAAYhkC,GAC/C,IAAIQ,EAAKR,EAAO,GACZS,EAAKT,EAAO,GACV0+B,EAAYnsC,GAAIK,GAASoN,EAAO,IAAe,EAAVpR,KAAK+D,IAC1CsxC,EAAUjkC,EAAO,GACjBkkC,EAAYlkC,EAAO,GAEnBY,EAAKojC,EAAW,GAChBjjC,EAAKijC,EAAW,GAEhBljC,EAAKd,EAAO,GACZiB,EAAKjB,EAAO,GACZmkC,EAAMv1C,KAAKiS,IAAI69B,IAAc99B,EAAKE,GAAO,EAAOlS,KAAKoS,IAAI09B,IAAc39B,EAAKE,GAAO,EACnFmjC,GAAO,EAAIx1C,KAAKoS,IAAI09B,IAAc99B,EAAKE,GAAO,EAAOlS,KAAKiS,IAAI69B,IAAc39B,EAAKE,GAAO,EACxFojC,EAAUF,EAAKA,GAAO3jC,EAAKA,GAAO4jC,EAAKA,GAAO3jC,EAAKA,GAErD4jC,EAAS,IACX7jC,GAAM5R,KAAKuU,KAAKkhC,GAChB5jC,GAAM7R,KAAKuU,KAAKkhC,IAElB,IAAMh2B,EAAO7N,EAAKA,GAAM4jC,EAAKA,GAAM3jC,EAAKA,GAAM0jC,EAAKA,GAE/C1vC,EAAI4Z,EAAOzf,KAAKuU,MAAM3C,EAAKA,GAAMC,EAAKA,GAAM4N,GAAQA,GAAQ,EAE5D41B,IAAYC,IACdzvC,IAAM,GAEJvF,MAAMuF,KACRA,EAAI,GAIN,IAAM6vC,EAAM7jC,EAAMhM,EAAI+L,EAAK4jC,EAAM3jC,EAAK,EAChC8jC,EAAM/jC,EAAM/L,GAAKgM,EAAK0jC,EAAM3jC,EAAK,EAGjCqC,GAAMjC,EAAKE,GAAM,EAAMlS,KAAKiS,IAAI69B,GAAa4F,EAAM11C,KAAKoS,IAAI09B,GAAa6F,EACzEzhC,GAAM/B,EAAKE,GAAM,EAAMrS,KAAKoS,IAAI09B,GAAa4F,EAAM11C,KAAKiS,IAAI69B,GAAa6F,EAGzE1kC,EAAI,EAAGskC,EAAKG,GAAO9jC,GAAK4jC,EAAKG,GAAO9jC,GAEpCxR,EAAI,GAAI,EAAIk1C,EAAKG,GAAO9jC,IAAM,EAAI4jC,EAAKG,GAAO9jC,GAE9C+jC,EAAQb,GAAO,CAAE,EAAG,GAAK9jC,GAG3B4kC,EAASd,GAAO9jC,EAAG5Q,GAcvB,OAZIy0C,GAAO7jC,EAAG5Q,KAAO,IACnBw1C,EAAS71C,KAAK+D,IAEZ+wC,GAAO7jC,EAAG5Q,IAAM,IAClBw1C,EAAS,GAEO,IAAdP,GAAmBO,EAAS,IAC9BA,GAAkB,EAAI71C,KAAK+D,IAEX,IAAduxC,GAAmBO,EAAS,IAC9BA,GAAkB,EAAI71C,KAAK+D,IAEtB,CACLkQ,GAAE,EACFC,GAAE,EAEFtC,GAAIojC,GAAYI,EAAY,CAAEljC,EAAIG,IAAQ,EAAIT,EAC9CC,GAAImjC,GAAYI,EAAY,CAAEljC,EAAIG,IAAQ,EAAIR,EAC9Ck+B,WAAY6F,EACZ5F,SAAU4F,EAAQC,EAClB/F,UAAS,EACTuF,QAAO,EACPC,UAAS,EAEb,CChGA,SAAShB,GAAWnN,EAAO2O,GACzB,MAAO,CAAEA,EAAO,IAAMA,EAAO,GAAK3O,EAAM,IAAK2O,EAAO,IAAMA,EAAO,GAAK3O,EAAM,IAC9E,CAEc,SAAU4O,GAAY/sC,GAClCA,EAAOmqC,GAAUnqC,GAOjB,IANA,IAAM4U,EAAW,GACbo4B,EAAe,KACfC,EAAa,KACbC,EAAiB,KACjBC,EAA0B,EACxBx4B,EAAQ3U,EAAKjN,OACVuC,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAM8S,EAASpI,EAAK1K,GACpB23C,EAAajtC,EAAK1K,EAAI,GACtB,IAAM83C,EAAUhlC,EAAO,GAEjB2M,EAAU,CACdq4B,QAAO,EACPC,SAAUL,EACV5kC,OAAM,EACNklC,aAAc,KACdC,WAAY,MAEd,OAAQH,GACN,IAAK,IACHF,EAAiB,CAAE9kC,EAAO,GAAIA,EAAO,IACrC+kC,EAA0B73C,EAC1B,MACF,IAAK,IACH,IAAMk4C,EAAYrB,GAAaa,EAAc5kC,GAC7C2M,EAAQ,aAAey4B,EACvB,MACF,QACE,MAEJ,GAAgB,MAAZJ,EAEFJ,EAAeE,EAEfD,EAAajtC,EAAKmtC,EAA0B,OACvC,CACL,IAAM53C,EAAM6S,EAAOrV,OACnBi6C,EAAe,CAAE5kC,EAAO7S,EAAM,GAAI6S,EAAO7S,EAAM,G,CAE7C03C,GAAgC,MAAlBA,EAAW,KAE3BA,EAAajtC,EAAKmtC,GACdv4B,EAASu4B,KAEXv4B,EAASu4B,GAAyBE,SAAWL,IAGjDj4B,EAAQ,gBAAkBi4B,EAGxBp4B,EAASu4B,IACTnB,GAAYgB,EAAcp4B,EAASu4B,GAAyBH,gBAE5Dp4B,EAASu4B,GAAyBE,SAAWt4B,EAAQs4B,UAEvD,IAAM3E,EAAYuE,EAAa,CAAEA,EAAWA,EAAWl6C,OAAS,GAAIk6C,EAAWA,EAAWl6C,OAAS,IAAO,KAC1GgiB,EAAQ,aAAe2zB,EAEf,MAAa3zB,EAAO,SAC5B,GAAI,CAAE,IAAK,IAAK,KAAMomB,SAASiS,GAC7Br4B,EAAQu4B,aAAe,CAAED,EAAS,GAAKL,EAAa,GAAIK,EAAS,GAAKL,EAAa,IACnFj4B,EAAQw4B,WAAa,CAAEP,EAAa,GAAKK,EAAS,GAAIL,EAAa,GAAKK,EAAS,SAC5E,GAAgB,MAAZD,EAAiB,CAE1B,IAAMK,EAAK,CAAErlC,EAAO,GAAIA,EAAO,IAE/B2M,EAAQu4B,aAAe,CAAED,EAAS,GAAKI,EAAG,GAAIJ,EAAS,GAAKI,EAAG,IAC/D14B,EAAQw4B,WAAa,CAAEP,EAAa,GAAKS,EAAG,GAAIT,EAAa,GAAKS,EAAG,G,MAChE,GAAgB,MAAZL,EAAiB,CAC1B,IAAMM,EAAa94B,EAAStf,EAAI,GAC1Bm4C,EAAKnC,GAAWoC,EAAWV,aAAcK,GACpB,MAAvBK,EAAWN,SACbr4B,EAAQq4B,QAAU,IAClBr4B,EAAQu4B,aAAe,CAAED,EAAS,GAAKI,EAAG,GAAIJ,EAAS,GAAKI,EAAG,IAC/D14B,EAAQw4B,WAAa,CAAEP,EAAa,GAAKS,EAAG,GAAIT,EAAa,GAAKS,EAAG,MAErE14B,EAAQq4B,QAAU,KAClBr4B,EAAQu4B,aAAe,CAAED,EAAS,GAAKL,EAAa,GAAIK,EAAS,GAAKL,EAAa,IACnFj4B,EAAQw4B,WAAa,CAAEP,EAAa,GAAKK,EAAS,GAAIL,EAAa,GAAKK,EAAS,I,MAE9E,GAAgB,MAAZD,EAAiB,CAE1B,IAAMzC,EAAM,CAAEviC,EAAO,GAAIA,EAAO,IAC1B+iC,EAAM,CAAE/iC,EAAO,GAAIA,EAAO,IAChC2M,EAAQu4B,aAAe,CAAED,EAAS,GAAK1C,EAAI,GAAI0C,EAAS,GAAK1C,EAAI,IACjE51B,EAAQw4B,WAAa,CAAEP,EAAa,GAAK7B,EAAI,GAAI6B,EAAa,GAAK7B,EAAI,IAGvC,IAA5Bp2B,EAAQu4B,aAAa,IAAwC,IAA5Bv4B,EAAQu4B,aAAa,KACxDv4B,EAAQu4B,aAAe,CAAC3C,EAAI,GAAKQ,EAAI,GAAIR,EAAI,GAAKQ,EAAI,KAE1B,IAA1Bp2B,EAAQw4B,WAAW,IAAsC,IAA1Bx4B,EAAQw4B,WAAW,KACpDx4B,EAAQw4B,WAAa,CAACpC,EAAI,GAAKR,EAAI,GAAIQ,EAAI,GAAKR,EAAI,I,MAEjD,GAAgB,MAAZyC,EAAiB,CACpBM,EAAa94B,EAAStf,EAAI,GAC1Bq1C,EAAMW,GAAWoC,EAAWV,aAAcK,GAC1ClC,EAAM,CAAE/iC,EAAO,GAAIA,EAAO,IACL,MAAvBslC,EAAWN,SACbr4B,EAAQq4B,QAAU,IAClBr4B,EAAQu4B,aAAe,CAAED,EAAS,GAAK1C,EAAI,GAAI0C,EAAS,GAAK1C,EAAI,IACjE51B,EAAQw4B,WAAa,CAAEP,EAAa,GAAK7B,EAAI,GAAI6B,EAAa,GAAK7B,EAAI,MAEvEp2B,EAAQq4B,QAAU,KAClBr4B,EAAQu4B,aAAe,CAAED,EAAS,GAAKlC,EAAI,GAAIkC,EAAS,GAAKlC,EAAI,IACjEp2B,EAAQw4B,WAAa,CAAEP,EAAa,GAAK7B,EAAI,GAAI6B,EAAa,GAAK7B,EAAI,I,MAEpE,GAAgB,MAAZiC,EAAiB,CAC1B,IAAI7kC,EAAI,KACF,EAQFwM,EAAQ,cAAgB,GAP1BgO,EAAAA,EAAAA,GAAA9X,OAAE,MAAG,EAAC,EACNnb,EAAAA,EAAAA,GAAAob,OAAE,MAAG,EAAC,EACNyiC,EAAAA,EAAAA,GAAA/kC,OAAE,MAAG,EAAC,EACNglC,EAAAA,EAAAA,GAAA/kC,OAAE,MAAG,EAAC,EACNglC,EAAAA,EAAAA,UAAAvB,OAAS,MAAG,EAAC,EACbwB,EAAAA,EAAAA,WAAA/G,OAAU,MAAG,EAAC,EACdgH,EAAAA,EAAAA,SAAA/G,OAAQ,MAAG,EAAC,EAEI,IAAdsF,IACF/jC,IAAM,GAER,IAAMylC,EAAMplC,EAAK5R,KAAKiS,IAAI89B,EAAax+B,GAAK0C,EACtCgjC,EAAMplC,EAAK7R,KAAKoS,IAAI29B,EAAax+B,GAAK2C,EAC5C6J,EAAQu4B,aAAe,CAAEU,EAAMd,EAAe,GAAIe,EAAMf,EAAe,IACvE,IAAMgB,EAAMtlC,EAAK5R,KAAKiS,IAAI89B,EAAaC,EAAWz+B,GAAK0C,EACjDkjC,EAAMtlC,EAAK7R,KAAKoS,IAAI29B,EAAaC,EAAWz+B,GAAK2C,EACvD6J,EAAQw4B,WAAa,CAAEF,EAAS,GAAKa,EAAKb,EAAS,GAAKc,E,CAE1Dv5B,EAASpgB,KAAKugB,E,CAEhB,OAAOH,CACT,CCxIA,IAAMw5B,GAAY,KAElB,SAASC,GAAK5lC,GACZ,OAAIzR,KAAK0D,IAAI+N,GAAK2lC,GACT,EAGF3lC,EAAI,GAAK,EAAI,CACtB,CAGA,SAAS6lC,GAAU3/B,EAAI9B,EAAI/E,GACzB,OACGA,EAAE,GAAK6G,EAAG,KAAO9B,EAAG,GAAK8B,EAAG,OAAS9B,EAAG,GAAK8B,EAAG,KAAO7G,EAAE,GAAK6G,EAAG,KAClE3X,KAAKE,IAAIyX,EAAG,GAAI9B,EAAG,KAAO/E,EAAE,IAC5BA,EAAE,IAAM9Q,KAAKC,IAAI0X,EAAG,GAAI9B,EAAG,KAC3B7V,KAAKE,IAAIyX,EAAG,GAAI9B,EAAG,KAAO/E,EAAE,IAC5BA,EAAE,IAAM9Q,KAAKC,IAAI0X,EAAG,GAAI9B,EAAG,GAK/B,CAGc,SAAU0hC,GAAYn6B,EAAQ3L,EAAGC,GAC7C,IAAIkY,GAAQ,EACNhmB,EAAIwZ,EAAOrhB,OACjB,GAAI6H,GAAK,EAEP,OAAO,EAET,IAAK,IAAItF,EAAI,EAAGA,EAAIsF,EAAGtF,IAAK,CAC1B,IAAMqZ,EAAKyF,EAAO9e,GACZuX,EAAKuH,GAAQ9e,EAAI,GAAKsF,GAC5B,GAAI0zC,GAAU3/B,EAAI9B,EAAI,CAACpE,EAAGC,IAExB,OAAO,EAKP2lC,GAAK1/B,EAAG,GAAKjG,GAAK,IAAM2lC,GAAKxhC,EAAG,GAAKnE,GAAK,GAC1C2lC,GAAK5lC,GAAMC,EAAIiG,EAAG,KAAOA,EAAG,GAAK9B,EAAG,KAAQ8B,EAAG,GAAK9B,EAAG,IAAM8B,EAAG,IAAM,IAEtEiS,GAASA,E,CAGb,OAAOA,CACT,CC1CA,IAAM4tB,GAAY,SAAC79C,EAAeuG,EAAaD,GAAgB,UAASC,GAAOvG,GAASsG,CAAzB,EAGjD,SAAUw3C,GAAiBrK,EAAWz1B,EAAW9B,EAAW+B,GACxE,IAAMw/B,EAAY,KACZM,EAAW,CACfjmC,EAAGoE,EAAGpE,EAAI27B,EAAG37B,EACbC,EAAGmE,EAAGnE,EAAI07B,EAAG17B,GAETimC,EAAY,CAChBlmC,EAAGkG,EAAGlG,EAAI27B,EAAG37B,EACbC,EAAGiG,EAAGjG,EAAI07B,EAAG17B,GAETkmC,EAAY,CAChBnmC,EAAGmG,EAAGnG,EAAIoE,EAAGpE,EACbC,EAAGkG,EAAGlG,EAAImE,EAAGnE,GAETmmC,EAAgBF,EAAGlmC,EAAImmC,EAAGlmC,EAAIimC,EAAGjmC,EAAIkmC,EAAGnmC,EACxCqmC,EAAmBD,EAAQA,EAC3BE,EAAkBJ,EAAGlmC,EAAIkmC,EAAGlmC,EAAIkmC,EAAGjmC,EAAIimC,EAAGjmC,EAC1CsmC,EAAkBJ,EAAGnmC,EAAImmC,EAAGnmC,EAAImmC,EAAGlmC,EAAIkmC,EAAGlmC,EAC5Cy1B,EAAsB,KAC1B,GAAI2Q,EAAWV,EAAYW,EAAUC,EAAS,CAC5C,IAAMjnC,GAAK2mC,EAAEjmC,EAAImmC,EAAGlmC,EAAIgmC,EAAEhmC,EAAIkmC,EAAGnmC,GAAKomC,EAChC7mC,GAAK0mC,EAAEjmC,EAAIkmC,EAAGjmC,EAAIgmC,EAAEhmC,EAAIimC,EAAGlmC,GAAKomC,EAClCL,GAAUzmC,EAAG,EAAG,IAAMymC,GAAUxmC,EAAG,EAAG,KACxCm2B,EAAQ,CACN11B,EAAG27B,EAAG37B,EAAIV,EAAI4mC,EAAGlmC,EACjBC,EAAG07B,EAAG17B,EAAIX,EAAI4mC,EAAGjmC,G,CAIvB,OAAOy1B,CACT,CCzCA,SAAS8Q,GAAa76B,GAGpB,IAFA,IAAM86B,EAAQ,GACRv6B,EAAQP,EAAOrhB,OACbuC,EAAI,EAAGA,EAAIqf,EAAQ,EAAGrf,IAAK,CACjC,IAAM6oC,EAAQ/pB,EAAO9e,GACfuuC,EAAOzvB,EAAO9e,EAAI,GACxB45C,EAAM16C,KAAK,CACT6jB,KAAM,CACJ5P,EAAG01B,EAAM,GACTz1B,EAAGy1B,EAAM,IAEX/lB,GAAI,CACF3P,EAAGo7B,EAAK,GACRn7B,EAAGm7B,EAAK,K,CAId,GAAIqL,EAAMn8C,OAAS,EAAG,CACpB,IAAMy4C,EAAQp3B,EAAO,GACfrc,EAAOqc,EAAOO,EAAQ,GAC5Bu6B,EAAM16C,KAAK,CACT6jB,KAAM,CACJ5P,EAAG1Q,EAAK,GACR2Q,EAAG3Q,EAAK,IAEVqgB,GAAI,CACF3P,EAAG+iC,EAAM,GACT9iC,EAAG8iC,EAAM,K,CAIf,OAAO0D,CACT,CAEA,SAASC,GAAqBD,EAAOtK,GACnC,IAAIwK,GAAc,EAOlB,OANAj6C,EAAK+5C,GAAO,YACV,GAAIT,GAAiB/0C,EAAE2e,KAAM3e,EAAE0e,GAAIwsB,EAAKvsB,KAAMusB,EAAKxsB,IAEjD,OADAg3B,GAAc,GACP,CAEX,IACOA,CACT,CASA,SAAS1oB,GAAQtS,GACf,IAAMoS,EAAOpS,EAAOjV,KAAI,YAAK,SAAE,EAAF,IACvBsnB,EAAOrS,EAAOjV,KAAI,YAAK,SAAE,EAAF,IAC7B,MAAO,CACLgnB,KAAMnvB,KAAKE,IAAI4G,MAAM,KAAM0oB,GAC3BH,KAAMrvB,KAAKC,IAAI6G,MAAM,KAAM0oB,GAC3BF,KAAMtvB,KAAKE,IAAI4G,MAAM,KAAM2oB,GAC3BF,KAAMvvB,KAAKC,IAAI6G,MAAM,KAAM2oB,GAE/B,CAEA,SAAS4oB,GAAcC,EAAWC,GAChC,QAASA,EAAKppB,KAAOmpB,EAAKjpB,MAAQkpB,EAAKlpB,KAAOipB,EAAKnpB,MAAQopB,EAAKjpB,KAAOgpB,EAAK/oB,MAAQgpB,EAAKhpB,KAAO+oB,EAAKhpB,KACvG,CAEc,SAAUkpB,GAAoBC,EAASC,GAEnD,GAAID,EAAQ18C,OAAS,GAAK28C,EAAQ38C,OAAS,EACzC,OAAO,EAGT,IAAMse,EAAQqV,GAAQ+oB,GAChBn+B,EAAQoV,GAAQgpB,GAEtB,IAAKL,GAAch+B,EAAOC,GACxB,OAAO,EAGT,IAAIq+B,GAAO,EAQX,GANAx6C,EAAKu6C,GAAS,YACZ,GAAIE,GAAiBH,EAAStR,EAAM,GAAIA,EAAM,IAE5C,OADAwR,GAAO,GACA,CAEX,IACIA,EACF,OAAO,EAST,GANAx6C,EAAKs6C,GAAS,YACZ,GAAIG,GAAiBF,EAASvR,EAAM,GAAIA,EAAM,IAE5C,OADAwR,GAAO,GACA,CAEX,IACIA,EACF,OAAO,EAGT,IAAME,EAASZ,GAAaQ,GACtBK,EAASb,GAAaS,GACxBN,GAAc,EAOlB,OANAj6C,EAAK26C,GAAQ,YACX,GAAIX,GAAqBU,EAAQjL,GAE/B,OADAwK,GAAc,GACP,CAEX,IACOA,CACT,CC9GA,SAASW,GAAWn7B,EAAUo7B,GAI5B,IAHA,IAAIxpB,EAAO,GACPC,EAAO,GACLwpB,EAAoB,GACjB36C,EAAI,EAAGA,EAAIsf,EAAS7hB,OAAQuC,IAAK,CACxC,IAAMyf,EAAUH,EAAStf,GACjB,EAAmCyf,EAAO,aAA5B3M,EAAqB2M,EAAO,OAApBs4B,EAAat4B,EAAO,SAC9ChE,OAAG,EACP,OAAQgE,EAAQq4B,SACd,IAAK,IACHr8B,EAAMm/B,GAAAA,IAAa7C,EAAS,GAAIA,EAAS,GAAIjlC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACrF,MACF,IAAK,IACH2I,EAAMo/B,GAAAA,IAAc9C,EAAS,GAAIA,EAAS,GAAIjlC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC5G,MACF,IAAK,IACH,IAAMolC,EAAYz4B,EAAQy4B,UAC1Bz8B,EAAMq/B,GAAAA,IACJ5C,EAAUviC,GACVuiC,EAAUtiC,GACVsiC,EAAU5kC,GACV4kC,EAAU3kC,GACV2kC,EAAU1G,UACV0G,EAAUzG,WACVyG,EAAUxG,UAEZ,MACF,QACExgB,EAAKhyB,KAAKw4C,EAAa,IACvBvmB,EAAKjyB,KAAKw4C,EAAa,IACvB,MAEAj8B,IACFgE,EAAQhE,IAAMA,EACdyV,EAAKhyB,KAAKuc,EAAItI,EAAGsI,EAAItI,EAAIsI,EAAInP,OAC7B6kB,EAAKjyB,KAAKuc,EAAIrI,EAAGqI,EAAIrI,EAAIqI,EAAIxL,SAE3ByqC,IAAkC,MAApBj7B,EAAQq4B,SAAuC,MAApBr4B,EAAQq4B,UAAoBr4B,EAAQs4B,UAAYt4B,EAAQ2zB,WACnGuH,EAAkBz7C,KAAKugB,E,CAM3ByR,EAAOA,EAAKnyB,QAAO,SAAC5B,GAAS,OAAC4H,OAAO/C,MAAM7E,IAASA,IAAS2zB,KAAY3zB,KAAU2zB,GAAtD,IAC7BK,EAAOA,EAAKpyB,QAAO,SAAC5B,GAAS,OAAC4H,OAAO/C,MAAM7E,IAASA,IAAS2zB,KAAY3zB,KAAU2zB,GAAtD,IAC7B,IAAID,EAAOjvB,EAAIsvB,GACXF,EAAOpvB,EAAIuvB,GACXJ,EAAOpvB,EAAIuvB,GACXD,EAAOtvB,EAAIwvB,GACf,GAAiC,IAA7BwpB,EAAkBl9C,OACpB,MAAO,CACL0V,EAAG0d,EACHzd,EAAG4d,EACH1kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,GAGnB,IAAShxB,EAAI,EAAGA,EAAI26C,EAAkBl9C,OAAQuC,IAAK,CAC3Cyf,EAAUk7B,EAAkB36C,GAC1B,EAAiByf,EAAO,aADhC,IAEIs7B,OAAK,EACLrD,EAAa,KAAO7mB,GACtBkqB,EAAQC,GAA6Bv7B,EAASi7B,GAC9C7pB,GAAckqB,EAAME,QACXvD,EAAa,KAAO3mB,IAC7BgqB,EAAQC,GAA6Bv7B,EAASi7B,GAC9C3pB,GAAcgqB,EAAME,QAElBvD,EAAa,KAAO1mB,GACtB+pB,EAAQC,GAA6Bv7B,EAASi7B,GAC9C1pB,GAAc+pB,EAAMG,QACXxD,EAAa,KAAOzmB,IAC7B8pB,EAAQC,GAA6Bv7B,EAASi7B,GAC9CzpB,GAAc8pB,EAAMG,O,CAGxB,MAAO,CACL/nC,EAAG0d,EACHzd,EAAG4d,EACH1kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,CAEA,SAASgqB,GAA6Bv7B,EAASi7B,GACrC,MAAsCj7B,EAAO,SAAnCi4B,EAA4Bj4B,EAAO,aAArB2zB,EAAc3zB,EAAO,UAC/C07B,EAAgBz5C,KAAKkb,IAAI86B,EAAa,GAAKK,EAAS,GAAI,GAAKr2C,KAAKkb,IAAI86B,EAAa,GAAKK,EAAS,GAAI,GACrGqD,EAAiB15C,KAAKkb,IAAI86B,EAAa,GAAKtE,EAAU,GAAI,GAAK1xC,KAAKkb,IAAI86B,EAAa,GAAKtE,EAAU,GAAI,GACxGiI,EAAa35C,KAAKkb,IAAIm7B,EAAS,GAAK3E,EAAU,GAAI,GAAK1xC,KAAKkb,IAAIm7B,EAAS,GAAK3E,EAAU,GAAI,GAE5FkI,EAAe55C,KAAKmmB,MACvBszB,EAAgBC,EAAiBC,IAAe,EAAI35C,KAAKuU,KAAKklC,GAAiBz5C,KAAKuU,KAAKmlC,KAI5F,IAAKE,GAA2C,IAA3B55C,KAAKoS,IAAIwnC,IAAuBr2C,GAAcq2C,EAAc,GAC/E,MAAO,CACLL,OAAQ,EACRC,OAAQ,GAGZ,IAAI/I,EAASzwC,KAAK0D,IAAI1D,KAAKsb,MAAMo2B,EAAU,GAAKsE,EAAa,GAAItE,EAAU,GAAKsE,EAAa,KACzFpF,EAAS5wC,KAAK0D,IAAI1D,KAAKsb,MAAMo2B,EAAU,GAAKsE,EAAa,GAAItE,EAAU,GAAKsE,EAAa,KAE7FvF,EAASA,EAASzwC,KAAK+D,GAAK,EAAI/D,KAAK+D,GAAK0sC,EAASA,EACnDG,EAASA,EAAS5wC,KAAK+D,GAAK,EAAI/D,KAAK+D,GAAK6sC,EAASA,EAGnD,IAAMyI,EAAQ,CAEZE,OACEv5C,KAAKiS,IAAI2nC,EAAe,EAAInJ,IAAYuI,EAAY,GAAM,EAAIh5C,KAAKoS,IAAIwnC,EAAe,KAAOZ,EAAY,GAAK,EAEhHQ,OACEx5C,KAAKiS,IAAI2+B,EAASgJ,EAAe,IAAOZ,EAAY,GAAM,EAAIh5C,KAAKoS,IAAIwnC,EAAe,KAAOZ,EAAY,GAAK,GAElH,OAAOK,CACT,CAEc,YAAW14B,GACvB,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAiBvvB,EAAK,KAAhB4gD,EAAW5gD,EAAK,OACxB+/C,EAAYa,EAAS5gD,EAAM+/C,UAAY,EACvCp7B,EAAW+C,EAAMvZ,IAAI,aAAe0yC,GAAc9wC,GAClD,EAA0B+vC,GAAWn7B,EAAUo7B,GAA7CvnC,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SACvBsL,EAAO,CACTsV,KAAM1d,EACN6d,KAAM5d,EACN2d,KAAM5d,EAAI7G,EACV2kB,KAAM7d,EAAInD,GAGZ,OADAsL,EAAOg4B,GAAelxB,EAAO9G,GACtB,CACLpI,EAAGoI,EAAKsV,KACRzd,EAAGmI,EAAKyV,KACR1kB,MAAOiP,EAAKwV,KAAOxV,EAAKsV,KACxB5gB,OAAQsL,EAAK0V,KAAO1V,EAAKyV,KAE7B,CC9Ic,YAAW3O,GACvB,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAmBvvB,EAAK,GAApBkZ,EAAelZ,EAAK,GAAhBiZ,EAAWjZ,EAAK,GAAZoZ,EAAOpZ,EAAK,GAC1Bk2B,EAAOnvB,KAAKE,IAAI8R,EAAIE,GACpBmd,EAAOrvB,KAAKC,IAAI+R,EAAIE,GACpBod,EAAOtvB,KAAKE,IAAIiS,EAAIE,GACpBkd,EAAOvvB,KAAKC,IAAIkS,EAAIE,GACtBwH,EAAO,CACTsV,KAAI,EACJE,KAAI,EACJC,KAAI,EACJC,KAAI,GAGN,OADA1V,EAAOg4B,GAAelxB,EAAO9G,GACtB,CACLpI,EAAGoI,EAAKsV,KACRzd,EAAGmI,EAAKyV,KACR1kB,MAAOiP,EAAKwV,KAAOxV,EAAKsV,KACxB5gB,OAAQsL,EAAK0V,KAAO1V,EAAKyV,KAE7B,CCrBc,YAAW3O,GACvB,IAAM1nB,EAAQ0nB,EAAM6H,OACZ,EAAiBvvB,EAAK,EAAnByY,EAAczY,EAAK,EAAhB2Y,EAAW3Y,EAAK,GAAZ4Y,EAAO5Y,EAAK,GAC9B,MAAO,CACLwY,EAAGA,EAAIG,EACPF,EAAGA,EAAIG,EACPjH,MAAY,EAALgH,EACPrD,OAAa,EAALsD,EAEZ,CCFA65B,GAAS,OAAQqO,IACjBrO,GAAS,QAASqO,IAClBrO,GAAS,SAAUsO,IACnBtO,GAAS,SAAUsO,IACnBtO,GAAS,WAAYuO,IACrBvO,GAAS,UAAWwO,IACpBxO,GAAS,OAAQ1hC,IACjB0hC,GAAS,OAAQ1iC,IACjB0iC,GAAS,OAAQkC,IACjBlC,GAAS,UAAWqF,I9EIb,IPvBMoJ,GAAY,EAGZC,GAAe,GACfC,GAAc,GAGdC,GAAM,IsFGnB,cA6CE,WAAYxqC,GACF,MAA2DA,EAAG,OAAtDyqC,EAAmDzqC,EAAG,OAA9CkT,EAA2ClT,EAAG,YAA9C0qC,OAAW,MAAG,CAAC,IAAK,KAAI,EAAEC,EAAiB3qC,EAAG,aAEtE,KAAK0qC,YAAcA,EACnB,KAAKE,OAASA,EACd,KAAKH,OAASA,EACd,KAAKE,aAAeA,CACtB,CA6HF,OApHSE,EAAAA,UAAAA,SAAP,SAAgBC,GACd,OAAO,KAAKJ,YAAYp9C,QAAQw9C,IAAQ,CAC1C,EAEUD,EAAAA,UAAAA,eAAV,SAAyBC,EAAaC,EAAkBn9C,GAC9C,IAKJo9C,EACAjO,EANI,EAAW,KAAI,OAEjBnxC,EAAQgC,EAAON,QAAQy9C,GACvB9+C,EAAS2B,EAAO3B,OA+BtB,OAzBKw+C,GAAU,KAAKQ,SAAS,MAC3BD,EAAM,EACNjO,EAAO,GACE9wC,EAAS,GAElB++C,EAAMp9C,EAAiB,IAAVhC,EAAc,EAAIA,EAAQ,GAEvCmxC,EAAOnvC,EAAOhC,IAAUK,EAAS,EAAIA,EAAS,EAAIL,EAAQ,GAE5C,IAAVA,EACFo/C,IAAQD,EAAWC,GAAO,EAE1BA,IAAQjO,EAAOgO,GAAY,EAGzBn/C,IAAUK,EAAS,EACrB8wC,IAASA,EAAOgO,GAAY,EAE5BhO,IAASgO,EAAWn9C,EAAO3B,EAAS,IAAM,IAG5C++C,EAAmB,IAAbD,EAAiB,EAAIA,EAAW,GACtChO,EAAoB,IAAbgO,EAAiB,EAAIA,EAAW,IAGlC,CACLC,IAAG,EACHjO,KAAI,EAER,EAEU8N,EAAAA,UAAAA,WAAV,SAAqBK,EAA4BC,GAAjD,WAEQR,EAAe,KAAKS,aAAaD,GAGvCE,EAAOH,GAAkB,SAACI,EAAW1/C,GAGnCy/C,EAAOV,GAAc,SAAC/8C,EAAkBk9C,GAEtChrC,EAAKyrC,UAAUT,EAAKl9C,EAAQ09C,EAAW1/C,EACzC,GACF,GACF,EAQUi/C,EAAAA,UAAAA,UAAV,SAAoBj7C,EAAck7C,GAShC,OAPAO,EAAOz7C,GAAM,SAAC47C,QACQt9C,IAAhBs9C,EAAOV,KACTU,EAAOV,GAAOT,GAElB,IAGOgB,GAAUz7C,EAAMk7C,EACzB,EAGUD,EAAAA,UAAAA,UAAV,SAAoBC,EAAal9C,EAAkBgC,EAAchE,GAAuB,EAOhFi/C,EAAAA,UAAAA,aAAR,SAAqBM,GACb,MAAqB,KAAnBP,EAAM,SAAEH,EAAM,SAEhBE,EAAiCU,GAAS,GAAI,KAAKV,cAGnDc,EAAO,GAiBb,GAhBIb,GAAU,KAAKK,SAAS,MAC1BQ,EAAK/9C,KAAKk9C,GAERH,GAAU,KAAKQ,SAAS,MAC1BQ,EAAK/9C,KAAK+8C,GAGZgB,EAAKjzC,SAAQ,SAACsyC,GACRH,GAAgBA,EAAaG,KAIjCH,EAAaG,GAAOO,GAAcF,EAAYL,GAAKzwB,MAAK,SAAC/C,EAAIC,GAAO,SAAKA,CAAL,IACtE,KAGKkzB,GAAU,KAAKQ,SAAS,KAAM,CACjC,IAAMH,EAAM,IACZH,EAAaG,GAAO,CAACT,GAAW,E,CAGlC,OAAOM,CACT,EACF,EAjLA,G,MCJMe,GAA4B,GAM5BC,GAAY,SAAC59C,GACjB,OAAO29C,GAAW39C,EAAKsG,cACzB,EAOMu3C,GAAiB,SAAC79C,EAAc89C,GAEpC,GAAIF,GAAU59C,GACZ,MAAM,IAAI8O,MAAM,gBAAgB9O,EAAI,cAGtC29C,GAAW39C,EAAKsG,eAAiBw3C,CACnC,ECZIC,GAAgB,SAASrqC,EAAG/N,GAI5B,OAHAo4C,GAAgBh9C,OAAOi9C,gBAClB,CAAEC,UAAW,cAAgB79C,OAAS,SAAUsT,EAAG/N,GAAK+N,EAAEuqC,UAAYt4C,CAAG,GAC1E,SAAU+N,EAAG/N,GAAK,IAAK,IAAIsF,KAAKtF,EAAOA,EAAE9E,eAAeoK,KAAIyI,EAAEzI,GAAKtF,EAAEsF,GAAI,EACtE8yC,GAAcrqC,EAAG/N,EAC5B,EAEO,SAASyM,GAAUsB,EAAG/N,GAEzB,SAASu4C,IAAOljD,KAAKqM,YAAcqM,CAAG,CADtCqqC,GAAcrqC,EAAG/N,GAEjB+N,EAAE5Q,UAAkB,OAAN6C,EAAa5E,OAAO4mB,OAAOhiB,IAAMu4C,EAAGp7C,UAAY6C,EAAE7C,UAAW,IAAIo7C,EACnF,CAEO,IAAIC,GAAW,WAQlB,OAPAA,GAAWp9C,OAAOsgC,QAAU,SAAkBluB,GAC1C,IAAK,IAAID,EAAGzS,EAAI,EAAGsF,EAAIgD,UAAU7K,OAAQuC,EAAIsF,EAAGtF,IAE5C,IAAK,IAAIwK,KADTiI,EAAInK,UAAUtI,GACAyS,EAAOnS,OAAO+B,UAAUjC,eAAeZ,KAAKiT,EAAGjI,KAAIkI,EAAElI,GAAKiI,EAAEjI,IAE9E,OAAOkI,CACX,EACOgrC,GAASl1C,MAAMjO,KAAM+N,UAChC,ECjCA,mBAKE,WAAYkJ,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KALJF,EAAAA,SAAmC,GACnCA,EAAAA,gBAA4B,GAC5BA,EAAAA,UAAoB,GAKxB,MAYEE,EAAG,YAZLmsC,OAAW,MAAG7B,GAAY,EAC1BruB,EAWEjc,EAAG,WAXLosC,OAAU,MAAG7B,GAAW,EACxB8B,EAUErsC,EAAG,QATLssC,EASEtsC,EAAG,gBARLusC,EAQEvsC,EAAG,aAPLwsC,EAOExsC,EAAG,iBANLysC,EAMEzsC,EAAG,SALL0sC,EAKE1sC,EAAG,YAJL2sC,EAIE3sC,EAAG,eAHL4sC,EAGE5sC,EAAG,eAFL6sC,EAEE7sC,EAAG,iBADL8sC,EACE9sC,EAAG,a,OACPF,EAAKqsC,YAAcA,EACnBrsC,EAAKssC,WAAaA,EAClBtsC,EAAKusC,QAAUA,EACfvsC,EAAKwsC,gBAAkBA,EACvBxsC,EAAKysC,aAAeA,EACpBzsC,EAAKitC,kBAAoBP,EACzB1sC,EAAK2sC,SAAWA,EAChB3sC,EAAK4sC,YAAcA,EACnB5sC,EAAK6sC,eAAiBA,EACtB7sC,EAAK8sC,eAAiBA,EACtB9sC,EAAK+sC,iBAAmBA,EACxB/sC,EAAKgtC,aAAeA,E,CACtB,CAiNF,OAlPmC3sC,GAAAA,EAAAA,GAmC1B6sC,EAAAA,UAAAA,QAAP,SAAeC,GACb,IAAM/B,EAAmBG,GAAQ4B,GAE3BC,EAAY7B,EAAUH,GAEpB,EAAY,KAAI,QAGlBiC,EAAkBd,EAAUhB,GAAQ6B,EAAWb,GAAWnB,EAWhE,OATA,KAAKkC,SAAW,GAChB,KAAKD,gBAAkBA,EACvB,KAAKD,UAAYA,EAEjB,KAAKG,WAAWF,EAAiBD,GAEjC,KAAKC,gBAAkB,GACvB,KAAKD,UAAY,GAEVhC,CACT,EAEU8B,EAAAA,UAAAA,UAAV,SAAoBlC,EAAal9C,EAAkBgC,EAAc09C,GAAjE,WACU,EAAiB,KAAI,aACvBj1C,EAAM,KAAKk1C,gBAAgBzC,GAC3B0C,EAAY,KAAKA,UAAU59C,EAAMk7C,GA2BvC,OAzBAO,EAAOmC,GAAW,SAACttB,EAAOr0B,GACxB,IAAI4hD,EAIFA,EADoB,IAAlB7/C,EAAO3B,OACD,CACN++C,IAAKp9C,EAAO,GAAK,EACjBmvC,KAAMnvC,EAAO,GAAK,GAIZkS,EAAK4tC,eAAe5C,EAAK33C,WAAWtH,GAAM+B,GAEpDy9C,EAAOnrB,GAAO,SAACze,GACb,IAAM5X,EAAQ4X,EAAEqpC,GACV6C,EAAWt1C,EAAIxO,GACf+jD,EAAWD,EAASrgD,QAAQggD,GAClC,GAAKjC,EAAQyB,GAIXrrC,EAAEqpC,GAAOhrC,EAAK+tC,eAAeJ,EAAOG,EAAUD,EAAS1hD,YAJ7B,CAClB,MAAcwhD,EAAK,IAAd1Q,EAAS0Q,EAAK,KAC3BhsC,EAAEqpC,GAAOO,EAAayB,GAAgBA,EAAarrC,EAAGgsC,IAAUzC,EAAMjO,GAAQ,EAAI+P,C,CAItF,GACF,IACO,EACT,EAEQE,EAAAA,UAAAA,eAAR,SAAuBS,EAAct0C,EAAa1K,GAC1C,IASFq/C,EATE,EAKF,KAJF1B,EAAU,aACVD,EAAW,cACXG,EAAe,kBACfC,EAAY,eAEN,EAAckB,EAAK,IAAd1Q,EAAS0Q,EAAK,KAErBM,EAAahR,EAAOiO,EAG1B,IAAKK,EAAQiB,IAAoBjB,EAAQkB,IAAiBD,GAAmB,EAAG,CAE9E,IAAM0B,EAAS,KAAKC,sBAAsBx/C,EAAK0K,GAC/C20C,EAAW9C,EAAMgD,C,MACZ,IAAK3C,EAAQkB,IAAiBlB,EAAQiB,IAAoBC,GAAgB,EAAG,CAE5EyB,EAAS,KAAKE,mBAAmBz/C,EAAK0K,GAC5C20C,EAAW9C,EAAMgD,C,MACZ,IACJ3C,EAAQiB,KACRjB,EAAQkB,IACTD,GAAmB,GACnBC,GAAgB,EAChB,CAEMyB,EAAS,KAAKG,0BAA0B1/C,EAAK0K,GACnD20C,EAAW9C,EAAMgD,C,KACZ,CAEL,IAAMlzC,EAASizC,EAAa3B,EAAc39C,EACpC2/C,EAASjC,EAAcrxC,EACvBkzC,EACL,IAAUD,EAAat/C,EAAMqM,GAASrM,EAAM,GAAK2/C,KAChDj1C,EAAM,GAAK2B,EAAQ3B,EAAMi1C,GAC1B,GAAStzC,EACT,GAASizC,EACVD,GAAY9C,EAAMjO,GAAQ,EAAIiR,C,CAEhC,OAAOF,CACT,EAEQd,EAAAA,UAAAA,sBAAR,SAA8Bv+C,EAAa0K,GACnC,MASF,KARFuzC,EAAW,cACXJ,EAAe,kBACfS,EAAiB,oBACjBN,EAAQ,WACRL,EAAU,aACVO,EAAc,iBACdC,EAAc,iBACdC,EAAgB,mBAEZwB,EAA4B/B,EAAkBS,EAChDuB,GAA0B,GAAK7B,EAAW,GAAK4B,GAA6B5B,EAAWL,GAAc39C,EAAM,GAC3G8/C,IAAc,EAAIF,GAA6B5B,EAAW,IAAMA,EAAW6B,GAA0B7/C,EAAM,IAAMA,EAGrH,GADA8/C,EAAclD,EAAQwB,GAA6D0B,EAAxC,EAAI9B,EAAWh+C,EAAMo+C,GAC3DxB,EAAQsB,GAAiB,CAC5B,IAAM6B,EAAqB7B,EAAiBI,EAC5CwB,EAAYr+C,KAAKE,IAAIm+C,EAAWC,E,CAElC,IAAKnD,EAAQuB,GAAiB,CAC5B,IAAM6B,EAAqB7B,EAAiBG,EAC5CwB,EAAYr+C,KAAKC,IAAIo+C,EAAWE,E,CAElCF,EAAY7B,EAAeA,EAAcK,EAAqBwB,EAE9DD,IAA2B,GAAK7B,EAAW,GAAK4B,GAA6B5B,EAAWh+C,EAAM8/C,IAAc9/C,EAAM,GAClH,IAAMu/C,IACF,GAAQ70C,GAAOo1C,EAAYp1C,EAAMm1C,EAClC,GAASD,GAA6B5B,EACvC4B,EAA4B,EAC9B,OAAOL,CACT,EAEQhB,EAAAA,UAAAA,mBAAR,SAA2Bv+C,EAAa0K,GAChC,MASF,KARFuzC,EAAW,cACXH,EAAY,eACZQ,EAAiB,oBACjBN,EAAQ,WACRN,EAAW,cACXQ,EAAc,iBACdC,EAAc,iBACdC,EAAgB,mBAEZyB,EAAyB/B,EAAeQ,EAC1CsB,EAA4B,EAAIlC,GAAeM,EAAW,GAC1D8B,IAAc,EAAIF,GAA6B5B,EAAW,IAAMA,EAAW6B,GAA0B7/C,EAAM,IAAMA,EAGrH,GADA8/C,EAAY1B,EAAmB,EAAIJ,EAAWh+C,EAAMo+C,EAAmB0B,GAClElD,EAAQsB,GAAiB,CAC5B,IAAM6B,EAAqB7B,EAAiBI,EAC5CwB,EAAYr+C,KAAKE,IAAIm+C,EAAWC,E,CAElC,IAAKnD,EAAQuB,GAAiB,CAC5B,IAAM6B,EAAqB7B,EAAiBG,EAC5CwB,EAAYr+C,KAAKC,IAAIo+C,EAAWE,E,CAElCF,EAAY7B,EAAeA,EAAcK,EAAqBwB,EAE9DF,GAA6B,GAAKE,EAAY9/C,EAAM6/C,GAA0B7/C,EAAM,IAAMg+C,IAAaA,EAAW,GAClH,IAAMuB,IACF,GAAQ70C,GAAOo1C,EAAYp1C,EAAMm1C,EAClC,GAASD,GAA6B5B,EACvC4B,EAA4B,EAC9B,OAAOL,CACT,EAEQhB,EAAAA,UAAAA,0BAAR,SAAkCv+C,EAAa0K,GACvC,MAKF,KAJFmzC,EAAe,kBACfC,EAAY,eACZQ,EAAiB,oBACjBN,EAAQ,WAEJ4B,EAA4B/B,EAAkBS,EAC9CuB,EAAyB/B,EAAeQ,EACxCwB,IAAc,EAAIF,GAA6B5B,EAAW,IAAMA,EAAW6B,GAA0B7/C,EAAM,IAAMA,EACjHu/C,IACF,GAAQ70C,GAAOo1C,EAAYp1C,EAAMm1C,EAClC,GAASD,GAA6B5B,EACvC4B,EAA4B,EAC9B,OAAOL,CACT,EAEQhB,EAAAA,UAAAA,gBAAR,SAAwBlC,GACtB,IAAMI,EAAmB,KAAKiC,gBACxBC,EAAW,KAAKA,SAClB/0C,EAAM+0C,EAAStC,GAmBnB,OAjBKzyC,IACHA,EAAM,GACNgzC,EAAOH,GAAkB,SAACt7C,EAAMhE,GAC9B,IAAMgC,EAASy9C,GAAcz7C,EAAMk7C,GAC9Bl9C,EAAO3B,QACV2B,EAAOF,KAAK,GAEd29C,EAAOz9C,GAAQ,SAACmE,GACTsG,EAAItG,KACPsG,EAAItG,GAAO,IAEbsG,EAAItG,GAAKrE,KAAK9B,EAChB,GACF,IACAwhD,EAAStC,GAAOzyC,GAGXA,CACT,EACF,EAlPA,CAAmCwyC,I,MCAnC,SAAS6D,GAAat+C,EAAaD,GACjC,OAAQA,EAAMC,GAAOF,KAAKulB,SAAWrlB,CACvC,CAEA,gC,8CA6CA,QA7CoC+P,GAAAA,EAAAA,GAC3BwuC,EAAAA,UAAAA,QAAP,SAAe1B,GACb,IAAM/B,EAAmBG,GAAQ4B,GAG3BC,EAAY7B,EAAUH,GAK5B,OAFA,KAAKmC,WAAWnC,EAAkBgC,GAE3BhC,CACT,EAQUyD,EAAAA,UAAAA,UAAV,SAAoB7D,EAAal9C,EAAkB09C,GAAnD,WAEQ2B,EAAiB,KAAKO,UAAUlC,EAAWR,GACjD,OAAOO,EAAO4B,GAAgB,SAACr9C,EAAcm7C,GAC3C,OAAOjrC,EAAK8uC,YAAYh/C,EAAMk7C,EAAK33C,WAAW43C,GAAWn9C,EAC3D,GACF,EAGQ+gD,EAAAA,UAAAA,gBAAR,SAAwBlB,GACd,MAAcA,EAAK,IAAd1Q,EAAS0Q,EAAK,KAErBW,GAAUrR,EAAOiO,GAAOR,GAC9B,OAAOkE,GAAa1D,EAAMoD,EAAQrR,EAAOqR,EAC3C,EAGQO,EAAAA,UAAAA,YAAR,SAAoBzuB,EAAe4qB,EAAaC,EAAkBn9C,GAAlE,WAEQ6/C,EAAQ,KAAKC,eAAe5C,EAAKC,EAAUn9C,GAKjD,OAHAy9C,EAAOnrB,GAAO,SAACtwB,GACbA,EAAKk7C,GAAOhrC,EAAK+uC,gBAAgBpB,EACnC,IACOvtB,CACT,EACF,EA7CA,CAAoC2qB,I,MCL9BiE,GAAQzD,GAEd,eACE,WAAYrrC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAEF,EAAuEA,EAAG,YAA1E0qC,OAAW,MAAG,CAAC,KAAI,EAAEzuB,EAAkDjc,EAAG,OAArDvB,OAAM,MAAGuvB,IAAG,EAAEhlC,EAAoCgX,EAAG,KAAvCjI,OAAI,MAAG,GAAE,EAAE8uC,EAAyB7mC,EAAG,aAA5B+uC,OAAY,OAAQ,E,OAC1EjvC,EAAK4qC,YAAcA,EACnB5qC,EAAKrB,OAASA,EACdqB,EAAK/H,KAAOA,EACZ+H,EAAKivC,aAAeA,E,CACtB,CAoGF,OA7GmC5uC,GAAAA,EAAAA,GAe1B6uC,EAAAA,UAAAA,QAAP,SAAe/B,GACP,MAA2B,KAAzBxC,EAAM,SAAEsE,EAAY,eAItBttC,EAAIgpC,EAAS,KAAKwE,aAAahC,GAAkB,KAAKiC,mBAAmBjC,GAE/E,OAAO8B,EAAe,KAAKphC,QAAQlM,GAAKA,CAC1C,EAEQutC,EAAAA,UAAAA,QAAR,SAAgB9D,GACd,OAAOA,EAAiBz2C,MAAM,GAAGkZ,SACnC,EAEQqhC,EAAAA,UAAAA,aAAR,SAAqB/B,GACb,MAAmC,KAAjCrC,EAAM,SAAEH,EAAM,SAAEsE,EAAY,eAG9B7D,EAAmB6D,EAAe,KAAKphC,QAAQs/B,GAAkBA,EAGjEkC,EAAW,IAAIL,GACfM,EAAW,IAAIN,GAErB,OAAO5D,EAAiB7yC,KAAI,SAACizC,GAC3B,OAAOA,EAAUjzC,KAAI,SAACzI,G,MACd+R,EAAY0pC,GAAMz7C,EAAMg7C,EAAQ,GAClChpC,EAAYypC,GAAMz7C,EAAM,CAAC66C,IAEvB4E,EAAO1tC,EAAE9T,WAKf,GAFA+T,EAAIypC,EAAUzpC,GAAKA,EAAE,GAAKA,GAErBypC,EAAQzpC,GAAI,CACf,IAAMpQ,EAAQoQ,GAAK,EAAIutC,EAAWC,EAE7B59C,EAAMG,IAAI09C,IACb79C,EAAMI,IAAIy9C,EAAM,GAElB,IAAMC,EAAS99C,EAAM8F,IAAI+3C,GACnBE,EAAY3tC,EAAI0tC,EAKtB,OAFA99C,EAAMI,IAAIy9C,EAAME,GAEhB,SACK3/C,IAAI,OAEN66C,GAAS,CAAC6E,EAAQC,GAAU,G,CAKjC,OAAO3/C,CACT,GACF,GACF,EAEQo/C,EAAAA,UAAAA,mBAAR,SAA2B/B,GAA3B,WACQ,EAAmC,KAAjCrC,EAAM,SAAEnsC,EAAM,SAAEswC,EAAY,eAC9BtE,EAAS,IAGTS,EAAmB6D,EAAe,KAAKphC,QAAQs/B,GAAkBA,EAGjEz7C,EAAQ,IAAIs9C,GAElB,OAAO5D,EAAiB7yC,KAAI,SAACizC,GAC3B,OAAOA,EAAUjzC,KACf,SAACzI,G,MACS,EAASkQ,EAAI,KACfwvC,EAAiB1/C,EAAKg7C,GAGtB4E,EAAsB,EAAPz3C,EAAY0G,EAE5BjN,EAAMG,IAAI29C,IACb99C,EAAMI,IAAI09C,EAAQE,EAAc,GAGlC,IAAMC,EAAaj+C,EAAM8F,IAAIg4C,GAI7B,OAFA99C,EAAMI,IAAI09C,EAAQG,EAAaD,GAE/B,SACK5/C,IAAI,OACN66C,GAASgF,EAAU,GAExB,GAEJ,GACF,EACF,EA7GA,CAAmC5E,I,MCFnC,4B,8CAyDA,QAzDuC1qC,GAAAA,EAAAA,GAC9BuvC,EAAAA,UAAAA,QAAP,SAAezC,GACb,IAAMC,EAAY7B,EAAU4B,GAEtB,EAAqB,KAAnBrC,EAAM,SAAEH,EAAM,SAGhBj5C,EAAQ,KAAKm+C,iBAAiBzC,GAG9B/8C,EAAMD,KAAKC,IAAG,MAARD,KAAYpB,OAAOD,KAAK2C,GAAO6G,KAAI,SAACxM,GAAQ,SAAMA,EAAN,KAExD,OAAOw/C,GAAM4B,GAAgB,SAAC3B,GAC5B,OAAOD,GAAMC,GAAW,SAAC17C,G,QACjBggD,EAAShgD,EAAK66C,GACd6E,EAAS1/C,EAAKg7C,GAGpB,GAAIS,EAAUuE,GAAS,CACrB,IAAMC,GAAO1/C,EAAMqB,EAAM89C,IAAW,EAEpC,gBACK1/C,IAAI,OACN66C,GAASY,GAAMuE,GAAQ,SAAChuC,GAAc,SAAMA,CAAN,IAAQ,G,CAKnD,IAAMosC,GAAU79C,EAAMy/C,GAAU,EAChC,gBACKhgD,IAAI,OACN66C,GAAS,CAACuD,EAAQ4B,EAAS5B,GAAO,GAEvC,GACF,GACF,EAGQ0B,EAAAA,UAAAA,iBAAR,SAAyBxC,GAAzB,WACQ,EAAqB,KAAnBtC,EAAM,SAAEH,EAAM,SAGhBwC,EAAiB5B,GAAU6B,GAAW,SAACt9C,GAAS,SAAKg7C,EAAL,IAGtD,OAAOS,GAAY4B,GAAgB,SAAC3B,GAAc,SAAKwE,eAAexE,EAAWb,EAA/B,GACpD,EAEQiF,EAAAA,UAAAA,eAAR,SAAuBxC,EAAmBpC,GAExC,IAAMiF,EAAY1E,GAAM6B,GAAW,SAACt9C,GAAS,UAAMA,EAAMk7C,EAAK,GAAjB,IAEvCkF,EAAgB3E,EAAU0E,GAGhC,OAAO7/C,KAAKC,IAAG,MAARD,KAAY8/C,EACrB,EACF,EAzDA,CAAuCnF,I,MrFMvCe,GAAe,QAASoB,IACxBpB,GAAe,SAAU+C,IACzB/C,GAAe,QAASoD,IACxBpD,GAAe,YAAa8D,IsFT5B,IAAMO,GAAgB,SAACp6B,EAAchsB,GACnC,OAAIqO,GAASrO,GACJA,EAEFgsB,EAAM/B,OAAO+B,EAAMA,MAAMhsB,GAClC,EAQA,cAQE,WAAYmW,GANL,WAAkB,GAClB,YAAkB,GAClB,aAAkB,EAElB,YAAgB,GAMhB,cAAyB,WAAM,UAFpC,KAAKkwC,UAAUlwC,EACjB,CA0IF,OAnISmwC,EAAAA,UAAAA,QAAP,W,IAAA,WAAe,SAAA94C,EAAAA,UAAAA,OAAAA,IAAAiK,EAAAA,GAAAA,UAAAA,GACb,IAAM1T,EAAS0T,EAAOjJ,KAAI,SAAC+3C,EAAOj3C,GAChC,OAAO2G,EAAKuwC,eAAeD,EAAOtwC,EAAKwwC,OAAOn3C,GAChD,IAEA,OAAO,KAAKoG,SAASvI,MAAM,KAAMpJ,EACnC,EAMOuiD,EAAAA,UAAAA,eAAP,SAAsBI,GAEpB,IAAMC,EAAQ,KAAK5iD,OAAO3B,OAAS,EAE7BwkD,EAAOvgD,KAAKye,MAAM6hC,EAAQD,GAC1BG,EAAcF,EAAQD,EAAUE,EAGhC3tC,EAAQ,KAAKlV,OAAO6iD,GACpBhlC,EAAMglC,IAASD,EAAQ1tC,EAAQ,KAAKlV,OAAO6iD,EAAO,GAGxD,OAAO3tC,GAAS2I,EAAM3I,GAAS4tC,CACjC,EAKOP,EAAAA,UAAAA,SAAP,WAME,IALA,IAAMG,EAAS,KAAKA,OACdK,EAAQ,KAAKA,MAEb1kD,EAASiE,KAAKE,IAAIkgD,EAAOrkD,OAAQ0kD,EAAM1kD,QACvCsC,EAAM,GACHC,EAAI,EAAGA,EAAIvC,EAAQuC,GAAK,EAC/BD,EAAIb,KAAKijD,EAAMniD,IAEjB,OAAOD,CACT,EAKO4hD,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAKG,OAAOj4C,KAAI,SAACwd,GAAU,SAAM+6B,KAAN,GACpC,EAMOT,EAAAA,UAAAA,SAAP,SAAgBxmD,GACd,OAAO,KAAK2mD,OAAO,KAAKK,MAAMrjD,QAAQ3D,GACxC,EAMQwmD,EAAAA,UAAAA,gBAAR,W,IAAA,WAAwB,SAAA94C,EAAAA,UAAAA,OAAAA,IAAAiK,EAAAA,GAAAA,UAAAA,GAEtB,OAAsB,IAAlBA,EAAOrV,OACF,KAAK2B,OAGP0T,EAAOjJ,KAAI,SAAC+3C,EAAOj3C,GACxB,IAAM0c,EAAQ/V,EAAKwwC,OAAOn3C,GAE1B,MAAsB,aAAf0c,EAAM9nB,KAAsB8nB,EAAMjoB,OAAO,GAAKkS,EAAK+wC,mBAAmBh7B,EAAOu6B,EACtF,GACF,EAGQD,EAAAA,UAAAA,UAAR,SAAkBnwC,GAAlB,WACU,EAAkEA,EAAG,KAArEjS,OAAI,MAAG,OAAM,EAAEkuB,EAAmDjc,EAAG,MAAtD2wC,OAAK,MAAG,GAAE,EAAE3nD,EAAuCgX,EAAG,OAA1CswC,OAAM,MAAG,GAAE,EAAEzJ,EAA0B7mC,EAAG,OAA7BpS,OAAM,MAAG,GAAE,EAAE2R,EAAaS,EAAG,SAE7E,KAAKjS,KAAOA,EAEZ,KAAKuiD,OAASA,EACd,KAAK1iD,OAASA,EACd,KAAK+iD,MAAQA,EAGb,KAAKpxC,SAAW,W,IAAC,aAAAlI,EAAAA,UAAAA,OAAAA,IAAAiK,EAAAA,GAAAA,UAAAA,GAIf,GAAI/B,EAAU,CAEZ,IAAMuxC,EAAMvxC,EAAQ,aAAI+B,GACxB,IAAKrT,EAAM6iD,GACT,MAAO,CAACA,E,CAKZ,OAAOhxC,EAAKixC,gBAAgB/5C,MAAM8I,EAAMwB,EAC1C,CACF,EAGQ6uC,EAAAA,UAAAA,mBAAR,SAA2Bt6B,EAAchsB,GAEvC,GAAIgsB,EAAMm7B,aAAe,KAAKpiB,OAAQ,CAEpC,IAAMz1B,EAAM0c,EAAMyI,UAAUz0B,GAC5B,OAAO,KAAK+D,OAAOuL,EAAM,KAAKvL,OAAO3B,O,CAIvC,IAAMskD,EAAU16B,EAAMA,MAAMhsB,GAC5B,OAAO,KAAKonD,eAAeV,EAC7B,EAQQJ,EAAAA,UAAAA,eAAR,SAAuBC,EAAYv6B,GAGjC,OAAQA,EAAMq7B,SAIVd,EAHAhiD,EAAQgiD,GACNA,EAAM/3C,KAAI,SAACW,GAAW,UAAc6c,EAAO7c,EAArB,IACtBi3C,GAAcp6B,EAAOu6B,EAE7B,EACF,EArJA,G,MCDItE,GAAgB,SAASrqC,EAAG/N,GAI5B,OAHAo4C,GAAgBh9C,OAAOi9C,gBAClB,CAAEC,UAAW,cAAgB79C,OAAS,SAAUsT,EAAG/N,GAAK+N,EAAEuqC,UAAYt4C,CAAG,GAC1E,SAAU+N,EAAG/N,GAAK,IAAK,IAAIsF,KAAKtF,EAAOA,EAAE9E,eAAeoK,KAAIyI,EAAEzI,GAAKtF,EAAEsF,GAAI,EACtE8yC,GAAcrqC,EAAG/N,EAC5B,EAEO,SAASyM,GAAUsB,EAAG/N,GAEzB,SAASu4C,IAAOljD,KAAKqM,YAAcqM,CAAG,CADtCqqC,GAAcrqC,EAAG/N,GAEjB+N,EAAE5Q,UAAkB,OAAN6C,EAAa5E,OAAO4mB,OAAOhiB,IAAMu4C,EAAGp7C,UAAY6C,EAAE7C,UAAW,IAAIo7C,EACnF,CvFzBA,IAAMkF,GAAU,wBACVC,GAAU,kCACVC,GAAU,gEACVC,GAAiB,8BAEjBhd,GAAkB,SAACviC,GAAQ,6BAAuByL,KAAKzL,EAA5B,EAG3Bw/C,GAAY,WAChB,IAAM/iD,EAAIgM,SAASC,cAAc,KAIjC,OAHAjM,EAAEgjD,MAAQ,oBACVhjD,EAAE0P,MAAMuzC,QAAU,OAClBj3C,SAASk3C,KAAKrY,YAAY7qC,GACnBA,CACT,EAGMmjD,GAAW,SAAC7uC,EAAiB2I,EAAe8kC,EAAiB3kD,GACjE,OAAOkX,EAAMlX,IAAU6f,EAAI7f,GAASkX,EAAMlX,IAAU2kD,CACtD,EAGA,SAASqB,GAAQvkD,GACf,MAAO,IAAIwkD,GAAMxkD,EAAI,IAAMwkD,GAAMxkD,EAAI,IAAMwkD,GAAMxkD,EAAI,GACvD,CAGA,IAwCIykD,GAxCEC,GAAU,SAACzgD,GACf,MAAO,CACL1G,SAAS0G,EAAItF,OAAO,EAAG,GAAI,IAC3BpB,SAAS0G,EAAItF,OAAO,EAAG,GAAI,IAC3BpB,SAAS0G,EAAItF,OAAO,EAAG,GAAI,IAE/B,EAGM6lD,GAAQ,SAAChoD,GACb,IAAMmoD,EAAW9hD,KAAKgD,MAAMrJ,GAAOgE,SAAS,IAE5C,OAA2B,IAApBmkD,EAAS/lD,OAAe,IAAI+lD,EAAaA,CAClD,EAGMC,GAAW,SAAC3kC,EAAoBijC,GACpC,IAAM2B,EAAe1hD,MAAM+C,OAAOg9C,KAAaA,EAAU,EAAI,EAC3DA,EAAU,EAAI,EACZh9C,OAAOg9C,GAELC,EAAQljC,EAAOrhB,OAAS,EAExBwkD,EAAOvgD,KAAKye,MAAM6hC,EAAQ0B,GAE1B3kC,EAAOijC,EAAQ0B,EAAezB,EAE9B3tC,EAAQwK,EAAOmjC,GAEfhlC,EAAMglC,IAASD,EAAQ1tC,EAAQwK,EAAOmjC,EAAO,GAEnD,OAAOmB,GAAQ,CACbD,GAAS7uC,EAAO2I,EAAK8B,EAAM,GAC3BokC,GAAS7uC,EAAO2I,EAAK8B,EAAM,GAC3BokC,GAAS7uC,EAAO2I,EAAK8B,EAAM,IAE/B,EAWM4kC,GAAQ,SAAC1kB,GAEb,GAAiB,MAAbA,EAAM,IAA+B,IAAjBA,EAAMxhC,OAC5B,OAAOwhC,EAGJqkB,KAEHA,GAAMP,MAGRO,GAAI5zC,MAAMuvB,MAAQA,EAElB,IAAIl/B,EAAMiM,SAAS43C,YAAY/zC,iBAAiByzC,GAAK,IAAIO,iBAAiB,SAEpEC,EAAUnB,GAAQ79B,KAAK/kB,GACvBgkD,EAAmBD,EAAQ,GAAG7/C,MAAM,WAAW4F,KAAI,SAAC4I,GAAM,cAAOA,EAAP,IAIhE,OAFA1S,EAAMqjD,GAAQW,GAEPhkD,CACT,EAOMikD,GAAW,SAAC9iB,GAChB,IAAM+iB,EAAav6C,GAASw3B,GAAWA,EAAkBj9B,MAAM,KAAOi9B,EAEhEpiB,EAASjV,GAAIo6C,GAAY,SAAChlB,GAC9B,OAAOskB,IAAgC,IAAxBtkB,EAAMngC,QAAQ,KAAc6kD,GAAM1kB,GAASA,EAC5D,IAGA,OAAO,SAAC8iB,GACN,OAAO0B,GAAS3kC,EAAQijC,EAC1B,CACF,EAEMmC,GAAgB,SAACC,GACrB,GAAIre,GAAgBqe,GAAgB,CAClC,IAAIC,EACApC,OAAK,EACT,GAAyB,MAArBmC,EAAc,GAAY,CAE5B,IAAMtlD,EAAM+jD,GAAQ99B,KAAKq/B,GACnB/uC,GAASvW,EAAI,GAAK,GACxBmjD,EAAQnjD,EAAI,GAEZulD,EAAW,mBAAmBhvC,EAAK,O,MAC9B,GAAyB,MAArB+uC,EAAc,GAAY,CAEnCC,EAAW,mBACLvlD,EAAMgkD,GAAQ/9B,KAAKq/B,GACzBnC,EAAQnjD,EAAI,E,CAGd,IAAMwlD,EAAuBrC,EAAMj8C,MAAM+8C,IAWzC,OAVAjjD,EAAKwkD,GAAY,SAAClnD,EAAMC,GACtB,IAAMknD,EAAUnnD,EAAK8G,MAAM,KAC3BmgD,GAAeE,EAAQ,GAAE,IAAiB,IAAbA,EAAQ,GAAQ,IACzClnD,IAAWinD,EAAW5mD,OAAS,IACjC2mD,GAAY,KAEhB,IAEAA,GAAY,IAELA,C,CAGT,OAAOD,CACT,EAEA,IACEZ,QAAO,GACPS,SAAQ,GACRL,MAAOl4C,GAAQk4C,IACfO,cAAa,IwFvJf,eAGE,WAAY1yC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK/R,KAAO,QACZ+R,EAAK6wC,MAAQ,CAAC,SAEVz4C,GAAS4H,EAAKlS,UAChBkS,EAAK8uB,QAAS,GAGhB9uB,EAAK0yC,SAAWO,GAAAA,SAAmBjzC,EAAKlS,Q,CAC1C,CAQF,OArBmCuS,GAAAA,EAAAA,GAkB1B4iB,EAAAA,UAAAA,eAAP,SAAsBwtB,GACpB,OAAO,KAAKiC,SAASjC,EACvB,EACF,EArBA,CAAmCJ,I,MCFnC,eACE,WAAYnwC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK/R,KAAO,UACZ+R,EAAK6wC,MAAQ,CAAC,W,CAChB,CACF,OANqCxwC,GAAAA,EAAAA,GAMrC,EANA,CAAqCgwC,I,MCIrC,eACE,WAAYnwC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK6wC,MAAQ,CAAC,IAAK,KACnB7wC,EAAK/R,KAAO,W,CACd,CAcF,OAnBsCoS,GAAAA,EAAAA,GAO7B6yC,EAAAA,UAAAA,QAAP,SAAerxC,EAAiBC,GACxB,MAAmB,KAAK0uC,OAAvB2C,EAAM,KAAEC,EAAM,KAErB,OAAIjlD,EAAM0T,IAAM1T,EAAM2T,GACb,GAGF,CACLxT,EAAQuT,GAAKA,EAAEtJ,KAAI,SAAC86C,GAAO,SAAOt9B,MAAMs9B,EAAb,IAAoBF,EAAOp9B,MAAMlU,GAC5DvT,EAAQwT,GAAKA,EAAEvJ,KAAI,SAAC+6C,GAAO,SAAOv9B,MAAMu9B,EAAb,IAAoBF,EAAOr9B,MAAMjU,GAEhE,EACF,EAnBA,CAAsCuuC,I,MCJtC,eACE,WAAYnwC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK/R,KAAO,QACZ+R,EAAK6wC,MAAQ,CAAC,S,CAChB,CASF,OAdmCxwC,GAAAA,EAAAA,GAU1BkzC,EAAAA,UAAAA,eAAP,SAAsB9C,GACpB,IAAMp3C,EAAMjJ,KAAKgD,OAAO,KAAKtF,OAAO3B,OAAS,GAAKskD,GAClD,OAAO,KAAK3iD,OAAOuL,EACrB,EACF,EAdA,CAAmCg3C,I,MCAnC,eACE,WAAYnwC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK/R,KAAO,OACZ+R,EAAK6wC,MAAQ,CAAC,Q,CAChB,CACF,OANkCxwC,GAAAA,EAAAA,GAMlC,EANA,CAAkCgwC,I,MCC5BmD,GAAyB,GAOzB,SAAUC,GAAc1nD,GAC5B,OAAOynD,GAAYznD,EACrB,CAOM,SAAU2nD,GAAmB3nD,EAAa6J,GAC9C49C,GAAYznD,GAAO6J,CACrB,C5FnBA,kBAqCE,WAAYsK,GAjCL,UAAe,OAIf,iBAAuB,EAIvB,eAAqB,EAIrB,mBAAyB,EAIzB,iBAAsB,EAItB,YAAgC,GAKhC,WAA8B,CAAC,EAAG,GAClC,WAA8B,GAQnC,KAAKyzC,QAAUzzC,EACf,KAAK0zC,UACL,KAAKtiD,MACP,CAyGF,OAtGSuiD,EAAAA,UAAAA,UAAP,SAAiBpjD,GACf,OAAOA,CACT,EASOojD,EAAAA,UAAAA,OAAP,SAAc3zC,GAEZovB,GAAO,KAAKqkB,QAASzzC,GACrB,KAAK5O,MACP,EAEOuiD,EAAAA,UAAAA,MAAP,WACE,OAAO,KAAKv+C,YAAY,KAAKq+C,QAC/B,EAGOE,EAAAA,UAAAA,SAAP,sBACE,OAAOt7C,GAAI,KAAKu7C,OAAO,SAACC,EAAW16C,GACjC,OAAIzK,EAASmlD,GAEJA,EAEF,CACL35C,KAAM4F,EAAKg0C,QAAQD,EAAM16C,GACzB46C,UAAWF,EACXhqD,MAAOiW,EAAK+V,MAAMg+B,GAEtB,GACF,EAGOF,EAAAA,UAAAA,QAAP,SAAe9pD,EAAYgC,GACzB,IAAMmoD,EAAY,KAAKA,UACjBhyC,EAAMgyC,EAAYA,EAAUnqD,EAAOgC,GAAOhC,EAChD,OAAIoE,EAAM+T,KAAShT,EAAWgT,EAAInU,UACzB,GAEFmU,EAAInU,UACb,EAGU8lD,EAAAA,UAAAA,UAAV,SAAoB9nD,GAClB,OAAO,KAAK4nD,QAAQ5nD,EACtB,EAGU8nD,EAAAA,UAAAA,KAAV,WACEvkB,GAAO,KAAM,KAAKqkB,SAClB,KAAKQ,YACDn8C,GAAQ,KAAKo8C,UAAU,YACzB,KAAKN,MAAQ,KAAKO,iBAEtB,EAGUR,EAAAA,UAAAA,QAAV,WAAqB,EAEXA,EAAAA,UAAAA,UAAV,WAA6B,EAEnBA,EAAAA,UAAAA,eAAV,WACE,IAAMS,EAAa,KAAKA,WACpBR,EAAQ,GACZ,GAAI17C,GAASk8C,GAAa,CACxB,IAAM1+C,EAAS69C,GAAca,GAC7B,IAAK1+C,EACH,MAAM,IAAImH,MAAM,6CAElB+2C,EAAQl+C,EAAO,K,MACN1G,EAAWolD,KACpBR,EAAQQ,EAAW,OAErB,OAAOR,CACT,EAGUD,EAAAA,UAAAA,SAAV,WACE,OAAO,KAAKlG,MAAM,EACpB,EAGUkG,EAAAA,UAAAA,SAAV,WACE,OAAO,KAAKlG,MAAM,EACpB,EAGUkG,EAAAA,UAAAA,YAAV,SAAsB9pD,EAAYuG,EAAaD,GAC7C,OAAIkD,GAASxJ,IACHA,EAAQuG,IAAQD,EAAMC,GAEzB49B,GACT,EAGU2lB,EAAAA,UAAAA,UAAV,SAAoBpD,EAAiBngD,EAAaD,GAChD,OAAOC,EAAMmgD,GAAWpgD,EAAMC,EAChC,EACF,EAlJA,G,M6FIA,0E,OACkB0P,EAAAA,KAAe,MACfA,EAAAA,YAAsB,E,CA2ExC,QA7EuBK,EAAAA,EAAAA,IAAAA,EAAAA,GAObk0C,EAAAA,UAAAA,cAAR,WACE,IAAK,KAAKC,kBAAmB,CAC3B,KAAKA,kBAAoB,IAAI7iD,IAE7B,IAAK,IAAIjD,EAAI,EAAGA,EAAI,KAAKZ,OAAO3B,OAAQuC,IACtC,KAAK8lD,kBAAkB1iD,IAAI,KAAKhE,OAAOY,GAAIA,E,CAGjD,EAEO6lD,EAAAA,UAAAA,UAAP,SAAiBxqD,GAEf,KAAK0qD,gBAEL,IAAIp7C,EAAM,KAAKm7C,kBAAkBh9C,IAAIzN,GAKrC,YAHYqE,IAARiL,IACFA,EAAM9F,GAASxJ,GAASA,EAAQmkC,KAE3B70B,CACT,EAEOk7C,EAAAA,UAAAA,MAAP,SAAaxqD,GACX,IAAM2qD,EAAQ,KAAKl2B,UAAUz0B,GAKvB0mD,EAAU,KAAKkE,YAAYD,EAAO,KAAKpkD,IAAK,KAAKD,KACvD,OAAO,KAAKukD,UAAUnE,EAAS,KAAKoE,WAAY,KAAKC,WACvD,EAEOP,EAAAA,UAAAA,OAAP,SAAcQ,GACZ,IAAMC,EAAc,KAAK3kD,IAAM,KAAKC,IAC9BmgD,EAAU,KAAKkE,YAAYI,EAAa,KAAKF,WAAY,KAAKC,YAC9Dz7C,EAAMjJ,KAAKgD,MAAM4hD,EAAcvE,GAAW,KAAKngD,IACrD,OAAI+I,EAAM,KAAK/I,KAAO+I,EAAM,KAAKhJ,IACxB69B,IAEF,KAAKpgC,OAAOuL,EACrB,EAEOk7C,EAAAA,UAAAA,QAAP,SAAexqD,G,IAAY,aAAAwN,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,EAAAA,GAAAA,UAAAA,GACzB,IAAItG,EAAI1G,EAKR,OAHIwJ,GAASxJ,KAAW,KAAK+D,OAAOymC,SAASxqC,KAC3C0G,EAAI,KAAK3C,OAAO2C,IAEX0P,EAAAA,UAAM6zC,QAAO,qBAACvjD,GAAMsG,GAC7B,EAEUw9C,EAAAA,UAAAA,QAAV,WACE,KAAKD,WAAa,KACpB,EAEUC,EAAAA,UAAAA,UAAV,WAKE,GAHIpmD,EAAM,KAAKimD,UAAU,UACvB,KAAK9jD,IAAM,GAETnC,EAAM,KAAKimD,UAAU,QAAS,CAChC,IAAMn8C,EAAO,KAAKnK,OAAO3B,OACzB,KAAKkE,IAAM4H,EAAO,EAAIA,EAAO,EAAIA,C,CAI/B,KAAKu8C,oBACP,KAAKA,uBAAoBpmD,EAE7B,EACF,EA7EA,CAAuBkS,IA+EvB,MCtFM20C,GAAQ,6EACRC,GAAoB,UACpBC,GAAY,SACZC,GAAc,SACdC,GAAa,SACbC,GAAO,UACPC,GAAU,gBAyChB,SAASC,GAA4BjoD,EAAQkoD,GAE3C,IADA,IAAMC,EAAmB,GAChBhnD,EAAI,EAAGC,EAAMpB,EAAIpB,OAAQuC,EAAIC,EAAKD,IACzCgnD,EAAO9nD,KAAKL,EAAImB,GAAGxC,OAAO,EAAGupD,IAE/B,OAAOC,C,CAGT,IAAMC,GAAc,SAClBC,GACG,gBAACnlD,EAAWolD,GACf,IAAMC,EAAeD,EAAKD,GAASr9C,KAAI,SAAA9H,GAAK,OAAAA,EAAE8D,aAAa,IACrDzI,EAAQgqD,EAAatoD,QAAQiD,EAAE8D,eACrC,OAAIzI,GAAS,EACJA,EAEF,I,CACR,EAMD,SAAgBwjC,GAAOymB,G,IAAc,aAAAx+C,EAAAA,UAAAA,OAAAA,IAAAR,EAAAA,EAAAA,GAAAA,UAAAA,GACnC,IAAkB,QAAAi/C,EAAAA,EAAA5iC,EAAAA,EAAAA,OAAAA,IAAM,CAAnB,IAAMnkB,EAAG,KACZ,IAAK,IAAMlD,KAAOkD,EAEhB8mD,EAAQhqD,GAAOkD,EAAIlD,E,CAGvB,OAAOgqD,C,CAGT,IAAME,GAAiB,CACrB,SACA,SACA,UACA,YACA,WACA,SACA,YAEIC,GAAqB,CACzB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAGIC,GAA0BX,GAAQU,GAAY,GAC9CE,GAAsBZ,GAAQS,GAAU,GAExCI,GAA4B,CAChCD,cAAa,GACbH,SAAQ,GACRE,gBAAe,GACfD,WAAU,GACVI,KAAM,CAAC,KAAM,MACbC,KAAA,SAAKC,GACH,OACEA,EACA,CAAC,KAAM,KAAM,KAAM,MACjBA,EAAa,GAAK,EACd,GACEA,EAAcA,EAAa,KAAQ,GAAK,EAAI,GAAKA,EAAc,G,GAKzEC,GAAannB,GAAO,CAAC,EAAG+mB,IACtBK,GAAoB,SAACb,GACzB,OAACY,GAAannB,GAAOmnB,GAAYZ,E,EAE7Bc,GAAc,SAACnlD,GACnB,OAAAA,EAAIkB,QAAQ,oBAAqB,O,EAE7BkkD,GAAM,SAAC3kD,EAAsBtD,QAAA,IAAAA,IAAAA,EAAM,GACvCsD,EAAMsP,OAAOtP,GACb,MAAOA,EAAI9F,OAASwC,EAClBsD,EAAM,IAAMA,EAEd,OAAOA,C,EAGH4kD,GAGF,CACFC,EAAG,SAACC,GAA0B,OAAAx1C,OAAOw1C,EAAQC,UAAU,EACvDC,GAAI,SAACF,GAA0B,OAAAH,GAAIG,EAAQC,UAAU,EACrDE,GAAI,SAACH,EAAelB,GAClB,OAAAA,EAAKU,KAAKQ,EAAQC,U,EACpBr1C,EAAG,SAACo1C,GAA0B,OAAAx1C,OAAOw1C,EAAQI,SAAS,EACtDC,GAAI,SAACL,GAA0B,OAAAH,GAAIG,EAAQI,SAAS,EACpDE,IAAK,SAACN,EAAelB,GACnB,OAAAA,EAAKO,cAAcW,EAAQI,S,EAC7BG,KAAM,SAACP,EAAelB,GACpB,OAAAA,EAAKI,SAASc,EAAQI,S,EACxBI,EAAG,SAACR,GAA0B,OAAAx1C,OAAOw1C,EAAQS,WAAa,EAAE,EAC5DC,GAAI,SAACV,GAA0B,OAAAH,GAAIG,EAAQS,WAAa,EAAE,EAC1DE,IAAK,SAACX,EAAelB,GACnB,OAAAA,EAAKM,gBAAgBY,EAAQS,W,EAC/BG,KAAM,SAACZ,EAAelB,GACpB,OAAAA,EAAKK,WAAWa,EAAQS,W,EAC1BI,GAAI,SAACb,GACH,OAAAH,GAAIr1C,OAAOw1C,EAAQc,eAAgB,GAAG3rD,OAAO,E,EAC/C4rD,KAAM,SAACf,GAA0B,OAAAH,GAAIG,EAAQc,cAAe,EAAE,EAC9D34C,EAAG,SAAC63C,GAA0B,OAAAx1C,OAAOw1C,EAAQgB,WAAa,IAAM,GAAG,EACnEC,GAAI,SAACjB,GAA0B,OAAAH,GAAIG,EAAQgB,WAAa,IAAM,GAAG,EACjEE,EAAG,SAAClB,GAA0B,OAAAx1C,OAAOw1C,EAAQgB,WAAW,EACxDG,GAAI,SAACnB,GAA0B,OAAAH,GAAIG,EAAQgB,WAAW,EACtD9jD,EAAG,SAAC8iD,GAA0B,OAAAx1C,OAAOw1C,EAAQoB,aAAa,EAC1DC,GAAI,SAACrB,GAA0B,OAAAH,GAAIG,EAAQoB,aAAa,EACxDh3C,EAAG,SAAC41C,GAA0B,OAAAx1C,OAAOw1C,EAAQsB,aAAa,EAC1DC,GAAI,SAACvB,GAA0B,OAAAH,GAAIG,EAAQsB,aAAa,EACxDE,EAAG,SAACxB,GACF,OAAAx1C,OAAOnR,KAAKgD,MAAM2jD,EAAQyB,kBAAoB,K,EAChDC,GAAI,SAAC1B,GACH,OAAAH,GAAIxmD,KAAKgD,MAAM2jD,EAAQyB,kBAAoB,IAAK,E,EAClDE,IAAK,SAAC3B,GAA0B,OAAAH,GAAIG,EAAQyB,kBAAmB,EAAE,EACjE5oD,EAAG,SAACmnD,EAAelB,GACjB,OAAAkB,EAAQgB,WAAa,GAAKlC,EAAKS,KAAK,GAAKT,EAAKS,KAAK,E,EACrDqC,EAAG,SAAC5B,EAAelB,GACjB,OAAAkB,EAAQgB,WAAa,GACjBlC,EAAKS,KAAK,GAAGzhD,cACbghD,EAAKS,KAAK,GAAGzhD,a,EACnB+jD,GAAA,SAAG7B,GACD,IAAM7I,EAAS6I,EAAQ8B,oBACvB,OACG3K,EAAS,EAAI,IAAM,KACpB0I,GAAwC,IAApCxmD,KAAKye,MAAMze,KAAK0D,IAAIo6C,GAAU,IAAa99C,KAAK0D,IAAIo6C,GAAU,GAAK,E,EAG3E4K,EAAA,SAAE/B,GACA,IAAM7I,EAAS6I,EAAQ8B,oBACvB,OACG3K,EAAS,EAAI,IAAM,KACpB0I,GAAIxmD,KAAKye,MAAMze,KAAK0D,IAAIo6C,GAAU,IAAK,GACvC,IACA0I,GAAIxmD,KAAK0D,IAAIo6C,GAAU,GAAI,E,GAW3B6K,GAAa,SAACtoD,GAAsB,OAACA,EAAI,CAAC,EAC1CuoD,GAAyB,CAAC,KAAM9D,IAChC+D,GAAuB,CAAC,KAAM3D,IAC9BgB,GAAkB,CACtB,OACAhB,GACA,SAAC7kD,EAAWolD,GACV,IAAM5jD,EAAMxB,EAAE8D,cACd,OAAItC,IAAQ4jD,EAAKS,KAAK,GACb,EACErkD,IAAQ4jD,EAAKS,KAAK,GACpB,EAEF,I,GAGL4C,GAA4B,CAChC,iBACA,4CACA,SAACzoD,GACC,IAAM0oD,GAAS1oD,EAAI,IAAIgE,MAAM,iBAE7B,GAAI0kD,EAAO,CACT,IAAMC,EAAsB,IAAXD,EAAM,GAAUruD,SAASquD,EAAM,GAAI,IACpD,MAAoB,MAAbA,EAAM,GAAaC,GAAWA,C,CAGvC,OAAO,C,GAGLC,GAAwC,CAC5CvC,EAAG,CAAC,MAAO5B,IACX+B,GAAI,CAAC,MAAO9B,IACZ+B,GAAI,CAAC,MAAOhC,GAAoBI,GAAM,SAAC7kD,GAAsB,OAAA3F,SAAS2F,EAAG,GAAG,GAC5E8mD,EAAG,CAAC,QAASrC,GAAmB6D,IAChCtB,GAAI,CAAC,QAAStC,GAAW4D,IACzBnB,GAAI,CACF,OACAzC,GACA,SAAC1kD,GACC,IAAMgJ,EAAM,IAAID,KACV8/C,IAAS,GAAK7/C,EAAIo+C,eAAe3rD,OAAO,EAAG,GACjD,QAAS,KAAOuE,EAAI,GAAK6oD,EAAO,EAAIA,GAAQ7oD,E,GAGhDyO,EAAG,CAAC,OAAQg2C,QAAmB9mD,EAAW,QAC1C4pD,GAAI,CAAC,OAAQ7C,QAAW/mD,EAAW,QACnC6pD,EAAG,CAAC,OAAQ/C,IACZgD,GAAI,CAAC,OAAQ/C,IACblhD,EAAG,CAAC,SAAUihD,IACdkD,GAAI,CAAC,SAAUjD,IACfh0C,EAAG,CAAC,SAAU+zC,IACdoD,GAAI,CAAC,SAAUnD,IACf2C,KAAM,CAAC,OAAQzC,IACfkD,EAAG,CAAC,cAAe,MAAO,SAAC9nD,GAAsB,OAAK,KAAJA,CAAO,GACzDgoD,GAAI,CAAC,cAAetD,GAAW,SAAC1kD,GAAsB,OAAK,IAAJA,CAAM,GAC7DioD,IAAK,CAAC,cAAetD,IACrBzzC,EAAGq3C,GACH5B,GAAI4B,GACJ3B,IAAK4B,GACL3B,KAAM2B,GACNvB,IAAK,CAAC,QAASpC,GAAMK,GAAY,oBACjCgC,KAAM,CAAC,QAASrC,GAAMK,GAAY,eAClC/lD,EAAG0mD,GACHqC,EAAGrC,GACHsC,GAAIM,GACJJ,EAAGI,IAICK,GAAyC,CAC7CC,QAAS,2BACTC,UAAW,SACXC,WAAY,cACZC,SAAU,eACVC,SAAU,qBACVC,QAAS,aACTC,YAAa,uBACbC,UAAW,QACXC,WAAY,WACZC,SAAU,gBAENC,GAAqB,SAACC,GAEK,UAAOZ,GAAaY,EAAM,EASrDvsB,GAAS,SACbmpB,EACAqD,EACAvE,GAMA,QAPA,IAAAuE,IAAAA,EAAeb,GAAY,iBAC3B,IAAA1D,IAAAA,EAAAA,CAAAA,GAEuB,kBAAZkB,IACTA,EAAU,IAAIv9C,KAAKu9C,IAIyB,kBAA5C/nD,OAAO+B,UAAUhD,SAASG,KAAK6oD,IAC/BrmD,MAAMqmD,EAAQz6B,WAEd,MAAM,IAAIvf,MAAM,+BAGlBq9C,EAAOb,GAAYa,IAASA,EAE5B,IAAMC,EAAqB,GAG3BD,EAAOA,EAAK1nD,QAAQ6iD,IAAS,SAAS+E,EAAI18C,GAExC,OADAy8C,EAASzsD,KAAKgQ,GACP,K,IAGT,IAAM28C,EAAqCjrB,GACzCA,GAAO,CAAC,EAAGmnB,IACXZ,GAOF,OAJAuE,EAAOA,EAAK1nD,QAAQuiD,IAAO,SAAAqF,GACzB,OAAAzD,GAAYyD,GAAIvD,EAASwD,E,IAGpBH,EAAK1nD,QAAQ,QAAQ,WAAM,OAAA2nD,EAASnzC,OAAO,G,EAWpD,SAASszC,GACPC,EACA7sB,EACAioB,GAEA,QAFA,IAAAA,IAAAA,EAAAA,CAAAA,GAEsB,kBAAXjoB,EACT,MAAM,IAAI7wB,MAAM,iCAQlB,GAJA6wB,EAAS2rB,GAAY3rB,IAAWA,EAI5B6sB,EAAQtuD,OAAS,IACnB,OAAO,KAIT,IAAMuuD,EAAQ,IAAIlhD,KACZmhD,EAAqB,CACzBC,KAAMF,EAAM7C,cACZgD,MAAO,EACPC,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,YAAa,EACbC,KAAM,KACNjC,eAAgB,MAEZkC,EAAyB,GACzBf,EAAqB,GAGvBgB,EAAYztB,EAAOl7B,QAAQ6iD,IAAS,SAAC+E,EAAI18C,GAE3C,OADAy8C,EAASzsD,KAAK+oD,GAAY/4C,IACnB,K,IAEH09C,EAAgD,CAAC,EACjDC,EAA+C,CAAC,EAGtDF,EAAY1E,GAAY0E,GAAW3oD,QAAQuiD,IAAO,SAAAqF,GAChD,IAAMkB,EAAOnC,GAAWiB,GACjBxJ,EAAiC0K,EAAI,GAA9BloC,EAA0BkoC,EAAI,GAArBC,EAAiBD,EAAI,GAG5C,GAAIF,EAAgBxK,GAClB,MAAM,IAAI/zC,MAAM,mBAAmB+zC,EAAK,8BAW1C,OARAwK,EAAgBxK,IAAS,EAGrB2K,IACFF,EAAeE,IAAiB,GAGlCL,EAAUxtD,KAAK4tD,GACR,IAAMloC,EAAQ,G,IAIvBtkB,OAAOD,KAAKwsD,GAAgB7iD,SAAQ,SAAAo4C,GAClC,IAAKwK,EAAgBxK,GACnB,MAAM,IAAI/zC,MACR,mBAAmB+zC,EAAK,mC,IAM9BuK,EAAYA,EAAU3oD,QAAQ,QAAQ,WAAM,OAAA2nD,EAASnzC,OAAO,IAG5D,IAAMsrC,EAAUiI,EAAQhmD,MAAM,IAAIkJ,OAAO09C,EAAW,MACpD,IAAK7I,EACH,OAAO,KAST,IANA,IA0BIkJ,EA1BEnB,EAAqCjrB,GACzCA,GAAO,CAAC,EAAGmnB,IACXZ,GAIOnnD,EAAI,EAAGA,EAAI8jD,EAAQrmD,OAAQuC,IAAK,CACjC,MAAoB0sD,EAAU1sD,EAAI,GAAjCoiD,EAAK,KAAI6K,EAAM,KAChB5xD,EAAQ4xD,EACVA,EAAOnJ,EAAQ9jD,GAAI6rD,IAClB/H,EAAQ9jD,GAGb,GAAa,MAAT3E,EACF,OAAO,KAGT4wD,EAAS7J,GAAS/mD,C,CAUpB,GAPsB,IAAlB4wD,EAASQ,MAA+B,MAAjBR,EAASI,MAAmC,MAAlBJ,EAASI,KAC5DJ,EAASI,MAAQJ,EAASI,KAAO,GACN,IAAlBJ,EAASQ,MAAiC,MAAlBR,EAASI,OAC1CJ,EAASI,KAAO,GAIa,MAA3BJ,EAASzB,eAAwB,CACnCwC,EAAS,IAAIliD,KACXmhD,EAASC,KACTD,EAASE,MACTF,EAASG,IACTH,EAASI,KACTJ,EAASK,OACTL,EAASM,OACTN,EAASO,aAYX,IAVA,IAAMU,EAGA,CACJ,CAAC,QAAS,YACV,CAAC,MAAO,WACR,CAAC,OAAQ,YACT,CAAC,SAAU,cACX,CAAC,SAAU,eAEGjtD,GAAPD,EAAI,EAASktD,EAAezvD,QAAQuC,EAAIC,EAAKD,IAGpD,GACE4sD,EAAgBM,EAAeltD,GAAG,KAClCisD,EAASiB,EAAeltD,GAAG,MAAQgtD,EAAOE,EAAeltD,GAAG,MAE5D,OAAO,I,MAiBX,GAbAgtD,EAAS,IAAIliD,KACXA,KAAKqiD,IACHlB,EAASC,KACTD,EAASE,MACTF,EAASG,IACTH,EAASI,KACTJ,EAASK,OAASL,EAASzB,eAC3ByB,EAASM,OACTN,EAASO,cAMXP,EAASE,MAAQ,IACjBF,EAASE,MAAQ,GACjBF,EAASG,IAAM,IACfH,EAASG,IAAM,GACfH,EAASI,KAAO,IAChBJ,EAASI,KAAO,GAChBJ,EAASK,OAAS,IAClBL,EAASK,OAAS,GAClBL,EAASM,OAAS,IAClBN,EAASM,OAAS,EAElB,OAAO,KAMX,OAAOS,C,CAET,OAAe,CACb9tB,OAAM,GACN4sB,MAAK,GACLnE,YAAW,GACXK,kBAAiB,GACjBwD,mBAAkB,I,MCjgBN,YAAa4B,GAMzB,OAAO,SAASlsD,EAAQiS,EAAWk6C,EAAcC,GAC/C,IAAIC,EAAK9tD,EAAM4tD,GAAO,EAAIA,EACtBG,EAAK/tD,EAAM6tD,GAAOpsD,EAAEzD,OAAS6vD,EACjC,MAAOC,EAAKC,EAAI,CACd,IAAMC,EAAOF,EAAKC,IAAQ,EACtBJ,EAAOlsD,EAAEusD,IAAQt6C,EACnBq6C,EAAKC,EAELF,EAAKE,EAAM,C,CAGf,OAAOF,CACT,CACF,CCtBA,IAAMG,GAAgB,SAEhB,SAAUC,GAAWrwD,EAAMouD,GAC/B,IAAMxkD,EAAS0mD,EAAOF,KAAkBG,GAAMH,IAC9C,OAAOxmD,EAAO5J,EAAMouD,EACtB,CAKM,SAAUoC,GAAYzyD,GAc1B,OAbIqO,GAASrO,KAETA,EADEA,EAAMyD,QAAQ,KAAO,EACf,IAAIgM,KAAKzP,GAAOuyB,UAKhB,IAAI9iB,KAAKzP,EAAM2I,QAAQ,MAAO,MAAM4pB,WAG5CrnB,GAAOlL,KACTA,EAAQA,EAAMuyB,WAETvyB,CACT,CAEA,IAAM0yD,GAAS,IACTC,GAAS,GAAKD,GACdE,GAAO,GAAKD,GACZE,GAAM,GAAKD,GACXE,GAAc,GAAND,GACRE,GAAa,IAANF,GAIPG,GAAwB,CAC5B,CAAC,WAAYN,IACb,CAAC,WAAqB,GAATA,IACb,CAAC,WAAqB,GAATA,IACb,CAAC,QAASC,IACV,CAAC,QAAkB,GAATA,IACV,CAAC,QAAkB,GAATA,IACV,CAAC,KAAMC,IACP,CAAC,KAAa,EAAPA,IACP,CAAC,KAAa,GAAPA,IACP,CAAC,aAAcC,IACf,CAAC,aAAoB,EAANA,IACf,CAAC,UAAiB,EAANA,IACZ,CAAC,UAAWC,IACZ,CAAC,UAAmB,EAARA,IACZ,CAAC,UAAmB,EAARA,IACZ,CAAC,OAAc,IAAND,KAGL,SAAUI,GAAgB1sD,EAAaD,EAAa4sD,GACxD,IAAM1xD,GAAU8E,EAAMC,GAAO2sD,EACvB5jD,EAAM6jD,IAAS,SAAC/qD,GAAgB,SAAE,EAAF,GAA1B+qD,CAAgCH,GAAWxxD,GAAU,EAC7D+1B,EAAqBy7B,GAAU1jD,GAMnC,OALIA,EAAM,EACRioB,EAAWy7B,GAAU,GACZ1jD,GAAO0jD,GAAU5wD,SAC1Bm1B,EAAWnwB,GAAK4rD,KAEXz7B,CACT,CC9DA,8E,OACkBthB,EAAAA,KAAe,U,CAiDjC,QAlDsBK,EAAAA,EAAAA,IAAAA,EAAAA,GAMb88C,EAAAA,UAAAA,UAAP,SAAiBpzD,GACfA,EAAQyyD,GAAYzyD,GACpB,IAAI+B,EAAQ,KAAKgC,OAAON,QAAQzD,GAQhC,OAPe,IAAX+B,IAEAA,EADEyH,GAASxJ,IAAUA,EAAQ,KAAK+D,OAAO3B,OACjCpC,EAEAmkC,KAGLpiC,CACT,EAMOqxD,EAAAA,UAAAA,QAAP,SAAepzD,EAAwBqzD,GACrC,IAAMtxD,EAAQ,KAAK0yB,UAAUz0B,GAC7B,GAAI+B,GAAS,EAAG,CACd,IAAI6B,EAAS,KAAKG,OAAOhC,GACnBooD,EAAY,KAAKA,UAEvB,OADAvmD,EAASumD,EAAYA,EAAUvmD,EAAQyvD,GAAaf,GAAW1uD,EAAQ,KAAKysD,MACrEzsD,C,CAET,OAAO5D,CACT,EACUozD,EAAAA,UAAAA,QAAV,WACE,KAAK7I,WAAa,WAClB,KAAK8F,KAAO,aACZ,KAAK6C,UAAY,CACnB,EAEUE,EAAAA,UAAAA,UAAV,WACE,IAAMrvD,EAAS,KAAKA,OAEpBS,EAAKT,GAAQ,SAAC2C,EAAG/B,GACfZ,EAAOY,GAAK8tD,GAAY/rD,EAC1B,IACA3C,EAAOysB,MAAK,SAAC/C,EAAIC,GACf,OAAOD,EAAKC,CACd,IACAtX,EAAAA,UAAMg0C,UAAS,UACjB,EACF,EAlDA,CAAsBI,IAoDtB,MCrDA,0E,OACSv0C,EAAAA,cAAyB,E,CAyElC,QA1EiDK,EAAAA,EAAAA,IAAAA,EAAAA,GAIxCg9C,EAAAA,UAAAA,MAAP,SAAatzD,GACX,GAAIoE,EAAMpE,GACR,OAAOmkC,IAET,IAAM2mB,EAAW,KAAKA,WAChBC,EAAW,KAAKA,WAChBzkD,EAAM,KAAKA,IACXC,EAAM,KAAKA,IACjB,GAAID,IAAQC,EACV,OAAOukD,EAET,IAAMpE,EAAU,KAAK6M,gBAAgBvzD,GACrC,OAAO8qD,EAAWpE,GAAWqE,EAAWD,EAC1C,EAEUwI,EAAAA,UAAAA,KAAV,WACEl9C,EAAAA,UAAM7O,KAAI,WAEV,IAAMwiD,EAAQ,KAAKA,MACbyJ,EAAYrrD,GAAK4hD,GACjB0J,EAAWrsD,GAAK2iD,GAClByJ,EAAY,KAAKjtD,MACnB,KAAKA,IAAMitD,GAETC,EAAW,KAAKntD,MAClB,KAAKA,IAAMmtD,GAGRrvD,EAAM,KAAKsvD,YACd,KAAKntD,IAAMitD,GAERpvD,EAAM,KAAKuvD,YACd,KAAKrtD,IAAMmtD,EAEf,EAEUH,EAAAA,UAAAA,UAAV,WACQ,MAAe9sD,GAAS,KAAKzC,QAA3BwC,EAAG,MAAED,EAAG,MACZlC,EAAM,KAAKmC,OACb,KAAKA,IAAMA,GAETnC,EAAM,KAAKkC,OACb,KAAKA,IAAMA,GAET,KAAKC,IAAM,KAAKD,MAClB,KAAKC,IAAMA,EACX,KAAKD,IAAMA,EAEf,EAEUgtD,EAAAA,UAAAA,eAAV,sBACMvJ,EAAQ3zC,EAAAA,UAAMk0C,eAAc,WAMhC,OALK,KAAKsJ,OACR7J,EAAQrmD,EAAOqmD,GAAO,SAACC,GACrB,OAAOA,GAAQ/zC,EAAK1P,KAAOyjD,GAAQ/zC,EAAK3P,GAC1C,KAEKyjD,CACT,EAGUuJ,EAAAA,UAAAA,gBAAV,SAA0BtzD,GACxB,IAAMsG,EAAM,KAAKA,IACXC,EAAM,KAAKA,IACjB,OAAQvG,EAAQuG,IAAQD,EAAMC,EAChC,EAEU+sD,EAAAA,UAAAA,iBAAV,SAA2BtzD,GACzB,OAAQA,EAAQ,KAAK8qD,aAAe,KAAKC,WAAa,KAAKD,WAC7D,EACF,EA1EA,CAAiDv0C,I,MCDjD,0E,OAESN,EAAAA,KAAO,SACEA,EAAAA,UAAoB,E,CAWtC,QAdoCK,EAAAA,EAAAA,IAAAA,EAAAA,GAK3Bu9C,EAAAA,UAAAA,OAAP,SAAc7zD,GACZ,IAAM0mD,EAAU,KAAKoN,iBAAiB9zD,GACtC,OAAO,KAAKuG,IAAMmgD,GAAW,KAAKpgD,IAAM,KAAKC,IAC/C,EAEUstD,EAAAA,UAAAA,QAAV,WACE,KAAKtJ,WAAa,qBAClB,KAAKqJ,MAAO,CACd,EACF,EAdA,CAAoCN,I,MCF9B,SAAUS,GAAQluD,EAAWgE,GACjC,IACI7J,EADEu4B,EAAIlyB,KAAK03C,EAOf,OAJE/9C,EADE6J,GAAK,EACCxD,KAAKkb,IAAIgX,EAAGlyB,KAAK2tD,IAAInqD,GAAKhE,IAEO,EAAjCQ,KAAKkb,IAAIgX,EAAGlyB,KAAK2tD,KAAKnqD,GAAKhE,GAE9B7F,CACT,CAEM,SAAUg0D,GAAInuD,EAAWgE,GAC7B,OAAU,IAANhE,EACK,EAEFQ,KAAK2tD,IAAInqD,GAAKxD,KAAK2tD,IAAInuD,EAChC,CAEM,SAAUouD,GAAkBlwD,EAAQqF,EAAM9C,GAC1ClC,EAAMkC,KACRA,EAAMD,KAAKC,IAAI6G,MAAM,KAAMpJ,IAE7B,IAAImwD,EAAc5tD,EAYlB,OAXA9B,EAAKT,GAAQ,SAAC/D,GACRA,EAAQ,GAAKA,EAAQk0D,IACvBA,EAAcl0D,EAElB,IACIk0D,IAAgB5tD,IAClB4tD,EAAc5tD,EAAM8C,GAElB8qD,EAAc,IAChBA,EAAc,GAETA,CACT,CClCA,8E,OACkBj+C,EAAAA,KAAe,M,CA8EjC,QA/EkBK,EAAAA,EAAAA,IAAAA,EAAAA,GAST69C,EAAAA,UAAAA,OAAP,SAAcn0D,GACZ,IAIIuG,EAJE6C,EAAO,KAAKA,KACZ9C,EAAM0tD,GAAI5qD,EAAM,KAAK9C,KACrBwkD,EAAW,KAAKA,WAChBlH,EAAQ,KAAKmH,WAAaD,EAE1BoJ,EAAc,KAAKA,YACzB,GAAIA,EAAa,CACf,GAAc,IAAVl0D,EACF,OAAO,EAETuG,EAAMytD,GAAI5qD,EAAM8qD,EAAc9qD,GAC9B,IAAMgrD,EAAiB,GAAK9tD,EAAMC,GAAQq9C,EAC1C,GAAI5jD,EAAQo0D,EAEV,OAAQp0D,EAAQo0D,EAAiBF,C,MAGnC3tD,EAAMytD,GAAI5qD,EAAM,KAAK7C,KAEvB,IAAMmgD,GAAW1mD,EAAQ8qD,GAAYlH,EAC/Bh9C,EAAM8/C,GAAWpgD,EAAMC,GAAOA,EACpC,OAAOF,KAAKkb,IAAInY,EAAMxC,EACxB,EAEUutD,EAAAA,UAAAA,QAAV,WACE,KAAK5J,WAAa,MAClB,KAAKnhD,KAAO,GACZ,KAAK8pD,UAAY,EACjB,KAAKU,MAAO,CACd,EAGUO,EAAAA,UAAAA,UAAV,WACE/9C,EAAAA,UAAMg0C,UAAS,WACf,IAAM7jD,EAAM,KAAKA,IACjB,GAAIA,EAAM,EACR,MAAM,IAAIyM,MAAM,wEAEN,IAARzM,IACF,KAAK2tD,YAAcD,GAAkB,KAAKlwD,OAAQ,KAAKqF,KAAM,KAAK9C,KAEtE,EAGU6tD,EAAAA,UAAAA,gBAAV,SAA0Bn0D,GACxB,IAAMsG,EAAM,KAAKA,IACbC,EAAM,KAAKA,IACf,GAAID,IAAQC,EACV,OAAO,EAGT,GAAIvG,GAAS,EACX,OAAO,EAET,IAMI0mD,EANEt9C,EAAO,KAAKA,KACZ8qD,EAAc,KAAKA,YAYzB,OAVIA,IACF3tD,EAAqB,EAAd2tD,EAAmB9qD,GAK1Bs9C,EADE1mD,EAAQk0D,EACAl0D,EAAQk0D,GAAeF,GAAI5qD,EAAM9C,GAAO0tD,GAAI5qD,EAAM7C,KAEjDytD,GAAI5qD,EAAMpJ,GAASg0D,GAAI5qD,EAAM7C,KAASytD,GAAI5qD,EAAM9C,GAAO0tD,GAAI5qD,EAAM7C,IAEvEmgD,CACT,EACF,EA/EA,CAAkB4M,IAiFlB,MChFA,0E,OACkBr9C,EAAAA,KAAe,M,CAsCjC,QAvCkBK,EAAAA,EAAAA,IAAAA,EAAAA,GAUT+9C,EAAAA,UAAAA,OAAP,SAAcr0D,GACZ,IAAM0mD,EAAU,KAAKoN,iBAAiB9zD,GAChC0nC,EAAW,KAAKA,SAChBphC,EAAMytD,GAAQrsB,EAAU,KAAKphC,KAC7BC,EAAMwtD,GAAQrsB,EAAU,KAAKnhC,KAC7BK,EAAM8/C,GAAWpgD,EAAMC,GAAOA,EAC9B+tD,EAAS1tD,GAAO,EAAI,GAAK,EAC/B,OAAOP,KAAKkb,IAAI3a,EAAK8gC,GAAY4sB,CACnC,EAEUD,EAAAA,UAAAA,QAAV,WACE,KAAK9J,WAAa,MAClB,KAAK7iB,SAAW,EAChB,KAAKwrB,UAAY,EACjB,KAAKU,MAAO,CACd,EAGUS,EAAAA,UAAAA,gBAAV,SAA0Br0D,GACxB,IAAMsG,EAAM,KAAKA,IACXC,EAAM,KAAKA,IACjB,GAAID,IAAQC,EACV,OAAO,EAET,IAAMmhC,EAAW,KAAKA,SAChBgf,GACHqN,GAAQrsB,EAAU1nC,GAAS+zD,GAAQrsB,EAAUnhC,KAASwtD,GAAQrsB,EAAUphC,GAAOytD,GAAQrsB,EAAUnhC,IACpG,OAAOmgD,CACT,EACF,EAvCA,CAAkB4M,IAyClB,MCvCA,0E,OACkBr9C,EAAAA,KAAe,O,CAmFjC,QApFmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAOVi+C,EAAAA,UAAAA,QAAP,SAAev0D,EAA+B+B,GAC5C,IAAMyyD,EAAc,KAAK//B,UAAUz0B,GAC7BmqD,EAAY,KAAKA,UACvB,OAAOA,EAAYA,EAAUqK,EAAazyD,GAASuwD,GAAWkC,EAAa,KAAKnE,KAClF,EAIOkE,EAAAA,UAAAA,MAAP,SAAav0D,GACX,IAAI0G,EAAI1G,EAIR,OAHIqO,GAAS3H,IAAMwE,GAAOxE,MACxBA,EAAI,KAAK+tB,UAAU/tB,IAEd0P,EAAAA,UAAM4V,MAAK,UAACtlB,EACrB,EAKO6tD,EAAAA,UAAAA,UAAP,SAAiB7tD,GACf,OAAO+rD,GAAY/rD,EACrB,EACU6tD,EAAAA,UAAAA,QAAV,WACE,KAAKhK,WAAa,cAClB,KAAK8F,KAAO,aACZ,KAAK6C,UAAY,EACjB,KAAKU,MAAO,CACd,EAEUW,EAAAA,UAAAA,UAAV,WACE,IAAMxwD,EAAS,KAAKA,OAEd0wD,EAAY,KAAKpK,UAAU,OAC3BqK,EAAY,KAAKrK,UAAU,OASjC,GAPKjmD,EAAMqwD,IAAejrD,GAASirD,KACjC,KAAKluD,IAAM,KAAKkuB,UAAU,KAAKluB,MAE5BnC,EAAMswD,IAAelrD,GAASkrD,KACjC,KAAKpuD,IAAM,KAAKmuB,UAAU,KAAKnuB,MAG7BvC,GAAUA,EAAO3B,OAAQ,CAE3B,IAAMuyD,EAAa,GACfC,EAAMn/B,IACNo/B,EAAYD,EACZE,EAAM,EAEVtwD,EAAKT,GAAQ,SAAC2C,GACZ,IAAM8f,EAAYisC,GAAY/rD,GAC9B,GAAIC,MAAM6f,GACR,MAAM,IAAIlZ,UAAU,iBAAiB5G,EAAC,mBAEpCkuD,EAAMpuC,GACRquC,EAAYD,EACZA,EAAMpuC,GACGquC,EAAYruC,IACrBquC,EAAYruC,GAEVsuC,EAAMtuC,IACRsuC,EAAMtuC,GAERmuC,EAAW9wD,KAAK2iB,EAClB,IAEIziB,EAAO3B,OAAS,IAClB,KAAK2yD,gBAAkBF,EAAYD,GAEjCxwD,EAAMqwD,KACR,KAAKluD,IAAMquD,GAETxwD,EAAMswD,KACR,KAAKpuD,IAAMwuD,E,CAGjB,EACF,EApFA,CAAmBjB,IAqFnB,MCvFA,0E,OACS59C,EAAAA,KAAO,W,CA+DhB,QAhEuBK,EAAAA,EAAAA,IAAAA,EAAAA,GAGd0+C,EAAAA,UAAAA,OAAP,SAAch1D,GACZ,IAAM+pD,EAAQ,KAAKA,MACb3nD,EAAS2nD,EAAM3nD,OACfskD,EAAU,KAAKoN,iBAAiB9zD,GAChCi1D,EAAW5uD,KAAKye,MAAM4hC,GAAWtkD,EAAS,IAEhD,GAAI6yD,GAAY7yD,EAAS,EACvB,OAAOgF,GAAK2iD,GAGd,GAAIkL,EAAW,EACb,OAAO9sD,GAAK4hD,GAEd,IAAMmL,EAAUnL,EAAMkL,GAChBE,EAAWpL,EAAMkL,EAAW,GAE5BG,EAAkBH,GAAY7yD,EAAS,GACvCizD,GAAoBJ,EAAW,IAAM7yD,EAAS,GACpD,OAAO8yD,GAAWxO,EAAU0O,IAAoBC,EAAkBD,IAAoBD,EAAWD,EACnG,EAEUF,EAAAA,UAAAA,QAAV,WACE,KAAKzK,WAAa,WAClB,KAAK2I,UAAY,EACjB,KAAKU,MAAO,CACd,EAEUoB,EAAAA,UAAAA,eAAV,WACE,IAAMjL,EAAQ3zC,EAAAA,UAAMk0C,eAAc,WASlC,OARK,KAAKsJ,OACJxsD,GAAK2iD,KAAW,KAAKzjD,KACvByjD,EAAMlmD,KAAK,KAAKyC,KAEd6B,GAAK4hD,KAAW,KAAKxjD,KACvBwjD,EAAM/kC,QAAQ,KAAKze,MAGhBwjD,CACT,EAGUiL,EAAAA,UAAAA,gBAAV,SAA0Bh1D,GACxB,IAAM+pD,EAAQ,KAAKA,MAEnB,GAAI/pD,EAAQmI,GAAK4hD,GACf,OAAO,EAGT,GAAI/pD,EAAQoH,GAAK2iD,GACf,OAAO,EAET,IAAIkL,EAAW,EAQf,OAPAzwD,EAAKulD,GAAO,SAACC,EAAMjoD,GACjB,KAAI/B,GAASgqD,GAGX,OAAO,EAFPiL,EAAWlzD,CAIf,IACOkzD,GAAYlL,EAAM3nD,OAAS,EACpC,EACF,EAhEA,CAAuBkxD,IAkEvB,MCtEA,0E,OACSr9C,EAAAA,KAAO,W,CAMhB,QAPuBK,EAAAA,EAAAA,IAAAA,EAAAA,GAEXg/C,EAAAA,UAAAA,QAAV,WACE,KAAK/K,WAAa,WAClB,KAAK2I,UAAY,EACjB,KAAKU,MAAO,CACd,EACF,EAPA,CAAuBoB,IASvB,M1BHMxmD,GAAgB,GAEtB,SAAS+mD,GAASvzD,GAChB,OAAOwM,GAAIxM,EACb,CAEA,SAASwzD,GAAcxzD,EAAayzD,GAClC,GAAIF,GAASvzD,GACX,MAAM,IAAIgR,MAAM,SAAShR,EAAG,cAE9BwM,GAAIxM,GAAOyzD,CACb,C2BVA,8E,OACkBx/C,EAAAA,KAAkB,WAClBA,EAAAA,YAAsB,E,CAqBxC,QAvBsCK,EAAAA,EAAAA,IAAAA,EAAAA,GAI7Bo/C,EAAAA,UAAAA,eAAP,WACE,OAAO,KAAK3xD,MACd,EAEO2xD,EAAAA,UAAAA,MAAP,SAAa11D,GAEX,OAAI,KAAK+D,OAAO,KAAO/D,GAASwJ,GAASxJ,GAChCA,EAEF,KAAK4jD,MAAM,EACpB,EAEO8R,EAAAA,UAAAA,OAAP,SAAc11D,GACZ,IAAM4jD,EAAQ,KAAKA,MACnB,OAAI5jD,EAAQ4jD,EAAM,IAAM5jD,EAAQ4jD,EAAM,GAC7Bzf,IAEF,KAAKpgC,OAAO,EACrB,EACF,EAvBA,CAAsCwS,I,MCDxB,SAAUo/C,GAAkBx/C,GAChC,MAA8CA,EAAG,OAAzCy/C,EAAsCz/C,EAAG,aAA3B+8C,EAAwB/8C,EAAG,UAAhB0/C,EAAa1/C,EAAG,SAEzD,GAAI3M,GAASosD,GAAe,CAC1B,IAAME,EAAQpyD,EAAOK,GAAQ,SAACq+C,EAASz9C,GAAc,SAAIixD,IAAiB,CAArB,IAC/CG,EAAY3uD,GAAKrD,GAIvB,OAHI8xD,GAAYzuD,GAAK0uD,KAAWC,GAC9BD,EAAMjyD,KAAKkyD,GAEND,C,CAGT,IAAMlxD,EAAMb,EAAO3B,OACb,EAAa+T,EAAG,IAAX7P,EAAQ6P,EAAG,IAQtB,GAPI/R,EAAMmC,KACRA,EAAM,GAEJnC,EAAMkC,KACRA,EAAMvC,EAAO3B,OAAS,IAGnBoH,GAAS0pD,IAAcA,GAAatuD,EAAK,OAAOb,EAAO6G,MAAMrE,EAAKD,EAAM,GAC7E,GAAI4sD,GAAa,GAAK5sD,GAAO,EAAG,MAAO,GAMvC,IAJA,IAAMixB,EAAyB,IAAd27B,EAAkBtuD,EAAMyB,KAAKye,MAAMlgB,GAAOsuD,EAAY,IACjEnJ,EAAQ,GAEVz6C,EAAM/I,EACD5B,EAAI,EAAGA,EAAIuuD,EAAWvuD,IAAK,CAClC,GAAI2K,GAAOhJ,EAAK,MAEhBgJ,EAAMjJ,KAAKE,IAAIA,EAAM5B,EAAI4yB,EAAUjxB,GAC/B3B,IAAMuuD,EAAY,GAAK2C,EAAU9L,EAAMlmD,KAAKE,EAAOuC,IAClDyjD,EAAMlmD,KAAKE,EAAOuL,G,CAEzB,OAAOy6C,CACT,CC1Cc,SAAUiM,GAAS7/C,GACvB,MAA8BA,EAAG,IAA5B7P,EAAyB6P,EAAG,IAAvBy9C,EAAoBz9C,EAAG,KAAjB+8C,EAAc/8C,EAAG,UACnC4uB,EAAS,IAAIkxB,GAKnB,OAJAlxB,EAAOmxB,OAAO,CAAC3vD,EAAKD,IAChBstD,GACF7uB,EAAO6uB,KAAKV,GAEPnuB,EAAOglB,MAAMmJ,EACtB,CAEA,IAAMiD,GAAgB,EAChBC,GAAM/vD,KAAKuU,KAAK,IAChBy7C,GAAKhwD,KAAKuU,KAAK,IACf07C,GAAKjwD,KAAKuU,KAAK,GAGrB,2BACU,aAAoB,CAAC,EAAG,EAkDlC,QAhDSq7C,EAAAA,UAAAA,OAAP,SAAcC,GACZ,OAAIA,GACF,KAAKK,QAAUjyD,MAAMojB,KAAKwuC,EAAQxsD,QAC3B,MAEF,KAAK6sD,QAAQ3rD,OACtB,EAEOqrD,EAAAA,UAAAA,KAAP,SAAYjyC,G,aAAA,QAAAA,EAAAA,IACV,IAKI4iC,EALEhvC,EAAI,KAAK2+C,QAAQ3rD,QACnB4rD,EAAK,EACLC,EAAK,KAAKF,QAAQn0D,OAAS,EAC3B6W,EAAQ,KAAKs9C,QAAQC,GACrBr9B,EAAO,KAAKo9B,QAAQE,GA6BxB,OA1BIt9B,EAAOlgB,IACToQ,EAAgB,CAAC8P,EAAMlgB,GAAtBA,EAAK,KAAEkgB,EAAI,KACZ/G,EAAW,CAACqkC,EAAID,GAAfA,EAAE,KAAEC,EAAE,MAET7P,EAAO8P,GAAcz9C,EAAOkgB,EAAMnV,GAE9B4iC,EAAO,GACT3tC,EAAQ5S,KAAKye,MAAM7L,EAAQ2tC,GAAQA,EACnCztB,EAAO9yB,KAAKswD,KAAKx9B,EAAOytB,GAAQA,EAChCA,EAAO8P,GAAcz9C,EAAOkgB,EAAMnV,IACzB4iC,EAAO,IAChB3tC,EAAQ5S,KAAKswD,KAAK19C,EAAQ2tC,GAAQA,EAClCztB,EAAO9yB,KAAKye,MAAMqU,EAAOytB,GAAQA,EACjCA,EAAO8P,GAAcz9C,EAAOkgB,EAAMnV,IAGhC4iC,EAAO,GACThvC,EAAE4+C,GAAMnwD,KAAKye,MAAM7L,EAAQ2tC,GAAQA,EACnChvC,EAAE6+C,GAAMpwD,KAAKswD,KAAKx9B,EAAOytB,GAAQA,EACjC,KAAKsP,OAAOt+C,IACHgvC,EAAO,IAChBhvC,EAAE4+C,GAAMnwD,KAAKswD,KAAK19C,EAAQ2tC,GAAQA,EAClChvC,EAAE6+C,GAAMpwD,KAAKye,MAAMqU,EAAOytB,GAAQA,EAClC,KAAKsP,OAAOt+C,IAGP,IACT,EAEOq+C,EAAAA,UAAAA,MAAP,SAAajyC,GACX,YADW,QAAAA,EAAAA,IACJ4yC,GAAa,KAAKL,QAAQ,GAAI,KAAKA,QAAQ,KAAKA,QAAQn0D,OAAS,GAAI4hB,GAASmyC,GACvF,EACF,EAnDA,GAqDA,SAASS,GAAa39C,EAAekgB,EAAcnV,GACjD,IAAIF,EAEA7Z,EACA8/C,EACAnD,EAHAjiD,GAAK,EAMT,GADCw0B,GAAQA,EAAQlgB,GAASA,EAAS+K,GAASA,EACxC/K,IAAUkgB,GAAQnV,EAAQ,EAC5B,MAAO,CAAC/K,GAOV,IAJK6K,EAAUqV,EAAOlgB,KACnBhP,EAAIgP,EAASA,EAAQkgB,EAAQA,EAAOlvB,GAGY,KAA9C28C,EAAO8P,GAAcz9C,EAAOkgB,EAAMnV,MAAkB1gB,SAASsjD,GAChE,MAAO,GAGT,GAAIA,EAAO,EAAG,CACZ3tC,EAAQ5S,KAAKswD,KAAK19C,EAAQ2tC,GAC1BztB,EAAO9yB,KAAKye,MAAMqU,EAAOytB,GACzBmD,EAAQ,IAAIzlD,MAAO2F,EAAI5D,KAAKswD,KAAKx9B,EAAOlgB,EAAQ,IAChD,QAAStU,EAAIsF,EACX8/C,EAAMplD,IAAMsU,EAAQtU,GAAKiiD,C,KAEtB,CACL3tC,EAAQ5S,KAAKye,MAAM7L,EAAQ2tC,GAC3BztB,EAAO9yB,KAAKswD,KAAKx9B,EAAOytB,GACxBmD,EAAQ,IAAIzlD,MAAO2F,EAAI5D,KAAKswD,KAAK19C,EAAQkgB,EAAO,IAChD,QAASx0B,EAAIsF,EACX8/C,EAAMplD,IAAMsU,EAAQtU,GAAKiiD,C,CAQ7B,OAJI9iC,GACFimC,EAAMjmC,UAGDimC,CACT,CAEA,SAAS2M,GAAcz9C,EAAekgB,EAAcnV,GAClD,IAAM4iC,GAAQztB,EAAOlgB,GAAS5S,KAAKC,IAAI,EAAG0d,GACpC6yC,EAAQxwD,KAAKye,MAAMze,KAAK2tD,IAAIpN,GAAQvgD,KAAKywD,MACzCC,EAAQnQ,EAAOvgD,KAAKkb,IAAI,GAAIs1C,GAElC,OAAOA,GAAS,GACXE,GAASX,GAAM,GAAKW,GAASV,GAAK,EAAIU,GAAST,GAAK,EAAI,GAAKjwD,KAAKkb,IAAI,GAAIs1C,IAC1ExwD,KAAKkb,IAAI,IAAKs1C,IAAUE,GAASX,GAAM,GAAKW,GAASV,GAAK,EAAIU,GAAST,GAAK,EAAI,EACvF,CCvHA,SAASU,GAAatwD,EAAG0C,EAAM6tD,GAC7B,IAAIC,EAQJ,OANEA,EADe,SAAbD,EACI5wD,KAAKswD,KAAKjwD,EAAI0C,GACE,UAAb6tD,EACH5wD,KAAKye,MAAMpe,EAAI0C,GAEf/C,KAAKgD,MAAM3C,EAAI0C,GAEhB8tD,EAAM9tD,CACf,CAEc,SAAU+tD,GAAc5wD,EAAKD,EAAKixB,GAE9C,IAAI29B,EAAU8B,GAAazwD,EAAKgxB,EAAU,SACtC6/B,EAAUJ,GAAa1wD,EAAKixB,EAAU,QAE1C29B,EAAU/rD,GAAU+rD,EAAS39B,GAC7B6/B,EAAUjuD,GAAUiuD,EAAS7/B,GAI7B,IAHA,IAAMwyB,EAAQ,GAERsN,EAAoBhxD,KAAKC,KAAK8wD,EAAUlC,IAAY7uD,KAAAA,IAAAA,EAAK,IAAK,GAAIkxB,GAC/D5yB,EAAIuwD,EAASvwD,GAAKyyD,EAASzyD,GAAQ0yD,EAAmB,CAC7D,IAAMnN,EAAY/gD,GAAUxE,EAAG0yD,GAC/BtN,EAAMlmD,KAAKqmD,E,CAEb,MAAO,CACL3jD,IAAK2uD,EACL5uD,IAAK8wD,EACLrN,MAAK,EAET,CCzBc,SAAUuN,GAAYnhD,EAAkBohD,EAAqBC,G,MACjE,EAAgDrhD,EAAG,SAAzCw9C,EAAsCx9C,EAAG,SAA/B5P,EAA4B4P,EAAG,IAA1B7P,EAAuB6P,EAAG,IAArBic,EAAkBjc,EAAG,UAArB+8C,OAAS,MAAG,EAAC,EAC/CuE,EAAUrzD,EAAMsvD,GAAatvD,EAAMmzD,GAAchxD,EAAMgxD,EAAc7D,EACrEgE,EAAUtzD,EAAMuvD,GAAavvD,EAAMozD,GAAclxD,EAAMkxD,EAAc7D,EAMzE,GAJI8D,EAAUC,IACZruC,EAAqB,CAACouC,EAASC,GAA9BA,EAAO,KAAED,EAAO,MAGfvE,GAAa,EACf,MAAO,CAACuE,EAASC,GAMnB,IAHA,IAAM9Q,GAAQ8Q,EAAUD,IAAYvE,EAAY,GAC1CnJ,EAAkB,GAEfplD,EAAI,EAAGA,EAAIuuD,EAAWvuD,IAC7BolD,EAAMlmD,KAAK4zD,EAAU7Q,EAAOjiD,GAG9B,OAAOolD,CACT,CCxBc,SAAU4N,GAAmBxhD,GACjC,MAA+CA,EAAG,IAA7C7P,EAA0C6P,EAAG,IAAxCy/C,EAAqCz/C,EAAG,aAA1Bu9C,EAAuBv9C,EAAG,SAAhBw9C,EAAax9C,EAAG,SACpD4zC,EAAQiM,GAAS7/C,GAEvB,OAAK/R,EAAMsvD,IAActvD,EAAMuvD,GAG3BiC,EACKr+B,GAAShxB,EAAKD,EAAKsvD,GAAc7L,MAEnCA,EALEuN,GAAYnhD,EAAKhO,GAAK4hD,GAAQ3iD,GAAK2iD,GAM9C,CChBM,SAAU6N,GAAa3tD,GAC3B,OAAO5D,KAAK0D,IAAIE,GAAK,MAAQA,EAAIX,WAAWW,EAAEV,QAAQ,IACxD,CCAO,IAAMsuD,GAAY,CAAC,EAAG,EAAG,EAAG,IAAK,EAAG,GAIrCC,GAAuB,IAAjBpuD,OAAOipC,QAEnB,SAAS3oC,GAAIC,EAAWC,GACtB,OAASD,EAAIC,EAAKA,GAAKA,CACzB,CAEA,SAASb,GAAMY,GACb,OAAO5D,KAAKgD,MAAU,KAAJY,GAAY,IAChC,CAEA,SAAS8tD,GAAW5gD,EAAW6F,EAAa/U,EAAW+vD,EAAcC,EAAcC,GACjF,IAAMjuD,EAAIiE,GAAK8O,GACTrY,EAAIlB,GAAQuZ,EAAG7F,GACjBzQ,EAAI,EACFwD,EAAIF,GAAIguD,EAAME,GAIpB,OAHKhuD,EAAI4tD,IAAOI,EAAQhuD,EAAI4tD,KAAQE,GAAQ,GAAKC,GAAQ,IACvDvxD,EAAI,GAEC,EAAI/B,GAAKsF,EAAI,GAAKhC,EAAIvB,CAC/B,CAEA,SAASyxD,GAAchhD,EAAW6F,EAAa/U,GAC7C,IAAMgC,EAAIiE,GAAK8O,GACTrY,EAAIlB,GAAQuZ,EAAG7F,GACfzQ,EAAI,EACV,OAAO,EAAI/B,GAAKsF,EAAI,GAAKhC,EAAIvB,CAC/B,CAEA,SAAS0xD,GAAQtzD,EAAWoF,EAAWmuD,EAAcC,EAAcC,EAAcC,GAC/E,IAAM3wD,GAAK/C,EAAI,IAAM0zD,EAAOD,GACtBp0C,GAAMja,EAAI,IAAM7D,KAAKC,IAAIkyD,EAAMF,GAAQjyD,KAAKE,IAAI8xD,EAAME,IAC5D,OAAO,EAAIlyD,KAAKC,IAAIuB,EAAIsc,EAAIA,EAAKtc,EACnC,CAEA,SAAS4wD,GAAW3zD,EAAWoF,GAC7B,OAAIpF,GAAKoF,EACA,GAAKpF,EAAI,IAAMoF,EAAI,GAErB,CACT,CAEA,SAASwuD,GAASL,EAAcC,EAAcC,EAAcC,GAC1D,IAAM5U,EAAQ0U,EAAOD,EACrB,OAAO,EAAK,IAAOhyD,KAAAA,IAACiyD,EAAOE,EAAS,GAAInyD,KAAAA,IAACgyD,EAAOE,EAAS,IAAMlyD,KAAAA,IAAC,GAAMu9C,EAAU,EAClF,CAEA,SAAS+U,GAAYN,EAAcC,EAAcM,GAC/C,IAAMhV,EAAQ0U,EAAOD,EACrB,GAAIO,EAAOhV,EAAO,CAChB,IAAMiV,GAAQD,EAAOhV,GAAS,EAC9B,OAAO,EAAIv9C,KAAAA,IAAAA,EAAQ,GAAIA,KAAAA,IAAC,GAAMu9C,EAAU,E,CAE1C,OAAO,CACT,CAEA,SAASkV,KACP,OAAO,CACT,CAYc,SAAUC,GACtBV,EACAC,EACAruD,EACA+uD,EACAh8C,EACA9H,QAHA,QAAAjL,EAAAA,QACA,QAAA+uD,GAAAA,QACA,QAAAh8C,EAAAA,SACA,QAAA9H,EAAAA,CAAuC,IAAM,GAAK,GAAK,MAGvD,IAAMhL,EAAID,EAAI,EAAI,EAAI5D,KAAKgD,MAAMY,GAGjC,GAAIP,OAAO/C,MAAM0xD,IAAS3uD,OAAO/C,MAAM2xD,IAAyB,kBAATD,GAAqC,kBAATC,IAAsBpuD,EACvG,MAAO,CACL3D,IAAK,EACLD,IAAK,EACLyjD,MAAO,IAKX,GAAIuO,EAAOD,EAAO,OAAe,IAANnuD,EACzB,MAAO,CACL3D,IAAK8xD,EACL/xD,IAAKgyD,EACLvO,MAAO,CAACsO,IAKZ,GAAIC,EAAOD,EAAO,MAAO,CACvB,IAAMr0C,EAAQ/Z,GAAK,EACbgvD,GAAQX,EAAOD,GAAQr0C,EAC7B,MAAO,CACLzd,IAAK8xD,EACL/xD,IAAKgyD,EACLvO,MAAOzlD,MAAM0f,GAAOk1C,KAAK,MAAM1qD,KAAI,SAACgzC,EAAElyC,GACpC,OAAOsoD,GAAaS,EAAOY,EAAO3pD,EACpC,I,CAIJ,IAAM6pD,EAAO,CACXC,OAAQ,EACRpB,KAAM,EACNC,KAAM,EACNC,MAAO,GAGLjwD,EAAI,EACR,MAAOA,EAAIwtB,IAAU,CACnB,IAAK,IAAI9wB,EAAI,EAAGA,EAAIqY,EAAE5a,OAAQuC,GAAK,EAAG,CACpC,IAAMwS,EAAI6F,EAAErY,GACN00D,EAAKlB,GAAchhD,EAAG6F,EAAG/U,GAC/B,GAAIiN,EAAE,GAAKmkD,EAAKnkD,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKikD,EAAKC,MAAO,CAC/CnxD,EAAIwtB,IACJ,K,CAEF,IAAI3wB,EAAI,EACR,MAAOA,EAAI2wB,IAAU,CACnB,IAAM6jC,EAAKb,GAAW3zD,EAAGoF,GACzB,GAAIgL,EAAE,GAAKmkD,EAAKnkD,EAAE,GAAKA,EAAE,GAAKokD,EAAKpkD,EAAE,GAAKikD,EAAKC,MAC7C,MAGF,IAAMG,GAASjB,EAAOD,IAASvzD,EAAI,GAAKmD,EAAIkP,EACxCI,EAAIlR,KAAKswD,KAAKtwD,KAAKmzD,MAAMD,IAE7B,MAAOhiD,EAAIke,IAAU,CACnB,IAAMmxB,EAAO3+C,EAAIkP,EAAI9Q,KAAAA,IAAAA,GAAMkR,GACrBkiD,EAAKd,GAAYN,EAAMC,EAAM1R,GAAQ9hD,EAAI,IAE/C,GAAIoQ,EAAE,GAAKmkD,EAAKnkD,EAAE,GAAKukD,EAAKvkD,EAAE,GAAKokD,EAAKpkD,EAAE,GAAKikD,EAAKC,MAClD,MAGF,IAAMM,EAAWrzD,KAAKye,MAAMwzC,EAAO1R,GAAQ3+C,GAAKnD,EAAI,GAAKmD,EACnD0xD,EAAWtzD,KAAKswD,KAAK0B,EAAOzR,GAAQ3+C,EAE1C,GAAIyxD,GAAYC,EACd,CAAM31C,EAAQ21C,EAAWD,EACzB,IADA,IACSE,EAAI,EAAGA,GAAK51C,EAAO41C,GAAK,EAAG,CAClC,IAAM3gD,EAAQygD,EAAWE,EACnBrB,EAAOt/C,GAAS2tC,EAAO3+C,GACvBuwD,EAAOD,EAAO3R,GAAQ9hD,EAAI,GAC1B+0D,EAAQjT,EAERxvC,EAAI2gD,GAAW5gD,EAAG6F,EAAG/U,EAAGswD,EAAMC,EAAMqB,GACpC3iD,EAAIwhD,GAASL,EAAMC,EAAMC,EAAMC,GAC/Bp0B,EAAIg0B,GAAQtzD,EAAGoF,EAAGmuD,EAAMC,EAAMC,EAAMC,GACpCzvD,EAAI+vD,KAEJM,EAAQlkD,EAAE,GAAKkC,EAAIlC,EAAE,GAAKgC,EAAIhC,EAAE,GAAKkvB,EAAIlvB,EAAE,GAAKnM,EAClDqwD,EAAQD,EAAKC,SAAWJ,GAAcT,GAAQF,GAAQG,GAAQF,KAChEa,EAAKnB,KAAOO,EACZY,EAAKlB,KAAOO,EACZW,EAAKjB,MAAQ2B,EACbV,EAAKC,MAAQA,E,CAjBgB,CAqBnC7hD,GAAK,C,CAEPzS,GAAK,C,EAGTmD,GAAK,C,CAIP,IAAMgwD,EAAOL,GAAauB,EAAKlB,MACzBD,EAAOJ,GAAauB,EAAKnB,MACzBE,EAAQN,GAAauB,EAAKjB,OAI1BhF,EAAY7sD,KAAKye,MAAMzb,IAAO4uD,EAAOD,GAAQE,IAAU,EACvDnO,EAAQ,IAAIzlD,MAAM4uD,GAGxBnJ,EAAM,GAAK6N,GAAaI,GACxB,IAASrzD,EAAI,EAAGA,EAAIuuD,EAAWvuD,IAC7BolD,EAAMplD,GAAKizD,GAAa7N,EAAMplD,EAAI,GAAKuzD,GAGzC,MAAO,CACL3xD,IAAKF,KAAKE,IAAI8xD,EAAMlwD,GAAK4hD,IACzBzjD,IAAKD,KAAKC,IAAIgyD,EAAMlxD,GAAK2iD,IACzBA,MAAK,EAET,CCnMc,SAAUhlB,GAAO5uB,GACrB,MAAgEA,EAAG,IAA9D7P,EAA2D6P,EAAG,IAAzD+8C,EAAsD/8C,EAAG,UAA9Cy9C,EAA2Cz9C,EAAG,KAAxCy/C,EAAqCz/C,EAAG,aAA1Bu9C,EAAuBv9C,EAAG,SAAhBw9C,EAAax9C,EAAG,SACrE4zC,EAAQgP,GAASxyD,EAAKD,EAAK4sD,EAAWU,GAAM7J,MAElD,OAAK3lD,EAAMsvD,IAActvD,EAAMuvD,GAG3BiC,EACKr+B,GAAShxB,EAAKD,EAAKsvD,GAAc7L,MAEnCA,EALEuN,GAAYnhD,EAAKhO,GAAK4hD,GAAQ3iD,GAAK2iD,GAM9C,CCbc,SAAU+P,GAAkB3jD,GAChC,IACJ++C,EADI,EAAsC/+C,EAAG,KAAnC+8C,EAAgC/8C,EAAG,UAAxB5P,EAAqB4P,EAAG,IAAnB7P,EAAgB6P,EAAG,IAAdpS,EAAWoS,EAAG,OAE3CihD,EAAUpD,GAAI5qD,EAAM9C,GAC1B,GAAIC,EAAM,EACR2uD,EAAU7uD,KAAKye,MAAMkvC,GAAI5qD,EAAM7C,QAC1B,CACL,IAAM2tD,EAAcD,GAAkBlwD,EAAQqF,EAAM9C,GACpD4uD,EAAU7uD,KAAKye,MAAMkvC,GAAI5qD,EAAM8qD,G,CAKjC,IAHA,IAAMlwC,EAAQozC,EAAUlC,EAClB6E,EAAM1zD,KAAKswD,KAAK3yC,EAAQkvC,GACxBnJ,EAAQ,GACLplD,EAAIuwD,EAASvwD,EAAIyyD,EAAU2C,EAAKp1D,GAAQo1D,EAC/ChQ,EAAMlmD,KAAKwC,KAAKkb,IAAInY,EAAMzE,IAM5B,OAJI4B,GAAO,GAETwjD,EAAM/kC,QAAQ,GAET+kC,CACT,CC5Bc,SAAUiQ,GAAOzzD,EAAaD,EAAa4D,GACvD,QADuD,QAAAA,EAAAA,GACnD3D,IAAQD,EACV,MAAO,CACLA,IAAG,EACHC,IAAG,EACHwjD,MAAO,CAACxjD,IAIZ,IAAM0D,EAAIC,EAAI,EAAI,EAAI7D,KAAKgD,MAAMa,GACjC,GAAU,IAAND,EAAS,MAAO,CAAE3D,IAAG,EAAEC,IAAG,EAAEwjD,MAAO,IAOvC,IAAM50C,EAAI,IACJ8kD,EAAK,GAAM,IAAM9kD,EAEjByC,EAAItR,EAAMC,EACV2Q,EAAIU,EAAI3N,EAQRb,EAAO/C,KAAKkb,IAAI,GAAIlb,KAAKye,MAAMze,KAAKmzD,MAAMtiD,KAC5CgjD,EAAO9wD,EACP,EAAIA,EAAO8N,EAAI/B,GAAK+B,EAAIgjD,KAC1BA,EAAO,EAAI9wD,EACP,EAAIA,EAAO8N,EAAI+iD,GAAM/iD,EAAIgjD,KAC3BA,EAAO,EAAI9wD,EACP,GAAKA,EAAO8N,EAAI/B,GAAK+B,EAAIgjD,KAC3BA,EAAO,GAAK9wD,KAYlB,IARA,IAAM+wD,EAAK9zD,KAAKswD,KAAKrwD,EAAM4zD,GACrBE,EAAK/zD,KAAKye,MAAMve,EAAM2zD,GAEtB/H,EAAK9rD,KAAKC,IAAI6zD,EAAKD,EAAM5zD,GACzB4rD,EAAK7rD,KAAKE,IAAI6zD,EAAKF,EAAM3zD,GAEzB2H,EAAO7H,KAAKye,OAAOqtC,EAAKD,GAAMgI,GAAQ,EACtCnQ,EAAQ,IAAIzlD,MAAM4J,GACfvJ,EAAI,EAAGA,EAAIuJ,EAAMvJ,IACxBolD,EAAMplD,GAAKizD,GAAa1F,EAAKvtD,EAAIu1D,GAGnC,MAAO,CACL3zD,IAAK2rD,EACL5rD,IAAK6rD,EACLpI,MAAK,EAET,CCnDc,SAAUsQ,GAAkBlkD,GAChC,MAAwBA,EAAG,SAAjB+8C,EAAc/8C,EAAG,UAC7B7P,EAAMD,KAAKswD,KAAK5C,GAAQrsB,EAAUvxB,EAAI7P,MACtCC,EAAMF,KAAKye,MAAMivC,GAAQrsB,EAAUvxB,EAAI5P,MACvCwjD,EAAQiQ,GAAOzzD,EAAKD,EAAK4sD,GAAWnJ,MAC1C,OAAOA,EAAMv7C,KAAI,SAACw7C,GAChB,IAAMsK,EAAStK,GAAQ,EAAI,GAAK,EAChC,OAAO3jD,KAAKkb,IAAIyoC,EAAMtiB,GAAY4sB,CACpC,GACF,CCXA,SAASgG,GAAexiD,EAAG3I,GACzB,IAAMG,EAAMwI,EAAE1V,OAAS+M,EAOvB,OAAU,IAANA,EAEK2I,EAAEA,EAAE1V,OAAS,GACL,IAAN+M,EAEF2I,EAAE,GACAxI,EAAM,IAAM,EAEdwI,EAAEzR,KAAKswD,KAAKrnD,GAAO,GACjBwI,EAAE1V,OAAS,IAAM,GAGlB0V,EAAExI,EAAM,GAAKwI,EAAExI,IAAQ,EAIxBwI,EAAExI,EAEb,CAEc,SAAUg7C,GAAen0C,GAC7B,MAAsBA,EAAG,UAAdpS,EAAWoS,EAAG,OACjC,IAAKpS,IAAWA,EAAO3B,OACrB,MAAO,GAMT,IAJA,IAAMm4D,EAASx2D,EAAO6G,QAAQ4lB,MAAK,SAAC3qB,EAAGgE,GACrC,OAAOhE,EAAIgE,CACb,IACMkgD,EAAQ,GACLplD,EAAI,EAAGA,EAAIuuD,EAAWvuD,IAAK,CAClC,IAAMwK,EAAIxK,GAAKuuD,EAAY,GAC3BnJ,EAAMlmD,KAAKy2D,GAAeC,EAAQprD,G,CAEpC,OAAO46C,CACT,CCrCc,SAAUyQ,GAAarkD,GAC3B,MAA0DA,EAAG,IAAxD7P,EAAqD6P,EAAG,IAAnD+8C,EAAgD/8C,EAAG,UAAxCy/C,EAAqCz/C,EAAG,aAA1Bu9C,EAAuBv9C,EAAG,SAAhBw9C,EAAax9C,EAAG,SAC/D4zC,EAAQiQ,GAAOzzD,EAAKD,EAAK4sD,GAAWnJ,MAE1C,OAAK3lD,EAAMsvD,IAActvD,EAAMuvD,GAG3BiC,EACKr+B,GAAShxB,EAAKD,EAAKsvD,GAAc7L,MAEnCA,EALEuN,GAAYnhD,EAAKhO,GAAK4hD,GAAQ3iD,GAAK2iD,GAM9C,CCnBc,SAAU0Q,GAAmBtkD,GACjC,MAA8BA,EAAG,IAA5B7P,EAAyB6P,EAAG,IAAvB4+C,EAAoB5+C,EAAG,gBACrCy/C,EAAez/C,EAAIy/C,aACnB1C,EAAY/8C,EAAI+8C,UAEpB,GAAI0C,EACF1C,EAAY7sD,KAAKswD,MAAMrwD,EAAMC,GAAOqvD,OAC/B,CACLA,EAAe3C,GAAgB1sD,EAAKD,EAAK4sD,GAAW,GACpD,IAAMlvC,GAAS1d,EAAMC,GAAOqvD,EACtBhxC,EAAQZ,EAAQkvC,EAClBtuC,EAAQ,IACVgxC,GAA8BvvD,KAAKswD,KAAK/xC,IAGtCmwC,GAAmBa,EAAeb,IACpCa,EAAeb,E,CAInBa,EAAevvD,KAAKC,IAAID,KAAKye,OAAOxe,EAAMC,IAAQF,KAAAA,IAAAA,EAAK,IAAK,IAAKuvD,GAEjE,IADA,IAAM7L,EAAQ,GACLplD,EAAI4B,EAAK5B,EAAI2B,EAAMsvD,EAAcjxD,GAAKixD,EAC7C7L,EAAMlmD,KAAKc,GAEb,OAAOolD,CACT,CCtBc,SAAU2Q,GAAQvkD,GAE9B,IAAM4zC,EAAQ4Q,IAAQ,SAAG9E,UAAU,GAAS1/C,IAC5C,OAAO4zC,CACT,C,gBCRA,SAAS6Q,GAAQ1zB,GACf,OAAO,IAAIz3B,KAAKy3B,GAAM4mB,aACxB,CAEA,SAAS+M,GAAWhK,GAClB,OAAO,IAAIphD,KAAKohD,EAAM,EAAG,GAAGt+B,SAC9B,CAEA,SAASk7B,GAASvmB,GAChB,OAAO,IAAIz3B,KAAKy3B,GAAMumB,UACxB,CAEA,SAASqN,GAAUv0D,EAAaD,GAC9B,IAAMy0D,EAAUH,GAAQr0D,GAClBy0D,EAAUJ,GAAQt0D,GAClB20D,EAAWxN,GAASlnD,GACpB20D,EAAWzN,GAASnnD,GAC1B,OAA6B,IAArB00D,EAAUD,IAAkBG,EAAWD,GAAY,EAC7D,CAEA,SAASE,GAAWtK,EAAcC,GAChC,OAAO,IAAIrhD,KAAKohD,EAAMC,EAAO,GAAGv+B,SAClC,CAEA,SAAS6oC,GAAQ70D,EAAaD,GAC5B,OAAOD,KAAKswD,MAAMrwD,EAAMC,GAAOssD,GACjC,CAEA,SAASwI,GAAS90D,EAAaD,GAC7B,OAAOD,KAAKswD,MAAMrwD,EAAMC,GAAOqsD,GACjC,CAEA,SAAS0I,GAAU/0D,EAAaD,GAC9B,OAAOD,KAAKswD,MAAMrwD,EAAMC,GAAG,IAC7B,CAOc,SAAUg1D,GAAWplD,GACzB,MAAyCA,EAAG,IAAvC7P,EAAoC6P,EAAG,IAAlC4+C,EAA+B5+C,EAAG,gBAAjB+8C,EAAc/8C,EAAG,UAC9C,EAAiBA,EAAG,aACpB4zC,EAAkB,GAEnB6L,IACHA,GAAgBtvD,EAAMC,GAAO2sD,EAEzB6B,GAAmBa,EAAeb,IACpCa,EAAeb,IAGnBa,EAAevvD,KAAKC,IAAID,KAAKye,OAAOxe,EAAMC,IAAQF,KAAAA,IAAAA,EAAK,IAAK,IAAKuvD,GACjE,IAAMmF,EAAUH,GAAQr0D,GAExB,GAAIqvD,EAAe7C,GAGjB,IAFA,IAAMiI,EAAUJ,GAAQt0D,GAClBk1D,EAAen1D,KAAKswD,KAAKf,EAAe7C,IACrCpuD,EAAIo2D,EAASp2D,GAAKq2D,EAAUQ,EAAc72D,GAAQ62D,EACzDzR,EAAMlmD,KAAKg3D,GAAWl2D,SAEnB,GAAIixD,EAAe9C,GAExB,KAAM2I,EAAgBp1D,KAAKswD,KAAKf,EAAe9C,IACzC4I,EAASjO,GAASlnD,GAClBo1D,EAAUb,GAAUv0D,EAAKD,GAC/B,IAAS3B,EAAI,EAAGA,GAAKg3D,EAAUF,EAAe92D,GAAQ82D,EACpD1R,EAAMlmD,KAAKs3D,GAAWJ,EAASp2D,EAAI+2D,GAJgB,MAMhD,GAAI9F,EAAe/C,GAExB,KAAM3rB,EAAO,IAAIz3B,KAAKlJ,GAChBsqD,EAAO3pB,EAAK4mB,cACZgD,EAAQ5pB,EAAKumB,WACbmO,EAAO10B,EAAK+lB,UACZ8D,EAAM1qD,KAAKswD,KAAKf,EAAe/C,IAC/BgJ,EAAQT,GAAQ70D,EAAKD,GAC3B,IAAS3B,EAAI,EAAGA,EAAIk3D,EAAQ9K,EAAKpsD,GAAQosD,EACvChH,EAAMlmD,KAAK,IAAI4L,KAAKohD,EAAMC,EAAO8K,EAAOj3D,GAAG4tB,UAPnB,MASrB,GAAIqjC,EAAehD,GAExB,CAAM1rB,EAAO,IAAIz3B,KAAKlJ,GAChBsqD,EAAO3pB,EAAK4mB,cACZgD,EAAQ5pB,EAAKumB,WACbsD,EAAM7pB,EAAK+lB,UAHjB,IAIM+D,EAAO9pB,EAAK8mB,WACZ8N,EAAQz1D,KAAKswD,KAAKf,EAAehD,IACjCmJ,EAASV,GAAS90D,EAAKD,GAC7B,IAAS3B,EAAI,EAAGA,GAAKo3D,EAASD,EAAOn3D,GAAQm3D,EAC3C/R,EAAMlmD,KAAK,IAAI4L,KAAKohD,EAAMC,EAAOC,EAAKC,EAAOrsD,GAAG4tB,UARxB,MAUrB,GAAIqjC,EAAejD,GAExB,KAAMqJ,EAASV,GAAU/0D,EAAKD,GACxB+oD,EAAUhpD,KAAKswD,KAAKf,EAAejD,IACzC,IAAShuD,EAAI,EAAGA,GAAKq3D,EAAS3M,EAAS1qD,GAAQ0qD,EAC7CtF,EAAMlmD,KAAK0C,EAAM5B,EAAIguD,GAHW,KAK7B,CAEL,IAAIp7B,EAAWq+B,EACXr+B,EAAWm7B,KACbn7B,EAAWm7B,IAEb,IAAMuJ,EAAY51D,KAAKye,MAAMve,EAAMmsD,IAAUA,GACvCwJ,EAAW71D,KAAKswD,MAAMrwD,EAAMC,GAAOmsD,IACnCyJ,EAAU91D,KAAKswD,KAAKp/B,EAAWm7B,IACrC,IAAS/tD,EAAI,EAAGA,EAAIu3D,EAAWC,EAASx3D,GAAQw3D,EAC9CpS,EAAMlmD,KAAKo4D,EAAYt3D,EAAI+tD,G,CAU/B,OAJI3I,EAAM3nD,QAAU,KAClBg6D,GAAQC,KAAK,gCAAgCtS,EAAM3nD,OAAM,mIAAmIwzD,EAAY,4DAGnM7L,CACT,CChHAJ,GAAmB,MAAO2S,IAC1B3S,GAAmB,WAAY+Q,IAC/B/Q,GAAmB,qBAAsB5kB,IACzC4kB,GAAmB,WAAY4S,IAC/B5S,GAAmB,OAAQ1nD,IAC3B0nD,GAAmB,cAAe4R,IAClC5R,GAAmB,MAAOqK,IAC1BrK,GAAmB,MAAOpoC,IAC1BooC,GAAmB,WAAY6S,IAC/B7S,GAAmB,YAAaqM,I5HPhCyG,GAAc,MAAOjS,IACrBiS,GAAc,WAAYjS,IAC1BiS,GAAc,WAAY/G,IAC1B+G,GAAc,SAAU5I,IACxB4I,GAAc,MAAOtI,IACrBsI,GAAc,MAAOpI,IACrBoI,GAAc,OAAQlI,IACtBkI,GAAc,UAAWrJ,IACzBqJ,GAAc,WAAYzH,IAC1ByH,GAAc,WAAYnH,IgFhB1B,IAAMoH,GAAkC,GAMlCC,GAAe,SAACz4D,GACpB,OAAOw4D,GAAcx4D,EAAKsG,cAC5B,EAEMoyD,GAAoB,SAAC14D,EAAc89C,GAEvC,GAAI2a,GAAaz4D,GACf,MAAM,IAAI8O,MAAM,mBAAmB9O,EAAI,cAGzCw4D,GAAcx4D,EAAKsG,eAAiBw3C,CACtC,E6CZO,SAASn2B,KACd,IAAI3B,EAAM,IAAI4B,GAAoB,GAQlC,OANIA,IAAuBH,eACzBzB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,CACT,CA6dO,SAASmC,GAAcnC,EAAKrkB,EAAGqE,GACpC,IAAI4N,EAAIjS,EAAE,GACNkS,EAAIlS,EAAE,GACN0R,EAAI1R,EAAE,GAIV,OAHAqkB,EAAI,GAAKpS,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GAAKqN,EAAIrN,EAAE,GACrCggB,EAAI,GAAKpS,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GAAKqN,EAAIrN,EAAE,GACrCggB,EAAI,GAAKpS,EAAI5N,EAAE,GAAK6N,EAAI7N,EAAE,GAAKqN,EAAIrN,EAAE,GAC9BggB,CACT,C7HjfA0yC,GAAkB,QAAS1jC,IAC3B0jC,GAAkB,UAAWC,IAC7BD,GAAkB,WAAYzT,IAC9ByT,GAAkB,QAASpT,IAC3BoT,GAAkB,OAAQE,K6HquBL,WACnB,IAAInwC,EAAMd,IA8BZ,EA/BqB,GAlDd,ICrrBP,cA+BE,WAAY1V,GA7BI,UAAe,aACf,aAAkB,EAClB,cAAmB,EACnB,cAAmB,EAqB3B,iBAAa,EACb,iBAAa,EAKX,MAA2EA,EAAG,MAAvEyL,EAAoEzL,EAAG,IAAlEkT,EAA+DlT,EAAG,OAAlEmX,OAAM,MAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAE,EAAE8E,EAAyBjc,EAAG,aAA5B4mD,OAAY,OAAQ,EAC9E,KAAK9jD,MAAQA,EACb,KAAK2I,IAAMA,EACX,KAAK0L,OAASA,EACd,KAAK0vC,gBAAiBx1C,EAAAA,EAAAA,IAAAA,GAAI8F,GAC1B,KAAKyvC,aAAeA,CACtB,CAqNF,OAhNSE,EAAAA,UAAAA,QAAP,WAEE,KAAK9gB,OAAS,CACZrkC,GAAI,KAAKmB,MAAMnB,EAAI,KAAK8J,IAAI9J,GAAK,EACjCC,GAAI,KAAKkB,MAAMlB,EAAI,KAAK6J,IAAI7J,GAAK,GAGnC,KAAK9G,MAAQ5K,KAAK0D,IAAI,KAAK6X,IAAI9J,EAAI,KAAKmB,MAAMnB,GAC9C,KAAKlD,OAASvO,KAAK0D,IAAI,KAAK6X,IAAI7J,EAAI,KAAKkB,MAAMlB,EACjD,EAMOklD,EAAAA,UAAAA,OAAP,SAAc9mD,GACZovB,GAAO,KAAMpvB,GACb,KAAK+mD,SACP,EAEOD,EAAAA,UAAAA,WAAP,SAAkBvW,EAAiBzF,G,MAC7B,EAAiB,KAAKA,GAApBhoC,EAAK,QAAE2I,EAAG,MAOhB,OAJI,KAAKu7C,UAAUlc,KACjB53B,EAAe,CAACzH,EAAK3I,GAApBA,EAAK,KAAE2I,EAAG,MAGN3I,EAAQytC,GAAW9kC,EAAM3I,EAClC,EAEOgkD,EAAAA,UAAAA,UAAP,SAAiBj9D,EAAeihD,G,MAC1B,EAAiB,KAAKA,GAApBhoC,EAAK,QAAE2I,EAAG,MAMhB,OAJI,KAAKu7C,UAAUlc,KACjB53B,EAAe,CAACzH,EAAK3I,GAApBA,EAAK,KAAE2I,EAAG,OAGL5hB,EAAQiZ,IAAU2I,EAAM3I,EAClC,EASOgkD,EAAAA,UAAAA,YAAP,SAAmBnlD,EAAWC,EAAW0hC,QAAA,QAAAA,EAAAA,GACvC,IAAMnsB,EAAS,KAAKA,OACd+pB,EAAkB,CAACv/B,EAAGC,EAAG0hC,GAE/B,OADA2jB,GAAmB/lB,EAAQA,EAAQ/pB,GAC5B+pB,CACT,EASO4lB,EAAAA,UAAAA,aAAP,SAAoBnlD,EAAWC,EAAW0hC,QAAA,QAAAA,EAAAA,GACxC,IAAMnsB,EAAS,KAAKA,OACd+vC,EAAWvwC,GAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIQ,GACpD+pB,EAAkB,CAACv/B,EAAGC,EAAG0hC,GAK/B,OAJI4jB,GAEFD,GAAmB/lB,EAAQA,EAAQgmB,GAE9BhmB,CACT,EAOO4lB,EAAAA,UAAAA,QAAP,SAAezvB,GACP,MAAW,KAAK8vB,aAAa9vB,GAA3B11B,EAAC,IAAEC,EAAC,IACNs/B,EAAS,KAAKjhB,YAAYte,EAAGC,EAAG,GACtC,MAAO,CACLD,EAAGu/B,EAAO,GACVt/B,EAAGs/B,EAAO,GAEd,EAOO4lB,EAAAA,UAAAA,OAAP,SAAczvB,GACZ,IAAM6J,EAAS,KAAKtmB,aAAayc,EAAM11B,EAAG01B,EAAMz1B,EAAG,GACnD,OAAO,KAAKwlD,YAAY,CACtBzlD,EAAGu/B,EAAO,GACVt/B,EAAGs/B,EAAO,IAEd,EAOO4lB,EAAAA,UAAAA,OAAP,SAAcpoC,GACZ,IAAMvH,EAAS,KAAKA,OACd6uB,EAAS,KAAKA,OAIpB,OAHAjuB,GAAkBZ,EAAQA,EAAQ,EAAE6uB,EAAOrkC,GAAIqkC,EAAOpkC,IACtDmW,GAAeZ,EAAQA,EAAQuH,GAC/B3G,GAAkBZ,EAAQA,EAAQ,CAAC6uB,EAAOrkC,EAAGqkC,EAAOpkC,IAC7C,IACT,EAOOklD,EAAAA,UAAAA,QAAP,SAAehc,GAMb,MALY,MAARA,EACF,KAAKuc,YAAc,KAAKA,WAExB,KAAKC,YAAc,KAAKA,WAEnB,IACT,EAQOR,EAAAA,UAAAA,MAAP,SAAa5hD,EAAYE,GACvB,IAAM+R,EAAS,KAAKA,OACd6uB,EAAS,KAAKA,OAIpB,OAHAjuB,GAAkBZ,EAAQA,EAAQ,EAAE6uB,EAAOrkC,GAAIqkC,EAAOpkC,IACtDmW,GAAcZ,EAAQA,EAAQ,CAACjS,EAAIE,IACnC2S,GAAkBZ,EAAQA,EAAQ,CAAC6uB,EAAOrkC,EAAGqkC,EAAOpkC,IAC7C,IACT,EAQOklD,EAAAA,UAAAA,UAAP,SAAiBnlD,EAAWC,GAC1B,IAAMuV,EAAS,KAAKA,OAEpB,OADAY,GAAkBZ,EAAQA,EAAQ,CAACxV,EAAGC,IAC/B,IACT,EAMOklD,EAAAA,UAAAA,UAAP,WAEE,OADA,KAAKF,cAAgB,KAAKA,aACnB,IACT,EAEOE,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAK9gB,MACd,EAEO8gB,EAAAA,UAAAA,SAAP,WACE,OAAO,KAAKhsD,KACd,EAEOgsD,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAKroD,MACd,EAEOqoD,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAKS,MACd,EAMOT,EAAAA,UAAAA,UAAP,SAAiBhc,GACf,MAAe,MAARA,EAAc,KAAKuc,WAAa,KAAKC,UAC9C,EAMOR,EAAAA,UAAAA,YAAP,SAAmB3vC,GAEjB,KAAKA,OAASA,IAAmB9F,EAAAA,EAAAA,IAAAA,GAAI,KAAKw1C,eAC5C,EAaF,EA3PA,G,MCLA,eAIE,WAAY7mD,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OAJIF,EAAAA,QAAkB,EAClBA,EAAAA,KAAe,YAK7BA,EAAKinD,U,CACP,CAyCF,OAjDuC5mD,EAAAA,EAAAA,IAAAA,EAAAA,GAU9BqnD,EAAAA,UAAAA,QAAP,WACEvnD,EAAAA,UAAM8mD,QAAO,WAEb,IAAMjkD,EAAQ,KAAKA,MACb2I,EAAM,KAAKA,IAEjB,KAAK9J,EAAI,CACPmB,MAAOA,EAAMnB,EACb8J,IAAKA,EAAI9J,GAEX,KAAKC,EAAI,CACPkB,MAAOA,EAAMlB,EACb6J,IAAKA,EAAI7J,EAEb,EAEO4lD,EAAAA,UAAAA,aAAP,SAAoBnwB,G,MACZ,EAASA,EAAK,EAAXz1B,EAAMy1B,EAAK,EAMpB,OAHI,KAAKuvB,eACP1zC,EAAS,CAACtR,EAAGD,GAAZA,EAAC,KAAEC,EAAC,MAEA,CACLD,EAAG,KAAK8lD,WAAW9lD,EAAG,KACtBC,EAAG,KAAK6lD,WAAW7lD,EAAG,KAE1B,EAEO4lD,EAAAA,UAAAA,YAAP,SAAmBnwB,G,MACb11B,EAAI,KAAK+lD,UAAUrwB,EAAM11B,EAAG,KAC5BC,EAAI,KAAK8lD,UAAUrwB,EAAMz1B,EAAG,KAMhC,OAJI,KAAKglD,eACP1zC,EAAS,CAACtR,EAAGD,GAAZA,EAAC,KAAEC,EAAC,MAGA,CAAED,EAAC,EAAEC,EAAC,EACf,EACF,EAjDA,CAAuCklD,I,MCCvC,eAQE,WAAY9mD,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KARIF,EAAAA,SAAmB,EACnBA,EAAAA,KAAe,QASrB,MAAoFE,EAAG,WAAvFigC,OAAU,MAAG,KAAO/vC,KAAK+D,GAAE,EAAEgoB,EAAuDjc,EAAG,SAA1DkgC,OAAQ,MAAG,KAAOhwC,KAAK+D,GAAE,EAAEjL,EAA4BgX,EAAG,YAA/B2nD,OAAW,MAAG,EAAC,EAAEJ,EAAWvnD,EAAG,O,OAE/FF,EAAKmgC,WAAaA,EAClBngC,EAAKogC,SAAWA,EAChBpgC,EAAK6nD,YAAcA,EACnB7nD,EAAKynD,OAASA,EAEdznD,EAAKinD,U,CACP,CAiFF,OApGmC5mD,EAAAA,EAAAA,IAAAA,EAAAA,GAqB1BynD,EAAAA,UAAAA,QAAP,WACE3nD,EAAAA,UAAM8mD,QAAO,WAEb,IAAMn7D,GAAiB,KAAKs0C,SAAW,KAAKD,aAAe,EAAI/vC,KAAK+D,IAAM,EACtE4zD,EAAoB33D,KAAKE,IAAI,KAAK0K,MAAO,KAAK2D,QAAU,EAExD,KAAK8oD,QAAU,KAAKA,QAAU,GAAK,KAAKA,QAAU,IACpDM,GAAwB,KAAKN,QAG/B,KAAK9lD,EAAIvR,KAAKye,MAAOk5C,GAAa,EAAI,KAAKF,aAAgB/7D,GAC3D,KAAK8D,EAAI,KAAK+R,GAAe,EAAVvR,KAAK+D,IAExB,KAAK0N,EAAI,CACPmB,MAAO,KAAKm9B,WACZx0B,IAAK,KAAKy0B,UAEZ,KAAKt+B,EAAI,CACPkB,MAAO,KAAK6kD,YAAcE,EAC1Bp8C,IAAK,KAAKk8C,YAAcE,EAAqB,IAAT,KAAKpmD,EAE7C,EAOOmmD,EAAAA,UAAAA,aAAP,SAAoBvwB,G,MACZ,EAASA,EAAK,EAAXz1B,EAAMy1B,EAAK,EAChB,KAAKuvB,eACP1zC,EAAS,CAACtR,EAAGD,GAAZA,EAAC,KAAEC,EAAC,MAGP,IAAMkmD,EAAM,KAAKL,WAAW9lD,EAAG,KACzBjQ,EAAI,KAAKhC,EAAIo4D,EACbC,EAAO,KAAKN,WAAW7lD,EAAG,KAEhC,MAAO,CACLD,EAAG,KAAKqkC,OAAOrkC,EAAIzR,KAAKiS,IAAI2lD,IAAQp2D,EAAIq2D,GACxCnmD,EAAG,KAAKokC,OAAOpkC,EAAI1R,KAAKoS,IAAIwlD,IAAQp2D,EAAIq2D,GAE5C,EAOOH,EAAAA,UAAAA,YAAP,SAAmBvwB,G,MACX51B,EAAI,KAAKA,EAAI,KAAKG,EAAEkB,MAEpBvS,EAAIonB,GAAc,CAAC,EAAG,GAAI,CAAC0f,EAAM11B,EAAG01B,EAAMz1B,GAAI,CAAC,KAAKokC,OAAOrkC,EAAG,KAAKqkC,OAAOpkC,IAE5EkmD,EAAM/vC,GAAYxnB,EAAG,CAAC,EAAG,IAAI,GAC7By3D,EAAOF,EAAM,KAAKp4D,EAElBioB,GAAYpnB,GAAKy3D,IAEnBA,EAAOrwC,GAAYpnB,IAGrB,IAAM3E,EAAQsE,KAAKye,OAAOgJ,GAAYpnB,GAAKy3D,GAAQvmD,GACnDqmD,EAAM,EAAIl8D,EAAQsE,KAAK+D,GAAK6zD,EAC5B,IAAMp2D,EAAI,KAAKhC,EAAIo4D,EACfC,EAAOpwC,GAAYpnB,GAAKmB,EAC5Bq2D,EAAOt0D,GAAcs0D,EAAM,GAAK,EAAIA,EAEpC,IAAIpmD,EAAI,KAAK+lD,UAAUI,EAAK,KACxBlmD,EAAI,KAAK8lD,UAAUK,EAAM,KAQ7B,OAPApmD,EAAIlO,GAAckO,EAAG,GAAK,EAAIA,EAC9BC,EAAInO,GAAcmO,EAAG,GAAK,EAAIA,EAE1B,KAAKglD,eACP1zC,EAAS,CAACtR,EAAGD,GAAZA,EAAC,KAAEC,EAAC,MAGA,CAAED,EAAC,EAAEC,EAAC,EACf,EACF,EApGA,CAAmCklD,I,MCHnC,eASE,WAAY9mD,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KATIF,EAAAA,SAAmB,EACnBA,EAAAA,KAAe,QAUrB,MAAqFE,EAAG,WAAxFigC,OAAU,OAAI/vC,KAAK+D,GAAK,EAAC,EAAEgoB,EAA0Djc,EAAG,SAA7DkgC,OAAQ,MAAc,EAAVhwC,KAAK+D,GAAU,EAAC,EAAEjL,EAA4BgX,EAAG,YAA/B2nD,OAAW,MAAG,EAAC,EAAEJ,EAAWvnD,EAAG,O,OAChGF,EAAKmgC,WAAaA,EAClBngC,EAAKogC,SAAWA,EAChBpgC,EAAK6nD,YAAcA,EACnB7nD,EAAKynD,OAASA,EAEdznD,EAAKinD,U,CACP,CA0IF,OA7JmC5mD,EAAAA,EAAAA,IAAAA,EAAAA,GAqB1B8nD,EAAAA,UAAAA,QAAP,WACEhoD,EAAAA,UAAM8mD,QAAO,WAEb,MAAO,KAAK7mB,SAAW,KAAKD,WAC1B,KAAKC,UAAsB,EAAVhwC,KAAK+D,GAGxB,IAQI4zD,EAREK,EAAS,KAAKC,YAEdC,EAAWF,EAAO3oC,KAAO2oC,EAAO7oC,KAChCgpC,EAAYH,EAAOzoC,KAAOyoC,EAAO1oC,KAEjCjS,EAAOrd,KAAK0D,IAAIs0D,EAAO7oC,MAAQ+oC,EAC/BluB,EAAMhqC,KAAK0D,IAAIs0D,EAAO1oC,MAAQ6oC,EAIhC,KAAK5pD,OAAS4pD,EAAY,KAAKvtD,MAAQstD,GAEzCP,EAAY,KAAK/sD,MAAQstD,EACzB,KAAKE,aAAe,CAClB3mD,EAAG,KAAKqkC,OAAOrkC,GAAK,GAAM4L,GAAQ,KAAKzS,MACvC8G,EAAG,KAAKokC,OAAOpkC,GAAK,GAAMs4B,GAAO2tB,EAAYQ,KAI/CR,EAAY,KAAKppD,OAAS4pD,EAC1B,KAAKC,aAAe,CAClB3mD,EAAG,KAAKqkC,OAAOrkC,GAAK,GAAM4L,GAAQs6C,EAAYO,EAC9CxmD,EAAG,KAAKokC,OAAOpkC,GAAK,GAAMs4B,GAAO,KAAKz7B,SAI1C,KAAK8pD,YAAc,KAAKhB,OACnB,KAAKA,OAEC,KAAKA,OAAS,GAAK,KAAKA,QAAU,EAC3C,KAAKgB,YAAcV,EAAY,KAAKN,QAC3B,KAAKA,QAAU,GAAK,KAAKA,OAASM,KAC3C,KAAKU,YAAcV,GAJnB,KAAKU,YAAcV,EAOrB,KAAKlmD,EAAI,CACPmB,MAAO,KAAKm9B,WACZx0B,IAAK,KAAKy0B,UAGZ,KAAKt+B,EAAI,CACPkB,MAAO,KAAK6kD,YAAc,KAAKY,YAC/B98C,IAAK,KAAK88C,YAEd,EAEON,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAKM,WACd,EAEON,EAAAA,UAAAA,aAAP,SAAoB5wB,G,MACZ2O,EAAS,KAAKwiB,YAEd,EAASnxB,EAAK,EAAXz1B,EAAMy1B,EAAK,EASpB,OAPI,KAAKuvB,eACP1zC,EAAS,CAACtR,EAAGD,GAAZA,EAAC,KAAEC,EAAC,MAGPD,EAAI,KAAK8lD,WAAW9lD,EAAG,KACvBC,EAAI,KAAK6lD,WAAW7lD,EAAG,KAEhB,CACLD,EAAGqkC,EAAOrkC,EAAIzR,KAAKiS,IAAIR,GAAKC,EAC5BA,EAAGokC,EAAOpkC,EAAI1R,KAAKoS,IAAIX,GAAKC,EAEhC,EAEOqmD,EAAAA,UAAAA,YAAP,SAAmB5wB,G,MACX2O,EAAS,KAAKwiB,YACdC,EAAkB,CAACpxB,EAAM11B,EAAIqkC,EAAOrkC,EAAG01B,EAAMz1B,EAAIokC,EAAOpkC,GAE1D,EAA2B,KAAzBq+B,EAAU,aAAEC,EAAQ,WACtB,KAAK8mB,UAAU,OACjB9zC,EAAyB,CAACgtB,EAAUD,GAAnCA,EAAU,KAAEC,EAAQ,MAGvB,IAAMnsC,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5CgkB,GAAehkB,EAAGA,EAAGksC,GAErB,IAAMyoB,EAAmB,CAAC,EAAG,EAAG,GAChCzB,GAAmByB,EAASA,EAAS30D,GACrC,IAAM40D,EAAmB,CAACD,EAAQ,GAAIA,EAAQ,IAC1C9kD,EAAQmU,GAAY4wC,EAASF,EAAQvoB,EAAWD,GAChDxsC,GAAcmQ,EAAiB,EAAV1T,KAAK+D,MAC5B2P,EAAQ,GAEV,IAAM2jD,EAAS5vC,GAAY8wC,GAEvBG,EAAWhlD,GAASs8B,EAAWD,GACnC2oB,EAAW1oB,EAAWD,EAAa,EAAI2oB,GAAYA,EAEnD,IAAMC,EAAW,KAAKnB,UAAUH,EAAQ,KAClCh5D,EAAM,CAAEoT,EAAG,EAAGC,EAAG,GAGvB,OAFArT,EAAIoT,EAAI,KAAKilD,aAAeiC,EAAWD,EACvCr6D,EAAIqT,EAAI,KAAKglD,aAAegC,EAAWC,EAChCt6D,CACT,EAEO05D,EAAAA,UAAAA,UAAP,WACE,OAAO,KAAKK,YACd,EAEQL,EAAAA,UAAAA,UAAR,WACE,IAAMhoB,EAAa,KAAKA,WAClBC,EAAW,KAAKA,SACtB,GAAIhwC,KAAK0D,IAAIssC,EAAWD,IAAyB,EAAV/vC,KAAK+D,GAC1C,MAAO,CACLorB,MAAO,EACPE,KAAM,EACNC,MAAO,EACPC,KAAM,GAMV,IAHA,IAAMihB,EAAK,CAAC,EAAGxwC,KAAKiS,IAAI89B,GAAa/vC,KAAKiS,IAAI+9B,IACxCW,EAAK,CAAC,EAAG3wC,KAAKoS,IAAI29B,GAAa/vC,KAAKoS,IAAI49B,IAErC1xC,EAAI0B,KAAKE,IAAI6vC,EAAYC,GAAW1xC,EAAI0B,KAAKC,IAAI8vC,EAAYC,GAAW1xC,GAAK0B,KAAK+D,GAAK,GAC9FysC,EAAGhzC,KAAKwC,KAAKiS,IAAI3T,IACjBqyC,EAAGnzC,KAAKwC,KAAKoS,IAAI9T,IAGnB,MAAO,CACL6wB,KAAMnvB,KAAKE,IAAG,MAARF,KAAYwwC,GAClBnhB,KAAMrvB,KAAKC,IAAG,MAARD,KAAYwwC,GAClBlhB,KAAMtvB,KAAKE,IAAG,MAARF,KAAY2wC,GAClBphB,KAAMvvB,KAAKC,IAAG,MAARD,KAAY2wC,GAEtB,EACF,EA7JA,CAAmCimB,I,MjDF7BgC,GAAiD,GAM1CC,GAAgB,SAACh7D,GAC5B,OAAO+6D,GAAe/6D,EAAKsG,cAC7B,EAOa20D,GAAqB,SAACj7D,EAAc89C,GAE/Cid,GAAe/6D,EAAKsG,eAAiBw3C,CACvC,EkDXM,SAAUod,GAAoB/oC,EAAexC,EAAmBwrC,GACpE,IAAM/4C,EAAQ,IAAIG,GAAWoN,EAAWwrC,GACxC/4C,EAAM9kB,OAAS60B,EACf/P,EAAM8M,gBAAgBvvB,KAAKwyB,GAC3BA,EAAMyY,eAAejb,EAAWvN,GAChC,IAAIjR,EAASghB,EAAMnP,YAEnB,MAAO7R,EAELA,EAAOy5B,eAAejb,EAAWvN,GACjCA,EAAM8M,gBAAgBvvB,KAAKwR,GAC3BA,EAASA,EAAO6R,WAEpB,ClIhBAi4C,GAAmB,OAAQxB,IAC3BwB,GAAmB,YAAaxB,IAChCwB,GAAmB,QAASf,IAC5Be,GAAmB,QAASpB,IWN5B,IAAMuB,GAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1C,SAAUC,GAAiB/xB,EAAczzB,EAAeuT,GAC5D,QAD4D,QAAAA,EAAAA,KACvDvT,EAEH,OAAO,KAET,IAAM7P,EAAIgkB,GAAcZ,EAAQ,CAC9B,CAAC,KAAMkgB,EAAM11B,GAAI01B,EAAMz1B,GACvB,CAAC,IAAKgC,GACN,CAAC,IAAKyzB,EAAM11B,EAAG01B,EAAMz1B,KAEvB,OAAO7N,CACT,CAEM,SAAUs1D,GAAqBhyB,EAAc3c,GACjD,OAAK2c,EAAM11B,GAAM01B,EAAMz1B,EAIhBmW,GAAc2C,GAAiByuC,GAAgB,CAAC,CAAC,IAAK9xB,EAAM11B,EAAG01B,EAAMz1B,KAFnE,IAGX,CAGM,SAAU0nD,GAAiBnyC,GAK/B,IAAMoyC,EAAoC,CAAC,EAAG,EAAG,GAC3Cx1C,EAAkC,CAAC,EAAG,EAAG,GAE/C,OADAkzC,GAAmBlzC,EAAKw1C,EAASpyC,GAC1BjnB,KAAKsb,MAAMuI,EAAI,GAAIA,EAAI,GAChC,CAEA,SAAS+D,GAAaX,EAAQ5mB,GAC5B,IAAMwjB,EAAwB,CAAC,EAAG,GAElC,OADA4D,GAAmB5D,EAAKxjB,EAAG4mB,GACpBpD,CACT,CAEM,SAAUy1C,GAAiBryC,EAAkBpN,GACjD,IAAM2wB,EAAU5iB,GAAaX,EAAQ,CAACpN,EAAKsV,KAAMtV,EAAKyV,OAChDmb,EAAW7iB,GAAaX,EAAQ,CAACpN,EAAKwV,KAAMxV,EAAKyV,OACjDob,EAAa9iB,GAAaX,EAAQ,CAACpN,EAAKsV,KAAMtV,EAAK0V,OACnDob,EAAc/iB,GAAaX,EAAQ,CAACpN,EAAKwV,KAAMxV,EAAK0V,OACpDJ,EAAOnvB,KAAKE,IAAIsqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEtb,EAAOrvB,KAAKC,IAAIuqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpErb,EAAOtvB,KAAKE,IAAIsqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IACpEpb,EAAOvvB,KAAKC,IAAIuqC,EAAQ,GAAIC,EAAS,GAAIC,EAAW,GAAIC,EAAY,IAC1E,MAAO,CACLl5B,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,CAEM,SAAUiqC,GAAY54C,EAAiBvM,EAAgB3C,EAAWC,GACtE,GAAI0C,EAAQ,CACV,IAAM6S,EAASiyC,GAAiB,CAAEznD,EAAC,EAAEC,EAAC,GAAI0C,EAAQuM,EAAMoN,aACxDpN,EAAMsN,UAAUhH,E,CAEpB,CAEM,SAAUuyC,GAAe74C,EAAiBlP,EAAWC,GACzD,IAAM+nD,EAAkBN,GAAqB,CAAE1nD,EAAC,EAAEC,EAAC,IACnDiP,EAAM6H,KAAK,SAAUixC,EACvB,CPvEM,SAAUC,GAAcC,GAC5B,IAAI3vB,EAAM,EACN3sB,EAAO,EACPC,EAAQ,EACRs8C,EAAS,EAWb,OATIz2D,GAASw2D,GACX3vB,EAAM3sB,EAAOC,EAAQs8C,EAASD,EACrBz7D,EAAQy7D,KACjB3vB,EAAM2vB,EAAQ,GACdr8C,EAASvf,EAAM47D,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACrCC,EAAU77D,EAAM47D,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACtCt8C,EAAQtf,EAAM47D,EAAQ,IAAmBr8C,EAAbq8C,EAAQ,IAG/B,CAAC3vB,EAAK1sB,EAAOs8C,EAAQv8C,EAC9B,CAEM,SAAUw8C,GAASpsD,GAGvB,IAFA,IAAM2c,EAAW3c,EAAUG,WACrB7R,EAASquB,EAASruB,OACfuC,EAAIvC,EAAS,EAAGuC,GAAK,EAAGA,IAC/BmP,EAAUI,YAAYuc,EAAS9rB,GAEnC,CAEM,SAAUw7D,GAAS17D,EAAU27D,GACjC,QAAS37D,EAAS4yB,UAAU3sB,MAAM,IAAIkJ,OAAO,UAAUwsD,EAAK,WAC9D,CAEM,SAAUC,GAAaC,GACnB,MAAeA,EAAM,MAAd1+C,EAAQ0+C,EAAM,IACvB9qC,EAAOnvB,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GAC7B6d,EAAOtvB,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,GAC7B2d,EAAOrvB,KAAKC,IAAI2S,EAAMnB,EAAG8J,EAAI9J,GAC7B8d,EAAOvvB,KAAKC,IAAI2S,EAAMlB,EAAG6J,EAAI7J,GACnC,MAAO,CACLD,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,CAEM,SAAU4qC,GAAa98C,GAC3B,IAAMozB,EAAepzB,EAAOjV,KAAI,SAACg/B,GAAU,SAAM11B,CAAN,IACrCk/B,EAAevzB,EAAOjV,KAAI,SAACg/B,GAAU,SAAMz1B,CAAN,IACrCyd,EAAOnvB,KAAKE,IAAG,MAARF,KAAYwwC,GACnBlhB,EAAOtvB,KAAKE,IAAG,MAARF,KAAY2wC,GACnBthB,EAAOrvB,KAAKC,IAAG,MAARD,KAAYwwC,GACnBjhB,EAAOvvB,KAAKC,IAAG,MAARD,KAAY2wC,GACzB,MAAO,CACLl/B,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,CAEM,SAAU6qC,GAAW1oD,EAAWC,EAAW9G,EAAe2D,GAC9D,IAAM8gB,EAAO5d,EAAI7G,EACX2kB,EAAO7d,EAAInD,EAEjB,MAAO,CACLkD,EAAC,EACDC,EAAC,EACD9G,MAAK,EACL2D,OAAM,EACN4gB,KAAM1d,EACN6d,KAAM5d,EAKN2d,KAAM/uB,MAAM+uB,GAAQ,EAAIA,EACxBE,KAAMjvB,MAAMivB,GAAQ,EAAIA,EAE5B,CAEM,SAAU6qC,GAAkBl6D,EAAaD,EAAaogD,GAC1D,OAAQ,EAAIA,GAAWngD,EAAMD,EAAMogD,CACrC,CAEM,SAAUga,GAAevkB,EAAeuhB,EAAgB3jD,GAC5D,MAAO,CACLjC,EAAGqkC,EAAOrkC,EAAIzR,KAAKiS,IAAIyB,GAAS2jD,EAChC3lD,EAAGokC,EAAOpkC,EAAI1R,KAAKoS,IAAIsB,GAAS2jD,EAEpC,CAEM,SAAUzxC,GAASjO,EAAW9B,GAClC,IAAMwyB,EAAKxyB,EAAGpE,EAAIkG,EAAGlG,EACf62B,EAAKzyB,EAAGnE,EAAIiG,EAAGjG,EACrB,OAAO1R,KAAKuU,KAAK8zB,EAAKA,EAAKC,EAAKA,EAClC,CAEO,IAUMgyB,GAAO,SAAC7oD,EAAWC,EAAWwgB,GACzC,YADyC,QAAAA,EAAAA,KAAAA,IAAI7uB,OAAOipC,QAAW,KAC/D,CAAC76B,EAAGC,GAAGyyB,SAAS/U,KAAYpvB,KAAK0D,IAAI+N,KAAOzR,KAAK0D,IAAIgO,GAAK1R,KAAK0D,IAAI+N,EAAIC,GAAKwgB,CAA5E,EAEI,SAAUmmB,GAAcC,EAAYC,GACxC,IAAMppB,EAAOnvB,KAAKC,IAAIq4C,EAAKnpB,KAAMopB,EAAKppB,MAChCG,EAAOtvB,KAAKC,IAAIq4C,EAAKhpB,KAAMipB,EAAKjpB,MAChCD,EAAOrvB,KAAKE,IAAIo4C,EAAKjpB,KAAMkpB,EAAKlpB,MAChCE,EAAOvvB,KAAKE,IAAIo4C,EAAK/oB,KAAMgpB,EAAKhpB,MACtC,OAAO4qC,GAAWhrC,EAAMG,EAAMD,EAAOF,EAAMI,EAAOD,EACpD,CAUM,SAAUirC,GAAgBx5C,GAC9B,IAEIlH,EAFEiR,EAAY/J,EAAQ4I,UACpB6wC,EAAW1vC,GAAaA,EAAU4E,UAExC,GAAK3O,EAAQqM,UAGN,CACL,IAAIqtC,EAAOrrC,IACPsrC,GAAQtrC,IACRurC,EAAOvrC,IACPwrC,GAAQxrC,IACNhF,EAAYrJ,EAAmBsJ,cACjCD,EAASruB,OAAS,EACpBoC,EAAKisB,GAAU,SAACwE,GACd,GAAIA,EAAMxnB,IAAI,WAAY,CAExB,GAAIwnB,EAAMxB,WAA8C,IAAjCwB,EAAMxnB,IAAI,YAAYrL,OAC3C,OAAO,EAET,IAAMge,EAAMwgD,GAAgB3rC,GAEtBisC,EAAUjsC,EAAMksC,cAAc,CAAC/gD,EAAIoV,KAAMpV,EAAIuV,KAAM,IACnDyrC,EAAansC,EAAMksC,cAAc,CAAC/gD,EAAIoV,KAAMpV,EAAIwV,KAAM,IACtDyrC,EAAWpsC,EAAMksC,cAAc,CAAC/gD,EAAIsV,KAAMtV,EAAIuV,KAAM,IACpD2rC,EAAcrsC,EAAMksC,cAAc,CAAC/gD,EAAIsV,KAAMtV,EAAIwV,KAAM,IAEvD2rC,EAAUl7D,KAAKE,IAAI26D,EAAQ,GAAIE,EAAW,GAAIC,EAAS,GAAIC,EAAY,IACvEE,EAAUn7D,KAAKC,IAAI46D,EAAQ,GAAIE,EAAW,GAAIC,EAAS,GAAIC,EAAY,IACvEG,EAAUp7D,KAAKE,IAAI26D,EAAQ,GAAIE,EAAW,GAAIC,EAAS,GAAIC,EAAY,IACvEI,EAAUr7D,KAAKC,IAAI46D,EAAQ,GAAIE,EAAW,GAAIC,EAAS,GAAIC,EAAY,IAEzEC,EAAUT,IACZA,EAAOS,GAGLC,EAAUT,IACZA,EAAOS,GAGLC,EAAUT,IACZA,EAAOS,GAGLC,EAAUT,IACZA,EAAOS,E,CAGb,KAEAZ,EAAO,EACPC,EAAO,EACPC,EAAO,EACPC,EAAO,GAET/gD,EAAOsgD,GAAWM,EAAME,EAAMD,EAAOD,EAAMG,EAAOD,E,MAjDlD9gD,EAAOkH,EAAQ2O,UAmDjB,OAAI8qC,EACKniB,GAAcx+B,EAAM2gD,GAEpB3gD,CAEX,CAEM,SAAUyhD,GAAWv6C,EAAmBw6C,GAC5C,GAAKx6C,EAAQ4I,WAAc4xC,EAAW5xC,UAAtC,CAIA,IAAM6xC,EAAeD,EAAW5xC,UAChC,GAAK6xC,EAAL,CAKA,IAAM7wC,EAAU,CACd9sB,KAAM29D,EAAap0D,IAAI,QACvBnO,MAAOuiE,EAAahzC,QAEtBzH,EAAQ06C,QAAQ9wC,E,MAPd5J,EAAQ06C,QAAQ,K,CAQpB,CAEM,SAAUC,GAAK9gE,GACnB,OAAUA,EAAM,IAClB,CAEM,SAAU+gE,GAAa/oD,EAAc2I,EAAYqiC,EAAkBE,GACvE,IAAM8d,EAAah2C,GAAShT,EAAO2I,GAC7BsgD,EAAgB/d,EAAS8d,EAC3Bvb,EAAU,EAMd,MALiB,UAAbzC,EACFyC,EAAU,EAAIwb,EACQ,QAAbje,IACTyC,EAAU,EAAIwb,GAET,CACLpqD,EAAG2oD,GAAkBxnD,EAAMnB,EAAG8J,EAAI9J,EAAG4uC,GACrC3uC,EAAG0oD,GAAkBxnD,EAAMlB,EAAG6J,EAAI7J,EAAG2uC,GAEzC,C+HxOA,IAAMyb,GAAqB,CACzBC,KAAM,GACN50B,MAAO,CAAC,IAAK,KACb8yB,OAAQ,CAAC,QAAS,OAClB78C,OAAQ,CAAC,UACT48B,OAAQ,CAAC,SAAU,SAAU,aAAc,aAG7C,eACE,WAAYlqC,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,K,OACVF,EAAK4zC,U,CACP,CA0KF,OA9KwEvzC,EAAAA,EAAAA,IAAAA,EAAAA,GAU/D+rD,EAAAA,UAAAA,cAAP,WACE,MAAO,CACL7vC,GAAI,GACJ1yB,KAAM,GACNoE,KAAM,GACNo+D,aAAc,OACdzyB,QAAS,EACTE,QAAS,EACTwyB,SAAS,EACTl7C,SAAS,EACTm7C,kBAAkB,EAClBC,cAAe,CACbC,OAAQ,KACRr3B,OAAQ,CACNlqC,SAAU,IACVgxB,OAAQ,iBAEVwwC,MAAO,CACLxhE,SAAU,IACVgxB,OAAQ,iBAEVywC,MAAO,CACLzhE,SAAU,IACVgxB,OAAQ,eAGZtc,OAAQ,KACRyR,WAAY,GACZjR,SAAS,EAEb,EAQOgsD,EAAAA,UAAAA,MAAP,WAAgB,EAMTA,EAAAA,UAAAA,OAAP,SAAclsD,GAAd,WACQmR,EAAa,KAAK7Z,IAAI,eAAiB,GAC7CjJ,EAAK2R,GAAK,SAACnW,EAAOF,GAChB,IAAM+iE,EAAY5sD,EAAKxI,IAAI3N,GACvBgjE,EAAS9iE,EACT6iE,IAAc7iE,IAEZ6E,EAAS7E,IAAUsnB,EAAWxnB,KAEhCgjE,EAAS90D,GAAQ,GAAIsZ,EAAWxnB,GAAOE,IAEzCiW,EAAKlO,IAAIjI,EAAMgjE,GAEnB,IACA,KAAKC,YAAY5sD,GACjB,KAAK6sD,YAAY7sD,EACnB,EAEUksD,EAAAA,UAAAA,YAAV,SAAsBlsD,GAEtB,EAEUksD,EAAAA,UAAAA,YAAV,SAAsBlsD,GAEhB8sD,GAAO9sD,EAAK,aACVA,EAAIE,QACN,KAAK6sD,OAEL,KAAKC,QAILF,GAAO9sD,EAAK,YACd,KAAKitD,WAAWjtD,EAAIkR,QAExB,EAIOg7C,EAAAA,UAAAA,cAAP,WACE,OAAO,KAAKtsC,SACd,EAEOssC,EAAAA,UAAAA,gBAAP,WACE,OAAO,KAAK50D,IAAI,eAClB,EAEO40D,EAAAA,UAAAA,UAAP,WACE,MAAO,CACLxyB,QAAS,KAAKpiC,IAAI,WAClBsiC,QAAS,KAAKtiC,IAAI,WAEtB,EAGO40D,EAAAA,UAAAA,UAAP,SAAiBxyB,EAAiBE,GAChC,KAAK1E,OAAO,CACVwE,QAAO,EACPE,QAAO,GAEX,EAEOsyB,EAAAA,UAAAA,YAAP,SAAmBlsD,GACjB,IAAMktD,GAAWhhB,EAAAA,EAAAA,IAAAA,CAAAA,EAAKlsC,GACtB,KAAKk1B,OAAOg4B,EACd,EAGOhB,EAAAA,UAAAA,YAAP,sBACQgB,EAAW,GACXf,EAAe,KAAK70D,IAAI,gBACxB61D,EAASnB,GAAmBG,GAIlC,OAHA99D,EAAK8+D,GAAQ,SAACvc,GACZsc,EAAStc,GAAS9wC,EAAKxI,IAAIs5C,EAC7B,IACOsc,CACT,EAEOhB,EAAAA,UAAAA,OAAP,WACE,OAAO,CACT,EAEOA,EAAAA,UAAAA,SAAP,WACE,OAAO,CACT,EAMOA,EAAAA,UAAAA,KAAP,WAAe,EAoBPA,EAAAA,UAAAA,QAAR,sBACQ/6C,EAAa,KAAK7Z,IAAI,cAC5BjJ,EAAK8iB,GAAY,SAACtnB,EAAOF,GACvB,IAAMqW,EAAMF,EAAKxI,IAAI3N,GACrB,GAAI+E,EAASsR,GAAM,CACjB,IAAM2sD,EAAS90D,GAAQ,GAAIhO,EAAOmW,GAClCF,EAAKlO,IAAIjI,EAAMgjE,E,CAEnB,GACF,EACF,EA9KA,CAAwEvsD,IAgLxE,MC/KMgtD,GAAgB,gBAChBC,GAAkB,CAAC,UAAW,MAAO,kBACrCC,GAA2B,CAAC,YAAa,QAAS,YAAa,aAAc,aAAc,aAOjG,4B,8CAqiBA,QAriBuFntD,EAAAA,EAAAA,IAAAA,EAAAA,GAC9EotD,EAAAA,UAAAA,cAAP,WACE,IAAMvtD,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrC,UAAW,KAKX6vD,UAAW,GACXttC,MAAO,KACPhP,SAAS,EAKTu8C,YAAY,EAKZC,YAAY,EAKZC,QAAQ,GAEZ,EAEOJ,EAAAA,UAAAA,OAAP,WACE,KAAKzsC,QACL,IAAMZ,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAM7uB,QACR,EAEOk8D,EAAAA,UAAAA,MAAP,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAMY,QACN,KAAKlvB,IAAI,YAAa,IACtB,KAAKg8D,sBACL,KAAKh8D,IAAI,UAAU,EACrB,EAEO27D,EAAAA,UAAAA,sBAAP,SAA6BlxC,GAC3B,IAAM6D,EAAQ,KAAKkZ,eAAe/c,GAC5BwxC,EAAO3tC,GAASA,EAAM5oB,IAAI,aAChC,OAAOu2D,CACT,EAEON,EAAAA,UAAAA,eAAP,SAAsBlxC,GACpB,OAAO,KAAK/kB,IAAI,aAAa+kB,EAC/B,EAEOkxC,EAAAA,UAAAA,oBAAP,SAA2BO,GACzB,IAAMzxC,EAAK,KAAK0xC,aAAaD,GAC7B,OAAO,KAAK10B,eAAe/c,EAC7B,EAEOkxC,EAAAA,UAAAA,kBAAP,SAAyB5jE,GACvB,IAAM4E,EAAM,GAOZ,OANAF,EAAK,KAAKiJ,IAAI,cAAc,SAAC02D,GACvBA,EAAK12D,IAAI,UAAY3N,GACvB4E,EAAIb,KAAKsgE,EAEb,IAEOz/D,CACT,EAEOg/D,EAAAA,UAAAA,aAAP,WACE,OAAO,KAAKj2D,IAAI,YAClB,EAEOi2D,EAAAA,UAAAA,YAAP,SAAmBvtD,GAGjB,KAAKiuD,kBACD,KAAK32D,IAAI,qBACX,KAAKzO,QAET,EAEO0kE,EAAAA,UAAAA,OAAP,WACE,IAAIW,EAAiB,KAAK52D,IAAI,kBACzB42D,IACHA,EAAiB,KAAKD,mBAExB,IAAM/tC,EAAQ,KAAK5oB,IAAI,SACvB,KAAK62D,eAAeD,EAAgBhuC,GACpC,KAAKkuC,iBACL,KAAKC,cACA,KAAK/2D,IAAI,kBACZ,KAAKg3D,YACL,KAAK18D,IAAI,gBAAgB,IAE3B,KAAKA,IAAI,UAAU,EACrB,EAEO27D,EAAAA,UAAAA,KAAP,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAM6sC,OACN,KAAKn7D,IAAI,WAAW,EACtB,EAEO27D,EAAAA,UAAAA,KAAP,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAM8sC,OACN,KAAKp7D,IAAI,WAAW,EACtB,EAEO27D,EAAAA,UAAAA,WAAP,SAAkBr8C,GAChB,IAAMgP,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAMtuB,IAAI,UAAWsf,GACrB,KAAKtf,IAAI,UAAWsf,EACtB,EAEOq8C,EAAAA,UAAAA,QAAP,WACE,KAAKgB,cACL,KAAKl9D,SACL4O,EAAAA,UAAMua,QAAO,UACf,EAEO+yC,EAAAA,UAAAA,QAAP,WACE,OAAO,KAAKj2D,IAAI,SAASuoB,eAC3B,EAEO0tC,EAAAA,UAAAA,cAAP,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SAEnByS,EAAO,KAAKykD,qBACVr3C,EAAS+I,EAAMJ,iBAIrB,OAHI3I,IACFpN,EAAOy/C,GAAiBryC,EAAQpN,IAE3BA,CACT,EAGOwjD,EAAAA,UAAAA,GAAP,SAAUjuD,EAAaC,EAAoBC,GACzC,IAAM0gB,EAAQ,KAAK5oB,IAAI,SAEvB,OADA4oB,EAAM51B,GAAGgV,EAAKC,EAAUC,GACjB,IACT,EAEO+tD,EAAAA,UAAAA,IAAP,SAAWjuD,EAAcC,GACvB,IAAM2gB,EAAQ,KAAK5oB,IAAI,SAEvB,OADA4oB,GAASA,EAAM5f,IAAIhB,EAAKC,GACjB,IACT,EAEOguD,EAAAA,UAAAA,KAAP,SAAY7vC,EAAmBwrC,GAC7B,IAAMhpC,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAMpC,KAAKJ,EAAWwrC,EACxB,EAEOqE,EAAAA,UAAAA,KAAP,WACEttD,EAAAA,UAAM7O,KAAI,WACL,KAAKkG,IAAI,UACZ,KAAKm3D,YAEP,KAAKR,iBACP,EAGUV,EAAAA,UAAAA,mBAAV,WACE,OAAO,KAAKj2D,IAAI,kBAAoB,KAAKA,IAAI,SAASsoB,SACxD,EAGU2tC,EAAAA,UAAAA,aAAV,SAAuB7vC,EAAmBwrC,GACxC,IAAMhpC,EAAQ,KAAK5oB,IAAI,SACvB4xD,EAAY79D,OAAS60B,EACrBA,EAAMpC,KAAKJ,EAAWwrC,GACtBD,GAAoB/oC,EAAOxC,EAAWwrC,EACxC,EAEUqE,EAAAA,UAAAA,qBAAV,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SACjBo3D,EAAaxuC,EAAMI,eACnBquC,EAAW,IAAID,EAAW,CAC9B7wC,eAAgB,KAAK+wC,sBAEvB,OAAOD,CACT,EAGUpB,EAAAA,UAAAA,YAAV,WACE,IAAM7zB,EAAU,KAAKpiC,IAAI,WACnBsiC,EAAU,KAAKtiC,IAAI,WACzB,KAAKu3D,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAG+3B,EACH93B,EAAGg4B,GAEP,EAEU2zB,EAAAA,UAAAA,UAAV,WACE,IAAM5vD,EAAY,KAAKrG,IAAI,aAC3B,KAAK1F,IACH,QACA+L,EAAUmxD,SAAS,CACjBzyC,GAAI,KAAK/kB,IAAI,MACb3N,KAAM,KAAK2N,IAAI,QACf4Z,QAAS,KAAK5Z,IAAI,WAClB4I,QAAS,KAAK5I,IAAI,WAClBy3D,aAAa,EACbC,UAAW,KACXnxC,eAAgB,KAAK+wC,sBAG3B,EAGUrB,EAAAA,UAAAA,gBAAV,WACE,KAAKK,sBACL,IAAMM,EAAiB,KAAKe,uBAM5B,OAJA,KAAKC,YAAYhB,GACjB,KAAKt8D,IAAI,iBAAkBs8D,GAE3B,KAAKt8D,IAAI,gBAAiB64D,GAAgByD,IACnCA,CACT,EAQUX,EAAAA,UAAAA,SAAV,SAAmBruD,EAAgBc,GACjC,KAAKmvD,qBAAqBjwD,EAAQc,GAClC,IAAMkgB,EAAQhhB,EAAO4vD,SAAS9uD,GAI9B,OAHI,KAAK1I,IAAI,eACX,KAAK83D,gBAAgBlvC,GAEhBA,CACT,EAQUqtC,EAAAA,UAAAA,SAAV,SAAmBruD,EAAgBc,GACjC,KAAKmvD,qBAAqBjwD,EAAQc,GAClC,IAAM6Q,EAAQ3R,EAAOmwD,SAASrvD,GAI9B,OAHI,KAAK1I,IAAI,eACX,KAAK83D,gBAAgBv+C,GAEhBA,CACT,EAQU08C,EAAAA,UAAAA,aAAV,SACEruD,EACAc,GAEQ,MAAoCA,EAAG,GAAxB7K,EAAqB6K,EAAG,UAAfsvD,GAAO,QAAKtvD,EAAtC,oBAEA6tD,EAAW,IAAI14D,GAAI,oBACpBm6D,GAAO,CACVjzC,GAAE,EACF1e,UAAWuB,EACXmtD,iBAAkB,KAAK/0D,IAAI,uBAS7B,OAPAu2D,EAAKz8D,OACLy8D,EAAKhlE,SAED,KAAKyO,IAAI,eACX,KAAK83D,gBAAgBvB,EAAKv2D,IAAI,UAGzBu2D,CACT,EAEUN,EAAAA,UAAAA,UAAV,WAAuB,EAEbA,EAAAA,UAAAA,YAAV,WACE,IAAMrtC,EAAQ,KAAK5oB,IAAI,SACvB4oB,EAAM5f,KACR,EAEUitD,EAAAA,UAAAA,aAAV,SAAuBO,GACrB,IAAMzxC,EAAK,KAAK/kB,IAAI,MACd3N,EAAO,KAAK2N,IAAI,QACtB,OAAU+kB,EAAE,IAAI1yB,EAAI,IAAImkE,CAC1B,EAEUP,EAAAA,UAAAA,gBAAV,SAA0Bt8C,GACxB,IAAMoL,EAAKpL,EAAQ3Z,IAAI,MACvB,KAAKA,IAAI,aAAa+kB,GAAMpL,CAC9B,EAEUs8C,EAAAA,UAAAA,kBAAV,SAA4Bt8C,GAC1B,IAAMoL,EAAKpL,EAAQ3Z,IAAI,aAChB,KAAKA,IAAI,aAAa+kB,EAC/B,EAGUkxC,EAAAA,UAAAA,cAAV,SAAwBt8C,EAAmBomB,GACzC,IAAMlgB,EAASkyC,GAAqBhyB,GACpCpmB,EAAQyH,KAAK,SAAUvB,EACzB,EAeUo2C,EAAAA,UAAAA,aAAV,SAAuBgC,EAAY9D,EAAY1vC,GAE7C,IAAIyzC,EAAgB/D,EAAW/yC,KAAK,WAChCzqB,EAAMuhE,KACRA,EAAgB,GAElB/D,EAAW/yC,KAAK,UAAW,GAC3B+yC,EAAWW,QAAQ,CAAE9yC,QAASk2C,GAAiBzzC,EACjD,EASUwxC,EAAAA,UAAAA,gBAAV,SAA0BkC,EAAaC,EAAe3zC,GACpD2zC,EAActD,QAAQ,CAAE9yC,QAAS,GAAKyC,EACxC,EASUwxC,EAAAA,UAAAA,gBAAV,SAA0BkC,EAAaC,EAAeC,EAAU5zC,GAC9D2zC,EAActD,QAAQuD,EAAU5zC,EAClC,EAGUwxC,EAAAA,UAAAA,eAAV,SAAyBoB,EAAUiB,GAAnC,IAIMC,EAJN,OACQzD,EAAU,KAAK90D,IAAI,WACnBg1D,EAAgB,KAAKh1D,IAAI,iBACzBgjB,EAAWq0C,EAASp0C,cAAc9lB,MAAM,GAE9CpG,EAAKisB,GAAU,SAACrJ,GACd,IAAM6+C,EAAY7+C,EAAQ3Z,IAAI,MACxBo4D,EAAgB5vD,EAAKs5B,eAAe02B,GACpCL,EAAcx+C,EAAQ3Z,IAAI,QAChC,GAAIo4D,EACF,GAAIz+C,EAAQ3Z,IAAI,eAAgB,CAE9B,IAAMy4D,EAAiB9+C,EAAQ3Z,IAAI,aAC7B04D,EAA0CN,EAAcp4D,IAAI,aAC5Dq1D,EAASsD,GAAKF,EAAe/vD,IAAKrS,EAAWkB,EAAKkhE,EAAe/vD,KAAMstD,KAC7E0C,EAAmB96B,OAAOy3B,GAC1B+C,EAAc99D,IAAIw7D,GAAe,S,KAC5B,CACL,IAAM8C,EAAepwD,EAAKqwD,gBAAgBT,EAAez+C,GAErDm7C,GAAWE,EAAcp3B,OAE3Bp1B,EAAKswD,gBAAgBX,EAAaC,EAAeQ,EAAc5D,EAAcp3B,QAG7Ew6B,EAAch3C,KAAKw3C,GAGjBj/C,EAAQqM,WACVxd,EAAKquD,eAAel9C,EAASy+C,GAG/BrhE,EAAKg/D,IAAiB,SAAC1jE,GACrB+lE,EAAc99D,IAAIjI,EAAMsnB,EAAQ3Z,IAAI3N,GACtC,IACA6hE,GAAWkE,EAAez+C,GAE1B4+C,EAAaH,EAEbA,EAAc99D,IAAIw7D,GAAe,S,KAE9B,CAELwC,EAAY1gD,IAAI+B,GAChB,IAAMo/C,EAAWT,EAAYr1C,cAE7B,GADA81C,EAASv/D,OAAOu/D,EAASpkE,OAAS,EAAG,GACjC4jE,EAAY,CAEd,IAAMjkE,EAAQykE,EAAS/iE,QAAQuiE,GAC/BQ,EAASv/D,OAAOlF,EAAQ,EAAG,EAAGqlB,E,MAE9Bo/C,EAASxhD,QAAQoC,GAInB,GAFAnR,EAAKsvD,gBAAgBn+C,GACrBA,EAAQrf,IAAIw7D,GAAe,OACvBn8C,EAAQ3Z,IAAI,eAAgB,CAExBy4D,EAAiB9+C,EAAQ3Z,IAAI,aACnCy4D,EAAen+D,IAAI,YAAag+D,E,MACvB3+C,EAAQqM,WAEjBxd,EAAKwwD,iBAAiBr/C,GAGxB,GADA4+C,EAAa5+C,EACTm7C,EAAS,CACX,IAAMrwC,EAAajc,EAAKxI,IAAI,UAAYg1D,EAAcC,OAASD,EAAcE,MACzEzwC,GACFjc,EAAKywD,aAAad,EAAax+C,EAAS8K,E,EAIhD,GACF,EAEUwxC,EAAAA,UAAAA,kBAAV,SAA4BrtC,GAC1B,IAAM5F,EAAW4F,EAAM3F,cACvBlsB,EAAKisB,GAAU,SAACgc,GACdA,EAAG1kC,IAAIw7D,GAAe,KACxB,GACF,EAGQG,EAAAA,UAAAA,oBAAR,WACE,IAAMW,EAAiB,KAAK52D,IAAI,kBAC5B42D,GAEFA,EAAe1zC,UAEjB,KAAK5oB,IAAI,iBAAkB,MAC3B,KAAKA,IAAI,gBAAiB,KAC5B,EAaQ27D,EAAAA,UAAAA,kBAAR,W,MACQ5jE,EAAO,KAAK2N,IAAI,QAChBumB,GAAc,KAClB3K,EAACvpB,GAAO,KACRupB,EAAAA,UAAW,KAAI,GAEjB,OAAO2K,CACT,EAGQ0vC,EAAAA,UAAAA,qBAAR,SAA6BruD,EAAgBc,GAC3C,IAAMwwD,EAAetxD,EAAO5H,IAAI,kBAC3B0I,EAAI6d,iBACP7d,EAAI6d,eAAiB,IAEvBnlB,GAAIsH,EAAI6d,eAAgB2yC,EAC1B,EAGQjD,EAAAA,UAAAA,gBAAR,SAAwBmC,EAAyBjE,GAC/C,IAAMpwC,EAAcq0C,EAAch3C,OAC5Bi3C,EAAWlE,EAAW/yC,OAM5B,OALArqB,EAAKgtB,GAAa,SAAC9qB,EAAG5B,QACAT,IAAhByhE,EAAShhE,KACXghE,EAAShhE,QAAKT,EAElB,IACOyhE,CACT,EAEQpC,EAAAA,UAAAA,iBAAR,SAAyBrtC,GAAzB,WACQ5F,EAAW4F,EAAM3F,cACvBlsB,EAAKisB,GAAU,SAACrJ,GACdnR,EAAKsvD,gBAAgBn+C,GACrBA,EAAQrf,IAAIw7D,GAAe,OACvBn8C,EAAQqM,WACVxd,EAAKwwD,iBAAiBr/C,EAE1B,GACF,EAGQs8C,EAAAA,UAAAA,eAAR,sBACQC,EAAY,KAAKl2D,IAAI,aACrBm5D,EAAc,GAEpBpiE,EAAKm/D,GAAW,SAACv8C,EAASoL,IACnBpL,EAAQ3Z,IAAI81D,KAAkBn8C,EAAQ1Q,UACzCkwD,EAAY/iE,KAAK,CAAC2uB,EAAIpL,IAEtBA,EAAQrf,IAAIw7D,GAAe,KAE/B,IACA,IAAMhB,EAAU,KAAK90D,IAAI,WACnBg1D,EAAgB,KAAKh1D,IAAI,iBAE/BjJ,EAAKoiE,GAAa,SAAC9kE,GACV,MAAeA,EAAI,GAAfslB,EAAWtlB,EAAI,GAC1B,IAAKslB,EAAQ1Q,UAAW,CACtB,IAAMkvD,EAAcx+C,EAAQ3Z,IAAI,QAChC,GAAI80D,GAAWE,EAAcG,MAAO,CAElC,IAAMiE,EAAkBh4D,GACtB,CACE6G,SAAU,WACRO,EAAK6wD,cAAc1/C,EACrB,GAEFq7C,EAAcG,OAEhB3sD,EAAK8wD,gBAAgBnB,EAAax+C,EAASy/C,E,MAE3C5wD,EAAK6wD,cAAc1/C,E,QAGhBu8C,EAAUnxC,EACnB,GACF,EAEQkxC,EAAAA,UAAAA,cAAR,SAAsBt8C,GACpB,GAAIA,EAAQ3Z,IAAI,WAAY,CAC1B,IAAM03D,EAAY/9C,EAAQ3Z,IAAI,aAC1B03D,GACFA,EAAUx0C,S,CAGdvJ,EAAQ5f,QACV,EACF,EAriBA,CAAuF66D,IAuiBvF,MrE7jBM2E,GAAgB,IAGhB,SAAUC,GAAOx/D,GAEnB,IADA,IAAI7C,EAAM,EACDD,EAAI,EAAGA,EAAI8C,EAAIrF,OAAQuC,IAC5BC,GAAOsiE,GAAaz/D,EAAK9C,GAE7B,OAAOC,CACX,CAGM,SAAUsiE,GAAaz/D,EAAa9C,GACtC,OAAI8C,EAAI0/D,WAAWxiE,GAAK,GAAK8C,EAAI0/D,WAAWxiE,GAAK,IACtC,EAEA,CAEf,CAGM,SAAUyiE,GAAe3/D,EAAa4/D,EAAsBpjB,QAAA,QAAAA,EAAAA,QAC9D,IAAMjgC,EAAQvc,EAAIrF,OACdsC,EAAM,GACV,GAAiB,SAAbu/C,EAAqB,CACvB,IAAK,IAAIt/C,EAAI,EAAG5C,EAAQ,EAAG4C,EAAI0iE,GAAgB,CAC7C,IAAMC,EAAaJ,GAAaz/D,EAAK1F,GACrC,KAAI4C,EAAI2iE,GAAcD,GAKpB,MAJA3iE,GAAO+C,EAAI1F,GACX4C,GAAKuiE,GAAaz/D,EAAK1F,GACvBA,G,CAKJ2C,GAAOsiE,E,MACF,GAAiB,SAAb/iB,EAAqB,CAC9B,IAASt/C,EAAI,EAAG5C,EAAQiiB,EAAQ,EAAGrf,EAAI0iE,GAAgB,CAC/CC,EAAaJ,GAAaz/D,EAAK1F,GACrC,KAAI4C,EAAI2iE,GAAcD,GAKpB,MAJA3iE,GAAO+C,EAAI1F,GACX4C,GAAKuiE,GAAaz/D,EAAK1F,GACvBA,G,CAKJ2C,EAAMsiE,GAAgBtiE,C,KACjB,CAGL,IAFA,IAAI6iE,EAAW,GACXC,EAAS,GACGC,GAAP9iE,EAAI,EAAgB,GAAG+iE,EAAW1jD,EAAQ,EAAGrf,EAAI0iE,GAAgB,CACxE,IAAMM,EAAeT,GAAaz/D,EAAKggE,GACnCG,GAAS,EACTD,EAAehjE,GAAK0iE,IACtBE,GAAY9/D,EAAIggE,GAChBA,IACA9iE,GAAKgjE,EACLC,GAAS,GAGX,IAAMC,EAAaX,GAAaz/D,EAAKigE,GAOrC,GANIG,EAAaljE,GAAK0iE,IACpBG,EAAS//D,EAAIigE,GAAYF,EACzB7iE,GAAKkjE,EACLH,IACAE,GAAS,IAENA,EAEH,K,CAGJljE,EAAM6iE,EAAWP,GAAgBQ,C,CAEnC,OAAO9iE,CACT,CsEvEF,IAAMsiE,GAAgB,IAChBc,GAAuB,EAGvBC,GAAqB,IAO3B,SAASC,GAA0BC,GAQjC,IAPA,IAAMC,EAAkBD,EAAOz5D,KAAI,SAAC25D,GAClC,IAAM93D,EAAO83D,EAAMt5C,KAAK,QACxB,OAAOzqB,EAAMiM,GAAQ,GAAK,GAAGA,CAC/B,IACI+3D,EAAS,EACTC,EAAS,EAEJ1jE,EAAI,EAAGA,EAAIujE,EAAM9lE,OAAQuC,GAAK,EAAG,CAExC,IADA,IAAIC,EAAM,EACDqD,EAAI,EAAGA,GAAKigE,EAAMvjE,GAAGvC,OAAQ6F,GAAK,EAAG,CAC5C,IAAMqgE,EAAOJ,EAAMvjE,GAAGwiE,WAAWl/D,GAE/BrD,GADE0jE,GAAQ,OAASA,GAAQ,MACpB,EAEA,C,CAGP1jE,EAAMwjE,IACRA,EAASxjE,EACTyjE,EAAS1jE,E,CAIb,OAAOsjE,EAAOI,GAAQtyC,UAAU9kB,KAClC,CAGM,SAAUs3D,GAAiBN,GAC/B,GAAIA,EAAO7lE,OAAS2lE,GAClB,OAAOC,GAA0BC,GAGnC,IAAI3hE,EAAM,EAQV,OAPA9B,EAAKyjE,GAAQ,SAACE,GACZ,IAAMjoD,EAAOioD,EAAMpyC,UACb9kB,EAAQiP,EAAKjP,MACf3K,EAAM2K,IACR3K,EAAM2K,EAEV,IACO3K,CACT,CAGM,SAAUkiE,GAAeC,EAAqBN,GAClD,IAAMjoD,EAAOioD,EAAMnyC,gBACnB,OAAOyyC,EAAavoD,EAAKjP,MAAQiP,EAAKtL,MACxC,CAQM,SAAU8zD,GAAcD,EAAqBN,EAAiBQ,EAAqB1kB,G,WAAA,QAAAA,EAAAA,QACvF,IAAM5zC,EAAyB,QAArB,EAAG83D,EAAMt5C,KAAK,eAAO,QAAI,GAEnC,GAAiB,SAAbo1B,EAAqB,CAGvB,IAAM3zC,EAAO81D,GAAK+B,EAAMt5C,OAAQ,CAAC,WAAY,aAAc,aAAc,YAAa,gBAChF+5C,EAAeC,GAAgBx4D,EAAMs4D,EAAar4D,EAAM,KAC9D,OAAID,IAASu4D,GACXT,EAAMt5C,KAAK,OAAQ+5C,GACnBT,EAAMpgE,IAAI,MAAOsI,IACV,IAET83D,EAAMpgE,IAAI,MAAO,OACV,E,CAGT,IAAM+gE,EAAcN,GAAeC,EAAYN,GACzCY,EAAa9B,GAAO52D,GACtB24D,GAAe,EACnB,GAAIL,EAAcG,EAAa,CAC7B,IAAMG,EAAgB5iE,KAAKye,MAAO6jD,EAAcG,EAAeC,GAAcjB,GACzEoB,OAAO,EAETA,EADED,GAAiB,EACT7B,GAAe/2D,EAAM44D,EAAehlB,GAEpC+iB,GAERkC,IACFf,EAAMt5C,KAAK,OAAQq6C,GACnBF,GAAe,E,CAQnB,OALIA,EACFb,EAAMpgE,IAAI,MAAOsI,GAEjB83D,EAAMpgE,IAAI,MAAO,MAEZihE,CACT,CCxFM,SAAUG,GAAUr1D,EAAmBs1D,GACnC,MAA8GA,EAAM,EAAjHrxD,EAA2GqxD,EAAM,EAA9GC,EAAwGD,EAAM,QAArG/0D,EAA+F+0D,EAAM,MAA9F52C,EAAwF42C,EAAM,GAA1FtpE,EAAoFspE,EAAM,KAApF3uD,EAA8E2uD,EAAM,OAA5EE,EAAsEF,EAAM,UAAjEG,EAA2DH,EAAM,aAAnDX,EAA6CW,EAAM,WAAvCI,EAAiCJ,EAAM,iBAArBK,EAAeL,EAAM,WACtHM,EAAW51D,EAAUmxD,SAAS,CAClCzyC,GAAOA,EAAE,SACT1yB,KAASA,EAAI,SACbR,MAAO,CACLwY,EAAC,EACDC,EAAC,KAKC1H,EAAOq5D,EAASlE,SAAS,CAC7BthE,KAAM,OACNsuB,GAAE,EACF1yB,KAAI,EACJR,OAAK,SACHwY,EAAG,EACHC,EAAG,EACH1H,KAAMg5D,GACHh1D,KAKD2rD,EAAUD,GAActyD,GAAIg8D,EAAY,UAAW,IACzD,GAAIH,GAAaC,EAAc,CAC7B,IAAMI,EAAgBL,GAAatJ,EAAQ,GAAKA,EAAQ,IAExD0I,IAAeD,EAAYp4D,EAAMs5D,EAAeH,E,CAGlD,GAAIC,EAAY,CAEd,IAAMG,EAAkBn8D,GAAIg8D,EAAY,QAAS,IAC3C,EAAgCp5D,EAAK2lB,gBAAnCR,EAAI,OAAEG,EAAI,OAAE1kB,EAAK,QAAE2D,EAAM,SAC3Bi1D,EAAQH,EAASlE,SAAS,OAAQ,CACtChzC,GAAOA,EAAE,MACT1yB,KAAS0yB,EAAE,MACXlzB,OAAK,SACHwY,EAAG0d,EAAOwqC,EAAQ,GAClBjoD,EAAG4d,EAAOqqC,EAAQ,GAClB/uD,MAAOA,EAAQ+uD,EAAQ,GAAKA,EAAQ,GACpCprD,OAAQA,EAASorD,EAAQ,GAAKA,EAAQ,IACnC4J,KAGPC,EAAMC,Q,CAGRjK,GAAe6J,EAAU5xD,EAAGC,GAC5B6nD,GAAY8J,EAAUjvD,EAAQ3C,EAAGC,EACnC,CC3EA,QACExH,WAAY,2JAIZw5D,UAAW,UACXC,gBAAiB,UACjBC,eAAgB,UAChBC,UAAW,UACXC,YAAa,UACbC,oBAAqB/jE,KAAK+D,GAAK,EAC/BigE,qBAAsBhkE,KAAK+D,GAAK,EAGhCkgE,sBAAuB,OACvBC,oBAAqB,0BCNvB,4B,8CA4HA,QA5H6Bj0D,EAAAA,EAAAA,IAAAA,EAAAA,GAMpBk0D,EAAAA,UAAAA,cAAP,WACE,IAAMr0D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,OACNo+D,aAAc,SACdrpD,MAAO,KACP2I,IAAK,KACLvN,MAAO,GACPhE,KAAM,KACNiX,WAAY,CACVjT,MAAO,CACL6kD,KAAMuR,GAAAA,UACN35D,SAAU,GACVuoC,UAAW,SACXD,aAAc,SACd7oC,WAAYk6D,GAAAA,YAEdp6D,KAAM,CACJ4zC,SAAU,SACVymB,YAAY,EACZrB,QAAS,KACTx5B,QAAS,EACTE,QAAS,EACT17B,MAAO,CACL6rC,OAAQuqB,GAAAA,UACRprB,UAAW,MAKrB,EAEUmrB,EAAAA,UAAAA,YAAV,SAAsBn0C,GACpB,KAAKs0C,WAAWt0C,GACZ,KAAK5oB,IAAI,SACX,KAAKm9D,YAAYv0C,EAErB,EAGQm0C,EAAAA,UAAAA,WAAR,SAAmBn0C,GACjB,IAAMpd,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACf4G,EAAQ,KAAK5G,IAAI,SACvB,KAAK+3D,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,kBACNR,OAAK,SACH+Y,GAAIY,EAAMnB,EACVU,GAAIS,EAAMlB,EACVQ,GAAIqJ,EAAI9J,EACRY,GAAIkJ,EAAI7J,GACL1D,IAGT,EAGQm2D,EAAAA,UAAAA,cAAR,SAAsBvxD,EAAc2I,EAAYqiC,GAC9C,IAAIyC,EAiBJ,OAfEA,EADe,UAAbzC,EACQ,EACY,WAAbA,EACC,GACD51C,GAAS41C,KAAwC,IAA3BA,EAASxgD,QAAQ,KACtC1C,SAASkjD,EAAU,IAAM,IAC1Bz6C,GAASy6C,GACRA,EAEA,GAGRyC,EAAU,GAAKA,EAAU,KAC3BA,EAAU,GAGL,CACL5uC,EAAG2oD,GAAkBxnD,EAAMnB,EAAG8J,EAAI9J,EAAG4uC,GACrC3uC,EAAG0oD,GAAkBxnD,EAAMlB,EAAG6J,EAAI7J,EAAG2uC,GAEzC,EAGQ8jB,EAAAA,UAAAA,YAAR,SAAoBn0C,GAClB,IAAMhmB,EAAO,KAAK5C,IAAI,QAChBwL,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACb,EACwE4C,EAAI,SADlEg5D,EAC8Dh5D,EAAI,QADzDgE,EACqDhE,EAAI,MADlDw/B,EAC8Cx/B,EAAI,QADzC0/B,EACqC1/B,EAAI,QADhCq6D,EAC4Br6D,EAAI,WAAlFi5D,EAA8Ej5D,EAAI,UAAvEk5D,EAAmEl5D,EAAI,aAAzDm5D,EAAqDn5D,EAAI,iBAAvCo5D,EAAmCp5D,EAAI,WAA3BgZ,EAAuBhZ,EAAI,WAA3Bo4D,OAAU,OAAQ,EACrEj7B,EAAQ,KAAKq9B,cAAc5xD,EAAO2I,EAAKqiC,GACvCnsC,EAAI01B,EAAM11B,EAAI+3B,EACd93B,EAAIy1B,EAAMz1B,EAAIg4B,EAEd55B,EAAc,CAClBqc,GAAI,KAAK0xC,aAAa,aACtBpkE,KAAM,uBACNgY,EAAC,EACDC,EAAC,EACDsxD,QAAO,EACPh1D,MAAK,EACLi1D,UAAS,EACTC,aAAY,EACZC,iBAAgB,EAChBC,WAAU,EACVhB,WAAU,GAIZ,GAAIiC,EAAY,CACd,IAAMrzB,EAAS,CAACz1B,EAAI9J,EAAImB,EAAMnB,EAAG8J,EAAI7J,EAAIkB,EAAMlB,GAC/C5B,EAAIsE,OAASpU,KAAKsb,MAAM01B,EAAO,GAAIA,EAAO,G,CAG5C8xB,GAAU9yC,EAAOlgB,EACnB,EACF,EA5HA,CAA6ButD,IA8H7B,MC9HA,4B,8CAkFA,QAlF6BptD,EAAAA,EAAAA,IAAAA,EAAAA,GAMpBw0D,EAAAA,UAAAA,cAAP,WACE,IAAM30D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,OACNo+D,aAAc,QACdxqD,EAAG,EACHC,EAAG,EACHsxD,QAAS,GACT5uD,OAAQ,KACRpG,MAAO,GACPo1D,WAAY,KACZH,UAAW,KACXC,cAAc,EACdd,YAAY,EACZe,iBAAkB,OAClBliD,WAAY,CACVjT,MAAO,CACL6kD,KAAMuR,GAAAA,UACN35D,SAAU,GACVuoC,UAAW,SACXD,aAAc,SACd7oC,WAAYk6D,GAAAA,cAIpB,EAGOK,EAAAA,UAAAA,YAAP,SAAmBzH,GACjB,KAAKt7D,IAAI,IAAKs7D,EAASvrD,GACvB,KAAK/P,IAAI,IAAKs7D,EAAStrD,GACvB,KAAKgzD,eACP,EAEUD,EAAAA,UAAAA,YAAV,SAAsBz0C,GACd,MAAW,KAAK20C,cAAdlzD,EAAC,IAAEC,EAAC,IACNsxD,EAAU,KAAK57D,IAAI,WACnB4G,EAAQ,KAAK5G,IAAI,SACjB+kB,EAAK,KAAK0xC,aAAa,QACvBpkE,EAAU,KAAK2N,IAAI,QAAO,QAC1B67D,EAAY,KAAK77D,IAAI,aACrB87D,EAAe,KAAK97D,IAAI,gBACxBg7D,EAAa,KAAKh7D,IAAI,cACtB+7D,EAAmB,KAAK/7D,IAAI,oBAC5Bg8D,EAAa,KAAKh8D,IAAI,cACtBgN,EAAS,KAAKhN,IAAI,UAElB0I,EAAM,CACVqc,GAAE,EACF1yB,KAAI,EACJgY,EAAC,EACDC,EAAC,EACDsxD,QAAO,EACPh1D,MAAK,EACLi1D,UAAS,EACTC,aAAY,EACZd,WAAU,EACVe,iBAAgB,EAChBC,WAAU,EACVhvD,OAAM,GAGR0uD,GAAU9yC,EAAOlgB,EACnB,EAEQ20D,EAAAA,UAAAA,cAAR,WACE,IAAMG,EAAY,KAAKC,oBAAoB,cAC3C,GAAID,EAAW,CACP,MAAS,KAAKD,cAAblzD,EAAC,IAAEC,EAAC,IACL0C,EAAS,KAAKhN,IAAI,UACxBoyD,GAAeoL,EAAWnzD,EAAGC,GAC7B6nD,GAAYqL,EAAWxwD,EAAQ3C,EAAGC,E,CAEtC,EACF,EAlFA,CAA6B2rD,IAoF7B,MCvFA,4B,8CA6DA,QA7D4BptD,EAAAA,EAAAA,IAAAA,EAAAA,GAMnB60D,EAAAA,UAAAA,cAAP,WACE,IAAMh1D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,MACNo+D,aAAc,SACdnmB,OAAQ,KACRuhB,OAAQ,IACRtnB,YAAa/vC,KAAK+D,GAAK,EACvBisC,SAAqB,EAAVhwC,KAAK+D,GAAU,EAC1BiK,MAAO,CACL6rC,OAAQ,OACRb,UAAW,IAGjB,EAEU8rB,EAAAA,UAAAA,YAAV,SAAsB90C,GACpB,KAAK+0C,UAAU/0C,EACjB,EAEQ80C,EAAAA,UAAAA,WAAR,WACQ,MAA2C,KAAKH,cAA9C7uB,EAAM,SAAEuhB,EAAM,SAAEtnB,EAAU,aAAEC,EAAQ,WACtCoF,EAAailB,GAAevkB,EAAQuhB,EAAQtnB,GAC5Ci1B,EAAW3K,GAAevkB,EAAQuhB,EAAQrnB,GAC1Ci1B,EAAYj1B,EAAWD,EAAa/vC,KAAK+D,GAAK,EAAI,EAElDiF,EAAO,CAAC,CAAC,IAAKosC,EAAW3jC,EAAG2jC,EAAW1jC,IAC7C,GAAIs+B,EAAWD,IAAyB,EAAV/vC,KAAK+D,GAAQ,CAEzC,IAAMmhE,EAAc7K,GAAevkB,EAAQuhB,EAAQtnB,EAAa/vC,KAAK+D,IACrEiF,EAAKxL,KAAK,CAAC,IAAK65D,EAAQA,EAAQ,EAAG4N,EAAW,EAAGC,EAAYzzD,EAAGyzD,EAAYxzD,IAC5E1I,EAAKxL,KAAK,CAAC,IAAK65D,EAAQA,EAAQ,EAAG4N,EAAW,EAAGD,EAASvzD,EAAGuzD,EAAStzD,G,MAEtE1I,EAAKxL,KAAK,CAAC,IAAK65D,EAAQA,EAAQ,EAAG4N,EAAW,EAAGD,EAASvzD,EAAGuzD,EAAStzD,IAExE,OAAO1I,CACT,EAGQ87D,EAAAA,UAAAA,UAAR,SAAkB90C,GAEhB,IAAMhnB,EAAO,KAAKm8D,aACZn3D,EAAQ,KAAK5G,IAAI,SACvB,KAAK+3D,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,OACtBpkE,KAAM,iBACNR,OAAK,SACH+P,KAAI,GACDgF,IAGT,EACF,EA7DA,CAA4BqvD,IA+D5B,MC9DA,4B,8CAgDA,QAhD+BptD,EAAAA,EAAAA,IAAAA,EAAAA,GAMtBm1D,EAAAA,UAAAA,cAAP,WACE,IAAMt1D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,SACNo+D,aAAc,SACdrpD,MAAO,KACP2I,IAAK,KACLvN,MAAO,GACPiT,WAAY,CACVjT,MAAO,CACLgrC,UAAW,EACX6Z,KAAMuR,GAAAA,YACNh7C,QAAS,MAIjB,EAEUg8C,EAAAA,UAAAA,YAAV,SAAsBp1C,GACpB,KAAKq1C,aAAar1C,EACpB,EAEQo1C,EAAAA,UAAAA,aAAR,SAAqBp1C,GACnB,IAAMpd,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACf4G,EAAQ,KAAK5G,IAAI,SACjByS,EAAOmgD,GAAa,CAAEpnD,MAAK,EAAE2I,IAAG,IACtC,KAAK4jD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,UACtBpkE,KAAM,oBACNR,OAAK,SACHwY,EAAGoI,EAAKpI,EACRC,EAAGmI,EAAKnI,EACR9G,MAAOiP,EAAKjP,MACZ2D,OAAQsL,EAAKtL,QACVP,IAGT,EACF,EAhDA,CAA+BqvD,IAkD/B,MCnDA,4B,8CAiDA,QAjD8BptD,EAAAA,EAAAA,IAAAA,EAAAA,GAMrBq1D,EAAAA,UAAAA,cAAP,WACE,IAAMx1D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,QACNo+D,aAAc,SACdrpD,MAAO,KACP2I,IAAK,KACL/T,IAAK,KACLwG,MAAO,IAEX,EAEOs3D,EAAAA,UAAAA,YAAP,SAAmBt1C,GACjB,KAAKu1C,YAAYv1C,EACnB,EAEQs1C,EAAAA,UAAAA,cAAR,WACE,IAAM1yD,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACf4G,EAAQ,KAAK5G,IAAI,SACjByS,EAAOmgD,GAAa,CAAEpnD,MAAK,EAAE2I,IAAG,IAChC/T,EAAM,KAAKJ,IAAI,OACrB,gBACEqK,EAAGoI,EAAKpI,EACRC,EAAGmI,EAAKnI,EACR8zD,IAAKh+D,EACLoD,MAAOiP,EAAKjP,MACZ2D,OAAQsL,EAAKtL,QACVP,EAEP,EAGQs3D,EAAAA,UAAAA,YAAR,SAAoBt1C,GAClB,KAAKmvC,SAASnvC,EAAO,CACnBnyB,KAAM,QACNsuB,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,mBACNR,MAAO,KAAKwsE,iBAEhB,EACF,EAjDA,CAA8BpI,IAmD9B,MChDA,4B,8CA4MA,QA5MmCptD,EAAAA,EAAAA,IAAAA,EAAAA,GAK1By1D,EAAAA,UAAAA,cAAP,WACE,IAAM51D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,aACNo+D,aAAc,QACdxqD,EAAG,EACHC,EAAG,EACHy1B,MAAO,GACPyG,KAAM,GACN5jC,KAAM,GACNmd,UAAW,SACXw+C,YAAY,EACZC,eAAgB,KAChB3kD,WAAY,CACVkmB,MAAO,CACLoa,SAAS,EACTvzC,MAAO,CACLxM,EAAG,EACHqxD,KAAM,UACNhZ,OAAQ,UACRb,UAAW,IAGfpL,KAAM,CACJ2T,SAAS,EACTxlD,OAAQ,GACRiS,MAAO,CACL6rC,OAAQuqB,GAAAA,UACRprB,UAAW,IAGfhvC,KAAM,CACJg5D,QAAS,GACTzhB,SAAS,EACTvzC,MAAO,CACL6kD,KAAMuR,GAAAA,UACNh7C,QAAS,IACT3e,SAAU,GACVuoC,UAAW,QACX9oC,WAAYk6D,GAAAA,eAKtB,EAEUsB,EAAAA,UAAAA,YAAV,SAAsB11C,GAChB5oB,GAAI,KAAKA,IAAI,QAAS,YACxB,KAAKk9D,WAAWt0C,GAEd5oB,GAAI,KAAKA,IAAI,QAAS,YACxB,KAAKy+D,WAAW71C,GAEd5oB,GAAI,KAAKA,IAAI,SAAU,YACzB,KAAK0+D,YAAY91C,GAGf,KAAK5oB,IAAI,eACX,KAAKu+D,WAAW31C,EAEpB,EAEU01C,EAAAA,UAAAA,YAAV,WACE,KAAK/G,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAG,KAAKrK,IAAI,KAAO,KAAKA,IAAI,WAC5BsK,EAAG,KAAKtK,IAAI,KAAO,KAAKA,IAAI,YAEhC,EAEQs+D,EAAAA,UAAAA,YAAR,SAAoB11C,GACV,MAAU,KAAK+1C,gBAAe,MAEtC,KAAK5G,SAASnvC,EAAO,CACnBnyB,KAAM,SACNsuB,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,mBACNR,MAAOkuC,GAEX,EAEQu+B,EAAAA,UAAAA,WAAR,SAAmB11C,GACT,MAAS,KAAK+1C,gBAAe,KAErC,KAAK5G,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,kBACNR,MAAO20C,GAEX,EAEQ83B,EAAAA,UAAAA,WAAR,SAAmB11C,GACT,IAAMg2C,EAAc,KAAKD,gBAAe,KAExC,EAAyBC,EAAS,EAA/Bt0D,EAAsBs0D,EAAS,EAA5Bh8D,EAAmBg8D,EAAS,KAAnBh4D,GAAK,QAAKg4D,EAA3B,kBACA,EAAwE,KAAK5+D,IAAI,QAA/Eg8D,EAAU,aAAEH,EAAS,YAAEC,EAAY,eAAE+C,EAAU,aAAE9C,EAAgB,mBACnEJ,EAAS,CACbtxD,EAAC,EACDC,EAAC,EACDya,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,kBACNupE,QAASh5D,EACTgE,MAAK,EACLo1D,WAAU,EACVH,UAAS,EACTC,aAAY,EACZ+C,WAAU,EACV9C,iBAAgB,GAGlBL,GAAU9yC,EAAO+yC,EACnB,EAEQ2C,EAAAA,UAAAA,WAAR,SAAmB11C,GACjB,IAAM7I,EAAoB,KAAK/f,IAAI,aAC7BqK,EAAY,KAAKrK,IAAI,KACrBsK,EAAY,KAAKtK,IAAI,KACrBw0D,EAAqBx0D,GAAI,KAAKA,IAAI,QAAS,SAAU,GACrDw+D,EAAiB,KAAKx+D,IAAI,kBAC1B,EAA6B4oB,EAAMN,UAAjCP,EAAI,OAAEE,EAAI,OAAEC,EAAI,OAAEC,EAAI,OAExBq1C,EAAY50C,EAAMk2C,SAAS,KAAKrI,aAAa,eAC7CsI,EAAYn2C,EAAMk2C,SAAS,KAAKrI,aAAa,SAC7CuI,EAAYp2C,EAAMk2C,SAAS,KAAKrI,aAAa,SAEnD,GAAK+H,EAAL,CAIA,GAAIhB,EAAW,CACb,GAAInzD,EAAI0d,GAAQy2C,EAAez2C,KAAM,CAEnC,IAAMk3C,EAAWT,EAAez2C,MAAQ1d,EAAI0d,GAC5CqqC,GAAeoL,EAAWA,EAAUp8C,KAAK,KAAO69C,EAAUzB,EAAUp8C,KAAK,K,CAE3E,GAAI/W,EAAI4d,GAAQu2C,EAAev2C,KAAM,CAE7Bg3C,EAAW50D,EAAI4d,EAAOu2C,EAAev2C,KAC3CmqC,GAAeoL,EAAWA,EAAUp8C,KAAK,KAAO69C,EAAUzB,EAAUp8C,KAAK,K,EAI7E,GACiB,WAAdrB,GAA0BzV,EAAI4d,GAAQs2C,EAAet2C,MACvC,WAAdnI,GAA0BzV,EAAI6d,GAAQq2C,EAAer2C,KACtD,CAEA,IAAIwjB,OAAY,EACZkb,OAAM,EACQ,WAAd9mC,GAA0BzV,EAAI4d,GAAQs2C,EAAet2C,MACvDyjB,EAAe,MACfkb,EAAS,IAETlb,EAAe,SACfkb,GAAU,GAEZkY,EAAU39C,KAAK,eAAgBuqB,GAC3BqzB,GACFA,EAAU59C,KAAK,OAAQ,CACrB,CAAC,IAAK,EAAG,GACT,CAAC,IAAK,EAAGozC,EAAa3N,KAG1BuL,GAAeoL,EAAWA,EAAUp8C,KAAK,MAAOozC,EAAa,GAAK3N,E,EAEtE,EAEQyX,EAAAA,UAAAA,cAAR,WACE,IAAMY,EAAcl/D,GAAI,KAAKA,IAAI,QAAS,WACpCm/D,EAAan/D,GAAI,KAAKA,IAAI,SAAU,QAAS,IAC7Co/D,EAAYp/D,GAAI,KAAKA,IAAI,QAAS,QAAS,IAC3Cq/D,EAAYr/D,GAAI,KAAKA,IAAI,QAAS,QAAS,IAC3C+f,EAAY,KAAK/f,IAAI,aACrBw0D,EAAa0K,EAAcl/D,GAAI,KAAKA,IAAI,QAAS,SAAU,GAAK,EAChE6mD,EAAuB,WAAd9mC,GAA0B,EAAI,EAC7C,MAAO,CACLggB,OAAK,SACH11B,EAAG,EACHC,EAAG,GACA60D,GAEL34B,MAAI,SACF5kC,KAAM,CACJ,CAAC,IAAK,EAAG,GACT,CAAC,IAAK,EAAG4yD,EAAa3N,KAErBuY,GAELx8D,MAAI,SACFyH,EAAG,EACHC,GAAIkqD,EAAa,GAAK3N,EACtBjkD,KAAM5C,GAAI,KAAKA,IAAI,QAAS,UAAW,IACvC2rC,aAA4B,WAAd5rB,EAAyB,SAAW,OAC/Cs/C,GAGT,EACF,EA5MA,CAAmCpJ,IA8MnC,MC9MA,4B,8CA6EA,QA7EmCptD,EAAAA,EAAAA,IAAAA,EAAAA,GAK1By2D,EAAAA,UAAAA,cAAP,WACE,IAAM52D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,aACNo+D,aAAc,SACd7+C,OAAQ,GACRw+C,WAAY,EACZ3B,OAAQ,GACRjwD,KAAM,GACNiX,WAAY,CACVg5C,OAAQ,CACNjsD,MAAO,CACLgrC,UAAW,EACX6Z,KAAMuR,GAAAA,YACNh7C,QAAS,KAGbpf,KAAM,CACJg5D,QAAS,GACTh1D,MAAO,CACLglC,UAAW,SACXD,aAAc,SACdtoC,SAAU,GACVooD,KAAMuR,GAAAA,UACNl6D,WAAYk6D,GAAAA,eAKtB,EAEUsC,EAAAA,UAAAA,YAAV,SAAsB12C,GACpB,IAAM22C,EAAcv/D,GAAI,KAAKA,IAAI,UAAW,QAAS,IAE/Cw0D,GADYx0D,GAAI,KAAKA,IAAI,QAAS,QAAS,IAC9B,KAAKA,IAAI,eAAiB,GACvCgW,EAAkB,KAAKhW,IAAI,UAEjC,GAAKgW,EAAOrhB,OAAZ,CAGA,IAAM8d,EAAOqgD,GAAa98C,GAGpBpU,EAAO,GACbA,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAGoI,EAAKyV,KAAOssC,IACzCx+C,EAAO9U,SAAQ,SAAC6+B,GACdn+B,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GACjC,IACA1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAOA,EAAOrhB,OAAS,GAAG0V,EAAG2L,EAAOA,EAAOrhB,OAAS,GAAG2V,EAAIkqD,IAC3E,KAAKuD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,UACtBpkE,KAAM,oBACNR,OAAK,SACH+P,KAAI,GACD29D,KAKP,IAAMC,GAAO,SACXz6C,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,kBACNgY,GAAIoI,EAAKsV,KAAOtV,EAAKwV,MAAQ,EAC7B3d,EAAGmI,EAAKyV,KAAOssC,GACZ,KAAKx0D,IAAI,SAGd07D,GAAU9yC,EAAO42C,E,CACnB,EACF,EA7EA,CAAmCvJ,IA+EnC,MCjFA,4B,8CA8DA,QA9DqCptD,EAAAA,EAAAA,IAAAA,EAAAA,GAK5B42D,EAAAA,UAAAA,cAAP,WACE,IAAM/2D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,eACNo+D,aAAc,SACdrpD,MAAO,KACP2I,IAAK,KACLgiB,MAAO,KACP5c,MAAO,IAEX,EAEUkmD,EAAAA,UAAAA,YAAV,SAAsB72C,GAAtB,WACQpd,EAAe,KAAKxL,IAAI,SACxBmU,EAAa,KAAKnU,IAAI,OAGtB0/D,EAAgB,KAAKlI,SAAS5uC,EAAO,CACzC7D,GAAI,KAAK0xC,aAAa,iBACtB78C,SAAS,IAIX7iB,EAAK,KAAKiJ,IAAI,WAAW,SAACuZ,EAAeomD,GACvC,IAAMlpE,EAAO8iB,EAAMvZ,IAAI,QACjBnO,EAAQoN,GAAMsa,EAAM6H,QAC1B5Y,EAAKo3D,iBAAiB/tE,GACtB2W,EAAKuvD,SAAS2H,EAAO,CACnB36C,GAAIvc,EAAKiuD,aAAa,SAAShgE,EAAI,IAAIkpE,GACvC/lD,SAAS,EACTnjB,KAAI,EACJ5E,MAAK,GAET,IAGA,IAAMuhE,EAAWR,GAAa,CAAEpnD,MAAK,EAAE2I,IAAG,IAC1CurD,EAAMrL,QAAQ,CACZ59D,KAAM,OACN5E,MAAO,CACLwY,EAAG+oD,EAASrrC,KACZzd,EAAG8oD,EAASlrC,KACZ1kB,MAAO4vD,EAAS5vD,MAChB2D,OAAQisD,EAASjsD,SAGvB,EAEQs4D,EAAAA,UAAAA,iBAAR,SAAyBr+C,GACvB,IAAM+U,EAAQ,KAAKn2B,IAAI,SACnBohB,EAAKqqC,OACPrqC,EAAKqqC,KAAOrqC,EAAKy+C,UAAY1pC,GAE/B/U,EAAKqxB,OAASrxB,EAAK0+C,YAAc3pC,CACnC,EACF,EA9DA,CAAqC8/B,IAgErC,MCjEA,4B,8CAiBA,QAjB6CptD,EAAAA,EAAAA,IAAAA,EAAAA,GACpCk3D,EAAAA,UAAAA,cAAP,WACE,IAAMr3D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,QACN4nC,KAAMzZ,IAEV,EAEUm7C,EAAAA,UAAAA,YAAV,SAAsBn3C,GACpB,IAAMr3B,EAAS,KAAKyO,IAAI,UACpBtI,EAAWnG,IACbA,EAAOq3B,EAEX,EACF,EAjBA,CAA6CqtC,I,MCC/B,SAAU+J,GAASz5D,EAAkBlU,EAAcoP,GAC/D,IAAIxI,EACJ,IACEA,EAAIoF,OAAO0I,iBACT1I,OAAO0I,iBAAiBR,EAAK,MAAMlU,GACnCkU,EAAIK,MAAMvU,E,CACZ,MAAOy4B,G,CAER,QACC7xB,OAAUrC,IAANqC,EAAkBwI,EAAexI,C,CAEvC,OAAOA,CACT,CCjBc,SAAUgnE,GAAUjhC,EAAiBv9B,GACjD,IAAI+B,EAAQw8D,GAAShhC,EAAI,QAASv9B,GAIlC,MAHc,SAAV+B,IACFA,EAAQw7B,EAAGkhC,aAENrkE,WAAW2H,EACpB,CCJc,SAAU28D,GAAcnhC,EAAiBv9B,GACrD,IAAM+B,EAAQ48D,GAASphC,EAAIv9B,GACrB4+D,EAAQxkE,WAAWmkE,GAAShhC,EAAI,qBAAuB,EACvDshC,EAAQzkE,WAAWmkE,GAAShhC,EAAI,iBAAmB,EACnDuhC,EAAS1kE,WAAWmkE,GAAShhC,EAAI,kBAAoB,EACrDwhC,EAAS3kE,WAAWmkE,GAAShhC,EAAI,sBAAwB,EACzDyhC,EAAS5kE,WAAWmkE,GAAShhC,EAAI,iBAAmB,EACpD0hC,EAAQ7kE,WAAWmkE,GAAShhC,EAAI,gBAAkB,EACxD,OAAOx7B,EAAQ68D,EAAQG,EAASF,EAAQC,EAASG,EAAQD,CAC3D,CCXc,SAAUR,GAAUjhC,EAAiBv9B,GACjD,IAAI0F,EAAS64D,GAAShhC,EAAI,SAAUv9B,GAIpC,MAHe,SAAX0F,IACFA,EAAS63B,EAAG2hC,cAEP9kE,WAAWsL,EACpB,CCJc,SAAUy5D,GAAe5hC,EAAiBv9B,GACtD,IAAM0F,EAAS84D,GAAUjhC,EAAIv9B,GACvBo/D,EAAOhlE,WAAWmkE,GAAShhC,EAAI,oBAAsB,EACrD8hC,EAAOjlE,WAAWmkE,GAAShhC,EAAI,gBAAkB,EACjD+hC,EAAUllE,WAAWmkE,GAAShhC,EAAI,mBAAqB,EACvDgiC,EAAUnlE,WAAWmkE,GAAShhC,EAAI,uBAAyB,EAC3DiiC,EAAOplE,WAAWmkE,GAAShhC,EAAI,eAAiB,EAChDkiC,EAAUrlE,WAAWmkE,GAAShhC,EAAI,kBAAoB,EAC5D,OAAO73B,EAAS05D,EAAOG,EAAUF,EAAOC,EAAUE,EAAOC,CAC3D,CCPA,gC,8CAoMA,QApMgFr4D,EAAAA,EAAAA,IAAAA,EAAAA,GACvEs4D,EAAAA,UAAAA,cAAP,WACE,IAAMz4D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrC,UAAW,KACX+6D,aAAc,cACdrM,kBAAkB,EAClBsM,mBAAoB,GACpBz5D,OAAQ,MAEZ,EAEOu5D,EAAAA,UAAAA,aAAP,WACE,OAAO,KAAKnhE,IAAI,YAClB,EAKOmhE,EAAAA,UAAAA,KAAP,WACE,IAAM96D,EAAY,KAAKrG,IAAI,aAC3BqG,EAAUO,MAAMuzC,QAAU,GAC1B,KAAK7/C,IAAI,WAAW,EACtB,EAIO6mE,EAAAA,UAAAA,KAAP,WACE,IAAM96D,EAAY,KAAKrG,IAAI,aAC3BqG,EAAUO,MAAMuzC,QAAU,OAC1B,KAAK7/C,IAAI,WAAW,EACtB,EAKO6mE,EAAAA,UAAAA,WAAP,SAAkBvnD,GAChB,IAAMvT,EAAY,KAAKi7D,eACjB/uE,EAAQqnB,EAAU,OAAS,OACjCvT,EAAUO,MAAM26D,cAAgBhvE,EAChC,KAAK+H,IAAI,UAAWsf,EACtB,EACOunD,EAAAA,UAAAA,QAAP,WACE,IAAM96D,EAAY,KAAKi7D,eACjBj3D,EAAIxO,WAAWwK,EAAUO,MAAMqP,OAAS,EACxC3L,EAAIzO,WAAWwK,EAAUO,MAAMg8B,MAAQ,EAC7C,OAAOmwB,GAAW1oD,EAAGC,EAAGjE,EAAUW,YAAaX,EAAUe,aAC3D,EAEO+5D,EAAAA,UAAAA,MAAP,WACE,IAAM96D,EAAY,KAAKrG,IAAI,aAC3ByyD,GAASpsD,EACX,EAEO86D,EAAAA,UAAAA,QAAP,WACE,KAAKlK,cACL,KAAKtvD,YACLgB,EAAAA,UAAMua,QAAO,UACf,EAKOi+C,EAAAA,UAAAA,KAAP,WACEx4D,EAAAA,UAAM7O,KAAI,WACV,KAAK2nC,gBACL,KAAKC,UACL,KAAK8/B,cACL,KAAKC,cACL,KAAKzK,YACL,KAAK0K,cACL,KAAKC,aACP,EAEUR,EAAAA,UAAAA,YAAV,WACE,KAAKxL,WAAW,KAAK31D,IAAI,WAC3B,EACUmhE,EAAAA,UAAAA,YAAV,WACO,KAAKnhE,IAAI,WAIZ,KAAKy1D,OAFL,KAAKC,MAIT,EAEUyL,EAAAA,UAAAA,QAAV,WAEA,EAEUA,EAAAA,UAAAA,cAAV,WACE,IAAI96D,EAAY,KAAKrG,IAAI,aACzB,GAAIrJ,EAAM0P,GAAY,CAEpBA,EAAY,KAAKJ,YACjB,IAAIm7B,EAAS,KAAKphC,IAAI,UAClBY,GAASwgC,KACXA,EAASl+B,SAAS4+B,eAAeV,GACjC,KAAK9mC,IAAI,SAAU8mC,IAErBA,EAAOW,YAAY17B,GACf,KAAKrG,IAAI,gBACXqG,EAAUu7D,aAAa,KAAM,KAAK5hE,IAAI,gBAExC,KAAK1F,IAAI,YAAa+L,E,MACbzF,GAASyF,KAElBA,EAAYnD,SAAS4+B,eAAez7B,GACpC,KAAK/L,IAAI,YAAa+L,IAEnB,KAAKrG,IAAI,WACZ,KAAK1F,IAAI,SAAU+L,EAAUwB,WAEjC,EAGUs5D,EAAAA,UAAAA,YAAV,WACE,IAAIv6D,EAAQ,KAAK5G,IAAI,aACf6hE,EAAgB,KAAK7hE,IAAI,iBAI7B4G,EAHGA,EAGKrG,GAAQ,GAAIshE,EAAej7D,GAF3Bi7D,EAIV,KAAKvnE,IAAI,YAAasM,EACxB,EAEUu6D,EAAAA,UAAAA,YAAV,WACE,IAAMW,EAAY,KAAK9hE,IAAI,aAC3B,GAAK8hE,EAAL,CAGA,IAAMz7D,EAAY,KAAKi7D,eACvB,KAAKS,oBAAoB17D,EAAWy7D,GACpC,IAAMT,EAAqB,KAAKrhE,IAAI,sBACpC,GAAIqhE,GAAsB3O,GAASrsD,EAAWg7D,GAAqB,CACjE,IAAMW,EAAeF,EAAUT,GAC/B36D,GAAUL,EAAW27D,E,EAEzB,EAEUb,EAAAA,UAAAA,oBAAV,SAA8BxnD,EAASsoD,GACrClrE,EAAKkrE,GAAQ,SAACr7D,EAAOvU,GACnB,IAAM2E,EAAW2iB,EAAQuoD,uBAAuB7vE,GAChD0E,EAAKC,GAAU,SAACgoC,GACdt4B,GAAUs4B,EAAIp4B,EAChB,GACF,GACF,EAEUu6D,EAAAA,UAAAA,WAAV,SAAqBgB,EAAS57D,GAC5B,IAAMu7D,EAAY,KAAK9hE,IAAI,aAC3B0G,GAAUH,EAAKu7D,EAAUK,GAC3B,EAKUhB,EAAAA,UAAAA,UAAV,WACE,IAAMC,EAAe,KAAKphE,IAAI,gBAC9B,OAAOiG,GAAUm7D,EACnB,EAMUD,EAAAA,UAAAA,UAAV,WAAwB,EAMdA,EAAAA,UAAAA,UAAV,WACE,IAAM96D,EAAY,KAAKrG,IAAI,aAE3BqG,GAAaA,EAAUwB,YAAcxB,EAAUwB,WAAWpB,YAAYJ,EACxE,EAMU86D,EAAAA,UAAAA,YAAV,WAA0B,EAEhBA,EAAAA,UAAAA,YAAV,SAAsBz4D,GAEhB8sD,GAAO9sD,EAAK,eACd,KAAK84D,cACL,KAAKC,eAGP,KAAKW,eACP,EACUjB,EAAAA,UAAAA,cAAV,WAA4B,EAC9B,EApMA,CAAgFvM,IAsMhF,MCrMA,4B,8CA6EA,QA7E4C/rD,EAAAA,EAAAA,IAAAA,EAAAA,GACnCw5D,EAAAA,UAAAA,cAAP,WACE,IAAM35D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,aACNoE,KAAM,OACNo+D,aAAc,QACdxqD,EAAG,EACHC,EAAG,EACH82D,aAAc,mEACdkB,OAAQ,OACRC,OAAQ,MACRC,KAAM,GACN1gD,OAAQ,GAEZ,EAEOugD,EAAAA,UAAAA,OAAP,WACE,IAAMh8D,EAAY,KAAKi7D,eACjBkB,EAAO,KAAKxiE,IAAI,QAEtByyD,GAASpsD,GAET,IAAMpP,EAA4BS,EAAW8qE,GAAQA,EAAKn8D,GAAam8D,EAEvE,GAAIxkE,GAAU/G,GACZoP,EAAU07B,YAAY9qC,QACjB,GAAI2J,GAAS3J,IAAQ8E,GAAS9E,GAAM,CACzC,IAAMsP,EAAMN,GAAU,GAAGhP,GACrBsP,GACFF,EAAU07B,YAAYx7B,E,CAI1B,KAAK67D,eACP,EAEUC,EAAAA,UAAAA,cAAV,WACE,IAAMh8D,EAAY,KAAKi7D,eACjB,EAAW,KAAK/D,cAAdlzD,EAAC,IAAEC,EAAC,IACNg4D,EAAS,KAAKtiE,IAAI,UAClBuiE,EAAS,KAAKviE,IAAI,UAClBoiC,EAAU,KAAKpiC,IAAI,WACnBsiC,EAAU,KAAKtiC,IAAI,WACnByiE,EAAWtC,GAAc95D,GACzBq8D,EAAY9B,GAAev6D,GAE3BmwC,EAAW,CACfnsC,EAAC,EACDC,EAAC,GAGY,WAAXg4D,EACF9rB,EAASnsC,GAAKzR,KAAKgD,MAAM6mE,EAAW,GAChB,UAAXH,IACT9rB,EAASnsC,GAAKzR,KAAKgD,MAAM6mE,IAEZ,WAAXF,EACF/rB,EAASlsC,GAAK1R,KAAKgD,MAAM8mE,EAAY,GACjB,WAAXH,IACT/rB,EAASlsC,GAAK1R,KAAKgD,MAAM8mE,IAEvBtgC,IACFoU,EAASnsC,GAAK+3B,GAEZE,IACFkU,EAASlsC,GAAKg4B,GAGhB57B,GAAUL,EAAW,CACnBmwC,SAAU,WACVvgC,KAASugC,EAASnsC,EAAC,KACnBu4B,IAAQ4T,EAASlsC,EAAC,KAClBwX,OAAQ,KAAK9hB,IAAI,WAErB,EACF,EA7EA,CAA4CmhE,I,MCHtC,SAAUwB,GAAetuE,EAAgB8jE,EAAqByK,GAClE,IAAMC,EAAe1K,EAAW,QAC5B8J,EAAS,KASb,OARAlrE,EAAK6rE,GAAa,SAAC3pE,EAAGtG,GAChB0B,EAAK1B,IAAUsG,EAAE4pE,KACdZ,IACHA,EAAS,IAEX7gE,GAAI6gE,EAAQhpE,EAAE4pE,IAElB,IACOZ,CACT,CCNA,gC,8CAsrBA,QAtrBqEp5D,EAAAA,EAAAA,IAAAA,EAAAA,GAC5Di6D,EAAAA,UAAAA,cAAP,WACE,IAAMp6D,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,OACNiqD,MAAO,GACP9V,KAAM,GACNu8B,SAAU,GACVC,YAAa,KACb9oB,MAAO,KAIPwgB,MAAO,GAIPuI,eAAgB,EAEhBC,oBAAqB,KACrBC,aAAc,CAAC,aAAc,eAAgB,YAC7CC,WAAY,GACZC,SAAU,GACVxpD,WAAY,CACV2sB,KAAM,CAEJ5/B,MAAO,CACLgrC,UAAW,EACXa,OAAQuqB,GAAAA,YAGZ+F,SAAU,CAERn8D,MAAO,CACLgrC,UAAW,EACXa,OAAQuqB,GAAAA,WAEVsG,WAAW,EACX3uE,OAAQ,EACR4uE,kBAAkB,GAEpBP,YAAa,CAEXp8D,MAAO,CACLgrC,UAAW,EACXa,OAAQuqB,GAAAA,WAEVzmD,MAAO,EACP5hB,OAAQ,GAEV+lE,MAAO,CACLuC,YAAY,EACZuG,UAAU,EACV1H,cAAc,EACdl1D,MAAO,CACLvD,SAAU,GACVooD,KAAMuR,GAAAA,UACNl6D,WAAYk6D,GAAAA,WACZj6D,WAAY,UAEd2zC,OAAQ,GACRtU,QAAS,EACTE,QAAS,GAEX4X,MAAO,CACL+iB,YAAY,EACZwG,QAAS,EACTjtB,SAAU,SACV5vC,MAAO,CACLvD,SAAU,GACVooD,KAAMuR,GAAAA,UACNrxB,aAAc,SACd7oC,WAAYk6D,GAAAA,WACZpxB,UAAW,UAEb83B,UAAW,CACTjY,KAAMuR,GAAAA,oBACNvqB,OAAQuqB,GAAAA,uBAEV2G,YAAa,IAEfP,WAAY,CACVQ,OAAQ,CACNC,WAAY,CACV9gE,WAAY,KAEd+gE,cAAe,CACblyB,UAAW,IAGfmyB,SAAU,CACRF,WAAY,CACVpY,KAAMuR,GAAAA,kBAKZqG,SAAU,CACRW,QAAQ,EACRC,UAAW,MAGfC,MAAO,IAEX,EAKOpB,EAAAA,UAAAA,YAAP,SAAmBl6C,GACb,KAAK5oB,IAAI,SACX,KAAKmkE,SAASv7C,GAGhB,KAAKw7C,UAAUx7C,GACX,KAAK5oB,IAAI,UACX,KAAKqkE,UAAUz7C,EAEnB,EAGOk6C,EAAAA,UAAAA,OAAP,WACE,OAAO,CACT,EAMOA,EAAAA,UAAAA,SAAP,WACE,OAAO,KAAK9iE,IAAI,QAClB,EAMO8iE,EAAAA,UAAAA,SAAP,SAAgBwB,GACd,KAAK1mC,OAAO,CACV0e,MAAOgoB,GAEX,EAOOxB,EAAAA,UAAAA,WAAP,SAAkBzuE,EAAgBqU,GAChCtH,GAAI/M,EAAMqU,GACV,KAAK8gB,QACL,KAAKj4B,QACP,EAKOuxE,EAAAA,UAAAA,WAAP,WACE,IAAMyB,EAAY,KAAK9G,oBAAoB,eAC3C8G,GAAaA,EAAU/6C,OACzB,EAQOs5C,EAAAA,UAAAA,aAAP,SAAoBzuE,EAAgB1B,EAAeJ,GACjD8B,EAAK1B,GAASJ,EACd,KAAKiyE,iBAAiBnwE,EACxB,EAOOyuE,EAAAA,UAAAA,SAAP,SAAgBzuE,EAAgB1B,GAC9B,QAAS0B,EAAK1B,EAChB,EAEOmwE,EAAAA,UAAAA,cAAP,SAAqBzuE,GACnB,IAAM+uE,EAAa,KAAKpjE,IAAI,cACtB/I,EAAM,GAOZ,OANAF,EAAKqsE,GAAY,SAACnqE,EAAG5B,GACfhD,EAAKgD,IAEPJ,EAAIb,KAAKiB,EAEb,IACOJ,CACT,EAMO6rE,EAAAA,UAAAA,gBAAP,SAAuBnwE,GAAvB,WACQ2xE,EAAQ,KAAKG,gBAAgB9xE,GACnCoE,EAAKutE,GAAO,SAACjwE,GACXmU,EAAKk8D,aAAarwE,EAAM1B,GAAO,EACjC,GACF,EAOOmwE,EAAAA,UAAAA,gBAAP,SAAuBnwE,GAAvB,WACQ2xE,EAAQ,KAAKK,WACnB,OAAO1uE,EAAOquE,GAAO,SAACjwE,GACpB,OAAOmU,EAAKo8D,SAASvwE,EAAM1B,EAC7B,GACF,EAoBUmwE,EAAAA,UAAAA,aAAV,SAAuB/iC,EAAc2W,GACnC,IAAMmuB,EAAO,KACPj7B,EAASi7B,EAAKC,cAAcpuB,EAAQ3W,GAC1C,MAAO,CACL11B,EAAG01B,EAAM11B,EAAIu/B,EAAO,GACpBt/B,EAAGy1B,EAAMz1B,EAAIs/B,EAAO,GAExB,EASUk5B,EAAAA,UAAAA,cAAV,SAAwBl5B,GACtB,IAAIm7B,EAQJ,OAPI5oE,GAAcytC,EAAO,GAAI,GAC3Bm7B,EAAQ,SACCn7B,EAAO,GAAK,EACrBm7B,EAAQ,QACCn7B,EAAO,GAAK,IACrBm7B,EAAQ,OAEHA,CACT,EAEUjC,EAAAA,UAAAA,gBAAV,SAA0Bl5B,GACxB,IAAIjuC,EAQJ,OAPIQ,GAAcytC,EAAO,GAAI,GAC3BjuC,EAAO,SACEiuC,EAAO,GAAK,EACrBjuC,EAAO,MACEiuC,EAAO,GAAK,IACrBjuC,EAAO,UAEFA,CACT,EAEUmnE,EAAAA,UAAAA,eAAV,SAAyBkC,GAAa,EAG9BlC,EAAAA,UAAAA,SAAR,SAAiBl6C,GACf,IAAMhnB,EAAO,KAAKqjE,cACZz+B,EAAO,KAAKxmC,IAAI,QACtB,KAAK+3D,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,YACNR,MAAOuP,GACL,CACEQ,KAAI,GAEN4kC,EAAK5/B,QAGX,EAEQk8D,EAAAA,UAAAA,iBAAR,SAAyBxmB,GAAzB,WACQ4oB,EAAgB,GAChBnC,EAAW,KAAK/iE,IAAI,YACpBsjE,EAAYP,EAASO,UACrB6B,EAAiBpC,EAASpuE,OAC5BywE,EAAc,EACZ3f,EAAYnJ,EAAM3nD,OA0BxB,OAzBI8wD,GAAa,IACf2f,EAAc9oB,EAAM,GAAG/pD,MAAQ+pD,EAAM,GAAG/pD,OAG1CwE,EAAKulD,GAAO,SAACC,GACX,IAAIxc,EAAQwc,EAAKxc,MACZujC,IAEHvjC,EAAQv3B,EAAK68D,aAAa9oB,EAAKhqD,MAAQ6yE,EAAc,IAEvD,IAAMxH,EAAWp1D,EAAK88D,aAAavlC,EAAOolC,GAC1CD,EAAc9uE,KAAK,CACjB43C,WAAYjO,EACZ0c,UAAWF,EAAKhqD,MAChBqrE,SAAQ,EACR2H,OAAQhpB,EAAKx3B,GACbA,GAAI,YAAYw3B,EAAKx3B,IAEzB,IAOOmgD,CACT,EAEQpC,EAAAA,UAAAA,oBAAR,SAA4BoC,GAC1B,IAAMM,EAAmB,GACnBxC,EAAc,KAAKhjE,IAAI,eACvBylE,EAAWzC,EAAYzsD,MACvBmvD,EAAgBR,EAAcvwE,OAEpC,GAAI+wE,GAAiB,EACnB,IAAK,IAAIxuE,EAAI,EAAGA,EAAIwuE,EAAgB,EAAGxuE,IAGrC,IAFA,IAAMw8C,EAAMwxB,EAAchuE,GACpBuuC,EAAOy/B,EAAchuE,EAAI,GACtBsD,EAAI,EAAGA,EAAIirE,EAAUjrE,IAAK,CACjC,IAAMy+C,GAAWz+C,EAAI,IAAMirE,EAAW,GAChChpB,GAAa,EAAIxD,GAAWvF,EAAI+I,UAAYxD,EAAUxT,EAAKgX,UAC3D1c,EAAQ,KAAKslC,aAAa5oB,GAC1BmhB,EAAW,KAAK0H,aAAavlC,EAAOijC,EAAYruE,QACtD6wE,EAAiBpvE,KAAK,CACpB43C,WAAYjO,EACZ69B,SAAQ,EACRnhB,UAAS,EACT13B,GAAI,OAAO2uB,EAAI3uB,GAAE,IAAIvqB,G,CAK7B,OAAOgrE,CACT,EAEQ1C,EAAAA,UAAAA,iBAAR,SAAyB6C,EAAoBlvE,EAAcnC,EAAesxE,GACxE,IAAIh/D,EAAQ,KAAK5G,IAAIvJ,GAAMmQ,MAGrBvS,EAAO,CACX2hB,OAAQ,CAAC2vD,EAAS33B,WAAY23B,EAAS/H,WAGnCiI,EAAuB7lE,GAAI,KAAKA,IAAI,SAAU,CAAC,WAAY,SAAU,IAC3E4G,EAAQlP,EAAWkP,GAASxF,GAAI,GAAIykE,EAAsBj/D,EAAMvS,EAAMC,EAAOsxE,IAAch/D,EAEnF,MAAyB++D,EAAQ,WAArB/H,EAAa+H,EAAQ,SACzC,gBACE/6D,GAAIojC,EAAW3jC,EACfU,GAAIijC,EAAW1jC,EACfQ,GAAI8yD,EAASvzD,EACbY,GAAI2yD,EAAStzD,GACV1D,EAEP,EAGQk8D,EAAAA,UAAAA,SAAR,SAAiB6C,EAAoBG,EAAuBrvE,EAAcnC,EAAesxE,GACvF,KAAK7N,SAAS+N,EAAe,CAC3BrvE,KAAM,OACNsuB,GAAI,KAAK0xC,aAAakP,EAAS5gD,IAC/B1yB,KAAM,QAAQoE,EACd5E,MAAO,KAAKk0E,iBAAiBJ,EAAUlvE,EAAMnC,EAAOsxE,IAExD,EAGQ9C,EAAAA,UAAAA,cAAR,SAAsBl6C,GAAtB,WACQ0zB,EAAQ,KAAKt8C,IAAI,SACjBgjE,EAAc,KAAKhjE,IAAI,eACvBklE,EAAgB,KAAKc,iBAAiB1pB,GACtCwpB,EAAgB,KAAKtO,SAAS5uC,EAAO,CACzCv2B,KAAM,sBACN0yB,GAAI,KAAK0xC,aAAa,oBAElBwP,EAAU,KAAKjmE,IAAI,YAazB,GAZAjJ,EAAKmuE,GAAe,SAAC7wE,EAAMC,GACzB,GAAI2xE,EAAQ1C,iBAAkB,CAE5B,IAAM2C,EAAU19D,EAAKiuD,aAAa,SAASpiE,EAAKkxE,QAC5C38C,EAAMk2C,SAASoH,IACjB19D,EAAK29D,SAAS9xE,EAAMyxE,EAAe,WAAYxxE,EAAO4wE,E,MAGxD18D,EAAK29D,SAAS9xE,EAAMyxE,EAAe,WAAYxxE,EAAO4wE,EAE1D,IAEIlC,EAAa,CACf,IAAMoD,EAAmB,KAAKC,oBAAoBnB,GAClDnuE,EAAKqvE,GAAkB,SAAC/xE,EAAMC,GAC5BkU,EAAK29D,SAAS9xE,EAAMyxE,EAAe,cAAexxE,EAAO8xE,EAC3D,G,CAEJ,EAGQtD,EAAAA,UAAAA,aAAR,sBACQxmB,EAAQ,KAAKt8C,IAAI,SACvBjJ,EAAKulD,GAAO,SAACC,GACXA,EAAKxc,MAAQv3B,EAAK68D,aAAa9oB,EAAKhqD,OAEhCoE,EAAM4lD,EAAKx3B,MAEbw3B,EAAKx3B,GAAKw3B,EAAKlqD,KAEnB,GACF,EAGQywE,EAAAA,UAAAA,UAAR,SAAkBl6C,GAAlB,WACE,KAAK09C,gBACL,KAAKC,eACD,KAAKvmE,IAAI,UACX,KAAKwmE,WAAW59C,GAGd,KAAK5oB,IAAI,aACX,KAAKymE,cAAc79C,GAGrB,IAAM0zB,EAAQ,KAAKt8C,IAAI,SACvBjJ,EAAKulD,GAAO,SAACC,GACX/zC,EAAKk+D,gBAAgBnqB,EAAM3zB,EAC7B,GACF,EAKQk6C,EAAAA,UAAAA,cAAR,WACE,IAAMO,EAAwB,KAAKrjE,IAAI,YACjCs8C,EAAQ,KAAKt8C,IAAI,SACvB,GAAIqjE,GAAYA,EAASW,QAAUX,EAASY,UAAY,EAAG,CACzD,IAAM9sE,EAAMsJ,GAAK67C,GACjB,GAAInlD,EAAMksE,EAASY,UAAW,CAC5B,IAAM0C,EAAO/tE,KAAKswD,KAAK/xD,EAAMksE,EAASY,WAChC2C,EAAiBtqB,EAAMrmD,QAAO,SAACsmD,EAAM16C,GAAQ,SAAM8kE,IAAS,CAAf,IACnD,KAAKrsE,IAAI,QAASssE,GAClB,KAAKtsE,IAAI,gBAAiBgiD,E,EAGhC,EAGQwmB,EAAAA,UAAAA,cAAR,SAAsBvmB,EAAgBjoD,EAAegoD,GACnD,IAAMuqB,EAAW,KAAK7mE,IAAI,SAClB,EAAgD6mE,EAAQ,OAAhDzkC,EAAwCykC,EAAQ,QAAvCvkC,EAA+BukC,EAAQ,QAA9B75D,EAAsB65D,EAAQ,OAAtBnqB,EAAcmqB,EAAQ,UAC1D9mC,EAAQ,KAAKulC,aAAa/oB,EAAKxc,MAAO2W,GACtC9M,EAAS,KAAKk7B,cAAcpuB,EAAQ3W,GACpCn9B,EAAO85C,EAAYA,EAAUH,EAAKlqD,KAAMkqD,EAAMjoD,GAASioD,EAAKlqD,KAC5D,EAAUw0E,EAAQ,MACxBjgE,EAAQlP,EAAWkP,GAAS5G,GAAI,KAAKA,IAAI,SAAU,CAAC,QAAS,SAAU,IAAM4G,EAE7E,IAAM/U,EAAQuP,GACZ,CACEiJ,EAAG01B,EAAM11B,EAAI+3B,EACb93B,EAAGy1B,EAAMz1B,EAAIg4B,EACb1/B,KAAI,EACJgpC,UAAW,KAAKk7B,cAAcl9B,GAC9B+B,aAAc,KAAKo7B,gBAAgBn9B,IAErChjC,GAKF,OAHIoG,IACFnb,EAAMguB,OAASiyC,GAAiB/xB,EAAO/yB,IAElCnb,CACT,EAGQixE,EAAAA,UAAAA,WAAR,SAAmBl6C,GAAnB,WACQ0zB,EAAQ,KAAKt8C,IAAI,SACjBglE,EAAa,KAAKxN,SAAS5uC,EAAO,CACtCv2B,KAAM,mBACN0yB,GAAI,KAAK0xC,aAAa,iBAExB1/D,EAAKulD,GAAO,SAACC,EAAgBjoD,GAC3BkU,EAAKuvD,SAASiN,EAAY,CACxBvuE,KAAM,OACNpE,KAAM,aACN0yB,GAAIvc,EAAKiuD,aAAa,SAASla,EAAKx3B,IACpClzB,MAAO2W,EAAKw+D,cAAczqB,EAAMjoD,EAAOgoD,GACvC/1B,eAAgB,CACdg2B,KAAI,EACJloD,KAAMkoD,EACNjoD,MAAK,IAGX,IACA,KAAK2yE,eAAejC,GAGpB,IAAMxK,EAASwK,EAAW/hD,cACpBikD,EAAoBlnE,GAAI,KAAKA,IAAI,SAAU,CAAC,QAAS,SAAU,IAC/D,EAAuB,KAAKA,IAAI,SAA9B4G,EAAK,QAAE81C,EAAS,YACxB,GAAIhlD,EAAWkP,GAAQ,CACrB,IAAMugE,EAAoB3M,EAAOz5D,KAAI,SAAC25D,GAAU,UAAIA,EAAM16D,IAAI,kBAAmB,OAAjC,IAChDjJ,EAAKyjE,GAAQ,SAACE,EAAOpmE,GACX,MAASomE,EAAM16D,IAAI,kBAAiB,KACtC4C,EAAO85C,EAAYA,EAAUH,EAAKlqD,KAAMkqD,EAAMjoD,GAASioD,EAAKlqD,KAC5D+0E,EAAWhmE,GAAI,GAAI8lE,EAAmBtgE,EAAMhE,EAAMtO,EAAO6yE,IAC/DzM,EAAMt5C,KAAKgmD,EACb,G,CAEJ,EAGQtE,EAAAA,UAAAA,cAAR,WACE,IAAMuE,EAAW,KAAKrnE,IAAI,SAClB,EAAqDqnE,EAAQ,MAAtD7wB,EAA8C6wB,EAAQ,SAA5C3wB,EAAoC2wB,EAAQ,OAApCzrD,EAA4ByrD,EAAQ,QAApC5D,OAAO,MAAG,EAAC,EAAExG,EAAeoK,EAAQ,WAC/DC,EAAc1gE,EAAMvD,SACtB41C,EAAU,GACG,UAAbzC,EACFyC,EAAU,EACY,QAAbzC,IACTyC,EAAU,GAEZ,IAAMlZ,EAAQ,KAAKslC,aAAapsB,GAE1BsuB,EAAa,KAAKjC,aAAavlC,EAAO2W,GAAU+sB,EAAU6D,EAAc,GAExEz1E,EAAQuP,GACZ,CACEiJ,EAAGk9D,EAAWl9D,EACdC,EAAGi9D,EAAWj9D,EACd1H,KAAMykE,EAASzkE,MAEjBgE,GAGIoG,EAASq6D,EAASr6D,OACpBV,EAAQU,EACZ,GAAIrW,EAAMqW,IAAWiwD,EAAY,CAE/B,IAAMrzB,EAAS,KAAK49B,cAAcznC,GAC5B/f,EAAuB,CAAC,EAAG,GACjC1T,EAAQmU,GAAYmpB,EAAQ5pB,GAAI,E,CAElC,GAAI1T,EAAO,CACT,IAAMuT,EAASiyC,GAAiByV,EAAYj7D,GAC5Cza,EAAMguB,OAASA,C,CAEjB,OAAOhuB,CACT,EAGQixE,EAAAA,UAAAA,UAAR,SAAkBl6C,G,MACV6+C,EAAa,KAAKC,gBAClBC,EAAa,KAAK5P,SAASnvC,EAAO,CACtCnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,aACNR,MAAO41E,KAGW,QAApB,EAAG,KAAKznE,IAAI,gBAAQ,eAAE2jE,cACpB,KAAKiE,oBAAoBh/C,EAAO++C,EAAYF,EAAW5nD,OAE3D,EAEQijD,EAAAA,UAAAA,oBAAR,SAA4Bl6C,EAAe++C,EAAoB9nD,GAC7D,IAAMgoD,EAAmB,KAAKrQ,SAAS5uC,EAAO,CAC5Cv2B,KAAM,mBACN0yB,GAAI,KAAK+c,eAAe,iBAGpB,EAAyB6lC,EAAWr/C,UAAlCL,EAAI,OAAEE,EAAI,OAAEhhB,EAAM,SAClB,EAAc,KAAKnH,IAAI,SAAQ,UACjCyjE,EAAU,EACVrpE,EAAI+M,EAAS,EACbyqC,EAAax3C,EAAI,EACjB0tE,EAAS7/C,EAAOw7C,EAChBsE,EAAS5/C,EAAOhhB,EAAS,EAGzB,EAAW,CAAC2gE,EAAS1tE,EAAG2tE,EAAS3tE,GAAhCsX,EAAE,KAAEC,EAAE,KACP,EAAW,CAACD,EAAKtX,EAAGuX,EAAKvX,GAAxBwQ,EAAE,KAAEG,EAAE,KACP,EAAW,CAAC2G,EAAI3G,EAAK3Q,GAApB0Q,EAAE,KAAEG,EAAE,KACP,EAAW,CAAC68D,EAAQn2D,EAAKvX,GAAxByW,EAAE,KAAEC,EAAE,KAEP,EAAW,CAACg3D,EAAS1tE,EAAG2tE,EAAS5gE,EAAS,GAAzC4J,EAAE,KAAEC,EAAE,KACP,EAAW,CAACD,EAAIC,EAAK4gC,GAApBo2B,EAAE,KAAEC,EAAE,KACP,EAAW,CAACD,EAAIC,EAAKr2B,GAApBs2B,EAAE,KAAEC,EAAE,KACP,EAAW,CAACD,EAAIC,EAAS,EAAJ/tE,EAAQ,GAA5BguE,EAAE,KAAEC,EAAE,KACb,KAAKtQ,SAAS8P,EAAkB,CAC9BpxE,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,0BACtBpkE,KAAM,8BACNR,OAAK,SACH+P,KAAM,CACJ,CAAC,IAAK8P,EAAIC,GACV,CAAC,IAAKvX,EAAGA,EAAG,EAAG,EAAG,EAAGwQ,EAAIG,GACzB,CAAC,IAAK3Q,EAAGA,EAAG,EAAG,EAAG,EAAG0Q,EAAIG,GACzB,CAAC,IAAK7Q,EAAGA,EAAG,EAAG,EAAG,EAAGyW,EAAIC,GACzB,CAAC,IAAK1W,EAAGA,EAAG,EAAG,EAAG,EAAGsX,EAAIC,GACzB,CAAC,IAAKZ,EAAIC,GACV,CAAC,IAAKg3D,EAAIC,GACV,CAAC,IAAKC,EAAIC,GACV,CAAC,IAAKC,EAAIC,IAEZz2B,UAAS,EACT/xB,OAAM,GACH6jD,KAIP,KAAK3L,SAAS8P,EAAkB,CAC9BpxE,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,0BACtBpkE,KAAM,8BACNR,MAAO,CACLwY,EAAGy9D,EACHx9D,EAAGy9D,EAAS5gE,EAAS,EACrB3D,MAAO2D,EACPA,OAAM,EACNsrC,OAAQ,OACRgZ,KAAM,OACNzpC,QAAS,EACTnC,OAAM,EACN2gB,OAAQ,YAId,EAEQsiC,EAAAA,UAAAA,gBAAR,SAAwBvmB,EAAM3zB,GAC5B,IAAM0/C,EAAS,KAAKC,cAAchsB,GAClC,GAAI+rB,EAAO3zE,OAAQ,CACjB,IAAMyuE,EAAa,KAAKpjE,IAAI,cAEtBkmE,EAAU,KAAKzP,aAAa,SAASla,EAAKx3B,IAC1CyjD,EAAa5/C,EAAMk2C,SAASoH,GAClC,GAAIsC,EAAY,CACd,IAAMC,EAAkB9F,GAAepmB,EAAM,QAAS6mB,GACtDqF,GAAmBD,EAAWpnD,KAAKqnD,E,CAErC,IAAMC,EAAa,KAAKjS,aAAa,YAAYla,EAAKx3B,IAChD4jD,EAAgB//C,EAAMk2C,SAAS4J,GACrC,GAAIC,EAAe,CACjB,IAAMC,EAAqBjG,GAAepmB,EAAM,WAAY6mB,GAC5DwF,GAAsBD,EAAcvnD,KAAKwnD,E,EAG/C,EAEQ9F,EAAAA,UAAAA,iBAAR,SAAyBvmB,GACvB,IAAM+rB,EAAS,KAAKC,cAAchsB,GAC5B6mB,EAAa,KAAKpjE,IAAI,cACtB6mE,EAAW,KAAK7mE,IAAI,SACpBwoE,EAAa,KAAK/K,oBAAoB,SAASlhB,EAAKx3B,IACpD8jD,EAAc,KAAK7oE,IAAI,YACvB2oE,EAAgB,KAAKlL,oBAAoB,YAAYlhB,EAAKx3B,IAEhE,GAAIujD,EAAO3zE,OAAQ,CACjB,GAAI6zE,EAAY,CACd,IAAMC,EAAkB9F,GAAepmB,EAAM,QAAS6mB,GACtDqF,GAAmBD,EAAWpnD,KAAKqnD,E,CAErC,GAAIE,EAAe,CACjB,IAAMC,EAAqBjG,GAAepmB,EAAM,WAAY6mB,GAC5DwF,GAAsBD,EAAcvnD,KAAKwnD,E,OAGvCJ,GACFA,EAAWpnD,KAAKylD,EAASjgE,OAEvB+hE,GACFA,EAAcvnD,KAAKynD,EAAYjiE,MAGrC,EACF,EAtrBA,CAAqEqvD,IAwrBrE,MC9rBA,SAAS6S,GAAc9N,EAAqBgK,EAAoB9J,EAAqB1kB,GACnF,IAAMxzB,EAAWgiD,EAAW/hD,cACxBs4C,GAAe,EAKnB,OAJAxkE,EAAKisB,GAAU,SAAC03C,GACd,IAAMzjE,EAAMgkE,GAAcD,EAAYN,EAAOQ,EAAa1kB,GAC1D+kB,EAAeA,GAAgBtkE,CACjC,IACOskE,CACT,CAEM,SAAUwN,KACd,OAAOC,EACT,CAEM,SAAUC,GAAajO,EAAqBgK,EAAoB9J,GACpE,OAAO4N,GAAc9N,EAAYgK,EAAY9J,EAAa,OAC5D,CAEM,SAAU8N,GAAahO,EAAqBgK,EAAoB9J,GACpE,OAAO4N,GAAc9N,EAAYgK,EAAY9J,EAAa,OAC5D,CAEM,SAAUgO,GAAelO,EAAqBgK,EAAoB9J,GACtE,OAAO4N,GAAc9N,EAAYgK,EAAY9J,EAAa,SAC5D,CCrBA,SAASiO,GAASzO,GAChB,IAAM76C,EAAS66C,EAAMt5C,KAAK,UAC1B,OAAOvB,GAAwB,IAAdA,EAAO,EAC1B,CAEA,SAASupD,GAAe1O,GACtB,IAAMpuD,EAAQ68D,GAASzO,GAAS1I,GAAiB0I,EAAMt5C,KAAK,WAAa,EACzE,OAAO9U,EAAQ,GACjB,CAmBA,SAAS+8D,GAAUrO,EAAqB5tB,EAAiBqW,EAAkB6lB,GACzE,IAAIC,GAAU,EACRj9D,EAAQ88D,GAAeh8B,GACvB5uB,EAAWw8C,EACbpiE,KAAK0D,IAAImnD,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,MACvCxoB,KAAK0D,IAAImnD,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,MACrCooD,GAAYxO,EAChBvX,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,KAC9BqiC,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,MAC5BgsB,EAAM9kB,UACNm7B,EAAOn7B,UAEX,GAAI0yC,EAAY,CACd,IAAM7jD,EAAQve,KAAK0D,IAAI1D,KAAKiS,IAAIyB,IAE9Bi9D,EADErW,GAAK/7C,EAAO,EAAGve,KAAK+D,GAAK,KACjB6sE,EAAShmE,MAAQ8lE,EAAS9qD,EAE1BgrD,EAASriE,OAASgQ,EAAQmyD,EAAS9qD,C,KAE1C,CACCrH,EAAQve,KAAK0D,IAAI1D,KAAKoS,IAAIsB,IAE9Bi9D,EADErW,GAAK/7C,EAAO,EAAGve,KAAK+D,GAAK,KACjB6sE,EAAShmE,MAAQ8lE,EAAS9qD,EAE1BgrD,EAASriE,OAASgQ,EAAQmyD,EAAS9qD,C,CAIjD,OAAO+qD,CACT,CAGA,SAASE,GAAWzO,EAAqB0O,EAAqBC,EAAmBC,GAC/E,IAAMN,GAAoB,OAAX,QAAW,IAAXM,OAAW,EAAXA,EAAaN,SAAU,EAChC9O,EAASkP,EACZzmD,cACA9lB,QACAlH,QAAO,SAAC5B,GAAS,SAAK2L,IAAI,UAAT,IACpB,IAAKw6D,EAAO7lE,OACV,OAAO,EAET,IAAIk1E,GAAU,EACVF,GAEFnP,EAAOnkD,UAKT,IAHA,IAAME,EAAQikD,EAAO7lE,OACfy4C,EAAQotB,EAAO,GACjB9hE,EAAO00C,EACFl2C,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAMwjE,EAAQF,EAAOtjE,GAGf4yE,GAFUpP,EAAMpyC,UAEP+gD,GAAUrO,EAAYtiE,EAAMgiE,EAAO4O,IAC9CQ,GACFpP,EAAMhF,OACNmU,GAAU,GAEVnxE,EAAOgiE,C,CAGX,OAAOmP,CACT,CAGA,SAASE,GAAW/O,EAAqB0O,EAAqBE,GAC5D,IAAMN,GAAoB,OAAX,QAAW,IAAXM,OAAW,EAAXA,EAAaN,SAAU,EAChC9O,EAASkP,EAAYzmD,cAAc9lB,QACzC,GAAIq9D,EAAO7lE,OAAS,EAElB,OAAO,EAET,IAAIk1E,GAAU,EACRz8B,EAAQotB,EAAO,GACfwP,EAAY58B,EAAM9kB,UAClBm7B,EAAS+W,EAAO,GAChBjkD,EAAQikD,EAAO7lE,OACf2X,EAAQ88D,GAAeh8B,GACvB5uB,EAAWw8C,EACbpiE,KAAK0D,IAAImnD,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,MACvCxoB,KAAK0D,IAAImnD,EAAOriC,KAAK,KAAOgsB,EAAMhsB,KAAK,MACvC0I,EAAW,EACf,GAAIkxC,EAAY,CAEd,IAAM7jD,EAAQve,KAAK0D,IAAI1D,KAAKiS,IAAIyB,IAChC,GAAI4mD,GAAK/7C,EAAO,EAAGve,KAAK+D,GAAK,KAAM,CACjC,IAAM8G,EAAWq3D,GAAiBN,GAClC1wC,GAAYrmB,EAAW6lE,GAAU9qD,C,MAEjCsL,GAAYkgD,EAAU7iE,OAASgQ,EAAQmyD,GAAU9qD,C,KAE9C,CAECrH,EAAQve,KAAK0D,IAAI1D,KAAKoS,IAAIsB,IAChC,GAAI4mD,GAAK/7C,EAAO,EAAGve,KAAK+D,GAAK,KAAM,CAC3B8G,EAAWq3D,GAAiBN,GAClC1wC,GAAYrmB,EAAW6lE,GAAU9qD,C,MAEjCsL,GAAYkgD,EAAU7iE,OAASgQ,EAAQmyD,GAAU9qD,C,CAIrD,GAAIsL,EAAW,EAAG,CAChBA,EAAWlxB,KAAKswD,KAAKp/B,GACrB,IAAK,IAAI5yB,EAAI,EAAGA,EAAIqf,EAAOrf,IACrBA,EAAI4yB,IAAa,IAEnB0wC,EAAOtjE,GAAGw+D,OACVmU,GAAU,E,CAIhB,OAAOA,CACT,CAEM,SAAUd,KACd,OAAOkB,EACT,CASM,SAAUC,GACdlP,EACA0O,EACAxO,EACA0O,GAEA,OAAOH,GAAWzO,EAAY0O,GAAa,EAAOE,EACpD,CASM,SAAUO,GACdnP,EACA0O,EACAxO,EACA0O,GAEA,OAAOH,GAAWzO,EAAY0O,GAAa,EAAME,EACnD,CASM,SAAUQ,GACdpP,EACA0O,EACAxO,EACA0O,GAEA,IAAMN,GAAoB,OAAX,QAAW,IAAXM,OAAW,EAAXA,EAAaN,SAAU,EAChC9O,EAASkP,EAAYzmD,cAAc9lB,QACzC,GAAIq9D,EAAO7lE,QAAU,EAEnB,OAAO,EAQT,IANA,IAAIk1E,GAAU,EACRtzD,EAAQikD,EAAO7lE,OACfy4C,EAAQotB,EAAO,GACf7gE,EAAO6gE,EAAOjkD,EAAQ,GACxB8zD,EAAWj9B,EAENl2C,EAAI,EAAGA,EAAIqf,EAAQ,EAAGrf,IAAK,CAClC,IAAMwjE,EAAQF,EAAOtjE,GAGf4yE,GAFUpP,EAAMpyC,UAEP+gD,GAAUrO,EAAYqP,EAAU3P,EAAO4O,IAClDQ,GACFpP,EAAMhF,OACNmU,GAAU,GAEVQ,EAAW3P,C,CAIf,IAAM6O,EAAUF,GAAUrO,EAAYqP,EAAU1wE,EAAM2vE,GAMtD,OALIC,IAEFc,EAAS3U,OACTmU,GAAU,GAELA,CACT,CASM,SAAUI,GACdjP,EACA0O,EACAxO,EACA0O,GAEA,IAAIC,EAAUE,GAAW/O,EAAY0O,EAAaE,GAOlD,OAJIH,GAAWzO,EAAY0O,GAAa,KACtCG,GAAU,GAGLA,CACT,CASM,SAAUS,GACdtP,EACA0O,EACAxO,EACA0O,GAEA,IAAMpP,EAASkP,EAAYzmD,cAAc9lB,QACrC0sE,EAAUE,GAAW/O,EAAY0O,EAAaE,GAElD,GAAIpP,EAAO7lE,OAAS,EAAG,CACrB,IAAMy4C,EAAQotB,EAAO,GACf7gE,EAAO6gE,EAAOA,EAAO7lE,OAAS,GAG/By4C,EAAMptC,IAAI,aACbotC,EAAMqoB,OACFgU,GAAWzO,EAAY0O,GAAa,EAAOE,KAC7CC,GAAU,IAKTlwE,EAAKqG,IAAI,aACZrG,EAAK87D,OACDgU,GAAWzO,EAAY0O,GAAa,EAAME,KAC5CC,GAAU,G,CAKhB,OAAOA,CACT,CC9RA,SAASU,GAAe/P,EAAoBluD,GAC1CvV,EAAKyjE,GAAQ,SAACE,GACZ,IAAMrwD,EAAIqwD,EAAMt5C,KAAK,KACf9W,EAAIowD,EAAMt5C,KAAK,KACfvB,EAASiyC,GAAiB,CAAEznD,EAAC,EAAEC,EAAC,GAAIgC,GAC1CouD,EAAMt5C,KAAK,SAAUvB,EACvB,GACF,CAKA,SAAS2qD,GACPxP,EACA0O,EACAxO,EACAjyB,GAEA,IAAMuxB,EAASkP,EAAYzmD,cAC3B,IAAKu3C,EAAO7lE,OACV,OAAO,EAET,IAAKqmE,GAAcR,EAAO7lE,OAAS,EAEjC,OAAO,EAGT,IAAM8O,EAAWq3D,GAAiBN,GAC9B6O,GAAY,EAChB,GAAIrO,EAEFqO,IAAcnO,GAAez3D,EAAWy3D,MACnC,CAEL,IAAMuP,EAAY7xE,KAAK0D,IAAIk+D,EAAO,GAAGp5C,KAAK,KAAOo5C,EAAO,GAAGp5C,KAAK,MAChEioD,EAAY5lE,EAAWgnE,C,CAGzB,GAAIpB,EAAW,CACb,IAAM/8D,EAAQ28B,EAASiyB,EAAaz3D,GACpC8mE,GAAe/P,EAAQluD,E,CAEzB,OAAO+8D,CACT,CAEM,SAAUN,KACd,OAAO2B,EACT,CAUM,SAAUA,GACd1P,EACA0O,EACAxO,EACAyP,GAEA,OAAOH,GAAYxP,EAAY0O,EAAaxO,GAAa,WACvD,OAAIn/D,GAAS4uE,GACJA,EAEF3P,EAAagC,GAAAA,mBAA2BA,GAAAA,oBACjD,GACF,CASM,SAAU4N,GAAa5P,EAAqB0O,EAAqBxO,GACrE,OAAOsP,GAAYxP,EAAY0O,EAAaxO,GAAa,SAACvmE,EAAQ8O,GAChE,IAAK9O,EAEH,OAAOqmE,EAAagC,GAAAA,mBAA2BA,GAAAA,qBAEjD,GAAIhC,EAEF,OAAQpiE,KAAKmmB,KAAKpqB,EAAS8O,GAE3B,IAAI6I,EAAQ,EAWZ,OAVI3X,EAAS8O,EAEX6I,EAAQ1T,KAAK+D,GAAK,GAElB2P,EAAQ1T,KAAK0U,KAAK3Y,EAAS8O,GACvB6I,EAAQ1T,KAAK+D,GAAK,IAEpB2P,EAAQ1T,KAAK+D,GAAK,IAGf2P,CAEX,GACF,CCpGA,I,GAAA,4B,8CAiMA,QAjMmBzD,EAAAA,EAAAA,IAAAA,EAAAA,GACVgiE,EAAAA,UAAAA,cAAP,WACE,IAAMniE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,OACNo+D,aAAc,SAKdrpD,MAAO,KAKP2I,IAAK,MAET,EAGO02D,EAAAA,UAAAA,YAAP,WACE,IAAMr/D,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACf4B,EAAO,GAGb,OAFAA,EAAKxL,KAAK,CAAC,IAAKoV,EAAMnB,EAAGmB,EAAMlB,IAC/B1I,EAAKxL,KAAK,CAAC,IAAK+d,EAAI9J,EAAG8J,EAAI7J,IACpB1I,CACT,EAGUipE,EAAAA,UAAAA,mBAAV,WACE,IAAMr/D,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACfyS,EAAO9J,EAAAA,UAAMuuD,mBAAkB,WAC/BnvC,EAAOnvB,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,EAAGoI,EAAKpI,GACrC6d,EAAOtvB,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,EAAGmI,EAAKnI,GACrC2d,EAAOrvB,KAAKC,IAAI2S,EAAMnB,EAAG8J,EAAI9J,EAAGoI,EAAKwV,MACrCE,EAAOvvB,KAAKC,IAAI2S,EAAMlB,EAAG6J,EAAI7J,EAAGmI,EAAK0V,MAC3C,MAAO,CACL9d,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,EAEnB,EAEU2iD,EAAAA,UAAAA,WAAV,WACE,IAAMr/D,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACrB,OAAO7D,GAAcqP,EAAMnB,EAAG8J,EAAI9J,EACpC,EAEUwgE,EAAAA,UAAAA,aAAV,WACE,IAAMr/D,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACrB,OAAO7D,GAAcqP,EAAMlB,EAAG6J,EAAI7J,EACpC,EAEUugE,EAAAA,UAAAA,aAAV,SAAuBpuB,GACrB,IAAMooB,EAAO,KACPr5D,EAAQq5D,EAAK7kE,IAAI,SACjBmU,EAAM0wD,EAAK7kE,IAAI,OACf8qE,EAAU32D,EAAI9J,EAAImB,EAAMnB,EACxB0gE,EAAU52D,EAAI7J,EAAIkB,EAAMlB,EAC9B,MAAO,CACLD,EAAGmB,EAAMnB,EAAIygE,EAAUruB,EACvBnyC,EAAGkB,EAAMlB,EAAIygE,EAAUtuB,EAE3B,EAGUouB,EAAAA,UAAAA,cAAV,SAAwBn0B,GACtB,IAAMs0B,EAAa,KAAKxD,gBAClByD,EAAS5qD,GAAe,CAAC,EAAG,GAAI2qD,GAChCnkB,EAAS,KAAK7mD,IAAI,kBAClBkrE,EAAmC,CAACD,EAAO,IAAiB,EAAbA,EAAO,IAC5D,OAAO5qD,GAAW,CAAC,EAAG,GAAI6qD,EAAgBx0B,EAASmQ,EACrD,EAGUgkB,EAAAA,UAAAA,cAAV,WACE,IAAMr/D,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACrB,MAAO,CAACmU,EAAI9J,EAAImB,EAAMnB,EAAG8J,EAAI7J,EAAIkB,EAAMlB,EACzC,EAEUugE,EAAAA,UAAAA,eAAV,SAAyB7F,GAAzB,WACQhK,EAAa,KAAKA,aAClBmQ,EAAe,KAAKA,eAE1B,GAAKnQ,GAAemQ,EAApB,CAGA,IAAMtE,EAAW,KAAK7mE,IAAI,SACpBqnE,EAAW,KAAKrnE,IAAI,SACpBkjE,EAAsB,KAAKljE,IAAI,uBAC/BorE,EAAcvE,EAASnwB,OACzBwkB,EAAcgI,EACdoE,EAAc,EACd+D,EAAe,EACfhE,IACFC,EAAcD,EAASzgE,MAAMvD,SAC7BgoE,EAAehE,EAAS5D,SAEtBvI,IACFA,EAAcA,EAAckQ,EAAcC,EAAe/D,GAE3D,IAAMnE,EAAe,KAAKnjE,IAAI,gBAM9B,GALAjJ,EAAKosE,GAAc,SAAC9wE,GACdw0E,EAASx0E,IAASmW,EAAK8iE,kBAAkBj5E,IAC3CmW,EAAK+iE,mBAAmBl5E,EAAMw0E,EAASx0E,GAAO2yE,EAAY9J,EAE9D,IACImM,GACE1wE,EAAM0wE,EAAS3wB,QAAS,CAE1B,IAAMjkC,EAAOuyD,EAAWz8C,gBAClB9f,EAASuyD,EAAavoD,EAAKjP,MAAQiP,EAAKtL,OAE9CkgE,EAAS3wB,OAAS00B,EAAc3iE,EAAS4iE,EAAe/D,EAAc,C,EAG5E,EAMQuD,EAAAA,UAAAA,kBAAR,SAA0Bx4E,GACxB,IAAMw0E,EAAW,KAAK7mE,IAAI,SAG1B,MAAa,eAAT3N,GACKsE,EAAMkwE,EAAS75D,OAK1B,EAEQ69D,EAAAA,UAAAA,mBAAR,SAA2Bx4E,EAAcE,EAAYyyE,EAAoB9J,GAAzE,WACQF,EAAa,KAAKA,aACpBwQ,GAAc,EACZC,EAAOC,EAAYr5E,GACzB,IAAc,IAAVE,EAAgB,CACD,KAAKyN,IAAI,SAE1BwrE,EAAcC,EAAK1C,YAAL0C,CAAkBzQ,EAAYgK,EAAY9J,E,MACnD,GAAIxjE,EAAWnF,GAEpBi5E,EAAcj5E,EAAMyoE,EAAYgK,EAAY9J,QACvC,GAAI9jE,EAAS7E,GAAQ,CAE1B,IAAMo5E,EAAap5E,EACfk5E,EAAKE,EAAWl1E,QAClB+0E,EAAcC,EAAKE,EAAWl1E,MAAMukE,EAAYgK,EAAY9J,EAAayQ,EAAWjjE,K,MAE7E+iE,EAAKl5E,KAEdi5E,EAAcC,EAAKl5E,GAAOyoE,EAAYgK,EAAY9J,IAEpD,GAAa,eAAT7oE,GAEF,GAAIm5E,EAAa,CACf,IAAMhR,EAASwK,EAAW/hD,cACpB2oD,EAAiB,KAAK5rE,IAAI,kBAChCjJ,EAAKyjE,GAAQ,SAACE,GACZ,IAAM9uB,EAAY8uB,EAAMt5C,KAAK,aAC7B,GAAkB,WAAdwqB,EAAwB,CAE1B,IAAMigC,EAAWD,EAAiB,EAAI,MAAQ,QAC9ClR,EAAMt5C,KAAK,YAAayqD,E,CAE5B,G,OAEG,GAAa,aAATx5E,EAAqB,CAC9B,IAAM2wB,EAAWgiD,EAAW/hD,cAAc9lB,MAAM,GAChDpG,EAAKisB,GAAU,SAAC03C,GACTA,EAAM16D,IAAI,aACTwI,EAAKxI,IAAI,eAEXwI,EAAKsjE,kBAAkBpR,GAEzBA,EAAM3gE,SAEV,G,CAEJ,EACF,EAjMA,CAAmB+oE,IAmMnB,MCpMA,4B,8CA0KA,QA1KqBj6D,EAAAA,EAAAA,IAAAA,EAAAA,GACZkjE,EAAAA,UAAAA,cAAP,WACE,IAAMrjE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,SACNo+D,aAAc,SACdnmB,OAAQ,KACRuhB,OAAQ,KACRtnB,YAAa/vC,KAAK+D,GAAK,EACvBisC,SAAqB,EAAVhwC,KAAK+D,GAAU,GAE9B,EAEUovE,EAAAA,UAAAA,YAAV,WACE,IAAMr9B,EAAS,KAAK1uC,IAAI,UAClBqK,EAAIqkC,EAAOrkC,EACXC,EAAIokC,EAAOpkC,EACXE,EAAK,KAAKxK,IAAI,UACdyK,EAAKD,EACLm+B,EAAa,KAAK3oC,IAAI,cACtB4oC,EAAW,KAAK5oC,IAAI,YAEtB4B,EAAO,GACX,GAAIhJ,KAAK0D,IAAIssC,EAAWD,KAA0B,EAAV/vC,KAAK+D,GAC3CiF,EAAO,CAAC,CAAC,IAAKyI,EAAGC,EAAIG,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAGJ,EAAGC,EAAIG,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAGJ,EAAGC,EAAIG,GAAK,CAAC,UAC5F,CACL,IAAMujC,EAAa,KAAKilB,eAAetqB,GACjCi1B,EAAW,KAAK3K,eAAerqB,GAC/BojC,EAAQpzE,KAAK0D,IAAIssC,EAAWD,GAAc/vC,KAAK+D,GAAK,EAAI,EACxDsvE,EAAQtjC,EAAaC,EAAW,EAAI,EAC1ChnC,EAAO,CACL,CAAC,IAAKyI,EAAGC,GACT,CAAC,IAAK0jC,EAAW3jC,EAAG2jC,EAAW1jC,GAC/B,CAAC,IAAKE,EAAIC,EAAI,EAAGuhE,EAAOC,EAAOrO,EAASvzD,EAAGuzD,EAAStzD,GACpD,CAAC,IAAKD,EAAGC,G,CAGb,OAAO1I,CACT,EAEUmqE,EAAAA,UAAAA,aAAV,SAAuBtvB,GACrB,IAAM9T,EAAa,KAAK3oC,IAAI,cACtB4oC,EAAW,KAAK5oC,IAAI,YACpBsM,EAAQq8B,GAAcC,EAAWD,GAAc8T,EACrD,OAAO,KAAKwW,eAAe3mD,EAC7B,EAGUy/D,EAAAA,UAAAA,cAAV,SAAwBr1B,EAAgB3W,GACtC,IAAM2O,EAAS,KAAK1uC,IAAI,UAClB4pC,EAA2B,CAAC7J,EAAM11B,EAAIqkC,EAAOrkC,EAAG01B,EAAMz1B,EAAIokC,EAAOpkC,GACjEu8C,EAAS,KAAK7mD,IAAI,kBAClBksE,EAAS7rD,GAAYupB,GAE3B,OADAvpB,GAAWupB,EAAQA,EAASid,EAASnQ,EAAUw1B,GACxCtiC,CACT,EAGUmiC,EAAAA,UAAAA,cAAV,SAAwBhsC,GACtB,IAAM2O,EAAS,KAAK1uC,IAAI,UAClB4pC,EAAS,CAAC7J,EAAM11B,EAAIqkC,EAAOrkC,EAAG01B,EAAMz1B,EAAIokC,EAAOpkC,GACrD,MAAO,CAACs/B,EAAO,IAAK,EAAIA,EAAO,GACjC,EAGQmiC,EAAAA,UAAAA,eAAR,SAAuBz/D,EAAe2jD,GACpC,IAAMvhB,EAAS,KAAK1uC,IAAI,UAExB,OADAiwD,EAASA,GAAU,KAAKjwD,IAAI,UACrB,CACLqK,EAAGqkC,EAAOrkC,EAAIzR,KAAKiS,IAAIyB,GAAS2jD,EAChC3lD,EAAGokC,EAAOpkC,EAAI1R,KAAKoS,IAAIsB,GAAS2jD,EAEpC,EAMQ8b,EAAAA,UAAAA,kBAAR,SAA0B15E,GACxB,IAAMw0E,EAAW,KAAK7mE,IAAI,SAG1B,MAAa,eAAT3N,GACKsE,EAAMkwE,EAAS75D,OAK1B,EAEU++D,EAAAA,UAAAA,eAAV,SAAyB/G,GAAzB,WACQ6B,EAAW,KAAK7mE,IAAI,SACpBqnE,EAAW,KAAKrnE,IAAI,SACpBkjE,EAAsB,KAAKljE,IAAI,uBAC/BorE,EAAcvE,EAASnwB,OACzBwkB,EAAcgI,EACdoE,EAAc,EACd+D,EAAe,EACfhE,IACFC,EAAcD,EAASzgE,MAAMvD,SAC7BgoE,EAAehE,EAAS5D,SAEtBvI,IACFA,EAAcA,EAAckQ,EAAcC,EAAe/D,GAE3D,IAAMnE,EAAe,KAAKnjE,IAAI,gBAM9B,GALAjJ,EAAKosE,GAAc,SAAC9wE,GACdw0E,EAASx0E,IAASmW,EAAK8iE,kBAAkBj5E,IAC3CmW,EAAK+iE,mBAAmBl5E,EAAMw0E,EAASx0E,GAAO2yE,EAAY9J,EAE9D,IACImM,GACE1wE,EAAM0wE,EAAS3wB,QAAS,CAElB,IAAQjuC,EAAWu8D,EAAWz8C,gBAAe,OAErD8+C,EAAS3wB,OAAS00B,EAAc3iE,EAAS4iE,EAAe/D,EAAc,C,CAG5E,EAEQyE,EAAAA,UAAAA,mBAAR,SAA2B15E,EAAcE,EAAYyyE,EAAoB9J,GAAzE,WACMsQ,GAAc,EACZC,EAAOC,EAAYr5E,GACzB,GAAI6oE,EAAc,EAChB,IAAc,IAAV3oE,EAEFi5E,EAAcC,EAAK1C,YAAL0C,EAAkB,EAAOzG,EAAY9J,QAC9C,GAAIxjE,EAAWnF,GAEpBi5E,EAAcj5E,GAAM,EAAOyyE,EAAY9J,QAClC,GAAI9jE,EAAS7E,GAAQ,CAE1B,IAAMo5E,EAAap5E,EACfk5E,EAAKE,EAAWl1E,QAClB+0E,EAAcC,EAAKE,EAAWl1E,OAAM,EAAOuuE,EAAY9J,EAAayQ,EAAWjjE,K,MAExE+iE,EAAKl5E,KAEdi5E,EAAcC,EAAKl5E,IAAO,EAAOyyE,EAAY9J,IAGjD,GAAa,eAAT7oE,GAEF,GAAIm5E,EAAa,CACf,IAAMhR,EAASwK,EAAW/hD,cACpB2oD,EAAiB,KAAK5rE,IAAI,kBAChCjJ,EAAKyjE,GAAQ,SAACE,GACZ,IAAM9uB,EAAY8uB,EAAMt5C,KAAK,aAC7B,GAAkB,WAAdwqB,EAAwB,CAE1B,IAAMigC,EAAWD,EAAiB,EAAI,MAAQ,QAC9ClR,EAAMt5C,KAAK,YAAayqD,E,CAE5B,G,OAEG,GAAa,aAATx5E,EAAqB,CAC9B,IAAM2wB,EAAWgiD,EAAW/hD,cAAc9lB,MAAM,GAChDpG,EAAKisB,GAAU,SAAC03C,GACTA,EAAM16D,IAAI,aACTwI,EAAKxI,IAAI,eAEXwI,EAAKsjE,kBAAkBpR,GAEzBA,EAAM3gE,SAEV,G,CAEJ,EACF,EA1KA,CAAqB+oE,IA4KrB,MC5KA,4B,8CA8HA,QA9HoFj6D,EAAAA,EAAAA,IAAAA,EAAAA,GAC3EsjE,EAAAA,UAAAA,cAAP,WACE,IAAMzjE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,YACNoE,KAAM,OACN+vC,KAAM,GACN5jC,KAAM,KACNwpE,eAAgB,GAChBxyD,SAAS,EACTC,WAAY,CACV2sB,KAAM,CACJ5/B,MAAO,CACLgrC,UAAW,EACXa,OAAQuqB,GAAAA,YAGZp6D,KAAM,CACJ4zC,SAAU,QACVE,OAAQ,GACRumB,YAAY,EACZrB,QAAS,KACTh1D,MAAO,CACL6kD,KAAMuR,GAAAA,UACNpxB,UAAW,SACXD,aAAc,SACd7oC,WAAYk6D,GAAAA,aAGhBoP,eAAgB,CACd7Z,QAAS,EACT3rD,MAAO,CACL6rC,OAAQuqB,GAAAA,cAKlB,EAEUmP,EAAAA,UAAAA,YAAV,SAAsBvjD,GAChB,KAAK5oB,IAAI,SACX,KAAKk9D,WAAWt0C,GAEd,KAAK5oB,IAAI,UACX,KAAKy+D,WAAW71C,GAChB,KAAKyjD,iBAAiBzjD,GAE1B,EAWUujD,EAAAA,UAAAA,WAAV,SAAqBvjD,GACnB,IAAMhmB,EAAO,KAAK5C,IAAI,QACd,EAA+B4C,EAAI,MAA5Bq6D,EAAwBr6D,EAAI,WAAhBg5D,EAAYh5D,EAAI,QAC3C,IAAKjM,EAAMilE,GAAU,CACnB,IAAM0Q,EAAY,KAAK/X,eACnB10C,EAAS,KACb,GAAIo9C,EAAY,CACd,IAAM3wD,EAAQ,KAAK88D,iBACnBvpD,EAASiyC,GAAiBwa,EAAWhgE,E,CAEvC,KAAKyrD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNpE,KAAM,iBACN0yB,GAAI,KAAK0xC,aAAa,QACtB5kE,OAAK,6BACAy6E,GAAS,CACZ1pE,KAAMg5D,EACN/7C,OAAM,IACHjZ,I,CAIX,EAIUulE,EAAAA,UAAAA,WAAV,SAAqBvjD,GACnB,IAAMhnB,EAAO,KAAKqjE,cACZz+B,EAAO,KAAKxmC,IAAI,QAChB4G,EAAQ4/B,EAAK5/B,MACnB,KAAKmxD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNpE,KAAM,iBACN0yB,GAAI,KAAK0xC,aAAa,QACtB5kE,OAAK,SACH+P,KAAI,GACDgF,IAGT,EAGQulE,EAAAA,UAAAA,iBAAR,SAAyBvjD,GACvB,IAAM2jD,EAAS,KAAK9V,aAAa,QAC3BsI,EAAYn2C,EAAMk2C,SAASyN,GAC3BH,EAAiB,KAAKpsE,IAAI,kBAEhC,GAAIosE,GAAkBrN,EAAW,CAC/B,IAAMyN,EAAWzN,EAAUz2C,UACrBiqC,EAAUD,GAAc8Z,EAAe7Z,SACvC3rD,EAAQwlE,EAAexlE,MACvB6lE,EAAkB,KAAK1U,SAASnvC,EAAO,CAC3CnyB,KAAM,OACNpE,KAAM,4BACN0yB,GAAI,KAAK0xC,aAAa,mBACtB5kE,OAAK,SACHwY,EAAGmiE,EAASniE,EAAIkoD,EAAQ,GACxBjoD,EAAGkiE,EAASliE,EAAIioD,EAAQ,GACxB/uD,MAAOgpE,EAAShpE,MAAQ+uD,EAAQ,GAAKA,EAAQ,GAC7CprD,OAAQqlE,EAASrlE,OAASorD,EAAQ,GAAKA,EAAQ,GAC/C1yC,OAAQk/C,EAAU39C,KAAK,WACpBxa,KAGP6lE,EAAgBpQ,Q,CAEpB,EACF,EA9HA,CAAoFpG,IAgIpF,MCnIA,4B,8CAkCA,QAlC4BptD,EAAAA,EAAAA,IAAAA,EAAAA,GACnB6jE,EAAAA,UAAAA,cAAP,WACE,IAAMhkE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,OACNo+D,aAAc,SACdrpD,MAAO,KACP2I,IAAK,MAET,EAGUu4D,EAAAA,UAAAA,eAAV,WACQ,MAAiB,KAAKnP,cAApB/xD,EAAK,QAAE2I,EAAG,MACV,EAAa,KAAKnU,IAAI,QAAO,SAC/BsM,EAAQ1T,KAAKsb,MAAMC,EAAI7J,EAAIkB,EAAMlB,EAAG6J,EAAI9J,EAAImB,EAAMnB,GAClD46B,EAA4B,UAAbuR,EAAuBlqC,EAAQ1T,KAAK+D,GAAK,EAAI2P,EAAQ1T,KAAK+D,GAAK,EACpF,OAAOsoC,CACT,EAEUynC,EAAAA,UAAAA,aAAV,WACQ,MAAiB,KAAKnP,cAApB/xD,EAAK,QAAE2I,EAAG,MACZ,EAAuB,KAAKnU,IAAI,QAA9Bw2C,EAAQ,WAAEE,EAAM,SACxB,OAAO6d,GAAa/oD,EAAO2I,EAAKqiC,EAAUE,EAC5C,EAEUg2B,EAAAA,UAAAA,YAAV,WACQ,MAAiB,KAAKnP,cAApB/xD,EAAK,QAAE2I,EAAG,MAClB,MAAO,CACL,CAAC,IAAK3I,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAK6J,EAAI9J,EAAG8J,EAAI7J,GAErB,EACF,EAlCA,CAA4B6hE,IAoC5B,MCpCA,4B,8CA+DA,QA/D4BtjE,EAAAA,EAAAA,IAAAA,EAAAA,GACnB6jE,EAAAA,UAAAA,cAAP,WACE,IAAMhkE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,SACNo+D,aAAc,SACdnmB,OAAQ,KACRuhB,OAAQ,IACRtnB,YAAa/vC,KAAK+D,GAAK,EACvBisC,SAAqB,EAAVhwC,KAAK+D,GAAU,GAE9B,EAEU+vE,EAAAA,UAAAA,eAAV,WACQ,MAA2B,KAAKnP,cAA9B50B,EAAU,aAAEC,EAAQ,WACpB,EAAa,KAAK5oC,IAAI,QAAO,SAC/BilC,EAA4B,UAAbuR,EAAuB7N,EAAa/vC,KAAK+D,GAAK,EAAIisC,EAAWhwC,KAAK+D,GAAK,EAC5F,OAAOsoC,CACT,EAEUynC,EAAAA,UAAAA,aAAV,WACE,IAAM9pE,EAAO,KAAK5C,IAAI,QACd,EAAqB4C,EAAI,SAAf8zC,EAAW9zC,EAAI,OAC3B,EAA2C,KAAK26D,cAA9C7uB,EAAM,SAAEuhB,EAAM,SAAEtnB,EAAU,aAAEC,EAAQ,WACtCt8B,EAAqB,UAAbkqC,EAAuB7N,EAAaC,EAC5C3D,EAAe,KAAKmkC,iBAAmBxwE,KAAK+D,GAC5CojC,EAAQkzB,GAAevkB,EAAQuhB,EAAQ3jD,GAIvC81B,EAAUxpC,KAAKiS,IAAIo6B,GAAgByR,EACnCpU,EAAU1pC,KAAKoS,IAAIi6B,GAAgByR,EACzC,MAAO,CACLrsC,EAAG01B,EAAM11B,EAAI+3B,EACb93B,EAAGy1B,EAAMz1B,EAAIg4B,EAEjB,EAEUoqC,EAAAA,UAAAA,YAAV,WACQ,MAA2C,KAAKnP,cAA9C7uB,EAAM,SAAEuhB,EAAM,SAAEtnB,EAAU,aAAEC,EAAQ,WACxChnC,EAAO,KACX,GAAIgnC,EAAWD,IAAyB,EAAV/vC,KAAK+D,GAAQ,CAEjC,MAAS+xC,EAAM,EAAZpkC,EAAMokC,EAAM,EACvB9sC,EAAO,CACL,CAAC,IAAKyI,EAAGC,EAAI2lD,GACb,CAAC,IAAKA,EAAQA,EAAQ,EAAG,EAAG,EAAG5lD,EAAGC,EAAI2lD,GACtC,CAAC,IAAKA,EAAQA,EAAQ,EAAG,EAAG,EAAG5lD,EAAGC,EAAI2lD,GACtC,CAAC,K,KAEE,CACL,IAAMjiB,EAAailB,GAAevkB,EAAQuhB,EAAQtnB,GAC5Ci1B,EAAW3K,GAAevkB,EAAQuhB,EAAQrnB,GAC1CojC,EAAQpzE,KAAK0D,IAAIssC,EAAWD,GAAc/vC,KAAK+D,GAAK,EAAI,EACxDsvE,EAAQtjC,EAAaC,EAAW,EAAI,EAC1ChnC,EAAO,CACL,CAAC,IAAKosC,EAAW3jC,EAAG2jC,EAAW1jC,GAC/B,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG+b,EAAOC,EAAOrO,EAASvzD,EAAGuzD,EAAStzD,G,CAGhE,OAAO1I,CACT,EACF,EA/DA,CAA4BuqE,IAiE5B,MCtEaQ,GAAkB,eAClBC,GAAoBD,GAAe,QACnCE,GAAoBF,GAAe,QCGhD,UAEE/wD,GAAC,GAAGkxD,IAA6B,CAC/Bt2B,SAAU,YAEZ56B,GAAC,GAAGkxD,IAA4B,CAC9Bt2B,SAAU,WACVu2B,gBAAiB,uBAEnBnxD,GAAC,GAAGkxD,IAA4B,CAC9Bt2B,SAAU,WACVrgB,MAAO6mC,GAAAA,UACPl6D,WAAYk6D,GAAAA,YACb,ICXH,4B,8CAoIA,QApI2En0D,EAAAA,EAAAA,IAAAA,EAAAA,GAClEmkE,EAAAA,UAAAA,cAAP,WACE,IAAMtkE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,YACNoE,KAAM,OACNo+D,aAAc,SACdrpD,MAAO,CAACnB,EAAG,EAAGC,EAAG,GACjB6J,IAAK,CAAC9J,EAAG,EAAGC,EAAG,GACfsP,SAAS,EACThX,KAAM,KACNw+D,aAAc,eAAe0L,GAAwB,WACrDG,aAAc,eAAeH,GAAuB,WACpDI,QAAS,gBAAgBJ,GAAuB,qBAChDhL,UAAW,KACXT,mBAAoByL,GACpBjL,cAAesL,GACftzD,WAAY,CACVjX,KAAM,CACJ4zC,SAAU,QACVolB,QAAS,KACTmJ,MAAO,SACPruB,OAAQ,MAIhB,EAEAs2B,EAAAA,UAAAA,OAAA,WACE,KAAKI,YACL,KAAKhL,eACP,EAGQ4K,EAAAA,UAAAA,cAAR,WACE,IAAM3mE,EAAY,KAAKi7D,eACjB2L,EAAe,KAAKjtE,IAAI,gBACxBqtE,EAAcpnE,GAAUgnE,GAC9B5mE,EAAU07B,YAAYsrC,GACtB,KAAKC,WAAWR,GAAyBO,GACzC,KAAK/yE,IAAI,cAAe+yE,EAC1B,EAGQL,EAAAA,UAAAA,aAAR,WACQ,MAAiB,KAAKzP,cAApB/xD,EAAK,QAAE2I,EAAG,MACZ,EAAuB,KAAKnU,IAAI,QAA9Bw2C,EAAQ,WAAEE,EAAM,SACxB,OAAO6d,GAAa/oD,EAAO2I,EAAKqiC,EAAUE,EAC5C,EAGQs2B,EAAAA,UAAAA,UAAR,WACE,IAAMpqE,EAAO,KAAK5C,IAAI,QAClButE,EAAS,KAAKvtE,IAAI,UACtB,GAAI4C,EAAM,CACD,MAAWA,EAAI,QACtB,IAAK2qE,EAAQ,CACX,IAAMlnE,EAAY,KAAKi7D,eACjB4L,EAAUlwE,GAAW,KAAKgD,IAAI,WAAY4C,GAChD2qE,EAAStnE,GAAUinE,GACnB7mE,EAAU07B,YAAYwrC,GACtB,KAAKD,WAAWR,GAAyBS,GACzC,KAAKjzE,IAAI,SAAUizE,E,CAErBA,EAAOjnE,UAAYs1D,C,MACV2R,GACTA,EAAOxzE,QAEX,EAEQizE,EAAAA,UAAAA,WAAR,SAAmBxhE,EAAO2I,GACxB,OAAO3I,EAAMnB,IAAM8J,EAAI9J,CACzB,EAEU2iE,EAAAA,UAAAA,cAAV,WACE,IAAIK,EAAc,KAAKrtE,IAAI,eACtBqtE,IACH,KAAKG,gBACLH,EAAc,KAAKrtE,IAAI,gBAEzB,IAAMwL,EAAQ,KAAKxL,IAAI,SACjBmU,EAAM,KAAKnU,IAAI,OACf+nB,EAAOnvB,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GAC7B6d,EAAOtvB,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,GAC/B,KAAK0wD,WAAWxvD,EAAO2I,GACzBzN,GAAU2mE,EAAa,CACrB7pE,MAAO,MACP2D,OAAQmtD,GAAK17D,KAAK0D,IAAI6X,EAAI7J,EAAIkB,EAAMlB,MAGtC5D,GAAU2mE,EAAa,CACrBlmE,OAAQ,MACR3D,MAAO8wD,GAAK17D,KAAK0D,IAAI6X,EAAI9J,EAAImB,EAAMnB,MAGvC3D,GAAU2mE,EAAa,CACrBzqC,IAAK0xB,GAAKpsC,GACVjS,KAAMq+C,GAAKvsC,KAEb,KAAK0lD,WACP,EAEQT,EAAAA,UAAAA,UAAR,WAEE,IAAMO,EAAS,KAAKvtE,IAAI,UACxB,GAAIutE,EAAQ,CACF,MAAU,KAAKvtE,IAAI,QAAO,MAC5BgH,EAAcumE,EAAOvmE,YACrB+4B,EAAQ,KAAKw0B,eACnB,OAAOwQ,GACL,IAAK,SACHhlC,EAAM11B,EAAI01B,EAAM11B,EAAIrD,EAAc,EAClC,MACF,IAAK,QACH+4B,EAAM11B,EAAI01B,EAAM11B,EAAIrD,EACtB,IAAK,OACH,MAEJN,GAAU6mE,EAAQ,CAChB3qC,IAAK0xB,GAAKv0B,EAAMz1B,GAChB2L,KAAMq+C,GAAKv0B,EAAM11B,I,CAGvB,EAEU2iE,EAAAA,UAAAA,YAAV,SAAsBtkE,GAChB8sD,GAAO9sD,EAAK,SACd,KAAK0kE,YAEPzkE,EAAAA,UAAM2sD,YAAW,UAAC5sD,EACpB,EACF,EApIA,CAA2Ey4D,IAsI3E,MCvIA,4B,8CA0HA,QA1H2Et4D,EAAAA,EAAAA,IAAAA,EAAAA,GAClE6kE,EAAAA,UAAAA,cAAP,WACE,IAAMhlE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,OACNm0C,KAAM,GACNmnC,eAAgB,KAChB/zD,SAAS,EACT0qD,MAAO,GACPsJ,QAAQ,EACR/zD,WAAY,CACV2sB,KAAM,CACJ/vC,KAAM,OACNmQ,MAAO,CACLgrC,UAAW,EACXa,OAAQuqB,GAAAA,cAKlB,EAMU0Q,EAAAA,UAAAA,YAAV,WACE,IAAMlnC,EAAO,KAAKxmC,IAAI,SAAW,KAAKA,IAAI,cAAcwmC,KACxD,OAAOA,EAAK/vC,IACd,EAEUi3E,EAAAA,UAAAA,YAAV,SAAsB9kD,GACpB,KAAKilD,SAASjlD,EAChB,EAUU8kD,EAAAA,UAAAA,iBAAV,SAA2BI,EAAoB93D,GAC7C,IAAI+3D,EAAa,KAAKC,YAAYF,GAC5BG,EAAgBj4D,EAAO7Y,MAAM,GAAGkZ,UAChC63D,EAAW,KAAKF,YAAYC,GAAe,GAC3CL,EAAS,KAAK5tE,IAAI,UAQxB,OAPI4tE,EACFG,EAAaA,EAAWv1E,OAAO01E,IAE/BA,EAAS,GAAG,GAAK,IACjBH,EAAaA,EAAWv1E,OAAO01E,GAC/BH,EAAW33E,KAAK,CAAC,OAEZ23E,CACT,EAEQL,EAAAA,UAAAA,aAAR,WACE,OAAO,KAAK1tE,IAAI,QAAQ4G,KAC1B,EAGQ8mE,EAAAA,UAAAA,SAAR,SAAiB9kD,GAAjB,WACQ4d,EAAO,KAAKxmC,IAAI,QAChBskE,EAAQ,KAAKtkE,IAAI,SACjB2tE,EAAiB,KAAK3tE,IAAI,kBAC5BmuE,EAAU,KACdp3E,EAAKutE,GAAO,SAACjwE,EAAMC,GACjB,IAAMywB,EAAK1wB,EAAK0wB,IAAMzwB,EAEtB,GAAIkyC,EAAM,CACR,IAAI5/B,EAAQ4B,EAAK4lE,eACjBxnE,EAAQlP,EAAWkP,GAASA,EAAMvS,EAAMC,EAAOgwE,GAAS19D,EAExD,IAAMynE,EAAS7lE,EAAKiuD,aAAa,QAAQ1xC,GACnCupD,EAAW9lE,EAAKwlE,YAAY35E,EAAK2hB,QACvCxN,EAAKuvD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNpE,KAAM,YACN0yB,GAAIspD,EACJx8E,MAAOuP,GACL,CACEQ,KAAM0sE,GAER1nE,I,CAMN,GAAI+mE,GAAkBr5E,EAAQ,EAAG,CAC/B,IAAMi6E,EAAW/lE,EAAKiuD,aAAa,UAAU1xC,GACvCypD,EAASl6E,EAAQ,IAAM,EAC7B,GAAIsM,GAAS+sE,GAEPa,GACFhmE,EAAKimE,oBAAoBF,EAAU3lD,EAAOulD,EAAQn4D,OAAQ3hB,EAAK2hB,OAAQ23D,OAEpE,CACL,IAAMx3C,EAAQq4C,EAASb,EAAe,GAAKA,EAAe,GAC1DnlE,EAAKimE,oBAAoBF,EAAU3lD,EAAOulD,EAAQn4D,OAAQ3hB,EAAK2hB,OAAQmgB,E,EAG3Eg4C,EAAU95E,CACZ,GACF,EAGQq5E,EAAAA,UAAAA,oBAAR,SAA4B3oD,EAAY6D,EAAeklD,EAAoB93D,EAAiBmgB,GAC1F,IAAM43C,EAAa,KAAKW,iBAAiBZ,EAAW93D,GACpD,KAAK+hD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAE,EACF1yB,KAAM,cACNR,MAAO,CACL+P,KAAMmsE,EACNtiB,KAAMt1B,IAGZ,EACF,EA1HA,CAA2E8/B,IA4H3E,MC9HA,SAASz3C,GAAS5T,EAAIG,EAAID,EAAIG,GAC5B,IAAMg2B,EAAKn2B,EAAKF,EACVs2B,EAAKj2B,EAAKF,EAChB,OAAOnS,KAAKuU,KAAK8zB,EAAKA,EAAKC,EAAKA,EAClC,CAEA,I,GAAA,4B,8CA4DA,QA5DqBr4B,EAAAA,EAAAA,IAAAA,EAAAA,GACZkjE,EAAAA,UAAAA,cAAP,WACE,IAAMrjE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,SAKNi4C,OAAQ,KAKRk/B,QAAQ,GAEZ,EAEU7B,EAAAA,UAAAA,YAAV,SAAsB/1D,EAAiB2zD,GACrC,IAAMgF,EAAW,KAAKC,cAChBhB,EAAS,KAAK5tE,IAAI,UAClB4B,EAAO,GACb,GAAIoU,EAAOrhB,OAET,GAAiB,WAAbg6E,EAAuB,CACzB,IAAMjgC,EAAS,KAAK1uC,IAAI,UAClB6uE,EAAa74D,EAAO,GACpB84D,EAAStwD,GAASkwB,EAAOrkC,EAAGqkC,EAAOpkC,EAAGukE,EAAWxkE,EAAGwkE,EAAWvkE,GAC/DykE,EAAYpF,EAAW,EAAI,EAC7BiE,GAEFhsE,EAAKxL,KAAK,CAAC,IAAKs4C,EAAOrkC,EAAGqkC,EAAOpkC,EAAIwkE,IACrCltE,EAAKxL,KAAK,CAAC,IAAK04E,EAAQA,EAAQ,EAAG,EAAGC,EAAWrgC,EAAOrkC,EAAGqkC,EAAOpkC,EAAIwkE,IACtEltE,EAAKxL,KAAK,CAAC,IAAK04E,EAAQA,EAAQ,EAAG,EAAGC,EAAWrgC,EAAOrkC,EAAGqkC,EAAOpkC,EAAIwkE,IACtEltE,EAAKxL,KAAK,CAAC,OAEXW,EAAKif,GAAQ,SAAC+pB,EAAOzrC,GACL,IAAVA,EACFsN,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,IAE/B1I,EAAKxL,KAAK,CAAC,IAAK04E,EAAQA,EAAQ,EAAG,EAAGC,EAAWhvC,EAAM11B,EAAG01B,EAAMz1B,GAEpE,G,MAGFvT,EAAKif,GAAQ,SAAC+pB,EAAOzrC,GACL,IAAVA,EACFsN,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,IAE/B1I,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GAEnC,IACIsjE,GACFhsE,EAAKxL,KAAK,CAAC,MAIjB,OAAOwL,CACT,EACF,EA5DA,CAAqB8rE,IA8DrB,MCpEA,4B,8CAoBA,QApBmB7kE,EAAAA,EAAAA,IAAAA,EAAAA,GACVgiE,EAAAA,UAAAA,cAAP,WACE,IAAMniE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,QAEV,EAEUo0E,EAAAA,UAAAA,YAAV,SAAsB70D,GACpB,IAAMpU,EAAO,GAQb,OAPA7K,EAAKif,GAAQ,SAAC+pB,EAAOzrC,GACL,IAAVA,EACFsN,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,IAE/B1I,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GAEnC,IACO1I,CACT,EACF,EApBA,CAAmB8rE,IAsBnB,MCpBA,4B,8CAwIA,QAxI2E7kE,EAAAA,EAAAA,IAAAA,EAAAA,GAElEmmE,EAAAA,UAAAA,cAAP,WACE,IAAMtmE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,SAKN48E,OAAQ,aACRpa,aAAc,QACdxqD,EAAG,EACHC,EAAG,EACH83B,QAAS,EACTE,QAAS,EACT4X,MAAO,KACP8hB,WAAY,MAEhB,EAEOgT,EAAAA,UAAAA,cAAP,WACE,IAAMv8D,EAAO9J,EAAAA,UAAMumE,cAAa,WAC1BzrE,EAAW,KAAKzD,IAAI,YACpBmvE,EAAY,KAAKnvE,IAAI,aAErB,EAAkByS,EAAI,MAAftL,EAAWsL,EAAI,OAQ5B,OAPIhP,IACFD,EAAQ5K,KAAKE,IAAI0K,EAAOC,IAEtB0rE,IACFhoE,EAASvO,KAAKE,IAAIqO,EAAQgoE,IAGrBpc,GAAWtgD,EAAKsV,KAAMtV,EAAKyV,KAAM1kB,EAAO2D,EACjD,EAEO6nE,EAAAA,UAAAA,YAAP,SAAmBtmE,GACjB,KAAKpO,IAAI,IAAKoO,EAAI2B,GAClB,KAAK/P,IAAI,IAAKoO,EAAI4B,GAClB,KAAKgzD,eACP,EAEU0R,EAAAA,UAAAA,cAAV,WACE,IAAM3kE,EAAI,KAAKrK,IAAI,KACbsK,EAAI,KAAKtK,IAAI,KACboiC,EAAU,KAAKpiC,IAAI,WACnBsiC,EAAU,KAAKtiC,IAAI,WACzB,KAAKu3D,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAGA,EAAI+3B,EACP93B,EAAGA,EAAIg4B,GAEX,EAEU0sC,EAAAA,UAAAA,YAAV,WACE,KAAK1R,eACP,EAGU0R,EAAAA,UAAAA,aAAV,WACE,OAAO,KAAKhvE,IAAI,eAClB,EAEUgvE,EAAAA,UAAAA,aAAV,SAAuBjvC,GACrB,OAAO,KAAKzlC,IAAI,eAAgBylC,EAClC,EAEUivC,EAAAA,UAAAA,YAAV,SAAsBpmD,GACpB,KAAKwmD,YACD,KAAKpvE,IAAI,UACX,KAAKqkE,UAAUz7C,GAEjB,KAAKymD,kBAAkBzmD,GACnB,KAAK5oB,IAAI,eACX,KAAKsvE,eAAe1mD,EAGxB,EAKUomD,EAAAA,UAAAA,eAAV,SAAyBpmD,GACvB,IAAMozC,EAAa,KAAKh8D,IAAI,cACtByS,EAAOmW,EAAMN,UACbiqC,EAAUD,GAAc0J,EAAWzJ,SACnC1gE,GAAK,SAETwY,EAAG,EACHC,EAAG,EACH9G,MAAOiP,EAAKjP,MAAQ+uD,EAAQ,GAAKA,EAAQ,GACzCprD,OAAQsL,EAAKtL,OAASorD,EAAQ,GAAKA,EAAQ,IACxCyJ,EAAWp1D,OAEV6lE,EAAkB,KAAK1U,SAASnvC,EAAO,CAC3CnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,cACtBpkE,KAAM,oBACNR,MAAK,IAEP46E,EAAgBpQ,QAClB,EAGU2S,EAAAA,UAAAA,UAAV,SAAoBpmD,GAClB,IAAMgmB,EAAe,KAAK5uC,IAAI,gBACxBqnE,EAAW,KAAKrnE,IAAI,SAClB,EAAyBqnE,EAAQ,QAAxBzgE,EAAgBygE,EAAQ,MAAjBzkE,EAASykE,EAAQ,KACnC9tD,EAAQ,KAAKw+C,SAASnvC,EAAO,CACjCnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,eACNR,OAAK,SACH+Q,KAAI,EACJyH,EAAGukC,EAAavkC,EAChBC,EAAGskC,EAAatkC,GACb1D,KAGD6L,EAAO8G,EAAM+O,UAEnB,KAAKhuB,IAAI,eAAgB,CAAE+P,EAAGukC,EAAavkC,EAAGC,EAAGmI,EAAK0V,KAAOs7C,GAC/D,EAGQuL,EAAAA,UAAAA,UAAR,WACE,IAAMhT,EAAa,KAAKh8D,IAAI,cACtB4uC,EAAe,CAAEvkC,EAAG,EAAGC,EAAG,GAChC,GAAI0xD,EAAY,CACd,IAAMzJ,EAAUD,GAAc0J,EAAWzJ,SACzC3jB,EAAavkC,EAAIkoD,EAAQ,GACzB3jB,EAAatkC,EAAIioD,EAAQ,E,CAE3B,KAAKj4D,IAAI,eAAgBs0C,EAC3B,EACF,EAxIA,CAA2EqnB,IA0I3E,MC5HMsZ,GAAyB,CAC7BC,OAAQ,CACN5oE,MAAO,CACL6oE,aAAc,OACdC,gBAAiB,IACjBjkB,KAAM,OACNzpC,QAAS,EACTvhB,KAAM,KAGVmC,KAAM,CACJgE,MAAO,CACL6kD,KAAM,OACNpoD,SAAU,MAMVg8D,GAAY,CAChB5T,KAAMuR,GAAAA,UACN35D,SAAU,GACVuoC,UAAW,QACXD,aAAc,SACd7oC,WAAYk6D,GAAAA,WACZj6D,WAAY,SACZioC,WAAY,IAGR2kC,GAAmB,yBACnBC,GAAkB,wBAElBC,GAAa,CACjB35D,MAAQ,GAAKtd,KAAK+D,GAAM,IACxBsZ,KAAO,IAAard,KAAK+D,GAAM,IAC/BmzE,GAAI,EACJC,KAAO,IAAMn3E,KAAK+D,GAAM,KAE1B,0E,OACU6L,EAAAA,iBAAmB,EACnBA,EAAAA,cAAgB,EAChBA,EAAAA,UAAY,EACZA,EAAAA,WAAa,EACbA,EAAAA,OAAS,EACTA,EAAAA,OAAS,EA6uBTA,EAAAA,iBAAmB,WACzB,IAAM+7D,EAAY/7D,EAAKi1D,oBAAoB,cAC3C,GAAIj1D,EAAKwnE,iBAAmB,EAAG,CAC7BxnE,EAAKwnE,kBAAoB,EACzBxnE,EAAKynE,mBACL,IAAMpwD,EAASrX,EAAK0nE,6BAChB1nE,EAAKxI,IAAI,WACXukE,EAAUzP,QACR,CACEj1C,OAAM,GAER,KAGF0kD,EAAUnjD,KAAK,CAAEvB,OAAM,G,CAG7B,EAEQrX,EAAAA,kBAAoB,WAC1B,IAAM+7D,EAAY/7D,EAAKi1D,oBAAoB,cAC3C,GAAIj1D,EAAKwnE,iBAAmBxnE,EAAK2nE,cAAe,CAC9C3nE,EAAKwnE,kBAAoB,EACzBxnE,EAAKynE,mBACL,IAAMpwD,EAASrX,EAAK0nE,6BAChB1nE,EAAKxI,IAAI,WACXukE,EAAUzP,QACR,CACEj1C,OAAM,GAER,KAGF0kD,EAAUnjD,KAAK,CAAEvB,OAAM,G,CAG7B,E,CA6CF,QAp0BuBhX,EAAAA,EAAAA,IAAAA,EAAAA,GAQdk0C,EAAAA,UAAAA,cAAP,WACE,IAAMr0C,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,SACNoE,KAAM,WACN25E,YAAa,GACbC,iBAAkB,EAClBC,aAAc,KACdC,UAAW,KACXC,WAAY,KACZC,SAAU,GACVC,UAAW,KACXjtE,SAAU,KACV0rE,UAAW,KACXK,OAAQ,GACRmB,MAAO,KACPrM,MAAO,GACPsM,WAAY,GACZC,eAAgB,GAChBC,cAAe,GACfj3D,WAAY,CACVqgC,MAAO,CACLupB,QAAS,EACT78D,MAAO,CACL6kD,KAAMuR,GAAAA,UACN35D,SAAU,GACVuoC,UAAW,QACXD,aAAc,QAGlBqwB,WAAY,CACVzJ,QAAS,EACT3rD,MAAO,CACL6rC,OAAQuqB,GAAAA,YAGZ6T,eAAgB,CACdjqE,MAAO,CACLob,QAAS,EACTypC,KAAM,SAGVqlB,cAAevB,GACfkB,SAAU,CACRhN,QAAS,GACT78D,MAAOy4D,IAETmQ,OAAQ,CACN/L,QAAS,EACT78D,MAAO,CACLxM,EAAG,EACH22E,OAAQ,WAGZL,UAAW,CACTM,YAAY,EACZt0B,UAAW,KACX91C,MAAOy4D,GACPoE,QAAS,GAEXmN,WAAY,CACVhN,OAAQ,CACNqN,UAAW,CACTjvD,QAAS,KAGbkvD,UAAW,CACTD,UAAW,CACTxlB,KAAMuR,GAAAA,gBAERmU,YAAa,CACX1lB,KAAMuR,GAAAA,eACNvqB,OAAQuqB,GAAAA,iBAGZ+G,SAAU,CACRkN,UAAW,CACTxlB,KAAMuR,GAAAA,gBAERmU,YAAa,CACXnvD,QAAS,QAMrB,EAGO+6B,EAAAA,UAAAA,OAAP,WACE,OAAO,CACT,EAMOA,EAAAA,UAAAA,SAAP,WACE,OAAO,KAAK/8C,IAAI,QAClB,EAMO+8C,EAAAA,UAAAA,SAAP,SAAgBunB,GACd,KAAK1mC,OAAO,CACV0mC,MAAK,GAET,EAOOvnB,EAAAA,UAAAA,WAAP,SAAkB1oD,EAAgBqU,GAChCtH,GAAI/M,EAAMqU,GACV,KAAK8gB,QACL,KAAKj4B,QACP,EAKOwrD,EAAAA,UAAAA,WAAP,WACE,IAAMwnB,EAAY,KAAK9G,oBAAoB,cAC3C8G,GAAaA,EAAU/6C,OACzB,EAQOuzB,EAAAA,UAAAA,aAAP,SAAoB1oD,EAAgB1B,EAAeJ,GACjD8B,EAAK1B,GAASJ,EACd,IAAM6+E,EAAc,KAAK3T,oBAAoB,QAAQppE,EAAK0wB,IAC1D,GAAIqsD,EAAa,CACf,IAAM9M,EAAQ,KAAKK,WACbrwE,EAAQgwE,EAAMtuE,QAAQ3B,GACtBg9E,EAAc,KAAK1Z,uBACnBxD,EAAa,KAAKmd,SAASj9E,EAAMC,EAAO,KAAKi9E,gBAAiBF,GACpE,KAAKxa,eAAe1C,EAAYid,GAChC,KAAKI,kBAAkBJ,E,CAE3B,EAMOr0B,EAAAA,UAAAA,SAAP,SAAgB1oD,EAAgB1B,GAC9B,QAAS0B,EAAK1B,EAChB,EAEOoqD,EAAAA,UAAAA,cAAP,SAAqB1oD,GACnB,IAAMu8E,EAAa,KAAK5wE,IAAI,cACtB/I,EAAM,GAOZ,OANAF,EAAK65E,GAAY,SAAC33E,EAAG5B,GACfhD,EAAKgD,IAEPJ,EAAIb,KAAKiB,EAEb,IACOJ,CACT,EAMO8lD,EAAAA,UAAAA,gBAAP,SAAuBpqD,GAAvB,WACQ2xE,EAAQ,KAAKG,gBAAgB9xE,GACnCoE,EAAKutE,GAAO,SAACjwE,GACXmU,EAAKk8D,aAAarwE,EAAM1B,GAAO,EACjC,GACF,EAOOoqD,EAAAA,UAAAA,gBAAP,SAAuBpqD,GAAvB,WACQ2xE,EAAQ,KAAKK,WACnB,OAAO1uE,EAAOquE,GAAO,SAACjwE,GACpB,OAAOmU,EAAKo8D,SAASvwE,EAAM1B,EAC7B,GACF,EAGUoqD,EAAAA,UAAAA,kBAAV,SAA4Bn0B,GAC1B,KAAK6oD,eACL,KAAKC,UAAU9oD,EACjB,EAGQm0B,EAAAA,UAAAA,aAAR,WACE,IAAMunB,EAAQ,KAAKtkE,IAAI,SACvBjJ,EAAKutE,GAAO,SAACjwE,GACNA,EAAK0wB,KAER1wB,EAAK0wB,GAAK1wB,EAAKhC,KAEnB,GACF,EAGQ0qD,EAAAA,UAAAA,UAAR,SAAkBn0B,GAAlB,WACQ+oD,EAAqB,KAAKna,SAAS5uC,EAAO,CAC9C7D,GAAI,KAAK0xC,aAAa,wBACtBpkE,KAAM,gCAEFkyE,EAAY,KAAK/M,SAASma,EAAoB,CAClD5sD,GAAI,KAAK0xC,aAAa,cACtBpkE,KAAM,sBAEFm+E,EAAa,KAAKe,gBAClBhB,EAAY,KAAKvwE,IAAI,aACrBowE,EAAc,KAAKpwE,IAAI,eACvBqwE,EAAmB,KAAKrwE,IAAI,oBAC5B4uC,EAAe,KAAK5uC,IAAI,gBACxB8nE,EAASl5B,EAAavkC,EACtB09D,EAASn5B,EAAatkC,EACtB2kE,EAAS,KAAKjvE,IAAI,UAClBskE,EAAQ,KAAKtkE,IAAI,SACnB4xE,GAAU,EACVC,EAAY,EAEVpuE,EAAW,KAAKzD,IAAI,YACpBmvE,EAAY,KAAKnvE,IAAI,aAE3BjJ,EAAKutE,GAAO,SAACjwE,EAAMC,GACjB,IAAMw9E,EAAWtpE,EAAK8oE,SAASj9E,EAAMC,EAAOk8E,EAAYjM,GAClD9xD,EAAOq/D,EAASxpD,UAChB9kB,EAAQ+sE,GAAa99D,EAAKjP,MAC5BA,EAAQquE,IACVA,EAAYruE,GAEC,eAAXyrE,GAEExrE,GAAYA,EAAWmrC,EAAavkC,EAAI7G,EAAQskE,IAElD8J,GAAU,EACVhjC,EAAavkC,EAAIy9D,EACjBl5B,EAAatkC,GAAKkmE,EAAaH,GAEjC7nE,EAAK+uD,cAAcua,EAAUljC,GAC7BA,EAAavkC,GAAK7G,EAAQ4sE,IAGtBjB,GAAaA,EAAYvgC,EAAatkC,EAAIkmE,EAAaH,EAAmBtI,IAE5E6J,GAAU,EACVhjC,EAAavkC,GAAKwnE,EAAYzB,EAC9BxhC,EAAatkC,EAAIy9D,EACjB8J,EAAY,GAEdrpE,EAAK+uD,cAAcua,EAAUljC,GAC7BA,EAAatkC,GAAKkmE,EAAaH,EAEnC,IAEIuB,GAAW,KAAK5xE,IAAI,cACtB,KAAK+xE,WAAa,EAClB,KAAKF,UAAY,EACjB,KAAK1B,cAAgB,EACrB,KAAKrI,OAASA,EACd,KAAKC,OAASA,EACd,KAAKiK,iBAAiBppD,EAAO27C,GAEjC,EAEQxnB,EAAAA,UAAAA,cAAR,WACE,IAAIyzB,EAAa,KAAKxwE,IAAI,cAC1B,IAAKwwE,EAAY,CACP,OAA6B,KAAKxwE,IAAI,aAAe,IAAE,MAE/D,GAAItI,EAAWu6E,GAAQ,CACrB,IAAMC,EAAQ,KAAKvN,WACnBuN,EAAMhxE,SAAQ,SAAC7M,EAAMC,GACX,OAAQ,oBAAU+qE,IAAc4S,EAAM59E,EAAMC,EAAO49E,IAAM,SAC7D1B,EAAantE,IACfmtE,EAAantE,EAEjB,G,MACS4uE,IACTzB,EAAayB,EAAM5uE,S,CAGvB,OAAOmtE,CACT,EAEQzzB,EAAAA,UAAAA,WAAR,SAAmB12C,EAAmB8rE,EAA4B99E,EAAgBm8E,GAChF,IAAM4B,GAAW,2BACf/nE,EAAG,EACHC,EAAGkmE,EAAa,GACb2B,EAAUvrE,OAAK,CAClBmqE,OAAQ/wE,GAAI3L,EAAKm7E,OAAQ,SAAU,YAChCxvE,GAAI3L,EAAKm7E,OAAQ,QAAS,KAGzBj2D,EAAQ,KAAKw+C,SAAS1xD,EAAW,CACrC5P,KAAM,SACNsuB,GAAI,KAAK0xC,aAAa,QAAQpiE,EAAK0wB,GAAE,WACrC1yB,KAAM,qBACNR,MAAOugF,IAEH3/D,EAAO8G,EAAM+O,UACnB/O,EAAM6H,KAAK,IAAK3O,EAAKjP,MAAQ,GAEvB,MAAmB+V,EAAM6H,OAAvBqxB,EAAM,SAAEgZ,EAAI,OAQpB,OAPIhZ,GACFl5B,EAAMjf,IAAI,YAAY,GAEpBmxD,GACFlyC,EAAMjf,IAAI,UAAU,GAGfif,CACT,EAEQwjC,EAAAA,UAAAA,aAAR,SACE12C,EACAgsE,EACA3pE,EACArU,EACAm8E,EACA8B,EACAh+E,GAEA,IAAMooD,EAAYh0C,EAAIg0C,UACd,EAAUh0C,EAAG,MAEf7W,GAAK,kBACTwY,EAAGioE,EACHhoE,EAAGkmE,EAAa,EAChB5tE,KAAM85C,EAAYA,EAAUroD,EAAKg+E,GAAWh+E,EAAMC,GAASD,EAAKg+E,IAC7DhT,IACC3nE,EAAWkP,GAASA,EAAMvS,EAAMC,EAAO,KAAKqwE,YAAc/9D,GAGhE,OAAO,KAAKmxD,SAAS1xD,EAAW,CAC9B5P,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QAAQpiE,EAAK0wB,GAAE,IAAIstD,GACzChgF,KAAM,eAAeggF,EACrBxgF,MAAK,GAET,EAEQkrD,EAAAA,UAAAA,UAAR,SAAkB12C,EAAmBksE,EAAuBl+E,EAAgBm8E,EAAoBnmE,G,QACxFzD,EAAQ2rE,EAAS3rE,OAAS,GAE1BxM,EAAW,QAAV,EAAGwM,EAAMxM,SAAC,QAAIo2E,EAAa,EAC5B5+B,EAAiB,IAAJx3C,EAAW,EACxB,EAAW,CAACiQ,EAAIjQ,EAAGo2E,EAAa,EAAIp2E,GAAnCsX,EAAE,KAAEC,EAAE,KACP,EAAW,CAACD,EAAKtX,EAAGuX,EAAKvX,GAAxBwQ,EAAE,KAAEG,EAAE,KACP,EAAW,CAAC2G,EAAI3G,EAAK3Q,GAApB0Q,EAAE,KAAEG,EAAE,KACP,EAAW,CAACZ,EAAGsH,EAAKvX,GAAnByW,EAAE,KAAEC,EAAE,KACL,EAAczc,EAAI,UACpBxC,GAAK,kBACT+P,KAAM,CACJ,CAAC,IAAK8P,EAAIC,GACV,CAAC,IAAKvX,EAAGA,EAAG,EAAG,EAAG,EAAGwQ,EAAIG,GACzB,CAAC,IAAKH,EAAKgnC,EAAW7mC,GACtB,CAAC,IAAKH,EAAIG,GACV,CAAC,IAAK3Q,EAAGA,EAAG,EAAG,EAAG,EAAG0Q,EAAIG,GACzB,CAAC,IAAKH,EAAIG,EAAK2mC,GACf,CAAC,IAAK9mC,EAAIG,GACV,CAAC,IAAK7Q,EAAGA,EAAG,EAAG,EAAG,EAAGyW,EAAIC,GACzB,CAAC,IAAKD,EAAK+gC,EAAW9gC,GACtB,CAAC,IAAKD,EAAIC,GACV,CAAC,IAAK1W,EAAGA,EAAG,EAAG,EAAG,EAAGsX,EAAIC,GACzB,CAAC,IAAKD,EAAIC,EAAKigC,IAEjBa,OAAQ,UACRgZ,KAAM,WACH7kD,GAAK,CACRob,QAASwwD,EAA2B,QAAf,EAAM,OAAL5rE,QAAK,IAALA,OAAK,EAALA,EAAOob,eAAO,QAAI,IAAQ,IAG5CywD,EAAa,KAAK1a,SAAS1xD,EAAW,CAC1C5P,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QAAQpiE,EAAK0wB,GAAE,UACrC1yB,KAAM,oBACNR,MAAK,IAGP,OADA4gF,EAAWn4E,IAAI,MAAOi4E,EAASG,KACxBD,CACT,EAGQ11B,EAAAA,UAAAA,SAAR,SAAiB1oD,EAAgBC,EAAek8E,EAAoBjM,GAClE,IAAMoO,EAAU,QAAQt+E,EAAK0wB,GAEvB6tD,EAAe,KAAKpb,SAAS+M,EAAW,CAC5ClyE,KAAM,wBACN0yB,GAAI,KAAK0xC,aAAa,kBAAkBkc,GACxCpsD,eAAgB,CACdlyB,KAAI,EACJC,MAAK,KAGHw9E,EAAW,KAAKta,SAASob,EAAc,CAC3CvgF,KAAM,cACN0yB,GAAI,KAAK0xC,aAAakc,GACtBpsD,eAAgB,CACdlyB,KAAI,EACJC,MAAK,KAGHk7E,EAAS,KAAKxvE,IAAI,UAClBywE,EAAW,KAAKzwE,IAAI,YACpB0wE,EAAY,KAAK1wE,IAAI,aACrB6wE,EAAiB,KAAK7wE,IAAI,kBAC1B2wE,EAAQ,KAAK3wE,IAAI,SACjBuwE,EAAY,KAAKsC,oBAEnBC,EAAO,EACX,GAAItD,EAAQ,CACV,IAAMuD,EAAc,KAAKC,WAAWlB,EAAUtC,EAAQn7E,EAAMm8E,GACxD/M,EAAU+L,EAAO/L,QACfwP,EAAoBjzE,GAAI3L,EAAM,CAAC,SAAU,YAE3C0H,GAASk3E,KAEXxP,EAAUwP,GAGZH,EAAOC,EAAYzqD,UAAUL,KAAOw7C,C,CAGtC,GAAIgN,EAAU,CACZ,IAAMyC,EAAY,KAAKC,aAAarB,EAAU,OAAQrB,EAAUp8E,EAAMm8E,EAAYsC,EAAMx+E,GACpFi8E,GAEFtV,IAAc,EAAMiY,EAAWz3E,GAAM80E,EAAYuC,EAAM,EAAGvC,IAE5DuC,EAAOI,EAAU5qD,UAAUL,KAAOwoD,EAAShN,O,CAG7C,GAAIiN,EAAW,CACb,IAAM0C,EAAa,KAAKD,aAAarB,EAAU,QAASpB,EAAWr8E,EAAMm8E,EAAYsC,EAAMx+E,GACvFi8E,IACEG,EAAUM,YACZoC,EAAWhyD,KAAK,CACdwqB,UAAW,QACXvhC,EAAGkmE,IAELtV,IAAc,EAAMmY,EAAY33E,GAAM80E,EAAYuC,EAAM,EAAGvC,GAAY,SAEvEtV,IAAc,EAAMmY,EAAY33E,GAAM80E,EAAYuC,EAAM,EAAGvC,KAG/DuC,EAAOM,EAAW9qD,UAAUL,KAAOyoD,EAAUjN,O,CAQ/C,GALIkN,GACF,KAAK0C,UAAUvB,EAAUnB,EAAOt8E,EAAMm8E,EAAYsC,GAIhDjC,EAAgB,CAClB,IAAMp+D,EAAOq/D,EAASxpD,UAChBgrD,EAAY,KAAKvb,SAAS+Z,EAAU,CACxCr7E,KAAM,OACNpE,KAAM,yBACN0yB,GAAI,KAAK0xC,aAAgBkc,EAAO,eAChC9gF,OAAK,SACHwY,EAAG,EACHC,EAAG,EACH9G,MAAOiP,EAAKjP,MACZ2D,OAAQqpE,GACLK,EAAejqE,SAGtB0sE,EAAUjX,Q,CAIZ,OADA,KAAKkX,gBAAgBl/E,EAAMy9E,GACpBA,CACT,EAGQ/0B,EAAAA,UAAAA,iBAAR,SAAyB12C,EAAmBk+D,GAA5C,WACQuD,EAAS,KAAKA,OACdC,EAAS,KAAKA,OACdkH,EAAS,KAAKjvE,IAAI,UAClBwzE,EAAYjP,EAAU56C,SAAQ,SAACt1B,GAAS,MAAqB,gBAArB,EAAK2L,IAAI,OAAT,IACxCyD,EAAW,KAAKzD,IAAI,YACpBmvE,EAAY,KAAKnvE,IAAI,aACrBuwE,EAAY,KAAKvwE,IAAI,aACrBowE,EAAc,KAAKpwE,IAAI,eACvBwwE,EAAa,KAAKe,gBAClBT,EAAwCvwE,GAAQ,GAAIgvE,GAAwB,KAAKvvE,IAAI,kBACrFyzE,EAAa,KAAKC,eAAertE,EAAW4oE,EAAQ,QAAS6B,GAC7D6C,EAAiBF,EAAWnrD,UAC5BsmB,EAAe,CAAEvkC,EAAGy9D,EAAQx9D,EAAGy9D,GACjC6L,EAAQ,EACRC,EAAa,EACbhC,EAAY,EACZvB,EAAe,EACbD,EAAmB,KAAKrwE,IAAI,oBAClC,GAAe,eAAXivE,EAAyB,CAC3B,IAAM6E,EAAS,KAAK9zE,IAAI,WAAa,EAC/B+zE,EAAevD,GAAyB,IAAXsD,EAAe,EAAIzD,GACtD,KAAK0B,WAAagC,EAAeD,EACjC/8E,EAAKy8E,GAAW,SAACn/E,GACf,IAAMoe,EAAOpe,EAAKi0B,UACZ9kB,EAAQ+sE,GAAa99D,EAAKjP,OAE7BqwE,GAAcA,EAAajlC,EAAavkC,EAAI7G,EAAQ4sE,GACrD3sE,EAAWmrC,EAAavkC,EAAI7G,EAAQ4sE,EAAcuD,EAAenwE,SAEnD,IAAVowE,IACFC,EAAajlC,EAAavkC,EAAI+lE,EAC9B5nE,EAAKqpE,UAAYgC,EACjBrrE,EAAK+uD,cAAckc,EAAY,CAC7BppE,EAAG5G,EAAW2sE,EAAcuD,EAAenwE,MAAQmwE,EAAe5rD,KAClEzd,EAAGskC,EAAatkC,EAAIkmE,EAAa,EAAImD,EAAexsE,OAAS,EAAIwsE,EAAezrD,QAGpF0rD,GAAS,EACThlC,EAAavkC,EAAIy9D,EACjBl5B,EAAatkC,GAAKypE,GAEpBvrE,EAAK+uD,cAAcljE,EAAMu6C,GACzBv6C,EAAKolB,YAAY46C,QAAQ,CACvB59D,KAAM,OACN5E,MAAO,CACLwY,EAAGukC,EAAavkC,EAChBC,EAAGskC,EAAatkC,EAChB9G,MAAOA,EAAQ4sE,EACfjpE,OAAQqpE,KAGZ5hC,EAAavkC,GAAK7G,EAAQ4sE,CAC5B,G,KACK,CACLr5E,EAAKy8E,GAAW,SAACn/E,GACf,IAAMoe,EAAOpe,EAAKi0B,UACd7V,EAAKjP,MAAQquE,IACfA,EAAYp/D,EAAKjP,MAErB,IACA8sE,EAAeuB,EACfA,GAAazB,EACT3sE,IAEFouE,EAAYj5E,KAAKE,IAAI2K,EAAUouE,GAC/BvB,EAAe13E,KAAKE,IAAI2K,EAAU6sE,IAEpC,KAAKuB,UAAYA,EACjB,KAAKE,WAAa5C,EAAYv2E,KAAKC,IAAI86E,EAAexsE,OAAQqpE,EAAaH,GAC3E,IAAM2D,EAAap7E,KAAKye,MAAM,KAAK06D,YAAcvB,EAAaH,IAC9Dt5E,EAAKy8E,GAAW,SAACn/E,EAAMC,GACP,IAAVA,GAAeA,EAAQ0/E,IAAe,IACxCJ,GAAS,EACThlC,EAAavkC,GAAKwnE,EAClBjjC,EAAatkC,EAAIy9D,GAEnBv/D,EAAK+uD,cAAcljE,EAAMu6C,GACzBv6C,EAAKolB,YAAY46C,QAAQ,CACvB59D,KAAM,OACN5E,MAAO,CACLwY,EAAGukC,EAAavkC,EAChBC,EAAGskC,EAAatkC,EAChB9G,MAAOquE,EACP1qE,OAAQqpE,KAGZ5hC,EAAatkC,GAAKkmE,EAAaH,CACjC,IACA,KAAKF,cAAgByD,EACrB,KAAKrc,cAAckc,EAAY,CAC7BppE,EAAGy9D,EAASwI,EAAe,EAAIqD,EAAenwE,MAAQ,EAAImwE,EAAe5rD,KACzEzd,EAAG6kE,EAAYwE,EAAexsE,OAASwsE,EAAezrD,M,CAItD,KAAK6pD,YAAc,KAAKF,WAE1BtN,EAAU9qD,YAAY46C,QAAQ,CAC5B59D,KAAM,OACN5E,MAAO,CACLwY,EAAG,KAAKy9D,OACRx9D,EAAG,KAAKy9D,OACRvkE,MAAO,KAAKquE,UACZ1qE,OAAQ,KAAK4qE,cAKJ,eAAX9C,GAA2B,KAAKjvE,IAAI,UACtC,KAAKmwE,cAAgBv3E,KAAKswD,KAAK0qB,EAAQ,KAAK5zE,IAAI,WAEhD,KAAKmwE,cAAgByD,EAEnB,KAAK5D,iBAAmB,KAAKG,gBAC/B,KAAKH,iBAAmB,GAE1B,KAAKC,iBAAiBwD,GAEtBlP,EAAUnjD,KAAK,SAAU,KAAK8uD,6BAChC,EAKQnzB,EAAAA,UAAAA,eAAR,SACEn0B,EACAqmD,EACArsE,EACAqxE,GAEA,IAAMrlC,EAAe,CAAEvkC,EAAG,EAAGC,EAAG,GAC1BwnE,EAAW,KAAKta,SAAS5uC,EAAO,CACpC7D,GAAI,KAAK0xC,aAAa,oBACtBpkE,KAAM,sBAEFupB,EAA+B5b,GAAIi0E,EAASzE,OAAQ,QAAS,IAA3D7qD,EAAAA,EAAAA,KAAAlkB,OAAI,MAAG,GAAE,EAAKyzE,GAAU,UAA1B,UACAC,EAAY,KAAKC,UACrBtC,EACAljC,EACAghC,GACW,eAAXX,EAA0B,KAAO,OACjCxuE,EACAyzE,GAEFC,EAAUnhF,GAAG,QAAS,KAAKqhF,kBAC3B,IAAMC,EAAgBH,EAAU7rD,UAChCsmB,EAAavkC,GAAKiqE,EAAc9wE,MAAQ,EAExC,IAAMu7D,EAAY,KAAKhH,SAAS+Z,EAAU,CACxCr7E,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,mBACtBpkE,KAAM,kBACNR,OAAK,SACHwY,EAAGukC,EAAavkC,EAChBC,EAAGskC,EAAatkC,EAAI7J,EAAO,EAC3BmC,KAAI,EACJ+oC,aAAc,UACX3rC,GAAIi0E,EAASrxE,KAAM,YAGpB4pE,EAAWzN,EAAUz2C,UAC3BsmB,EAAavkC,GAAKmiE,EAAShpE,MAAQ,EAEnC,IAAM+wE,EAAa,KAAKH,UACtBtC,EACAljC,EACA+gC,GACW,eAAXV,EAA0B,OAAS,QACnCxuE,EACAyzE,GAIF,OAFAK,EAAWvhF,GAAG,QAAS,KAAKwhF,mBAErB1C,CACT,EAEQ/0B,EAAAA,UAAAA,iBAAR,SAAyB02B,GACvB,IAAM3C,EAAwCvwE,GAAQ,GAAIgvE,GAAwB,KAAKvvE,IAAI,kBACrF,EAAmD8wE,EAActB,OAAO5oE,MAAtE6kD,EAAI,OAAEzpC,EAAO,UAAEytD,EAAY,eAAEC,EAAe,kBAE9C9sE,EAAU,KAAKotE,iBAAgB,IAAI,KAAKG,cACxCpR,EAAY0U,EAAaA,EAAWxwD,cAAc,GAAK,KAAKw6C,oBAAoB,mBAChF0W,EAAYV,EACdA,EAAW3U,SAAS,KAAKrI,aAAamZ,KACtC,KAAKnS,oBAAoBmS,IACvB2E,EAAad,EACfA,EAAW3U,SAAS,KAAKrI,aAAakZ,KACtC,KAAKlS,oBAAoBkS,IAC7B5Q,EAAU39C,KAAK,OAAQxe,GAEvBuxE,EAAU/yD,KAAK,UAAqC,IAA1B,KAAK4uD,iBAAyBN,EAAkB1tD,GAC1EmyD,EAAU/yD,KAAK,OAAkC,IAA1B,KAAK4uD,iBAAyBP,EAAehkB,GACpE0oB,EAAU/yD,KAAK,SAAoC,IAA1B,KAAK4uD,iBAAyB,cAAgB,WAEvEuE,EAAWnzD,KAAK,UAAW,KAAK4uD,mBAAqB,KAAKG,cAAgBT,EAAkB1tD,GAC5FuyD,EAAWnzD,KAAK,OAAQ,KAAK4uD,mBAAqB,KAAKG,cAAgBV,EAAehkB,GACtF8oB,EAAWnzD,KAAK,SAAU,KAAK4uD,mBAAqB,KAAKG,cAAgB,cAAgB,WAEzF,IAAIsE,EAAUN,EAAU7rD,UAAUL,KAAO,EACzC82C,EAAU39C,KAAK,IAAKqzD,GACpBA,GAAW1V,EAAUz2C,UAAU9kB,MAAQ,EACvC,KAAKkxE,gBAAgBH,EAAY,CAAElqE,EAAGoqE,EAASnqE,EAAG,GAEpD,EAEQyyC,EAAAA,UAAAA,UAAR,SACEn0B,EACAgmB,EACAv8C,EACA0tB,EACAtf,EACAmG,GAEQ,MAASgoC,EAAY,EAAlBtkC,EAAMskC,EAAY,EACvBr1B,EAAQ,KAAKw+C,SAASnvC,EAAO,CACjCnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAapkE,GACtBA,KAAI,EACJR,OAAK,SACH4O,KAAI,EACJsf,UAAS,EACTne,KAAM,CAAC,CAAC,IAAKyI,EAAI5J,EAAO,EAAG6J,GAAI,CAAC,IAAKD,EAAGC,EAAI7J,GAAO,CAAC,IAAK4J,EAAI5J,EAAM6J,EAAI7J,GAAO,CAAC,MAC/E+/B,OAAQ,WACL55B,KAKP,OAFA2S,EAAM6H,KAAK,SAAU0wC,GAAiB,CAAEznD,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGA,EAAI7J,EAAO,GAAKovE,GAAW9vD,KAEhFxG,CACT,EAKQwjC,EAAAA,UAAAA,gBAAR,SAAwB43B,EAAe50C,GAC7B,MAASA,EAAK,EAAXz1B,EAAMy1B,EAAK,EAChB,EAAsB40C,EAAMvzD,OAA1B3gB,EAAI,OAAEsf,EAAS,YACnBF,EAASiyC,GAAiB,CAAEznD,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGA,EAAI7J,EAAO,GAAKovE,GAAW9vD,IAC/E40D,EAAMvzD,KAAK,OAAQ,CAAC,CAAC,IAAK/W,EAAI5J,EAAO,EAAG6J,GAAI,CAAC,IAAKD,EAAGC,EAAI7J,GAAO,CAAC,IAAK4J,EAAI5J,EAAM6J,EAAI7J,GAAO,CAAC,OAC5Fk0E,EAAMvzD,KAAK,SAAUvB,EACvB,EAEQk9B,EAAAA,UAAAA,2BAAR,WACQ,MAA8C,KAA5CizB,EAAgB,mBAAE6B,EAAS,YAAEE,EAAU,aACzC9C,EAAS,KAAKjvE,IAAI,UAClBgnB,EACO,eAAXioD,EACI,CACE5kE,EAAG,EACHC,EAAGynE,GAAc,EAAI/B,IAEvB,CACE3lE,EAAGwnE,GAAa,EAAI7B,GACpB1lE,EAAG,GAGX,OAAOynD,GAAqB/qC,EAC9B,EAyCQ+1B,EAAAA,UAAAA,gBAAR,SAAwB1oD,EAAgBy9E,GACtC,IAAMxJ,EAAS,KAAKC,cAAcl0E,GAC5BugF,EAAYtM,EAAO3zE,OAAS,EAClC,GAAIigF,EAAW,CACb,IAAM5xD,EAAW8uD,EAAS7uD,cACpB4xD,EAAa,KAAK70E,IAAI,cAC5BjJ,EAAKisB,GAAU,SAACrJ,GACd,IAAMtnB,EAAOsnB,EAAQ3Z,IAAI,QACnB80E,EAASziF,EAAK8I,MAAM,KAAK,GACzB45E,EAAcpS,GAAetuE,EAAMygF,EAAQD,GAC7CE,IACFp7D,EAAQyH,KAAK2zD,GACE,WAAXD,GAAyBn7D,EAAQ3Z,IAAI,aAAe2Z,EAAQ3Z,IAAI,YAE9D2Z,EAAQ3Z,IAAI,aACd2Z,EAAQyH,KAAK,OAAQ,MAEnBzH,EAAQ3Z,IAAI,WACd2Z,EAAQyH,KAAK,SAAU,OAI/B,G,CAEJ,EAGQ27B,EAAAA,UAAAA,kBAAR,WACE,IAAMwzB,EAAY,KAAKvwE,IAAI,aACvBswE,EAAe,KAAKtwE,IAAI,gBAW5B,OATIswE,EAEEC,IACFD,EAAeC,GAAaD,EAAeC,EAAYD,GAEhDC,IACTD,EAAeC,GAGVD,CACT,EACF,EAp0BA,CAAuBtB,IAs0BvB,MCz3BMgG,GAAuB,IACvBC,GAAyB,GAE/B,4B,8CAqsBA,QArsB6BpsE,EAAAA,EAAAA,IAAAA,EAAAA,GACpBqsE,EAAAA,UAAAA,cAAP,WACE,IAAMxsE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNjS,KAAM,WACNqC,IAAK,EACLD,IAAK,IACLtG,MAAO,KACP6lC,OAAQ,GACR+8C,MAAO,GACPC,KAAM,GACN1a,MAAO,GACP97D,QAAS,GACTy2E,UAAU,EACV3C,IAAK,KACLv5B,KAAM,KACN11C,SAAU,KACV0rE,UAAW,KACXt1D,WAAY,CACV6gD,MAAO,CACLqK,MAAO,OACPtB,QAAS,EACT/mB,UAAW,KACX91C,MAAO,CACLvD,SAAU,GACVooD,KAAMuR,GAAAA,UACNrxB,aAAc,SACd7oC,WAAYk6D,GAAAA,aAGhBp+D,QAAS,CACP6B,KAAM,GACNmG,MAAO,CACL6kD,KAAM,OACNhZ,OAAQ,SAGZ0iC,MAAO,GACPC,KAAM,CACJ3+E,KAAM,QACNgK,KAAM,GACN60E,cAAe,IACf1uE,MAAO,CACL6kD,KAAM,YAGVvR,MAAO,CACLupB,QAAS,EACT78D,MAAO,CACL6kD,KAAMuR,GAAAA,UACN35D,SAAU,GACVuoC,UAAW,QACXD,aAAc,UAKxB,EAEOupC,EAAAA,UAAAA,SAAP,WACE,OAAO,CACT,EAGOA,EAAAA,UAAAA,SAAP,WACE,OAAO,KAAKK,iBACd,EAEOL,EAAAA,UAAAA,SAAP,WACE,MAAO,CACLp8E,IAAK,KAAKkH,IAAI,OACdnH,IAAK,KAAKmH,IAAI,OAElB,EAGOk1E,EAAAA,UAAAA,SAAP,SAAgBp8E,EAAKD,GACnB,KAAK+kC,OAAO,CACV9kC,IAAG,EACHD,IAAG,GAEP,EAEOq8E,EAAAA,UAAAA,SAAP,SAAgB3iF,GACd,IAAMkwB,EAAc,KAAK43B,WACzB,KAAK//C,IAAI,QAAS/H,GAClB,IAAMq2B,EAAQ,KAAK5oB,IAAI,SACvB,KAAKw1E,iBACD,KAAKx1E,IAAI,aACX,KAAKy1E,cAAc7sD,GAErB,KAAK8sD,aAAa,eAAgB,CAChCjzD,YAAW,EACXlwB,MAAK,GAET,EAEU2iF,EAAAA,UAAAA,UAAV,WACE,IAAMtsD,EAAQ,KAAK5oB,IAAI,SACvB,KAAK21E,gBAAgB/sD,GACrB,KAAKgtD,cAAchtD,GACnB,KAAKitD,eAAejtD,EACtB,EAEUssD,EAAAA,UAAAA,kBAAV,SAA4BtsD,GAC1B,KAAKktD,SAASltD,GACd,KAAK49C,WAAW59C,GAChB,KAAKmtD,cAAcntD,GACnB,KAAKotD,WAAWptD,GAChB,KAAK4sD,eAAe5sD,GAChB,KAAK5oB,IAAI,aACX,KAAKy1E,cAAc7sD,EAEvB,EAEQssD,EAAAA,UAAAA,gBAAR,SAAwBtsD,GACtB,KAAKqtD,kBAAkBrtD,EACzB,EAEQssD,EAAAA,UAAAA,kBAAR,SAA0BtsD,GAA1B,WACEA,EAAM51B,GAAG,2BAA2B,SAACi2B,GACnC,IAAMitD,EAAW1tE,EAAK2tE,sBAAsBltD,EAAG5e,EAAG4e,EAAG3e,GAC/C8rE,EAAe5tE,EAAK+sE,kBACtBc,EAAWD,EAAa,GACxBC,EAAWH,IAEbG,EAAWH,GAEb1tE,EAAK8tE,SAAS,CAACJ,EAAUG,GAC3B,IACAztD,EAAM51B,GAAG,2BAA2B,SAACi2B,GACnC,IAAMotD,EAAW7tE,EAAK2tE,sBAAsBltD,EAAG5e,EAAG4e,EAAG3e,GAC/C8rE,EAAe5tE,EAAK+sE,kBACtBW,EAAWE,EAAa,GACxBF,EAAWG,IAEbH,EAAWG,GAEb7tE,EAAK8tE,SAAS,CAACJ,EAAUG,GAC3B,GACF,EAEQnB,EAAAA,UAAAA,cAAR,SAAsBtsD,GAAQ,EAEtBssD,EAAAA,UAAAA,eAAR,SAAuBtsD,GAAvB,WACMqmB,EAAW,KACfrmB,EAAM51B,GAAG,0BAA0B,SAACi2B,GAClCgmB,EAAW,CACT5kC,EAAG4e,EAAG5e,EACNC,EAAG2e,EAAG3e,EAEV,IACAse,EAAM51B,GAAG,qBAAqB,SAACi2B,GAC7B,GAAKgmB,EAAL,CAGA,IAAMsnC,EAAW/tE,EAAK2tE,sBAAsBlnC,EAAS5kC,EAAG4kC,EAAS3kC,GAC3DksE,EAAWhuE,EAAK2tE,sBAAsBltD,EAAG5e,EAAG4e,EAAG3e,GAC/C8rE,EAAe5tE,EAAK+sE,kBACpBkB,EAAUL,EAAa,GAAKA,EAAa,GACzCjgC,EAAQ3tC,EAAKzP,WACb29E,EAASF,EAAWD,EACtBG,EAAS,EAEPN,EAAa,GAAKM,EAASvgC,EAAMr9C,IACnC0P,EAAK8tE,SAAS,CAACF,EAAa,GAAKM,EAAQN,EAAa,GAAKM,IAE3DluE,EAAK8tE,SAAS,CAACngC,EAAMr9C,IAAKq9C,EAAMr9C,IAAM29E,IAG/BC,EAAS,IACdA,EAAS,GAAKN,EAAa,GAAKM,EAASvgC,EAAMt9C,IACjD2P,EAAK8tE,SAAS,CAACF,EAAa,GAAKM,EAAQN,EAAa,GAAKM,IAE3DluE,EAAK8tE,SAAS,CAACngC,EAAMt9C,IAAM49E,EAAStgC,EAAMt9C,OAG9Co2C,EAAW,CACT5kC,EAAG4e,EAAG5e,EACNC,EAAG2e,EAAG3e,E,CAEV,IACAse,EAAM51B,GAAG,wBAAwB,SAACi2B,GAChCgmB,EAAW,IACb,GACF,EAEQimC,EAAAA,UAAAA,WAAR,SAAmBtsD,GACjB,KAAK+tD,UAAU,MAAO/tD,GACtB,KAAK+tD,UAAU,MAAO/tD,EACxB,EAEQssD,EAAAA,UAAAA,UAAR,SAAkB7iF,EAAMu2B,GACtB,IAAMi+C,EAAW,KAAK7mE,IAAI,SACpB4G,EAAQigE,EAASjgE,MACjBgwE,EAAa/P,EAAS9B,MACtB8R,EAAiBhQ,EAASnqB,UAC1BnqD,EAAQ,KAAKyN,IAAI3N,GACjBykF,EAAa,KAAKC,mBAAmB1kF,EAAMukF,GAC3CpgB,EAAU,SAASnkE,EACzB,KAAK0lE,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAaD,GACtBnkE,KAAM,gBAAgBA,EACtBR,OAAK,kBACHwY,EAAG,EACHC,EAAG,EACH1H,KAAMlL,EAAWm/E,GAAkBA,EAAetkF,GAASA,GACxDqU,GACAkwE,IAGT,EAGQ5B,EAAAA,UAAAA,mBAAR,SAA2B7iF,EAAM0yE,GAC/B,IAAM/J,EAAa,KAAKA,aACpBpvB,EAAY,SACZD,EAAe,SA0BnB,OAzBIqvB,GAEFpvB,EAAY,QAGRD,EAFU,SAAVo5B,EACW,QAAT1yE,EACa,MAEA,SAGF,OAGH,SAAV0yE,GACFp5B,EAAe,MAEbC,EADW,QAATv5C,EACU,QAEA,QAGdu5C,EAAY,QACZD,EAAe,UAGZ,CACLC,UAAS,EACTD,aAAY,EAEhB,EAEQupC,EAAAA,UAAAA,YAAR,SAAoB7qE,EAAWC,EAAW7C,EAAYC,GACpD,IAAMsvE,EAAU,KAAKh3E,IAAI,QACjB,EAA8Bg3E,EAAO,KAA/B1B,EAAwB0B,EAAO,cAAhBvgF,EAASugF,EAAO,KACvChc,EAAa,KAAKA,aAClBrmE,EAAS2gF,EACX9xE,EAAQiE,EACRN,EAASO,EACRlE,IACHA,EAAQw3D,EAAav6D,EAAO9L,GAEzBwS,IACHA,EAAS6zD,EAAarmE,EAAS8L,GAEjC,IAAMmB,EAAO,GAab,MAZa,UAATnL,GACFmL,EAAKxL,KAAK,CAAC,IAAKiU,EAAGC,IACnB1I,EAAKxL,KAAK,CAAC,IAAKiU,EAAI7G,EAAO8G,IAC3B1I,EAAKxL,KAAK,CAAC,IAAKiU,EAAI7G,EAAO8G,EAAInD,IAC/BvF,EAAKxL,KAAK,CAAC,IAAKiU,EAAGC,EAAInD,IACvBvF,EAAKxL,KAAK,CAAC,QAEXwL,EAAKxL,KAAK,CAAC,IAAKiU,EAAI7G,EAAO8G,IAC3B1I,EAAKxL,KAAK,CAAC,IAAKiU,EAAI7G,EAAO8G,EAAInD,IAC/BvF,EAAKxL,KAAK,CAAC,IAAKiU,EAAGC,EAAInD,IACvBvF,EAAKxL,KAAK,CAAC,OAENwL,CACT,EAEQszE,EAAAA,UAAAA,SAAR,SAAiBtsD,GACf,IAAMouD,EAAU,KAAKh3E,IAAI,QACnB4G,EAAQowE,EAAQpwE,MACtB,KAAKmxD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,QACtBpkE,KAAM,cACNR,OAAK,SACH+P,KAAM,KAAKq1E,YAAY,EAAG,IACvBrwE,IAGT,EAGQsuE,EAAAA,UAAAA,cAAR,SAAsB98C,GACpB,IAOIjC,EAPE5f,EAAQ6hB,EAAOzjC,OACrB,IAAK4hB,EACH,OAAO,KAET,GAAc,IAAVA,EACF,OAAO6hB,EAAO,GAKdjC,EAFE,KAAK6kC,aAEC,QAEA,OAEV,IAAK,IAAI9jE,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAM+hD,EAAU/hD,GAAKqf,EAAQ,GAC7B4f,GAAS,IAAI8iB,EAAO,IAAI7gB,EAAOlhC,E,CAEjC,OAAOi/B,CACT,EAEQ++C,EAAAA,UAAAA,aAAR,SAAqBtsD,GACnB,IAAMsuD,EAAY,KAAKC,aAAavuD,GAC9BhnB,EAAOs1E,EAAU91D,KAAK,QAC5B,OAAOniB,GAAM2C,EACf,EAEQszE,EAAAA,UAAAA,kBAAR,SAA0BtsD,GACxB,IAMIve,EACAC,EACA9G,EACA2D,EATE5U,EAAQ,KAAKgjF,kBACZ,EAAYhjF,EAAK,GAAZsG,EAAOtG,EAAK,GAClB6kF,EAAW,KAAKC,YAAYzuD,GAC5BolB,EAAa,KAAKspC,gBAAgBx+E,EAAK8vB,GACvCg1C,EAAW,KAAK0Z,gBAAgBz+E,EAAK+vB,GACrCoyC,EAAa,KAAKA,aAgBxB,OAXIA,GACF3wD,EAAI+sE,EAASrvD,KACbzd,EAAI0jC,EAAW1jC,EACf9G,EAAQ4zE,EAAS5zE,MACjB2D,EAASy2D,EAAStzD,EAAI0jC,EAAW1jC,IAEjCD,EAAI2jC,EAAW3jC,EACfC,EAAI8sE,EAASlvD,KACb1kB,EAAQo6D,EAASvzD,EAAI2jC,EAAW3jC,EAChClD,EAASiwE,EAASjwE,QAEb,CACLkD,EAAC,EACDC,EAAC,EACD9G,MAAK,EACL2D,OAAM,EAEV,EAGQ+tE,EAAAA,UAAAA,cAAR,SAAsBtsD,GACpB,IAAM2uD,EAAW,KAAKv3E,IAAI,SACpBo4B,EAAS,KAAKp4B,IAAI,UAClB4B,EAAO,KAAK41E,aAAa5uD,GAC/B,OAAOxnB,GACL,CACEQ,KAAI,EACJ6pD,KAAM,KAAKgsB,cAAcr/C,IAE3Bm/C,EAAS3wE,MAEb,EAEQsuE,EAAAA,UAAAA,eAAR,SAAuBtsD,GACrB,IAAMviB,EAAYuiB,GAAU,KAAK5oB,IAAI,SAC/B03E,EAAU,KAAKjhB,aAAa,SAC5BkhB,EAAatxE,EAAUy4D,SAAS4Y,GAChCh0D,EAAYi0D,EAAWp1D,UACvB1wB,EAAQ,KAAK+lF,kBAAkBhvD,GAChClF,EAMHA,EAAUtC,KAAKvvB,GALf8lF,EAAWtjB,QAAQ,CACjB59D,KAAM,OACN5E,MAAK,GAKX,EAEQqjF,EAAAA,UAAAA,WAAR,SAAmBtsD,GACjB,IAAM8uD,EAAU,KAAKjhB,aAAa,SAC5BkhB,EAAa/uD,EAAMk2C,SAAS4Y,GAC5BG,EAAa,KAAKC,cAAclvD,GAClC+uD,EACFA,EAAWv2D,KAAKy2D,GAEhB,KAAK9f,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI2yD,EACJK,UAAW,KAAK/3E,IAAI,YACpB3N,KAAM,eACNR,MAAOgmF,GAGb,EAEQ3C,EAAAA,UAAAA,gBAAR,SAAwB3iF,EAAOq2B,GACvB,MAAe,KAAK7vB,WAAlBD,EAAG,MAAED,EAAG,MACVogD,GAAW1mD,EAAQuG,IAAQD,EAAMC,GACjC2Z,EAAO,KAAK4kE,YAAYzuD,GACxBovD,EAAY,KAAKhd,aACjBj7B,EAAQ,CAAE11B,EAAG,EAAGC,EAAG,GAQzB,OAPI0tE,GACFj4C,EAAM11B,EAAIoI,EAAKsV,KAAOtV,EAAKjP,MAAQ,EACnCu8B,EAAMz1B,EAAI0oD,GAAkBvgD,EAAKyV,KAAMzV,EAAK0V,KAAM8wB,KAElDlZ,EAAM11B,EAAI2oD,GAAkBvgD,EAAKsV,KAAMtV,EAAKwV,KAAMgxB,GAClDlZ,EAAMz1B,EAAImI,EAAKyV,KAAOzV,EAAKtL,OAAS,GAE/B44B,CACT,EAEQm1C,EAAAA,UAAAA,aAAR,SAAqBtsD,GACnB,IAAMviB,EAAYuiB,GAAU,KAAK5oB,IAAI,SACrC,OAAOqG,EAAUy4D,SAAS,KAAKrI,aAAa,QAC9C,EAGQye,EAAAA,UAAAA,YAAR,SAAoBtsD,GAClB,IAAMsuD,EAAY,KAAKC,aAAavuD,GAC9BnW,EAAOykE,EAAU5uD,UACvB,OAAO7V,CACT,EAEQyiE,EAAAA,UAAAA,kBAAR,WACE,IAAM7uE,EAAY,KAAKrG,IAAI,SACrBk3E,EAAY7wE,EAAUy4D,SAAS,KAAKrI,aAAa,SACjDhkD,EAAOykE,EAAU3uD,gBACvB,OAAO9V,CACT,EAGQyiE,EAAAA,UAAAA,WAAR,WACE,MAA8B,aAAvB,KAAKl1E,IAAI,SAClB,EAGQk1E,EAAAA,UAAAA,sBAAR,SAA8B7qE,EAAGC,GACzB,IAIF2uC,EAJE,EAAe,KAAKlgD,WAAlBD,EAAG,MAAED,EAAG,MACV4Z,EAAO,KAAKwlE,oBACZD,EAAY,KAAKhd,aACjB7hB,EAAO,KAAKn5C,IAAI,QAIpBi5C,EAFE++B,GAES1tE,EAAImI,EAAKyV,MAAQzV,EAAKtL,QAGtBkD,EAAIoI,EAAKsV,MAAQtV,EAAKjP,MAEnC,IAAIjR,EAAQygE,GAAkBl6D,EAAKD,EAAKogD,GACxC,GAAIE,EAAM,CACR,IAAM5iC,EAAQ3d,KAAKgD,OAAOrJ,EAAQuG,GAAOqgD,GACzC5mD,EAAQuG,EAAMyd,EAAQ4iC,C,CAQxB,OANI5mD,EAAQsG,IACVtG,EAAQsG,GAENtG,EAAQuG,IACVvG,EAAQuG,GAEHvG,CACT,EAGQ2iF,EAAAA,UAAAA,gBAAR,WACE,IAAM3iF,EAAQ,KAAKyN,IAAI,SACvB,IAAKzN,EAAO,CACV,IAAM+D,EAAS,KAAK0J,IAAI,UACxB,OAAK1J,EAIE,CAACsC,KAAKC,IAAID,KAAKE,IAAG,MAARF,MAAI,QAAQtC,EAAM,CAAE,KAAK0J,IAAI,UAAS,KAAKA,IAAI,QAASpH,KAAKE,IAAIF,KAAKC,IAAG,MAARD,MAAI,QAAQtC,EAAM,CAAE,KAAK0J,IAAI,UAAS,KAAKA,IAAI,SAHxH,CAAC,KAAKA,IAAI,OAAQ,KAAKA,IAAI,O,CAKtC,OAAOzN,CACT,EAGQ2iF,EAAAA,UAAAA,cAAR,SAAsBtsD,GACpB,IAAMwtD,EAAe,KAAKb,kBACnB,EAAYa,EAAY,GAAnBv9E,EAAOu9E,EAAY,GAC/B,KAAK8B,aAAatvD,EAAO,MAAO9vB,GAChC,KAAKo/E,aAAatvD,EAAO,MAAO/vB,EAClC,EAEQq8E,EAAAA,UAAAA,eAAR,SAAuBiD,EAAYp4C,GACjC,IAAMi7B,EAAa,KAAKA,aAClBp5D,EAAO,GACP4B,EAAQ20E,EAAW13E,KACjB,EAASs/B,EAAK,EAAXz1B,EAAMy1B,EAAK,EAChB54B,EAAS3D,EAAQwxE,GACjBoD,EAAY50E,EAAQ,EACpB60E,EAAgB70E,EAAQ,EAC9B,GAAIw3D,EAAY,CAQd,IAAMsd,EAAYjuE,EAAIlD,EAAS8tE,GAC/BrzE,EAAKxL,KAAK,CAAC,IAAKiU,EAAGC,IACnB1I,EAAKxL,KAAK,CAAC,IAAKkiF,EAAWhuE,EAAI8tE,IAC/Bx2E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIlD,EAAQmD,EAAI8tE,IAChCx2E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIlD,EAAQmD,EAAI8tE,IAChCx2E,EAAKxL,KAAK,CAAC,IAAKkiF,EAAWhuE,EAAI8tE,IAC/Bx2E,EAAKxL,KAAK,CAAC,MAEXwL,EAAKxL,KAAK,CAAC,IAAKkiF,EAAWhuE,EAAI+tE,IAC/Bz2E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIlD,EAAS,EAAGmD,EAAI+tE,IACpCz2E,EAAKxL,KAAK,CAAC,IAAKkiF,EAAWhuE,EAAI+tE,IAC/Bz2E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIlD,EAAS,EAAGmD,EAAI+tE,G,KAC/B,CAQL,IAAME,EAAYjuE,EAAInD,EAAS8tE,GAC/BrzE,EAAKxL,KAAK,CAAC,IAAKiU,EAAGC,IACnB1I,EAAKxL,KAAK,CAAC,IAAKiU,EAAI+tE,EAAWG,IAC/B32E,EAAKxL,KAAK,CAAC,IAAKiU,EAAI+tE,EAAW9tE,EAAInD,IACnCvF,EAAKxL,KAAK,CAAC,IAAKiU,EAAI+tE,EAAW9tE,EAAInD,IACnCvF,EAAKxL,KAAK,CAAC,IAAKiU,EAAI+tE,EAAWG,IAC/B32E,EAAKxL,KAAK,CAAC,MAEXwL,EAAKxL,KAAK,CAAC,IAAKiU,EAAIguE,EAAeE,IACnC32E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIguE,EAAe/tE,EAAInD,EAAS,IAChDvF,EAAKxL,KAAK,CAAC,IAAKiU,EAAIguE,EAAeE,IACnC32E,EAAKxL,KAAK,CAAC,IAAKiU,EAAIguE,EAAe/tE,EAAInD,EAAS,G,CAElD,OAAOvF,CACT,EAGQszE,EAAAA,UAAAA,aAAR,SAAqBtsD,EAAev2B,EAAME,GACxC,IAAMwtC,EAAQ,KAAKu3C,gBAAgB/kF,EAAOq2B,GACpCuvD,EAAa,KAAKn4E,IAAI,WACtB4B,EAAO,KAAK42E,eAAeL,EAAYp4C,GACvChb,EAAK,KAAK0xC,aAAa,WAAWpkE,GAClComF,EAAe7vD,EAAMk2C,SAAS/5C,GAC9Bi2C,EAAa,KAAKA,aACpByd,EACFA,EAAar3D,KAAK,OAAQxf,GAE1B,KAAKm2D,SAASnvC,EAAO,CACnBnyB,KAAM,OACNpE,KAAM,kBAAkBA,EACxB0lF,WAAW,EACXhzD,GAAE,EACFlzB,OAAK,kBACH+P,KAAI,GACDu2E,EAAWvxE,OAAK,CACnB45B,OAAQw6B,EAAa,YAAc,eAI3C,EAIQka,EAAAA,UAAAA,cAAR,SAAsBtsD,GACpB,IAAMsuD,EAAYtuD,EAAMk2C,SAAS,KAAKrI,aAAa,SAC7CiiB,EAAW9vD,EAAMk2C,SAAS,KAAKrI,aAAa,cAC5CkiB,EAAW/vD,EAAMk2C,SAAS,KAAKrI,aAAa,cAC5CzoB,EAAa,KAAK4qC,eACpB,KAAK5d,aAEP,KAAK6d,aAAaH,EAAUC,EAAUzB,EAAWlpC,GAGjD,KAAK8qC,gBAAgBJ,EAAUC,EAAUzB,EAAWlpC,EAExD,EAEQknC,EAAAA,UAAAA,cAAR,SAAsB6D,EAAcC,EAAc5B,EAAUF,GAC1D,IAAMlc,EAAa,KAAKA,aAClBie,EAAcje,EAAa,SAAW,QACtC6L,EAAW,KAAK7mE,IAAI,SACpB42E,EAAa/P,EAAS9B,MACtBtB,EAAUoD,EAASpD,QACnB5H,EAAY,KAAK77D,IAAI,MAAM5C,GAAW67E,IAC5C,GAAIpd,EAAW,CACb,IAAMqd,EACW,SAAftC,EACIQ,EAAS6B,GAAeF,EAAaE,GAAeD,EAAaC,GAAyB,EAAVxV,EAChF2T,EAAS6B,GACT5gE,EAAO6gE,EAAiBrd,EAC1BxjD,EAAO,GAET,KAAK8gE,iBAAiBjC,EAAW+B,EAAa7B,EAAS6B,GAAe5gE,E,CAG5E,EAEQ68D,EAAAA,UAAAA,iBAAR,SAAyBgC,EAAW+B,EAAatkF,GAC/C,IACIiN,EADE6Q,EAAOykE,EAAU5uD,UAGrB1mB,EADkB,WAAhBq3E,EACK,KAAKhC,YAAYxkE,EAAKpI,EAAGoI,EAAKnI,EAAGmI,EAAKjP,MAAO7O,GAE7C,KAAKsiF,YAAYxkE,EAAKpI,EAAGoI,EAAKnI,EAAG3V,EAAQ8d,EAAKtL,QAEvD+vE,EAAU91D,KAAK,OAAQxf,EACzB,EAEQszE,EAAAA,UAAAA,mBAAR,SAA2BgC,EAAW7sE,EAAGC,GACvC,IAAMmI,EAAOykE,EAAU5uD,UACjB1mB,EAAO,KAAKq1E,YAAY5sE,EAAGC,EAAGmI,EAAKjP,MAAOiP,EAAKtL,QACrD+vE,EAAU91D,KAAK,OAAQxf,EACzB,EAEQszE,EAAAA,UAAAA,gBAAR,SAAwBwD,EAAoBC,EAAoBzB,EAAqBlpC,GACnF,IAAM64B,EAAW,KAAK7mE,IAAI,SACpB42E,EAAa/P,EAAS9B,MACtBtB,EAAUoD,EAASpD,QACrB2T,EAAWF,EAAU5uD,UACnBywD,EAAeL,EAASpwD,UACxB0wD,EAAeL,EAASrwD,UACxB8wD,EAAahC,EAASjwE,OAC5B,KAAKkyE,cAAcN,EAAcC,EAAc5B,EAAUF,GACzDE,EAAWF,EAAU5uD,UACF,SAAfsuD,GAEF8B,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,EAAI8uE,EAAa,IAEjC,KAAKE,mBAAmBpC,EAAWlpC,EAAW3jC,EAAI0uE,EAAav1E,MAAQigE,EAASz1B,EAAW1jC,GAC3FquE,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EAAI0uE,EAAav1E,MAAQ4zE,EAAS5zE,MAAkB,EAAVigE,EACxDn5D,EAAG0jC,EAAW1jC,EAAI8uE,EAAa,KAET,QAAfxC,GACT8B,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,IAEhBquE,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EAAI+sE,EAAS5zE,MAC3B8G,EAAG0jC,EAAW1jC,IAEhB,KAAKgvE,mBAAmBpC,EAAWlpC,EAAW3jC,EAAG2jC,EAAW1jC,EAAIyuE,EAAa5xE,OAASs8D,KAEtF,KAAK6V,mBAAmBpC,EAAWlpC,EAAW3jC,EAAG2jC,EAAW1jC,GAC5DouE,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,EAAI8sE,EAASjwE,OAASs8D,IAEtCkV,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EAAI+sE,EAAS5zE,MAC3B8G,EAAG0jC,EAAW1jC,EAAI8sE,EAASjwE,OAASs8D,IAG1C,EAEQyR,EAAAA,UAAAA,aAAR,SAAqBwD,EAAoBC,EAAoBzB,EAAqBlpC,GAChF,IAAM64B,EAAW,KAAK7mE,IAAI,SACpB42E,EAAa/P,EAAS9B,MACtBtB,EAAUoD,EAASpD,QACrB2T,EAAWF,EAAU5uD,UACnBywD,EAAeL,EAASpwD,UACxB0wD,EAAeL,EAASrwD,UAI9B,GAHA,KAAK+wD,cAAcN,EAAcC,EAAc5B,EAAUF,GACzDE,EAAWF,EAAU5uD,UAEF,SAAfsuD,EAEF8B,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,IAEhB,KAAKgvE,mBAAmBpC,EAAWlpC,EAAW3jC,EAAG2jC,EAAW1jC,EAAIyuE,EAAa5xE,OAASs8D,GACtFkV,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,EAAIyuE,EAAa5xE,OAASiwE,EAASjwE,OAAmB,EAAVs8D,SAEvD,GAAmB,UAAfmT,EACT8B,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EAAI+sE,EAAS5zE,MAAQigE,EACnCn5D,EAAG0jC,EAAW1jC,IAEhB,KAAKgvE,mBAAmBpC,EAAWlpC,EAAW3jC,EAAG2jC,EAAW1jC,GAC5DquE,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EAAI+sE,EAAS5zE,MAAQigE,EACnCn5D,EAAG0jC,EAAW1jC,EAAI8sE,EAASjwE,aAExB,CAEL,IAAMoyE,EAAgB3gF,KAAKC,IAAIkgF,EAAav1E,MAAOw1E,EAAax1E,OAChEk1E,EAASt3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,IAEhB,KAAKgvE,mBAAmBpC,EAAWlpC,EAAW3jC,EAAIkvE,EAAgB9V,EAASz1B,EAAW1jC,GACtFquE,EAASv3D,KAAK,CACZ/W,EAAG2jC,EAAW3jC,EACdC,EAAG0jC,EAAW1jC,EAAI8sE,EAASjwE,Q,CAGjC,EACF,EArsBA,CAA6B6nE,IAusB7B,MCjtBarC,GAAkB,aAClB6M,GAAc,mBACdC,GAAa,kBACbC,GAAkB,uBAClBC,GAAe,oBACfC,GAAc,mBACdC,GAAa,kBACbC,GAAc,yBACdC,GAAc,yBCH3B,UAEEn+D,GAAC,GAAGkxD,IAA6B,CAC/Bt2B,SAAU,WACVwjC,WAAY,UAGZl4D,OAAQ,EACRm4D,WACE,oIAGFlN,gBAAiB,2BACjBmN,UAAW,uBACXC,aAAc,MACdhkD,MAAO,kBACP9yB,SAAU,OACVP,WAAYk6D,GAAAA,WACZhyB,WAAY,OACZunB,QAAS,sBAEX32C,GAAC,GAAGkxD,IAAyB,CAC3BsN,aAAc,OAEhBx+D,GAAC,GAAGkxD,IAAwB,CAC1Bh2B,OAAQ,MACRujC,cAAe,OACf9nB,QAAS,OAEX32C,GAAC,GAAGkxD,IAA6B,CAC/BuN,cAAe,OACfD,aAAc,OAEhBx+D,GAAC,GAAGkxD,IAA0B,CAC5BtpE,MAAO,MACP2D,OAAQ,MACRgzE,aAAc,MACdhgC,QAAS,eACTmgC,YAAa,OAEf1+D,GAAC,GAAGkxD,IAAyB,CAC3B3yB,QAAS,eACTogC,MAAO,QACPC,WAAY,QAEd5+D,GAAC,GAAGkxD,IAAyB,CAC3Bt2B,SAAU,WACVhzC,MAAO,MACPupE,gBAAiB,uBAEnBnxD,GAAC,GAAGkxD,IAAyB,CAC3Bt2B,SAAU,WACVrvC,OAAQ,MACR4lE,gBAAiB,uBAClB,ICjDG,SAAU0N,GAAYpwE,EAAWC,EAAW9G,EAAe2D,EAAgBuzE,GAC/E,IAAMC,EAAO,CACX1kE,KAAM5L,EAAIqwE,EAASrwE,EACnB6L,MAAO7L,EAAI7G,EAAQk3E,EAASrwE,EAAIqwE,EAASl3E,MACzCo/B,IAAKt4B,EAAIowE,EAASpwE,EAClBkoD,OAAQloD,EAAInD,EAASuzE,EAASpwE,EAAIowE,EAASvzE,QAE7C,OAAOwzE,CACT,CAEM,SAAUC,GACdvwE,EACAC,EACAosC,EACAlzC,EACA2D,EACAqvC,GAEA,IAAIpkC,EAAK/H,EACLgI,EAAK/H,EACT,OAAQksC,GACN,IAAK,OACHpkC,EAAK/H,EAAI7G,EAAQkzC,EACjBrkC,EAAK/H,EAAInD,EAAS,EAClB,MACF,IAAK,QACHiL,EAAK/H,EAAIqsC,EACTrkC,EAAK/H,EAAInD,EAAS,EAClB,MACF,IAAK,MACHiL,EAAK/H,EAAI7G,EAAQ,EACjB6O,EAAK/H,EAAInD,EAASuvC,EAClB,MACF,IAAK,SAEHtkC,EAAK/H,EAAI7G,EAAQ,EACjB6O,EAAK/H,EAAIosC,EACT,MACF,QAEEtkC,EAAK/H,EAAIqsC,EACTrkC,EAAK/H,EAAInD,EAASuvC,EAClB,MAGJ,MAAO,CACLrsC,EAAG+H,EACH9H,EAAG+H,EAEP,CAEM,SAAUwoE,GACdxwE,EACAC,EACAosC,EACAlzC,EACA2D,EACAqvC,EACAkkC,GAEA,IAAM36C,EAAQ66C,GAAmBvwE,EAAGC,EAAGosC,EAAQlzC,EAAO2D,EAAQqvC,GAC9D,GAAIkkC,EAAU,CACZ,IAAMI,EAAWL,GAAY16C,EAAM11B,EAAG01B,EAAMz1B,EAAG9G,EAAO2D,EAAQuzE,GAC7C,SAAblkC,GAEEskC,EAAS5kE,QACX6pB,EAAM11B,EAAIzR,KAAKC,IAAI,EAAGwR,EAAI7G,EAAQkzC,IAEhCokC,EAASl4C,MACX7C,EAAMz1B,EAAI1R,KAAKC,IAAI,EAAGyR,EAAInD,EAASuvC,KAEf,QAAbF,GAAmC,WAAbA,GAC3BskC,EAAS7kE,OAEX8pB,EAAM11B,EAAIqwE,EAASrwE,GAEjBywE,EAAS5kE,QAEX6pB,EAAM11B,EAAIqwE,EAASrwE,EAAIqwE,EAASl3E,MAAQA,GAEzB,QAAbgzC,GAAsBskC,EAASl4C,MAEjC7C,EAAMz1B,EAAIA,EAAIosC,GAEC,WAAbF,GAAyBskC,EAAStoB,SACpCzyB,EAAMz1B,EAAIA,EAAInD,EAASuvC,KAIrBokC,EAASl4C,MACX7C,EAAMz1B,EAAIowE,EAASpwE,GAEjBwwE,EAAStoB,SACXzyB,EAAMz1B,EAAIowE,EAASpwE,EAAIowE,EAASvzE,OAASA,GAE1B,SAAbqvC,GAAuBskC,EAAS7kE,OAClC8pB,EAAM11B,EAAIA,EAAIqsC,GAEC,UAAbF,GAAwBskC,EAAS5kE,QACnC6pB,EAAM11B,EAAIA,EAAI7G,EAAQkzC,G,CAI5B,OAAO3W,CACT,CCrGA,SAASg7C,GAAUtjF,EAAKF,GACtB,IAAIpB,GAAS,EAOb,OANAY,EAAKQ,GAAM,SAAChD,GACV,GAAIihE,GAAO/9D,EAAKlD,GAEd,OADA4B,GAAS,GACF,CAEX,IACOA,CACT,CAEA,gC,8CA2UA,QA3UyD0S,EAAAA,EAAAA,IAAAA,EAAAA,GAChDmyE,EAAAA,UAAAA,cAAP,WACE,IAAMtyE,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,UACNoE,KAAM,OACN4T,EAAG,EACHC,EAAG,EACHg6D,MAAO,GACP2W,cAAe,KACf7Z,aAAc,eAAe0L,GAAwB,iBAAiBA,GAAoB,sBAAsBA,GAAmB,gBACnIoO,QAAS,cAAcpO,GAAwB,iDAC5BA,GAAqB,gEACrBA,GAAmB,4CACnBA,GAAoB,kCAEvCqO,cAAe,eAAerO,GAAoB,WAClDsO,cAAe,eAAetO,GAAoB,WAClD5yB,MAAO,KACPmhC,WAAW,EAKXxoB,OAAQ,KAERyoB,iBAAkB,KAClBja,mBAAoByL,GAEpByO,WAAY,KACZ7kC,OAAQ,GACRF,SAAU,QACVsrB,UAAW,KACXD,cAAe2Z,IAEnB,EAGOR,EAAAA,UAAAA,OAAP,WACM,KAAKh7E,IAAI,iBACX,KAAKy7E,uBAEL,KAAKC,aACL,KAAKC,eAGP,KAAKvZ,eACP,EAGO4Y,EAAAA,UAAAA,MAAP,WAEE,KAAKY,kBACL,KAAKC,SAAS,IACd,KAAKC,eACP,EAEOd,EAAAA,UAAAA,KAAP,WACE,IAAM30E,EAAY,KAAKi7D,eAClBj7D,IAAa,KAAK4C,YAIvB,KAAK3O,IAAI,WAAW,GACpBoM,GAAUL,EAAW,CACnB2zE,WAAY,YAEd,KAAK+B,sBAAqB,GAC5B,EAEOf,EAAAA,UAAAA,KAAP,WACE,IAAM30E,EAAY,KAAKi7D,eAElBj7D,IAAa,KAAK4C,YAGvB,KAAK3O,IAAI,WAAW,GACpBoM,GAAUL,EAAW,CACnB2zE,WAAY,WAEd,KAAK+B,sBAAqB,GAC5B,EAGOf,EAAAA,UAAAA,YAAP,WACE,MAAO,CAAE3wE,EAAG,KAAKrK,IAAI,KAAMsK,EAAG,KAAKtK,IAAI,KACzC,EAEOg7E,EAAAA,UAAAA,YAAP,SAAmBj7C,GACjB,KAAKzlC,IAAI,IAAKylC,EAAM11B,GACpB,KAAK/P,IAAI,IAAKylC,EAAMz1B,GACpB,KAAK83D,eACP,EAEO4Y,EAAAA,UAAAA,qBAAP,SAA4BpyE,GAC1B,IAAMuxC,EAAUvxC,EAAU,GAAK,OACzBozE,EAAgB,KAAKh8E,IAAI,iBACzBi8E,EAAgB,KAAKj8E,IAAI,iBAC/Bg8E,GACEt1E,GAAUs1E,EAAe,CACvB7hC,QAAO,IAEX8hC,GACEv1E,GAAUu1E,EAAe,CACvB9hC,QAAO,GAEb,EAGU6gC,EAAAA,UAAAA,cAAV,WAEE,GADAryE,EAAAA,UAAM84B,cAAa,WACf,KAAKzhC,IAAI,iBAAkB,CACzB,KAAKA,IAAI,cACX,KAAKA,IAAI,aAAajG,SAExB,IAAMsM,EAAY,KAAK61E,qBACvB,KAAKl8E,IAAI,UAAU+hC,YAAY17B,GAC/B,KAAK/L,IAAI,YAAa+L,GACtB,KAAKm7D,cACL,KAAKC,a,CAET,EAGUuZ,EAAAA,UAAAA,YAAV,SAAsBtyE,GAChB,KAAK1I,IAAI,iBACX,KAAKy7E,uBAGDV,GAAUryE,EAAK,CAAC,QAAS,eAC3B,KAAKgzE,aAGHlmB,GAAO9sD,EAAK,UACd,KAAKizE,eAGThzE,EAAAA,UAAM2sD,YAAW,UAAC5sD,EACpB,EAEUsyE,EAAAA,UAAAA,QAAV,WACE,KAAKmB,WACP,EAEUnB,EAAAA,UAAAA,UAAV,WACEryE,EAAAA,UAAMhB,UAAS,WACf,KAAKi0E,iBACP,EAEUZ,EAAAA,UAAAA,cAAV,WACE,IASIN,EATErwE,EAAI,KAAKrK,IAAI,KACbsK,EAAI,KAAKtK,IAAI,KACb02C,EAAS,KAAK12C,IAAI,UAClB,EAAuB,KAAKo8E,YAA1Bh6C,EAAO,UAAEE,EAAO,UAClBkU,EAAW,KAAKx2C,IAAI,YACpB6yD,EAAS,KAAK7yD,IAAI,UAClBqG,EAAY,KAAKi7D,eACjB7uD,EAAO,KAAK6V,UACV,EAAkB7V,EAAI,MAAftL,EAAWsL,EAAI,OAE1BogD,IAEF6nB,EAAW9nB,GAAaC,IAE1B,IAAM9yB,EAAQ86C,GAAcxwE,EAAGC,EAAGosC,EAAQlzC,EAAO2D,EAAQqvC,EAAUkkC,GACnEh0E,GAAUL,EAAW,CACnB4P,KAAMq+C,GAAKv0B,EAAM11B,EAAI+3B,GACrBQ,IAAK0xB,GAAKv0B,EAAMz1B,EAAIg4B,KAEtB,KAAK+5C,iBACP,EAGQrB,EAAAA,UAAAA,oBAAR,WACE,IAAMsB,EAAO,KAAKJ,qBACZt0E,EAAsB,KAAK5H,IAAI,UAC/Bu8E,EAA4B,KAAKv8E,IAAI,aACvCu8E,GAAgBA,EAAa10E,aAAeD,EAC9CA,EAAO40E,aAAaF,EAAMC,GAE1B30E,EAAOm6B,YAAYu6C,GAErB,KAAKhiF,IAAI,YAAagiF,GACtB,KAAK9a,cACL,KAAKC,aACP,EAEQuZ,EAAAA,UAAAA,mBAAR,WACE,IAAIsB,EACErB,EAAgB,KAAKj7E,IAAI,iBAC/B,GAAIi7E,EAAe,CACjB,IAAMvkB,EAAOukB,EAAc,KAAKj7E,IAAI,SAAU,KAAKA,IAAI,UAErDs8E,EADEt+E,GAAU04D,GACLA,EAEAzwD,GAAUywD,E,CAGrB,OAAO4lB,CACT,EAGQtB,EAAAA,UAAAA,UAAR,WACE,IAAM30E,EAAY,KAAKi7D,eACjBmb,EAAWp2E,EAAU67D,uBAAuB4K,IAAsB,GAClE4P,EAAUr2E,EAAU67D,uBAAuB4K,IAAqB,GACtE,KAAKxyE,IAAI,WAAYmiF,GACrB,KAAKniF,IAAI,UAAWoiF,EACtB,EAGQ1B,EAAAA,UAAAA,WAAR,WACE,IAAM9gC,EAAQ,KAAKl6C,IAAI,SACjBq7E,EAAY,KAAKr7E,IAAI,aACvBq7E,GAAanhC,EACf,KAAK2hC,SAAS3hC,GAEd,KAAK2hC,SAAS,GAElB,EAEQb,EAAAA,UAAAA,SAAR,SAAiBp4E,GACf,IAAM65E,EAAW,KAAKz8E,IAAI,YACtBy8E,IACFA,EAASE,UAAY/5E,EAEzB,EAEQo4E,EAAAA,UAAAA,gBAAR,WACE,IAAMM,EAAmB,KAAKt7E,IAAI,oBAC5Bu7E,EAAa,KAAKv7E,IAAI,cAC5B,GAAKs7E,GAAqBC,EAGnB,CACL,IAAMqB,EAAehqB,GAAa0oB,GAC5BU,EAAgB,KAAKh8E,IAAI,iBACzBi8E,EAAgB,KAAKj8E,IAAI,iBACZ,MAAfu7E,GACF,KAAKsB,eAAe,IAAKD,GAErBX,IACFA,EAAcliF,SACd,KAAKO,IAAI,gBAAiB,QAEJ,MAAfihF,GACT,KAAKsB,eAAe,IAAKD,GAErBZ,IACFA,EAAcjiF,SACd,KAAKO,IAAI,gBAAiB,SAG5B,KAAKuiF,eAAe,IAAKD,GACzB,KAAKC,eAAe,IAAKD,IAE3B,KAAKb,qBAAqB,KAAK/7E,IAAI,W,MAvBnC,KAAK47E,iBAyBT,EAEQZ,EAAAA,UAAAA,eAAR,SAAuB3oF,EAAcogB,GACnC,IAAMqqE,EAAc,KAAKC,eAAe1qF,GAClCE,EAAQ,KAAKyN,IAAI3N,GAErBqU,GAAUo2E,EADC,MAATzqF,EACqB,CACrB4jB,KAAMq+C,GAAK/hE,GACXqwC,IAAK0xB,GAAK7hD,EAAKnI,GACfnD,OAAQmtD,GAAK7hD,EAAKtL,SAGG,CACrBy7B,IAAK0xB,GAAK/hE,GACV0jB,KAAMq+C,GAAK7hD,EAAKpI,GAChB7G,MAAO8wD,GAAK7hD,EAAKjP,QAGvB,EAGQw3E,EAAAA,UAAAA,eAAR,SAAuB3oF,GACrB,IAAM2qF,EAAa3qF,EAAI,eACjB4qF,EAAa5qF,EAAI,eACjB6qF,EAAY,aAAa7qF,EAAKgL,cAC9BwlE,EAAYiK,EAASoQ,GACvBJ,EAAc,KAAK98E,IAAIg9E,GACrBp1E,EAAS,KAAK5H,IAAI,UAOxB,OANK88E,IACHA,EAAc72E,GAAU,KAAKjG,IAAIi9E,IACjC,KAAK3P,WAAWzK,EAAWia,GAC3Bl1E,EAAOm6B,YAAY+6C,GACnB,KAAKxiF,IAAI0iF,EAASF,IAEbA,CACT,EAEQ9B,EAAAA,UAAAA,YAAR,WACE,KAAKc,gBACL,IAAMxX,EAAQ,KAAKtkE,IAAI,SACjBk7E,EAAU,KAAKl7E,IAAI,WACnB08E,EAAU,KAAK18E,IAAI,WACrB08E,IACF3lF,EAAKutE,GAAO,SAACjwE,GACX,IAAM8hC,EAAQslB,GAAAA,cAAwBpnD,EAAK8hC,OACrCgnD,GAAa,oBACd9oF,GAAI,CACP8hC,MAAK,IAGDinD,EAASpgF,GAAWk+E,EAASiC,GAC7BE,EAAUp3E,GAAUm3E,GAC1BV,EAAQ36C,YAAYs7C,EACtB,IACA,KAAKtb,oBAAoB2a,EAAS,KAAK18E,IAAI,cAE/C,EAEQg7E,EAAAA,UAAAA,cAAR,WACM,KAAKh7E,IAAI,YACXyyD,GAAS,KAAKzyD,IAAI,WAEtB,EAEQg7E,EAAAA,UAAAA,gBAAR,WACE,IAAMgB,EAAgB,KAAKh8E,IAAI,iBACzBi8E,EAAgB,KAAKj8E,IAAI,iBAC/Bg8E,GAAiBA,EAAcjiF,SAC/BkiF,GAAiBA,EAAcliF,SAC/B,KAAKO,IAAI,gBAAiB,MAC1B,KAAKA,IAAI,gBAAiB,KAC5B,EACF,EA3UA,CAAyD6mE,IA6UzD,MCrWamc,GAAmB,CAE9Bt7D,QAAS,GAGEu7D,GAAa,CACxB9qC,OAAQ,UACR+qC,cAAe,KAGJC,GAAa,CACxBhyB,KAAM,UACNzpC,QAAS,KCFX,SAAS07D,GAAa1nE,GACpB,OAAOjV,GAAIiV,GAAQ,SAACtU,EAAUG,GAC5B,IAAMmtC,EAAkB,IAARntC,EAAY,IAAM,IAC3B,EAAQH,EAAC,GAAN4I,EAAK5I,EAAC,GAChB,MAAO,CAACstC,EAAS3kC,EAAGC,EACtB,GACF,CAMM,SAAU26D,GAAYjvD,GAC1B,OAAO0nE,GAAa1nE,EACtB,CAMM,SAAU2nE,GAAkB3nE,GAChC,GAAIA,EAAOrhB,QAAU,EAEnB,OAAOswE,GAAYjvD,GAGrB,IAAM1d,EAAO,GAEbvB,EAAKif,GAAQ,SAACtU,GAEPhB,GAAQgB,EAAGpJ,EAAK6E,MAAM7E,EAAK3D,OAAS,KACvC2D,EAAKlC,KAAKsL,EAAE,GAAIA,EAAE,GAEtB,IAMA,IAAME,EAAOirC,GAAkBv0C,GAAM,GAC/B,EAASoC,GAAKsb,GAAb3L,EAAC,KAAEC,EAAC,KAGX,OAFA1I,EAAK2V,QAAQ,CAAC,IAAKlN,EAAGC,IAEf1I,CACT,CASM,SAAUg8E,GAAWtlF,EAAgBkL,EAAe2D,EAAgB+kC,QAAA,QAAAA,GAAAA,GAExE,IAAM5hC,EAAI,IAAI87C,GAAO,CACnB9vD,OAAQgC,IAGJ+R,EAAI,IAAI0yC,GAAS,CACrBzmD,OAAQyK,GAAIzI,GAAM,SAACW,EAAG4I,GAAQ,cAG1BmU,EAASjV,GAAIzI,GAAM,SAACW,EAAW4I,GACnC,MAAO,CAACwI,EAAEkU,MAAM1c,GAAO2B,EAAO2D,EAASmD,EAAEiU,MAAMtlB,GAAKkO,EACtD,IAEA,OAAO+kC,EAASyxC,GAAkB3nE,GAAUivD,GAAYjvD,EAC1D,CAQM,SAAU6nE,GAAavlF,EAAgB6O,GAC3C,IAAMmD,EAAI,IAAI87C,GAAO,CACnB9vD,OAAQgC,IAGJwlF,EAAQxzE,EAAEzR,IAAM,EAAIyR,EAAEzR,IAAMD,KAAKC,IAAI,EAAGyR,EAAExR,KAChD,OAAOqO,EAASmD,EAAEiU,MAAMu/D,GAAS32E,CACnC,CAQM,SAAU42E,GAAmBn8E,EAAe4B,EAAe2D,EAAgB7O,GAC/E,IAAM0lF,GAAQ,QAAOp8E,GAEfq8E,EAAUJ,GAAavlF,EAAM6O,GAMnC,OAJA62E,EAAS5nF,KAAK,CAAC,IAAKoN,EAAOy6E,IAC3BD,EAAS5nF,KAAK,CAAC,IAAK,EAAG6nF,IACvBD,EAAS5nF,KAAK,CAAC,MAER4nF,CACT,CCzFA,gC,8CAsEA,QAtE2Bn1E,EAAAA,EAAAA,IAAAA,EAAAA,GAClBq1E,EAAAA,UAAAA,cAAP,WACE,IAAMx1E,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,QACNgY,EAAG,EACHC,EAAG,EACH9G,MAAO,IACP2D,OAAQ,GACR+kC,QAAQ,EACRiyC,QAAQ,EACR7lF,KAAM,GACN6jE,gBAAiBmhB,GACjBle,UAAWme,GACXa,UAAWX,IAEf,EAEUS,EAAAA,UAAAA,YAAV,SAAsBt1D,GACd,MAAiF,KAAKlgB,IAApFlF,EAAK,QAAE2D,EAAM,SAAE7O,EAAI,OAAE4zC,EAAM,SAAEiyC,EAAM,SAAEhiB,EAAe,kBAAEiD,EAAS,YAAEgf,EAAS,YAGlF,KAAKrmB,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,cACtBhgE,KAAM,OACN5E,OAAK,SACHwY,EAAG,EACHC,EAAG,EACH9G,MAAK,EACL2D,OAAM,GACHg1D,KAIP,IAAMv6D,EAAOg8E,GAAWtlF,EAAMkL,EAAO2D,EAAQ+kC,GAa7C,GAXA,KAAK6rB,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,QACtBhgE,KAAM,OACN5E,OAAK,SACH+P,KAAI,GACDw9D,KAMH+e,EAAQ,CACV,IAAMH,EAAWD,GAAmBn8E,EAAM4B,EAAO2D,EAAQ7O,GACzD,KAAKy/D,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,QACtBhgE,KAAM,OACN5E,OAAK,SACH+P,KAAMo8E,GACHI,I,CAIX,EAEUF,EAAAA,UAAAA,YAAV,WACQ,MAAW,KAAKx1E,IAAd2B,EAAC,IAAEC,EAAC,IAGZ,KAAKitD,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAC,EACDC,EAAC,GAEL,EACF,EAtEA,CAA2B2rD,ICCdooB,GAAwB,CACnC5yB,KAAM,UACNhZ,OAAQ,UACRwd,OAAQ,EACRjuC,QAAS,EACTwe,OAAQ,YAER89C,cAAe,QAGjB,4B,8CAqGA,QArG6Bz1E,EAAAA,EAAAA,IAAAA,EAAAA,GACpB01E,EAAAA,UAAAA,cAAP,WACE,IAAM71E,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,UACNgY,EAAG,EACHC,EAAG,EACH9G,MAAO,GACP2D,OAAQ,GACRP,MAAOy3E,IAEX,EACUE,EAAAA,UAAAA,YAAV,SAAsB31D,GACd,MAA2B,KAAKlgB,IAA9BlF,EAAK,QAAE2D,EAAM,SAAEP,EAAK,QACpB,EAA0CA,EAAK,KAAzC6rC,EAAoC7rC,EAAK,OAAjCqpD,EAA4BrpD,EAAK,OAAzBob,EAAoBpb,EAAK,QAAhB45B,EAAW55B,EAAK,OAGvD,KAAKmxD,SAASnvC,EAAO,CACnBnyB,KAAM,OACNsuB,GAAI,KAAK0xC,aAAa,cACtB5kE,MAAO,CACLwY,EAAG,EACHC,EAAG,EACH9G,MAAK,EACL2D,OAAM,EACNskD,KAAI,EACJhZ,OAAM,EACNwd,OAAM,EACNjuC,QAAO,EACPwe,OAAM,KAKV,IAAM51B,EAAM,EAAI,EAAKpH,EACfsH,EAAM,EAAI,EAAKtH,EAEfuH,EAAM,EAAI,EAAK5D,EACf8D,EAAM,EAAI,EAAK9D,EAErB,KAAK4wD,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,aACtBhgE,KAAM,OACN5E,MAAO,CACL+Y,GAAE,EACFG,GAAE,EACFD,GAAIF,EACJK,GAAE,EACFwnC,OAAM,EACNjS,OAAM,KAIV,KAAKu3B,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,cACtBhgE,KAAM,OACN5E,MAAO,CACL+Y,GAAIE,EACJC,GAAE,EACFD,GAAE,EACFG,GAAE,EACFwnC,OAAM,EACNjS,OAAM,IAGZ,EAEU+9C,EAAAA,UAAAA,YAAV,WACE,KAAKhnB,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAG,KAAKrK,IAAI,KACZsK,EAAG,KAAKtK,IAAI,MAEhB,EAEUu+E,EAAAA,UAAAA,UAAV,WACE,KAAKC,YACP,EAEQD,EAAAA,UAAAA,WAAR,sBACE,KAAKv+E,IAAI,SAAShN,GAAG,cAAc,WACzB,MAAkBwV,EAAKxI,IAAI,SAAQ,cAC3CwI,EAAKi1D,oBAAoB,cAAcr8C,KAAK,OAAQk9D,GAEpD91E,EAAK61B,MACP,IAEA,KAAKr+B,IAAI,SAAShN,GAAG,cAAc,WACzB,MAASwV,EAAKxI,IAAI,SAAQ,KAClCwI,EAAKi1D,oBAAoB,cAAcr8C,KAAK,OAAQqqC,GAEpDjjD,EAAK61B,MACP,GACF,EAEQkgD,EAAAA,UAAAA,KAAR,WACE,IAAM/6D,EAAS,KAAKxjB,IAAI,aAAaA,IAAI,UACrCwjB,GACFA,EAAO6a,MAEX,EACF,EArGA,CAA6B43B,IC7BhBqnB,GAAmB,CAC9B7xB,KAAM,UACNzpC,QAAS,KAGEy8D,GAAmB,CAC9BhzB,KAAM,UACNzpC,QAAS,IACTwe,OAAQ,QAGGk+C,GAAwB,GAExBC,GAAgB,CAC3Bn7E,MAAOk7E,GACPv3E,OAAQ,IAGGy3E,GAAa,CACxBjzC,aAAc,SACd8f,KAAM,OACNzpC,QAAS,KAGE68D,GAAgB,eC+B7B,0E,OAySUr2E,EAAAA,YAAc,SAACzU,GAAmB,gBAAC+2B,GACzCtiB,EAAK6d,cAAgBtyB,EAErB,IAAM8kB,EAAQiS,EAAEhS,cAGhBD,EAAMjkB,kBACNikB,EAAMK,iBAGN1Q,EAAKs2E,MAAQ9+E,GAAI6Y,EAAO,kBAAmBA,EAAMkmE,OACjDv2E,EAAKw2E,MAAQh/E,GAAI6Y,EAAO,kBAAmBA,EAAMomE,OAGjD,IAAMC,EAAe12E,EAAK22E,kBAE1BD,EAAax/C,iBAAiB,YAAal3B,EAAK42E,aAChDF,EAAax/C,iBAAiB,UAAWl3B,EAAK62E,WAC9CH,EAAax/C,iBAAiB,aAAcl3B,EAAK62E,WAGjDH,EAAax/C,iBAAiB,YAAal3B,EAAK42E,aAChDF,EAAax/C,iBAAiB,WAAYl3B,EAAK62E,WAC/CH,EAAax/C,iBAAiB,cAAel3B,EAAK62E,UACpD,CAxB0C,EA0BlC72E,EAAAA,YAAc,SAACqQ,GACb,MAAUrQ,EAAKE,IAAgB,MACjC+Z,EAAc,CAACja,EAAKxI,IAAI,SAAUwI,EAAKxI,IAAI,QAEjD6Y,EAAMjkB,kBACNikB,EAAMK,iBAEN,IAAM7O,EAAIrK,GAAI6Y,EAAO,kBAAmBA,EAAMkmE,OACxCz0E,EAAItK,GAAI6Y,EAAO,kBAAmBA,EAAMomE,OAGxC78C,EAAU/3B,EAAI7B,EAAKs2E,MAEnBQ,EAAe92E,EAAK+2E,kBAAkBn9C,EAAU5+B,GAGtDgF,EAAKg3E,eAAeF,GAEpB92E,EAAKi3E,SACHj3E,EAAKi1D,oBAAoB,cACzBj1D,EAAKi1D,oBAAoB,WACzBj1D,EAAKi1D,oBAAoB,YAG3Bj1D,EAAKs2E,MAAQz0E,EACb7B,EAAKw2E,MAAQ10E,EAEb9B,EAAK61B,OAGL71B,EAAKge,KAAKq4D,GAAe,CAACr2E,EAAKxI,IAAI,SAAUwI,EAAKxI,IAAI,QAAQ+iB,QAC9Dva,EAAKktE,aAAa,eAAgB,CAChCjzD,YAAW,EACXlwB,MAAO,CAACiW,EAAKxI,IAAI,SAAUwI,EAAKxI,IAAI,SAExC,EAEQwI,EAAAA,UAAY,WAEdA,EAAK6d,gBACP7d,EAAK6d,mBAAgBzvB,GAGvB,IAAMsoF,EAAe12E,EAAK22E,kBACtBD,IACFA,EAAap/C,oBAAoB,YAAat3B,EAAK42E,aACnDF,EAAap/C,oBAAoB,UAAWt3B,EAAK62E,WAEjDH,EAAap/C,oBAAoB,aAAct3B,EAAK62E,WAGpDH,EAAap/C,oBAAoB,YAAat3B,EAAK42E,aACnDF,EAAap/C,oBAAoB,WAAYt3B,EAAK62E,WAClDH,EAAap/C,oBAAoB,cAAet3B,EAAK62E,WAEzD,E,CAqGF,QA/d4Bx2E,EAAAA,EAAAA,IAAAA,EAAAA,GAUnB62E,EAAAA,UAAAA,SAAP,SAAgB5mF,EAAaD,GAC3B,KAAKyB,IAAI,WAAYxB,GACrB,KAAKwB,IAAI,WAAYzB,GACrB,IAAM8mF,EAAW,KAAK3/E,IAAI,SACpB4/E,EAAS,KAAK5/E,IAAI,OAClB6/E,EAAWpkF,GAAMkkF,EAAU7mF,EAAKD,GAChCinF,EAASrkF,GAAMmkF,EAAQ9mF,EAAKD,GAC7B,KAAKmH,IAAI,WAAc2/E,IAAaE,GAAYD,IAAWE,GAC9D,KAAKxJ,SAAS,CAACuJ,EAAUC,GAE7B,EAEOJ,EAAAA,UAAAA,SAAP,WACE,MAAO,CACL5mF,IAAK,KAAKkH,IAAI,aAAe,EAC7BnH,IAAK,KAAKmH,IAAI,aAAe,EAEjC,EAEO0/E,EAAAA,UAAAA,SAAP,SAAgBntF,GACd,IAAM4jD,EAAQ,KAAKp9C,WACnB,GAAIjC,EAAQvE,IAA2B,IAAjBA,EAAMoC,OAAc,CACxC,IAAM8tB,EAAc,CAAC,KAAKziB,IAAI,SAAU,KAAKA,IAAI,QACjD,KAAK49B,OAAO,CACVpyB,MAAO/P,GAAMlJ,EAAM,GAAI4jD,EAAMr9C,IAAKq9C,EAAMt9C,KACxCsb,IAAK1Y,GAAMlJ,EAAM,GAAI4jD,EAAMr9C,IAAKq9C,EAAMt9C,OAEnC,KAAKmH,IAAI,qBACZ,KAAKzO,SAEP,KAAKmkF,aAAa,eAAgB,CAChCjzD,YAAW,EACXlwB,MAAK,G,CAGX,EAEOmtF,EAAAA,UAAAA,SAAP,WACE,MAAO,CAAC,KAAK1/E,IAAI,SAAU,KAAKA,IAAI,OACtC,EAEO0/E,EAAAA,UAAAA,cAAP,WACE,IAAMh3E,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,SACNgY,EAAG,EACHC,EAAG,EACH9G,MAAO,IACP2D,OAAQ,GACRg1D,gBAAiB,GACjB4jB,gBAAiB,GACjBC,aAAc,GACd3gB,UAAW,GACXxlD,WAAY,CACVsiD,gBAAiBmhB,GACjByC,gBAAiBtB,GACjBuB,aAAcrB,GACdtf,UAAWuf,KAGjB,EAEOc,EAAAA,UAAAA,OAAP,SAAch3E,GACJ,MAAeA,EAAG,MAAXyL,EAAQzL,EAAG,IACpBu3E,GAAQ,WAAQv3E,GACjB/R,EAAM6U,KACTy0E,EAASz0E,MAAQ/P,GAAM+P,EAAO,EAAG,IAE9B7U,EAAMwd,KACT8rE,EAAS9rE,IAAM1Y,GAAM0Y,EAAK,EAAG,IAE/BxL,EAAAA,UAAMi1B,OAAM,UAACqiD,GACb,KAAKC,WAAa,KAAKC,sBAAsB,KAAK1pB,aAAa,eAC/D,KAAK2pB,WAAa,KAAKD,sBAAsB,KAAK1pB,aAAa,eAC/D,KAAK4pB,MAAQ,KAAKF,sBAAsB,KAAK1pB,aAAa,SAC5D,EAEOipB,EAAAA,UAAAA,KAAP,WACE,KAAKplF,IAAI,QAASmB,GAAM,KAAKuE,IAAI,SAAU,EAAG,IAC9C,KAAK1F,IAAI,MAAOmB,GAAM,KAAKuE,IAAI,OAAQ,EAAG,IAC1C2I,EAAAA,UAAM7O,KAAI,UACZ,EAEO4lF,EAAAA,UAAAA,OAAP,WACE/2E,EAAAA,UAAMpX,OAAM,WAEZ,KAAKkuF,SACH,KAAKhiB,oBAAoB,cACzB,KAAKA,oBAAoB,WACzB,KAAKA,oBAAoB,WAE7B,EAEUiiB,EAAAA,UAAAA,YAAV,SAAsB92D,GACd,MAWF,KAAKlgB,IARPlF,GAFK,QACF,MACE,SACL2D,EAAM,SACNwd,EAAAA,EAAAA,SAAA27D,OAAQ,MAAG,GAAE,EACbC,EAAO,UACPC,EAAO,UACP9uF,EAAAA,EAAAA,gBAAAyqE,OAAe,MAAG,GAAE,EACpB5sB,EAAAA,EAAAA,gBAAAwwC,OAAe,MAAG,GAAE,EACpBvwC,EAAAA,EAAAA,UAAA6vB,OAAS,MAAG,GAAE,EAGV2gB,EAAez/E,GAAQ,GAAI89E,GAAuB,KAAK31E,IAAIs3E,cAM7Dv/E,GAAKT,GAAIsgF,EAAU,WACrB,KAAKD,MAAQ,KAAKI,aAAa73D,GAAK,SAClC8uC,UAAWwmB,GACXn5D,GAAI,KAAK0xC,aAAa,SACtBpsD,EAAG,EACHC,EAAG,EACH9G,MAAK,EACL2D,OAAM,GACHm5E,KAKP,KAAKvoB,SAASnvC,EAAO,CACnB7D,GAAI,KAAK0xC,aAAa,cACtBhgE,KAAM,OACN5E,OAAK,SACHwY,EAAG,EACHC,EAAG,EACH9G,MAAK,EACL2D,OAAM,GACHg1D,KAKc,KAAKpE,SAASnvC,EAAO,CACxC7D,GAAI,KAAK0xC,aAAa,WACtBhgE,KAAM,OACN5E,OAAK,SAEHyY,EAAGnD,EAAS,EACZykC,UAAW,QACXhpC,KAAM29E,EACNG,QAAQ,GACLrhB,KAIc,KAAKtH,SAASnvC,EAAO,CACxC7D,GAAI,KAAK0xC,aAAa,WACtBhgE,KAAM,OACN5E,OAAK,SAEHyY,EAAGnD,EAAS,EACZykC,UAAW,OACXhpC,KAAM49E,EACNE,QAAQ,GACLrhB,KAKiB,KAAKtH,SAASnvC,EAAO,CAC3C7D,GAAI,KAAK0xC,aAAa,cACtBpkE,KAAM,aACNoE,KAAM,OACN5E,OAAK,SAEHyY,EAAG,EAEHnD,OAAM,GACH44E,KApCP,IAyCMY,EAAe3gF,GAAIggF,EAAc,QAAStB,IAC1CkC,EAAgB5gF,GAAIggF,EAAc,SAAU,IAGlD,KAAKE,WAAa,KAAKO,aAAa73D,EAAO,CACzC8uC,UAAW6mB,GACXx5D,GAAI,KAAK0xC,aAAa,cACtBpkE,KAAM,cACNgY,EAAG,EACHC,GAAInD,EAASy5E,GAAiB,EAC9Bp9E,MAAOm9E,EACPx5E,OAAQy5E,EACRpgD,OAAQ,YACR55B,MAAOo5E,IAGT,KAAKI,WAAa,KAAKK,aAAa73D,EAAO,CACzC8uC,UAAW6mB,GACXx5D,GAAI,KAAK0xC,aAAa,cACtBpkE,KAAM,cACNgY,EAAG,EACHC,GAAInD,EAASy5E,GAAiB,EAC9Bp9E,MAAOm9E,EACPx5E,OAAQy5E,EACRpgD,OAAQ,YACR55B,MAAOo5E,GAEX,EAEUN,EAAAA,UAAAA,YAAV,WACE,KAAKnoB,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAG,KAAKrK,IAAI,KACZsK,EAAG,KAAKtK,IAAI,MAEhB,EAEU0/E,EAAAA,UAAAA,UAAV,WACE,KAAKlB,YACP,EAEQkB,EAAAA,UAAAA,SAAR,SAAiBmB,EAAyBC,EAAsBC,GACxD,MAAgE,KAAKr4E,IAAnE8C,EAAK,QAAE2I,EAAG,MAAE3Q,EAAK,QAAE+8E,EAAO,UAAEC,EAAO,UAAER,EAAY,eAAE74E,EAAM,SAC3DrO,EAAM0S,EAAQhI,EACd3K,EAAMsb,EAAM3Q,EAEd,KAAK68E,QACP,KAAKA,MAAMziD,OAAO,CAChBp6B,MAAK,EACL2D,OAAM,IAEH,KAAKnH,IAAI,qBACZ,KAAKqgF,MAAM9uF,UAKfsvF,EAAgBz/D,KAAK,IAAKtoB,GAC1B+nF,EAAgBz/D,KAAK,QAASvoB,EAAMC,GAGpC,IAAM6nF,EAAe3gF,GAAIggF,EAAc,QAAStB,IAGhDoC,EAAa1/D,KAAK,OAAQm/D,GAC1BQ,EAAa3/D,KAAK,OAAQo/D,GAEpB,MAAuB,KAAKQ,WAAW,CAACloF,EAAKD,GAAMioF,EAAcC,GAAhEE,EAAQ,KAAEC,EAAQ,KAErB,KAAKhB,aACP,KAAKA,WAAWtiD,OAAO,CACrBvzB,EAAGvR,EAAM6nF,EAAe,IAErB,KAAK3gF,IAAI,qBACZ,KAAKkgF,WAAW3uF,UAGpBwF,EAAKkqF,GAAU,SAAChoF,EAAG5B,GAAM,SAAa+pB,KAAK/pB,EAAG4B,EAArB,IAGrB,KAAKmnF,aACP,KAAKA,WAAWxiD,OAAO,CACrBvzB,EAAGxR,EAAM8nF,EAAe,IAErB,KAAK3gF,IAAI,qBACZ,KAAKogF,WAAW7uF,UAGpBwF,EAAKmqF,GAAU,SAACjoF,EAAG5B,GAAM,SAAa+pB,KAAK/pB,EAAG4B,EAArB,GAC3B,EAEQymF,EAAAA,UAAAA,WAAR,WACE,IAAM92D,EAAgB,KAAK5oB,IAAI,SAE/B4oB,EAAM51B,GAAG,wBAAyB,KAAKmuF,YAAY,eACnDv4D,EAAM51B,GAAG,yBAA0B,KAAKmuF,YAAY,eAGpDv4D,EAAM51B,GAAG,wBAAyB,KAAKmuF,YAAY,eACnDv4D,EAAM51B,GAAG,yBAA0B,KAAKmuF,YAAY,eAGpD,IAAMC,EAAax4D,EAAMk2C,SAAS,KAAKrI,aAAa,eACpD2qB,EAAWpuF,GAAG,YAAa,KAAKmuF,YAAY,eAC5CC,EAAWpuF,GAAG,aAAc,KAAKmuF,YAAY,cAC/C,EAyFQzB,EAAAA,UAAAA,kBAAR,SAA0B2B,GAClB,MAAiB,KAAK34E,IAApB8C,EAAK,QAAE2I,EAAG,MAElB,OAAQ,KAAKkS,eACX,IAAK,aACH,IAAMvtB,EAAM,EAAI0S,EACV3S,EAAM,EAAI2S,EAEhB,OAAO5S,KAAKE,IAAID,EAAKD,KAAKC,IAAIC,EAAKuoF,IAErC,IAAK,aACGvoF,EAAM,EAAIqb,EACVtb,EAAM,EAAIsb,EAEhB,OAAOvb,KAAKE,IAAID,EAAKD,KAAKC,IAAIC,EAAKuoF,IAErC,IAAK,aACGvoF,EAAM,EAAI0S,EACV3S,EAAM,EAAIsb,EAEhB,OAAOvb,KAAKE,IAAID,EAAKD,KAAKC,IAAIC,EAAKuoF,IAGzC,EAEQ3B,EAAAA,UAAAA,eAAR,SAAuB2B,GACjB,MAAiB,KAAK34E,IAApB8C,EAAK,QAAE2I,EAAG,MAEhB,OAAQ,KAAKkS,eACX,IAAK,aACH7a,GAAS61E,EACT,MACF,IAAK,aACHltE,GAAOktE,EACP,MACF,IAAK,aACH71E,GAAS61E,EACTltE,GAAOktE,EACP,MAEJ,KAAK/mF,IAAI,QAASkR,GAClB,KAAKlR,IAAI,MAAO6Z,EAClB,EAOQurE,EAAAA,UAAAA,WAAR,SAAmBvpC,EAAyB2qC,EAAcC,G,QAClD,EAA0B,KAAKr4E,IAA7Bs3E,EAAY,eAAEx8E,EAAK,QACrB89E,EAAU,EACVX,EAAe3gF,GAAIggF,EAAc,QAAStB,IAE3C,EAAYvoC,EAAK,GAAZt9C,EAAOs9C,EAAK,GAClB2W,GAAS,EAGTh0D,EAAMD,IACR+iB,EAAa,CAAC/iB,EAAKC,GAAlBA,EAAG,KAAED,EAAG,KACT8rB,EAA+B,CAACo8D,EAAcD,GAA7CA,EAAY,KAAEC,EAAY,KAC3Bj0B,GAAS,GAIX,IAAMy0B,EAAUT,EAAax4D,UACvBk5D,EAAUT,EAAaz4D,UAEvB24D,EACJM,EAAQ/9E,MAAQ1K,EAAMwoF,EAClB,CAAEj3E,EAAGvR,EAAM6nF,EAAe,EAAIW,EAAS11C,UAAW,QAClD,CAAEvhC,EAAGvR,EAAM6nF,EAAe,EAAIW,EAAS11C,UAAW,SAElDs1C,EACJM,EAAQh+E,MAAQA,EAAQ3K,EAAMyoF,EAC1B,CAAEj3E,EAAGxR,EAAM8nF,EAAe,EAAIW,EAAS11C,UAAW,SAClD,CAAEvhC,EAAGxR,EAAM8nF,EAAe,EAAIW,EAAS11C,UAAW,QAExD,OAAQkhB,EAAgC,CAACo0B,EAAUD,GAAlC,CAACA,EAAUC,EAC9B,EAEOxB,EAAAA,UAAAA,KAAP,WACE,IAAMr5E,EAAY,KAAKrG,IAAI,aACrBwjB,EAASnd,GAAaA,EAAUrG,IAAI,UACtCwjB,GACFA,EAAO6a,MAEX,EAEQqhD,EAAAA,UAAAA,gBAAR,WACE,IAAMr5E,EAAY,KAAKrG,IAAI,aACrBwjB,EAASnd,GAAaA,EAAUrG,IAAI,UAE1C,OAAOwjB,GAAUA,EAAOxjB,IAAI,YAC9B,EACF,EA/dA,CAA4Bi2D,IC3Dd,SAAUv2B,GAAiB3rC,EAAqB0tF,EAAmBx5E,GAC/E,GAAIlU,EAAQ,CACV,GAAuC,oBAA5BA,EAAO2rC,iBAEhB,OADA3rC,EAAO2rC,iBAAiB+hD,EAAWx5E,GAAU,GACtC,CACLlO,OAAM,WACJhG,EAAO+rC,oBAAoB2hD,EAAWx5E,GAAU,EAClD,GAGD,GAAkC,oBAAvBlU,EAAO2tF,YAGnB,OADA3tF,EAAO2tF,YAAY,KAAOD,EAAWx5E,GAC9B,CACLlO,OAAM,WAEJhG,EAAO4tF,YAAY,KAAOF,EAAWx5E,EACvC,E,CAIR,CCFA,IAAM25E,GAAgC,CACpCC,WAAY,gBACZC,WAAY,mBACZrhF,KAAM,EACNshF,QAAS,SAGEC,GAAgC,CAE3ChgC,QAAS4/B,GAETK,MAAO,CACLH,WAAY,oBA2BhB,0E,OAIUt5E,EAAAA,YAAcoc,GAmJdpc,EAAAA,aAAe,SAAC05E,GAAsB,gBAACp3D,GAC7CtiB,EAAK05E,SAAWA,EAChBp3D,EAAEhS,cAAcI,iBAChB,IAAM8mB,EAAUkiD,EAAWliF,GAAI8qB,EAAEhS,cAAe,qBAAuBgS,EAAEkV,QACnEC,EAAUiiD,EAAWliF,GAAI8qB,EAAEhS,cAAe,qBAAuBgS,EAAEmV,QAGzEz3B,EAAK25E,SAAW35E,EAAKE,IAAIyiE,aAAenrC,EAAUC,EAElDz3B,EAAK45E,gBACP,CAV8C,EAYtC55E,EAAAA,eAAiB,WACvB,IAAM02E,EAAe12E,EAAK22E,kBACtB/2E,EAAS,GAGXA,EADEI,EAAK05E,SACE,CACPxiD,GAAiBw/C,EAAc,YAAa12E,EAAK42E,aACjD1/C,GAAiBw/C,EAAc,WAAY12E,EAAK62E,WAChD3/C,GAAiBw/C,EAAc,cAAe12E,EAAK62E,YAG5C,CACP3/C,GAAiBw/C,EAAc,YAAa12E,EAAK42E,aACjD1/C,GAAiBw/C,EAAc,UAAW12E,EAAK62E,WAE/C3/C,GAAiBw/C,EAAc,aAAc12E,EAAK62E,YAGtD72E,EAAKq6B,YAAc,WACjBz6B,EAAOlH,SAAQ,SAAC4pB,GACdA,EAAE/wB,QACJ,GACF,CACF,EAIQyO,EAAAA,YAAc,SAACsiB,GACf,MAAgCtiB,EAAKE,IAAnCyiE,EAAY,eAAEkX,EAAW,cACjCv3D,EAAE5R,iBACF,IAAM8mB,EAAUx3B,EAAK05E,SAAWliF,GAAI8qB,EAAG,qBAAuBA,EAAEkV,QAC1DC,EAAUz3B,EAAK05E,SAAWliF,GAAI8qB,EAAG,qBAAuBA,EAAEmV,QAE1DqiD,EAASnX,EAAenrC,EAAUC,EAElC5nB,EAAOiqE,EAAS95E,EAAK25E,SAE3B35E,EAAK25E,SAAWG,EAEhB95E,EAAK+5E,kBAAkBF,EAAchqE,EACvC,EAEQ7P,EAAAA,UAAY,SAACsiB,GACnBA,EAAE5R,iBACF1Q,EAAKq6B,aACP,EAGQr6B,EAAAA,aAAe,SAACsiB,GAChB,MAAmCtiB,EAAKE,IAAtCyiE,EAAY,eAAE9gE,EAAC,IAAEC,EAAC,IAAEk4E,EAAQ,WAC9BtD,EAAe12E,EAAK22E,kBACpBxsC,EAAOusC,EAAav8C,wBAClB,EAAqB7X,EAAC,QAAbmV,EAAYnV,EAAC,QACxB4rB,EAASy0B,EAAenrC,EAAU2S,EAAK18B,KAAO5L,EAAIm4E,EAAW,EAAIviD,EAAU0S,EAAK/P,IAAMt4B,EAAIk4E,EAAW,EAErGC,EAAYj6E,EAAKk6E,cAAchsC,GACrCluC,EAAK+5E,kBAAkBE,EACzB,EAEQj6E,EAAAA,iBAAmB,WACjB,MAAeA,EAAKE,IAAIw7D,MAAM+d,MAAK,WAC3Cz5E,EAAKi1D,oBAAoB,SAASr8C,KAAK,SAAU0gE,GACjDt5E,EAAK61B,MACP,EAEQ71B,EAAAA,gBAAkB,WAChB,MAAeA,EAAKE,IAAIw7D,MAAMliB,QAAO,WAC7Cx5C,EAAKi1D,oBAAoB,SAASr8C,KAAK,SAAU0gE,GACjDt5E,EAAK61B,MACP,E,CAiEF,QAzS+Bx1B,EAAAA,EAAAA,IAAAA,EAAAA,GAOtB85E,EAAAA,UAAAA,SAAP,SAAgB7pF,EAAaD,GAC3B,KAAKyB,IAAI,WAAYxB,GACrB,KAAKwB,IAAI,WAAYzB,GACrB,IAAM29E,EAAW,KAAKn8B,WAChBuoC,EAAWnnF,GAAM+6E,EAAU19E,EAAKD,GAClC29E,IAAaoM,GAAa,KAAK5iF,IAAI,WACrC,KAAKs2E,SAASsM,EAElB,EAEOD,EAAAA,UAAAA,SAAP,WACE,IAAM7pF,EAAc,KAAKkH,IAAI,aAAe,EACtCnH,EAAc,KAAKmH,IAAI,aAAe,EAE5C,MAAO,CAAElH,IAAG,EAAED,IAAG,EACnB,EAEO8pF,EAAAA,UAAAA,SAAP,SAAgBpwF,GACd,IAAM4jD,EAAQ,KAAKp9C,WACb8pF,EAAgB,KAAKxoC,WAC3B,KAAKzc,OAAO,CACVykD,aAAc,KAAKriF,IAAI,YAAc,KAAKA,IAAI,aAAevE,GAAMlJ,EAAO4jD,EAAMr9C,IAAKq9C,EAAMt9C,OAE7F,KAAK68E,aAAa,cAAe,CAC/BmN,cAAa,EACbtwF,MAAO,KAAK8nD,YAEhB,EAEOsoC,EAAAA,UAAAA,SAAP,WACE,OAAOlnF,GAAM,KAAKuE,IAAI,gBAAkB,KAAKA,IAAI,YAAc,KAAKA,IAAI,aAAc,EAAG,EAC3F,EAEO2iF,EAAAA,UAAAA,cAAP,WACE,IAAMj6E,EAAMC,EAAAA,UAAMmR,cAAa,WAC/B,2BACKpR,GAAG,CACNrW,KAAM,YACN84E,cAAc,EACd2X,YAAa,GACbT,YAAa,EACbne,MAAO8d,IAEX,EAEUW,EAAAA,UAAAA,YAAV,SAAsB/5D,GACpB,KAAKm6D,iBAAiBn6D,GACtB,KAAKo6D,iBAAiBp6D,EACxB,EAEU+5D,EAAAA,UAAAA,YAAV,WACE,KAAKprB,cAAc,KAAKv3D,IAAI,SAAU,CACpCqK,EAAG,KAAKrK,IAAI,KACZsK,EAAG,KAAKtK,IAAI,MAEhB,EAEU2iF,EAAAA,UAAAA,UAAV,WACE,KAAKnE,YACP,EAGQmE,EAAAA,UAAAA,iBAAR,SAAyB/5D,GACjB,MAAwC,KAAKlgB,IAA3Cu6E,EAAQ,WAAEt+D,EAAAA,EAAAA,MAAAu/C,OAAK,MAAG,CAAEliB,QAAS,IAAI,EACnC,EAA2CzhD,GAAQ,GAAIyhF,GAAe9d,GAAOliB,QAA3E+/B,EAAO,UAAEF,EAAU,aAAQqB,EAAS,OACtCziF,EAAOT,GAAI,KAAK0I,IAAK,OAAQw6E,GAE7BrxF,EAAQ,KAAKmO,IAAI,gBACnB,CACE4K,GAAI,EAAInK,EAAO,EACfsK,GAAItK,EAAO,EACXqK,GAAIm4E,EAAWxiF,EAAO,EACtBwK,GAAIxK,EAAO,EACXmxC,UAAWnxC,EACXgyC,OAAQovC,EACRE,QAAO,GAET,CACEn3E,GAAInK,EAAO,EACXsK,GAAI,EAAItK,EAAO,EACfqK,GAAIrK,EAAO,EACXwK,GAAIg4E,EAAWxiF,EAAO,EACtBmxC,UAAWnxC,EACXgyC,OAAQovC,EACRE,QAAO,GAEb,OAAO,KAAKhqB,SAASnvC,EAAO,CAC1B7D,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,QACNoE,KAAM,OACN5E,MAAK,GAET,EAGQ8wF,EAAAA,UAAAA,iBAAR,SAAyB/5D,GACjB,MAAmC,KAAKlgB,IAAtC25E,EAAW,cAAEG,EAAQ,WAAEte,EAAK,QAC9B,EAA2C3jE,GAAQ,GAAIyhF,GAAe9d,GAAOliB,QAArEkhC,EAAS,OAAEnB,EAAO,UAAED,EAAU,aACtCrhF,EAAOT,GAAI,KAAK0I,IAAK,OAAQw6E,GAE7BrxF,EAAQ,KAAKmO,IAAI,gBACnB,CACE4K,GAAIy3E,EAAc5hF,EAAO,EACzBsK,GAAItK,EAAO,EACXqK,GAAIu3E,EAAcG,EAAW/hF,EAAO,EACpCwK,GAAIxK,EAAO,EACXmxC,UAAWnxC,EACXgyC,OAAQqvC,EACRC,QAAO,EACPvhD,OAAQ,WAEV,CACE51B,GAAInK,EAAO,EACXsK,GAAIs3E,EAAc5hF,EAAO,EACzBqK,GAAIrK,EAAO,EACXwK,GAAIo3E,EAAcG,EAAW/hF,EAAO,EACpCmxC,UAAWnxC,EACXgyC,OAAQqvC,EACRC,QAAO,EACPvhD,OAAQ,WAEd,OAAO,KAAKu3B,SAASnvC,EAAO,CAC1B7D,GAAI,KAAK0xC,aAAa,SACtBpkE,KAAM,QACNoE,KAAM,OACN5E,MAAK,GAET,EAEQ8wF,EAAAA,UAAAA,WAAR,WACE,IAAM/5D,EAAgB,KAAK5oB,IAAI,SAC/B4oB,EAAM51B,GAAG,YAAa,KAAKmwF,cAAa,IACxCv6D,EAAM51B,GAAG,UAAW,KAAKqsF,WAEzBz2D,EAAM51B,GAAG,aAAc,KAAKmwF,cAAa,IACzCv6D,EAAM51B,GAAG,WAAY,KAAKqsF,WAE1B,IAAM1H,EAAa/uD,EAAMk2C,SAAS,KAAKrI,aAAa,UACpDkhB,EAAW3kF,GAAG,QAAS,KAAKowF,cAC5B,IAAMC,EAAaz6D,EAAMk2C,SAAS,KAAKrI,aAAa,UACpD4sB,EAAWrwF,GAAG,YAAa,KAAKswF,kBAChCD,EAAWrwF,GAAG,WAAY,KAAKuwF,gBACjC,EAqFQZ,EAAAA,UAAAA,gBAAR,WACE,IAAMt8E,EAAY,KAAKrG,IAAI,aACrBwjB,EAASnd,GAAaA,EAAUrG,IAAI,UAE1C,OAAOwjB,GAAUA,EAAOxjB,IAAI,YAC9B,EAEQ2iF,EAAAA,UAAAA,cAAR,SAAsBjsC,GACd,MAAyB,KAAKhuC,IAA5B85E,EAAQ,WAAES,EAAQ,WACtBR,EAAY/rC,EAMhB,OALIA,EAAS8rC,EAAWS,EACtBR,EAAYQ,EAAWT,EACd9rC,EAAS8rC,EAAWA,IAC7BC,EAAY,GAEPA,CACT,EAEQE,EAAAA,UAAAA,KAAR,WACE,IAAMt8E,EAAY,KAAKrG,IAAI,aACrBwjB,EAASnd,GAAaA,EAAUrG,IAAI,UAEtCwjB,GACFA,EAAO6a,MAEX,EAEQskD,EAAAA,UAAAA,kBAAR,SAA0BjsC,GAClB,MAAgD,KAAKhuC,IAAnD25E,EAAW,cAAElX,EAAY,eAAEqX,EAAQ,WAAE/hF,EAAI,OAC3CgiF,EAAY,KAAKC,cAAchsC,GACrC,GAAI+rC,IAAcJ,EAAlB,CAIA,IAAMgB,EAAa,KAAK5lB,oBAAoB,SAExC0N,EACFkY,EAAWjiE,KAAK,CACdxW,GAAI63E,EAAYhiF,EAAO,EACvBqK,GAAI23E,EAAYD,EAAW/hF,EAAO,IAGpC4iF,EAAWjiE,KAAK,CACdrW,GAAI03E,EAAYhiF,EAAO,EACvBwK,GAAIw3E,EAAYD,EAAW/hF,EAAO,IAGtC,KAAK+iF,iBAAiBf,E,CACxB,EAEQE,EAAAA,UAAAA,iBAAR,SAAyBjsC,GACjB,MAAqD,KAAKhuC,IAA3Cm6E,EAAa,cAAEI,EAAQ,WAAET,EAAQ,WACtD,KAAK95E,IAAI25E,YAAc3rC,EAEvB,KAAKlwB,KAAK,eAAgB,CACxB67D,YAAa3rC,EACbv/B,MAAO1b,GAAMi7C,GAAUusC,EAAWT,GAAW,EAAG,KAElD,KAAK9M,aAAa,cAAe,CAC/BmN,cAAa,EACbtwF,MAAOmkD,GAEX,EACF,EAzSA,CAA+Buf,IC0BjBwtB,GAAiCC,GAAfC,GAAeD,GAGjCE,GAAiCC,GAAfC,GAAeD,GAG7BE,GAAiDC,GAArBC,GAAqBD,GAGrDE,GAAgBlJ,GCvF9B,SAASmJ,GAAanuE,GACpB,GAAIxV,GAAQwV,GACV,OAAO,KAGT,IAAI+R,EAAO/R,EAAO,GAAG3L,EACjB4d,EAAOjS,EAAO,GAAG3L,EACjB6d,EAAOlS,EAAO,GAAG1L,EACjB6d,EAAOnS,EAAO,GAAG1L,EAQrB,OAPAvT,EAAKif,GAAQ,SAAC+pB,GACZhY,EAAOA,EAAOgY,EAAM11B,EAAI01B,EAAM11B,EAAI0d,EAClCE,EAAOA,EAAO8X,EAAM11B,EAAI01B,EAAM11B,EAAI4d,EAClCC,EAAOA,EAAO6X,EAAMz1B,EAAIy1B,EAAMz1B,EAAI4d,EAClCC,EAAOA,EAAO4X,EAAMz1B,EAAIy1B,EAAMz1B,EAAI6d,CACpC,IAEO,CACLJ,KAAI,EACJE,KAAI,EACJC,KAAI,EACJC,KAAI,EACJi8D,SAAUr8D,EAAOE,GAAQ,EACzBo8D,SAAUn8D,EAAOC,GAAQ,EAE7B,CAEA,SAASm8D,GAAyB9oF,GAChC,OAA6C,IAAtC3E,MAAMojB,KAAK,IAAIsqE,IAAI/oF,IAAQ7G,MACpC,CAEA,SAASgwD,GAAInpD,GACX,OAAQ1C,EAAI0C,GAAS3C,EAAI2C,IAAU,CACrC,CAWM,SAAUgpF,GAAiBJ,EAAiBC,EAAiBp0B,EAAgBw0B,GACjF,MAAO,CACLp6E,EAAG+5E,EAAUn0B,EAASr3D,KAAKiS,IAAI45E,GAC/Bn6E,EAAG+5E,EAAUp0B,EAASr3D,KAAKoS,IAAIy5E,GAEnC,CAYM,SAAUC,GACdN,EACAC,EACAp0B,EACA00B,EACAC,EACAv0B,QAAA,IAAAA,IAAAA,EAAAA,GAEA,IAAM7kD,EAAQg5E,GAAiBJ,EAASC,EAASp0B,EAAQ00B,GACnDxwE,EAAMqwE,GAAiBJ,EAASC,EAASp0B,EAAQ20B,GAEjDC,EAAaL,GAAiBJ,EAASC,EAASh0B,EAAas0B,GAC7DG,EAAWN,GAAiBJ,EAASC,EAASh0B,EAAau0B,GAEjE,GAAIA,EAAmBD,IAAiC,EAAV/rF,KAAK+D,GAAQ,CAEzD,IAAMmhE,EAAc0mB,GAAiBJ,EAASC,EAASp0B,EAAQ00B,EAAqB/rF,KAAK+D,IACnFooF,EAAmBP,GAAiBJ,EAASC,EAASh0B,EAAas0B,EAAqB/rF,KAAK+D,IAC7FqoF,EAAqB,CACzB,CAAC,IAAKx5E,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAG6N,EAAYzzD,EAAGyzD,EAAYxzD,GAC1D,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAG97C,EAAI9J,EAAG8J,EAAI7J,GAC1C,CAAC,IAAKu6E,EAAWx6E,EAAGw6E,EAAWv6E,IAUjC,OARI+lD,IACF20B,EAAmB5uF,KAAK,CAAC,IAAKi6D,EAAaA,EAAa,EAAG,EAAG,EAAG00B,EAAiB16E,EAAG06E,EAAiBz6E,IACtG06E,EAAmB5uF,KAAK,CAAC,IAAKi6D,EAAaA,EAAa,EAAG,EAAG,EAAGy0B,EAASz6E,EAAGy6E,EAASx6E,KAGxF06E,EAAmB5uF,KAAK,CAAC,IAAKoV,EAAMnB,EAAGmB,EAAMlB,IAC7C06E,EAAmB5uF,KAAK,CAAC,MAElB4uF,C,CAGT,IAAMC,EAAWL,EAAmBD,GAAsB/rF,KAAK+D,GAAK,EAAI,EAClEuoF,EAAqB,CACzB,CAAC,IAAK15E,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAK2lD,EAAQA,EAAQ,EAAGg1B,EAAU,EAAG9wE,EAAI9J,EAAG8J,EAAI7J,GACjD,CAAC,IAAKw6E,EAASz6E,EAAGy6E,EAASx6E,IAQ7B,OANI+lD,GACF60B,EAAmB9uF,KAAK,CAAC,IAAKi6D,EAAaA,EAAa,EAAG40B,EAAU,EAAGJ,EAAWx6E,EAAGw6E,EAAWv6E,IAEnG46E,EAAmB9uF,KAAK,CAAC,IAAKoV,EAAMnB,EAAGmB,EAAMlB,IAC7C46E,EAAmB9uF,KAAK,CAAC,MAElB8uF,CACT,CAYM,SAAUnnB,GACdqmB,EACAC,EACAp0B,EACA00B,EACAC,GAEA,IAAMp5E,EAAQg5E,GAAiBJ,EAASC,EAASp0B,EAAQ00B,GACnDxwE,EAAMqwE,GAAiBJ,EAASC,EAASp0B,EAAQ20B,GAEvD,GAAIzoF,GAAcyoF,EAAmBD,EAA8B,EAAV/rF,KAAK+D,IAAS,CACrE,IAAMmhE,EAAc0mB,GAAiBJ,EAASC,EAASp0B,EAAQ00B,EAAqB/rF,KAAK+D,IACzF,MAAO,CACL,CAAC,IAAK6O,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAG6N,EAAYzzD,EAAGyzD,EAAYxzD,GAC1D,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAGzkD,EAAMnB,EAAGmB,EAAMlB,GAC9C,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAG6N,EAAYzzD,EAAGyzD,EAAYxzD,GAC1D,CAAC,IAAK2lD,EAAQA,EAAQ,EAAG,EAAG,EAAGzkD,EAAMnB,EAAGmB,EAAMlB,GAC9C,CAAC,K,CAGL,IAAM26E,EAAWL,EAAmBD,GAAsB/rF,KAAK+D,GAAK,EAAI,EACxE,MAAO,CACL,CAAC,IAAK6O,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAK2lD,EAAQA,EAAQ,EAAGg1B,EAAU,EAAG9wE,EAAI9J,EAAG8J,EAAI7J,GAErD,CASM,SAAU2+B,GAASk8C,EAAuBC,GAC9C,IAEIx8C,EACAD,EAHE3yB,EAASmvE,EAAWnvE,OACpBrD,EAAMwxE,GAAanuE,GAGLqvE,EAA6CD,EAAU,WAA5BE,EAAkBF,EAAU,SACrEG,EAAYD,EAAgBD,EAWlC,OATID,EAAW91B,cACb1mB,EAAWj2B,EAAIwV,KAAOo9D,EACtB58C,EAAah2B,EAAIuV,KAAOq9D,IAExB38C,EAAWj2B,EAAIsV,KAAOs9D,EACtB58C,EAAah2B,EAAIoV,KAAOw9D,GAE1B38C,GAAYy8C,EACZ18C,GAAc08C,EACP,CACL18C,WAAU,EACVC,SAAQ,EAEZ,CAMM,SAAU48C,GAAmBp8C,EAAuBG,GACxD,GAAIxtC,GAASqtC,IAAOrtC,GAASwtC,GAE3B,MAAO,CAACH,EAAIG,GAWd,GAAI+6C,GAAal7C,IAAOk7C,GAAa/6C,GAAK,MAAO,CAACob,GAAIvb,GAAKub,GAAIpb,IAE/D,IAGIhxB,EAEAF,EALAnhB,GAAK,EACLmT,EAAI,EACJC,EAAI,EAEJib,EAAU6jB,EAAGz0C,OAAS,EAEtB0C,EAAI,EACR,QAASH,EAAIkyC,EAAGz0C,OACd4jB,EAASgN,EACTA,EAAUruB,EACVG,GAAKghB,EAAO+wB,EAAG7wB,GAAUgxB,EAAGhkB,GAAW6jB,EAAG7jB,GAAWgkB,EAAGhxB,GACxDlO,IAAM++B,EAAG7wB,GAAU6wB,EAAG7jB,IAAYlN,EAClC/N,IAAMi/B,EAAGhxB,GAAUgxB,EAAGhkB,IAAYlN,EAGpC,OADAhhB,GAAK,EACE,CAACgT,EAAIhT,EAAGiT,EAAIjT,EACrB,CAMM,SAAUwhE,GAAgB4sB,EAAqBC,GACnD,IAAM3hE,EAAc0hE,EAAYrkE,OAC1Bi3C,EAAWqtB,EAAYtkE,OAM7B,OALArqB,EAAKgtB,GAAa,SAAC9qB,EAAG5B,QACAT,IAAhByhE,EAAShhE,KACXghE,EAAShhE,QAAKT,EAElB,IACOyhE,CACT,CCjOM,SAAUjoB,GAAU79C,EAAeiZ,EAAe2I,GACtD,IAAMrb,EAAMF,KAAKE,IAAI0S,EAAO2I,GACtBtb,EAAMD,KAAKC,IAAI2S,EAAO2I,GAE5B,OAAO5hB,GAASuG,GAAOvG,GAASsG,CAClC,CAYM,SAAU8sF,GAAO3uE,EAAwB4uE,EAAsBC,GACnE,GAAIjlF,GAASoW,GACX,OAAOA,EAAO2uE,OAAOC,EAAcC,GAC9B,GAAI/uF,EAAQkgB,GAAS,CAC1B,IAAM8uE,EAAe9uE,EAAOriB,OAC5B,GAAImxF,EAAeF,EAEjB,IADA,IAAMvtE,EAAOutE,EAAeE,EACnB5uF,EAAI,EAAGA,EAAImhB,EAAMnhB,IACxB8f,EAAO5gB,KAAKyvF,E,CAKlB,OAAO7uE,CACT,CAQM,SAAU+uE,GAActuF,EAAQF,GAOpC,MANmB,kBAARE,GACTF,EAAK2J,SAAQ,SAAC3M,UACLkD,EAAIlD,EACb,IAGKkD,CACT,CAQM,SAAUwC,GAAK+rF,EAAoBC,EAAyBllF,G,aAAzB,IAAAklF,IAAAA,EAAAA,SAAyB,IAAAllF,IAAAA,EAAAA,IAA6B5G,K,IAC7F,IAAqB,eAAA6rF,GAAW,8BAAE,CAA7B,IAAMhvE,EAAM,QACVjW,EAAI1G,IAAI2c,KACXivE,EAAY7vF,KAAK4gB,GACjBjW,EAAIzG,IAAI0c,GAAQ,G,mGAGpB,OAAOivE,CACT,CCjEA,kBAkBE,WAAY57E,EAAeC,EAAe9G,EAAmB2D,QAAjD,IAAAkD,IAAAA,EAAAA,QAAe,IAAAC,IAAAA,EAAAA,QAAe,IAAA9G,IAAAA,EAAAA,QAAmB,IAAA2D,IAAAA,EAAAA,GAC3D1V,KAAK4Y,EAAIA,EACT5Y,KAAK6Y,EAAIA,EACT7Y,KAAK0V,OAASA,EACd1V,KAAK+R,MAAQA,CACf,CAkNF,OA/NgB0iF,EAAAA,UAAd,SAAwBn+D,EAAcG,EAAcD,EAAcE,GAChE,OAAO,IAAI+9D,EAAKn+D,EAAMG,EAAMD,EAAOF,EAAMI,EAAOD,EAClD,EAEcg+D,EAAAA,WAAd,SAAyBzzE,GACvB,OAAO,IAAIyzE,EAAKzzE,EAAKsV,KAAMtV,EAAKyV,KAAMzV,EAAKjP,MAAOiP,EAAKtL,OACzD,EASA3P,OAAAA,eAAW0uF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,OAAOz0F,KAAK4Y,CACd,E,gCAEA7S,OAAAA,eAAW0uF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,OAAOz0F,KAAK4Y,EAAI5Y,KAAK+R,KACvB,E,gCAEAhM,OAAAA,eAAW0uF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,OAAOz0F,KAAK6Y,CACd,E,gCAEA9S,OAAAA,eAAW0uF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,OAAOz0F,KAAK6Y,EAAI7Y,KAAK0V,MACvB,E,gCAEA3P,OAAAA,eAAW0uF,EAAAA,UAAAA,KAAE,C,IAAb,WACE,MAAO,CAAE77E,EAAG5Y,KAAK4Y,EAAGC,EAAG7Y,KAAK6Y,EAC9B,E,gCAEA9S,OAAAA,eAAW0uF,EAAAA,UAAAA,KAAE,C,IAAb,WACE,MAAO,CAAE77E,EAAG5Y,KAAKw2B,KAAM3d,EAAG7Y,KAAK6Y,EACjC,E,gCAEA9S,OAAAA,eAAW0uF,EAAAA,UAAAA,KAAE,C,IAAb,WACE,MAAO,CAAE77E,EAAG5Y,KAAK4Y,EAAGC,EAAG7Y,KAAK02B,KAC9B,E,gCAEA3wB,OAAAA,eAAW0uF,EAAAA,UAAAA,KAAE,C,IAAb,WACE,MAAO,CAAE77E,EAAG5Y,KAAKw2B,KAAM3d,EAAG7Y,KAAK02B,KACjC,E,gCAEA3wB,OAAAA,eAAW0uF,EAAAA,UAAAA,MAAG,C,IAAd,WACE,MAAO,CACL77E,EAAG5Y,KAAK4Y,EAAI5Y,KAAK+R,MAAQ,EACzB8G,EAAG7Y,KAAKy2B,KAEZ,E,gCAEA1wB,OAAAA,eAAW0uF,EAAAA,UAAAA,QAAK,C,IAAhB,WACE,MAAO,CACL77E,EAAG5Y,KAAKw2B,KACR3d,EAAG7Y,KAAK6Y,EAAI7Y,KAAK0V,OAAS,EAE9B,E,gCACA3P,OAAAA,eAAW0uF,EAAAA,UAAAA,SAAM,C,IAAjB,WACE,MAAO,CACL77E,EAAG5Y,KAAK4Y,EAAI5Y,KAAK+R,MAAQ,EACzB8G,EAAG7Y,KAAK02B,KAEZ,E,gCACA3wB,OAAAA,eAAW0uF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,MAAO,CACL77E,EAAG5Y,KAAKs2B,KACRzd,EAAG7Y,KAAK6Y,EAAI7Y,KAAK0V,OAAS,EAE9B,E,gCAQO++E,EAAAA,UAAAA,QAAP,SAAezzE,GACb,OAAOhhB,KAAK4Y,IAAMoI,EAAKpI,GAAK5Y,KAAK6Y,IAAMmI,EAAKnI,GAAK7Y,KAAK+R,QAAUiP,EAAKjP,OAAS/R,KAAK0V,SAAWsL,EAAKtL,MACrG,EAMO++E,EAAAA,UAAAA,SAAP,SAAgB1+D,GACd,OAAOA,EAAMO,MAAQt2B,KAAKs2B,MAAQP,EAAMS,MAAQx2B,KAAKw2B,MAAQT,EAAMU,MAAQz2B,KAAKy2B,MAAQV,EAAMW,MAAQ12B,KAAK02B,IAC7G,EAMO+9D,EAAAA,UAAAA,MAAP,WACE,OAAO,IAAIA,EAAKz0F,KAAK4Y,EAAG5Y,KAAK6Y,EAAG7Y,KAAK+R,MAAO/R,KAAK0V,OACnD,EAMO++E,EAAAA,UAAAA,IAAP,W,IAAW,aAAAnmF,EAAAA,UAAAA,OAAAA,IAAAomF,EAAAA,GAAAA,UAAAA,GACT,IAAM1zE,EAAOhhB,KAAKwN,QAQlB,OAPAlI,EAAKovF,GAAS,SAAC/pF,GACbqW,EAAKpI,EAAIzR,KAAKE,IAAIsD,EAAEiO,EAAGoI,EAAKpI,GAC5BoI,EAAKnI,EAAI1R,KAAKE,IAAIsD,EAAEkO,EAAGmI,EAAKnI,GAC5BmI,EAAKjP,MAAQ5K,KAAKC,IAAIuD,EAAE6rB,KAAMxV,EAAKwV,MAAQxV,EAAKpI,EAChDoI,EAAKtL,OAASvO,KAAKC,IAAIuD,EAAE+rB,KAAM1V,EAAK0V,MAAQ1V,EAAKnI,CACnD,IAEOmI,CACT,EAMOyzE,EAAAA,UAAAA,MAAP,W,IAAa,aAAAnmF,EAAAA,UAAAA,OAAAA,IAAAomF,EAAAA,GAAAA,UAAAA,GACX,IAAM1zE,EAAOhhB,KAAKwN,QAQlB,OAPAlI,EAAKovF,GAAS,SAAC/pF,GACbqW,EAAKpI,EAAIzR,KAAKC,IAAIuD,EAAEiO,EAAGoI,EAAKpI,GAC5BoI,EAAKnI,EAAI1R,KAAKC,IAAIuD,EAAEkO,EAAGmI,EAAKnI,GAC5BmI,EAAKjP,MAAQ5K,KAAKE,IAAIsD,EAAE6rB,KAAMxV,EAAKwV,MAAQxV,EAAKpI,EAChDoI,EAAKtL,OAASvO,KAAKE,IAAIsD,EAAE+rB,KAAM1V,EAAK0V,MAAQ1V,EAAKnI,CACnD,IAEOmI,CACT,EAOOyzE,EAAAA,UAAAA,IAAP,SAAWC,EAAepmE,GACxB,IAAMvc,EAAQ2iF,EAAQ3iF,MAChB2D,EAASg/E,EAAQh/E,OAEvB,OAAQ4Y,GACN,KAAKtd,GAAAA,IACL,KAAKA,GAAAA,SACL,KAAKA,GAAAA,UACH,OAAOyjF,EAAKE,UAAU30F,KAAKs2B,KAAMt2B,KAAKy2B,KAAO/gB,EAAQ1V,KAAKw2B,KAAMx2B,KAAK02B,MAEvE,KAAK1lB,GAAAA,MACL,KAAKA,GAAAA,UACL,KAAKA,GAAAA,aACH,OAAOyjF,EAAKE,UAAU30F,KAAKs2B,KAAMt2B,KAAKy2B,KAAMz2B,KAAKw2B,KAAOzkB,EAAO/R,KAAK02B,MAEtE,KAAK1lB,GAAAA,OACL,KAAKA,GAAAA,YACL,KAAKA,GAAAA,aACH,OAAOyjF,EAAKE,UAAU30F,KAAKs2B,KAAMt2B,KAAKy2B,KAAMz2B,KAAKw2B,KAAMx2B,KAAK02B,KAAOhhB,GAErE,KAAK1E,GAAAA,KACL,KAAKA,GAAAA,SACL,KAAKA,GAAAA,YACH,OAAOyjF,EAAKE,UAAU30F,KAAKs2B,KAAOvkB,EAAO/R,KAAKy2B,KAAMz2B,KAAKw2B,KAAMx2B,KAAK02B,MACtE,QAEE,OAAO12B,KAEb,EAMOy0F,EAAAA,UAAAA,OAAP,SAAcG,GACN,eAA6BA,EAAG,GAA/BzjD,EAAG,KAAE1sB,EAAK,KAAEs8C,EAAM,KAAEv8C,EAAI,KAE/B,OAAO,IAAIiwE,EAAKz0F,KAAK4Y,EAAI4L,EAAMxkB,KAAK6Y,EAAIs4B,EAAKnxC,KAAK+R,MAAQyS,EAAOC,EAAOzkB,KAAK0V,OAASy7B,EAAM4vB,EAC9F,EAMO0zB,EAAAA,UAAAA,OAAP,SAAcG,GACN,eAA6BA,EAAG,GAA/BzjD,EAAG,KAAE1sB,EAAK,KAAEs8C,EAAM,KAAEv8C,EAAI,KAE/B,OAAO,IAAIiwE,EAAKz0F,KAAK4Y,EAAI4L,EAAMxkB,KAAK6Y,EAAIs4B,EAAKnxC,KAAK+R,MAAQyS,EAAOC,EAAOzkB,KAAK0V,OAASy7B,EAAM4vB,EAC9F,EAOO0zB,EAAAA,UAAAA,OAAP,SAAczzE,GACZ,MAAO,CACL7Z,KAAKC,KAAKpH,KAAKy2B,KAAOzV,EAAKyV,KAAM,GACjCtvB,KAAKC,IAAIpH,KAAKw2B,KAAOxV,EAAKwV,KAAM,GAChCrvB,KAAKC,IAAIpH,KAAK02B,KAAO1V,EAAK0V,KAAM,GAChCvvB,KAAKC,KAAKpH,KAAKs2B,KAAOtV,EAAKsV,KAAM,GAErC,EAMOm+D,EAAAA,UAAAA,QAAP,SAAezzE,GACb,OAAOhhB,KAAKs2B,KAAOtV,EAAKwV,MAAQx2B,KAAKw2B,KAAOxV,EAAKsV,MAAQt2B,KAAKy2B,KAAOzV,EAAK0V,MAAQ12B,KAAK02B,KAAO1V,EAAKyV,IACrG,EAMOg+D,EAAAA,UAAAA,KAAP,WACE,OAAOz0F,KAAK+R,MAAQ/R,KAAK0V,MAC3B,EAMO++E,EAAAA,UAAAA,UAAP,SAAiBxkF,GACf,OAAOA,EAAE2I,GAAK5Y,KAAKs2B,MAAQrmB,EAAE2I,GAAK5Y,KAAKw2B,MAAQvmB,EAAE4I,GAAK7Y,KAAKy2B,MAAQxmB,EAAE4I,GAAK7Y,KAAK02B,IACjF,EACF,EAzOA,GA+PM,SAAUm+D,GAAS7zE,GACvB,MAAO,CACL,CAACA,EAAKsV,KAAMtV,EAAKyV,MACjB,CAACzV,EAAKwV,KAAMxV,EAAKyV,MACjB,CAACzV,EAAKwV,KAAMxV,EAAK0V,MACjB,CAAC1V,EAAKsV,KAAMtV,EAAK0V,MAErB,CClQM,SAAUo+D,GAAoBnB,GAClC,GAAIA,EAAWoB,UAAYpB,EAAW91B,aAEpC,OAAQ81B,EAAWx8C,SAAWw8C,EAAWz8C,YAAcy8C,EAAWqB,YAIpE,IAAMj7E,EAAQ45E,EAAWsB,QAAQ,CAAEr8E,EAAG,EAAGC,EAAG,IACtC6J,EAAMixE,EAAWsB,QAAQ,CAAEr8E,EAAG,EAAGC,EAAG,IAE1C,OAAO1R,KAAKuU,KAAKvU,KAAKkb,IAAIK,EAAI9J,EAAImB,EAAMnB,EAAG,GAAKzR,KAAKkb,IAAIK,EAAI7J,EAAIkB,EAAMlB,EAAG,GAC5E,CAQM,SAAUq8E,GAAavB,GAC3B,GAAIA,EAAWoB,QAAS,CACd,IAAA79C,EAAyBy8C,EAAU,WAAvBx8C,EAAaw8C,EAAU,SAC3C,OAAOx8C,EAAWD,IAAyB,EAAV/vC,KAAK+D,E,CAExC,OAAO,CACT,CASM,SAAUiqF,GAAoBxB,EAAwBrlD,GAC1D,IAAM2O,EAAS02C,EAAWl0B,YAC1B,OAAOt4D,KAAKuU,KAAKvU,KAAAA,IAACmnC,EAAM11B,EAAIqkC,EAAOrkC,EAAM,GAAIzR,KAAAA,IAACmnC,EAAMz1B,EAAIokC,EAAOpkC,EAAM,GACvE,CAQM,SAAUu8E,GAAoBzB,EAAwBrlD,GAC1D,IAAI5pC,GAAS,EAEb,GAAIivF,EACF,GAAwB,UAApBA,EAAW3uF,KAAkB,CACvB,IAAA+U,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IACjCjvF,EAASi6C,GAAUrQ,EAAM11B,EAAGmB,EAAMnB,EAAG8J,EAAI9J,IAAM+lC,GAAUrQ,EAAMz1B,EAAGkB,EAAMlB,EAAG6J,EAAI7J,E,KAC1E,CACL,IAAMwlD,EAAcs1B,EAAW5oE,OAAOujB,GAEtC5pC,EAASi6C,GAAU0f,EAAYzlD,EAAG,EAAG,IAAM+lC,GAAU0f,EAAYxlD,EAAG,EAAG,E,CAI3E,OAAOnU,CACT,CAMM,SAAU2wF,GAAgB1B,EAAwBrlD,GACtD,IAAM2O,EAAS02C,EAAWl0B,YAC1B,OAAOt4D,KAAKsb,MAAM6rB,EAAMz1B,EAAIokC,EAAOpkC,EAAGy1B,EAAM11B,EAAIqkC,EAAOrkC,EACzD,CAQM,SAAU08E,GAAqB3B,EAAwBtuC,QAAA,IAAAA,IAAAA,EAAAA,GACnD,IA2BJkwC,EA3BIx7E,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAC3B5hF,EAAQ4hF,EAAWhlB,WACnBj5D,EAASi+E,EAAWnlB,YAE1B,GAAImlB,EAAWoB,QAAS,CACd,MAAyBpB,EAAU,WAAvB6B,EAAa7B,EAAU,SACrC8B,EAAS9B,EAAWl0B,YACpB4d,EAASsW,EAAWqB,YAE1B,MAAO,CACLhwF,KAAM,OACN0wF,WAAY,CACVvlF,KAAM8iF,GAAcwC,EAAO78E,EAAG68E,EAAO58E,EAAGwkE,EAASh4B,EAAQswC,EAAYA,IAEvEJ,SAAU,SAAC7vE,GACT,IAAMkB,GAAQ4uE,EAAWG,GAAcjwE,EAAQiwE,EACzCxlF,EAAO8iF,GAAcwC,EAAO78E,EAAG68E,EAAO58E,EAAGwkE,EAASh4B,EAAQswC,EAAY/uE,GAC5E,MAAO,CACLzW,KAAI,EAER,EACA/P,MAAO,CACL+P,KAAM8iF,GAAcwC,EAAO78E,EAAG68E,EAAO58E,EAAGwkE,EAASh4B,EAAQswC,EAAYH,I,CAgB3E,OATED,EADE5B,EAAW91B,aACF,CACTnoD,OAAQA,EAAkB,EAAT2vC,GAGR,CACTtzC,MAAOA,EAAiB,EAATszC,GAIZ,CACLrgD,KAAM,OACN0wF,WAAY,CACV98E,EAAGmB,EAAMnB,EAAIysC,EACbxsC,EAAG6J,EAAI7J,EAAIwsC,EACXtzC,MAAO4hF,EAAW91B,aAAe9rD,EAAiB,EAATszC,EAAa,EACtD3vC,OAAQi+E,EAAW91B,aAAe,EAAInoD,EAAkB,EAAT2vC,GAEjDkwC,SAAQ,EACRn1F,MAAO,CACLwY,EAAGmB,EAAMnB,EAAIysC,EACbxsC,EAAG6J,EAAI7J,EAAIwsC,EACXtzC,MAAOA,EAAiB,EAATszC,EACf3vC,OAAQA,EAAkB,EAAT2vC,GAGvB,CAOM,SAAUuwC,GAAkBjC,EAAwBtuC,QAAA,IAAAA,IAAAA,EAAS,GACzD,IAAAtrC,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAC3B5hF,EAAQ4hF,EAAWhlB,WACnBj5D,EAASi+E,EAAWnlB,YACpBl4C,EAAOnvB,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GAC7B6d,EAAOtvB,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,GAEnC,OAAO47E,GAAKE,UAAUr+D,EAAO+uB,EAAQ5uB,EAAO4uB,EAAQ/uB,EAAOvkB,EAAQszC,EAAQ5uB,EAAO/gB,EAAS2vC,EAC7F,CCzJA,IAAMwwC,GACJ,uTAQF,SAASC,GAAeh1F,GACtB,IAAIkE,EAAO,SAMX,OALI6wF,GAAUphF,KAAK3T,GACjBkE,EAAO,UACEmK,GAASrO,KAClBkE,EAAO,OAEFA,CACT,CAKM,SAAU+wF,GAAejpE,EAAckpE,EAA4BC,EAAkBC,GACzF,YAD2C,IAAAF,IAAAA,EAAAA,CAAAA,GACvCA,EAAShxF,KAAagxF,EAAShxF,KAGhB,aAAf8nB,EAAM9nB,MAAuBsO,GAAYg4B,SAAS2qD,IAAa,CAAC,YAAY3qD,SAAS4qD,IAGlFppE,EAAMm7B,WAFJ,MAEyBn7B,EAAM9nB,IAC1C,CAUM,SAAUmxF,GAAmBtuC,EAAwBhhD,EAA2BmvF,GACpF,IAAMI,EAAYvvF,GAAQ,GAE1B,GAAIyD,GAASu9C,IAAW3iD,EAAM0B,EAAWwvF,EAAWvuC,KAAW94C,GAAQinF,GAAY,CACjF,IAAMx/B,EAAW6/B,GAAS,YAC1B,OAAO,IAAI7/B,EAAS,CAClB3O,MAAOA,EAAM/iD,WACbD,OAAQ,CAACgjD,I,CAIb,IAAMhjD,EAASyxF,GAAYF,EAAWvuC,GAGhC7iD,EAAOuJ,GAAIynF,EAAU,OAAQF,GAAejxF,EAAO,KACnD0xF,EAAYF,GAASrxF,GAC3B,OAAO,IAAIuxF,GAAU,SACnB1uC,MAAK,EACLhjD,OAAM,GACHmxF,GAEP,CASM,SAAUQ,GAAU1pE,EAAc2pE,GACtC,GAAmB,aAAf3pE,EAAM9nB,MAAyC,aAAlByxF,EAASzxF,KAAqB,CAC7D,IAAMgB,EAAM,CAAC,EACb,IAAK,IAAMJ,KAAK6wF,EACV1wF,OAAO+B,UAAUjC,eAAeZ,KAAKwxF,EAAU7wF,KACjDI,EAAIJ,GAAK6wF,EAAS7wF,IAItBknB,EAAM4pE,OAAO1wF,E,CAEjB,CAQM,SAAU2wF,GAAQ7pE,GACtB,OAAOA,EAAM8pE,OAAS9pE,EAAM+6B,KAC9B,CAQM,SAAUgvC,GACd/pE,EACA6mE,EACAlhB,GAEQ,IAEJ/tB,EAFI7/C,EAAWioB,EAAK,OAClBhI,EAAQjgB,EAAO3B,OAGrB,GAAc,IAAV4hB,EACF4/B,EAAQ,CAAC,GAAK,OACT,CACL,IAAIoyC,EAAa,EACb7xC,EAAS,EAETiwC,GAAavB,GACVA,EAAW91B,cAGdi5B,EAAavoF,GAAIkkE,EAAO,yBAA0B,EAAI,KACtDxtB,EAAU,EAAIngC,EAASgyE,EACvBpyC,EAAQ,CAACO,EAAS,EAAG,EAAIA,EAAS,IAJlCP,EAAQ,CAAC,EAAG,EAAI,EAAI5/B,IAOtBmgC,EAAS,EAAIngC,EAAQ,EACrB4/B,EAAQ,CAACO,EAAQ,EAAIA,G,CAGzB,OAAOP,CACT,CAMM,SAAUqyC,GAAYjqE,GAE1B,IAAMjoB,EAASioB,EAAMjoB,OAAOL,QAAO,SAAC5B,GAAS,OAACsC,EAAMtC,KAAU6E,MAAM7E,EAAvB,IAE7C,OAAOuE,KAAKC,IAAG,MAARD,MAAI,6BAAQtC,IAAM,IAAEK,EAAM4nB,EAAM1lB,MAAQmvB,IAAWzJ,EAAM1lB,MAAG,GACrE,CCpIM,SAAU4vF,GAA0B1oE,GACxC,IAAIvU,EACA2I,EAEJ,OAAQ4L,GACN,KAAKtd,GAAAA,IACH+I,EAAQ,CAAEnB,EAAG,EAAGC,EAAG,GACnB6J,EAAM,CAAE9J,EAAG,EAAGC,EAAG,GACjB,MACF,KAAK7H,GAAAA,MACH+I,EAAQ,CAAEnB,EAAG,EAAGC,EAAG,GACnB6J,EAAM,CAAE9J,EAAG,EAAGC,EAAG,GACjB,MACF,KAAK7H,GAAAA,OACH+I,EAAQ,CAAEnB,EAAG,EAAGC,EAAG,GACnB6J,EAAM,CAAE9J,EAAG,EAAGC,EAAG,GACjB,MACF,KAAK7H,GAAAA,KACH+I,EAAQ,CAAEnB,EAAG,EAAGC,EAAG,GACnB6J,EAAM,CAAE9J,EAAG,EAAGC,EAAG,GACjB,MACF,QACEkB,EAAQ2I,EAAM,CAAE9J,EAAG,EAAGC,EAAG,GAG7B,MAAO,CAAEkB,MAAK,EAAE2I,IAAG,EACrB,CAQM,SAAUu0E,GAA4BtD,GAC1C,IAAI55E,EACA2I,EAqBJ,OApBIixE,EAAW91B,cACb9jD,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,KAGLkB,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,IAIA,CAAEkB,MAAK,EAAE2I,IAAG,EACrB,CASM,SAAUw0E,GAAcvD,EAAwBrlE,GACpD,IAAI8yC,EAAS,CAAErnD,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAAK6J,IAAK,CAAE9J,EAAG,EAAGC,EAAG,IAClD86E,EAAWwD,OACb/1B,EAAS41B,GAA0B1oE,GAC1BqlE,EAAWoB,UACpB3zB,EAAS61B,GAA4BtD,IAG/B,IAAA55E,EAAeqnD,EAAM,MAAd1+C,EAAQ0+C,EAAM,IAC7B,MAAO,CACLrnD,MAAO45E,EAAWsB,QAAQl7E,GAC1B2I,IAAKixE,EAAWsB,QAAQvyE,GAE5B,CAoCM,SAAU6mD,GAAWnI,GACjB,IAAArnD,EAAeqnD,EAAM,MAAd1+C,EAAQ0+C,EAAM,IAE7B,OAAOrnD,EAAMnB,IAAM8J,EAAI9J,CACzB,CASM,SAAUw+E,GAAsBh2B,EAAgBnkB,GAC5C,IAAAljC,EAAeqnD,EAAM,MAAd1+C,EAAQ0+C,EAAM,IAEvBi2B,EAAiB9tB,GAAWnI,GAGlC,OAAIi2B,GAEGt9E,EAAMlB,EAAI6J,EAAI7J,IAAMokC,EAAOrkC,EAAImB,EAAMnB,GAAK,EACtC,GAEC,GAIL8J,EAAI9J,EAAImB,EAAMnB,IAAMmB,EAAMlB,EAAIokC,EAAOpkC,GAAK,GACrC,EAED,CAGb,CAUM,SAAUy+E,GAAgB7kB,EAAenkD,GAC7C,IAAMipE,EAAYhpF,GAAIkkE,EAAO,CAAC,aAAc,QAAS,CAAC,GACtD,OAAO3jE,GAAQ,CAAC,EAAGP,GAAIgpF,EAAW,CAAC,UAAW,CAAC,GAAIzoF,GAAQ,CAAC,EAAGP,GAAIgpF,EAAW,CAACjpE,GAAY,CAAC,IAC9F,CASM,SAAUkpE,GAAoB/kB,EAAenkD,EAAmBmpE,GACpE,IAAMF,EAAYhpF,GAAIkkE,EAAO,CAAC,aAAc,QAAS,CAAC,GACtD,OAAO3jE,GACL,CAAC,EACDP,GAAIgpF,EAAW,CAAC,SAAU,SAAU,CAAC,GACrCzoF,GAAQ,CAAC,EAAGP,GAAIgpF,EAAW,CAACjpE,EAAW,SAAU,CAAC,IAClDmpE,EAEJ,CAOM,SAAUC,GAA0B/D,GAEhC,IAAA/6E,EAA+B+6E,EAAU,EAAtC96E,EAA4B86E,EAAU,EAArB12C,EAAW02C,EAAU,aAC3Cp1B,EAAa1lD,EAAEkB,MAAQlB,EAAE6J,IACzB3I,EAAQ45E,EAAW91B,aACrB81B,EAAWsB,QAAQ,CACjBr8E,EAAG2lD,EAAa,EAAI,EACpB1lD,EAAG,IAEL86E,EAAWsB,QAAQ,CACjBr8E,EAAG,EACHC,EAAG0lD,EAAa,EAAI,IAGpBo5B,EAAgC,CAAC59E,EAAMnB,EAAIqkC,EAAOrkC,EAAGmB,EAAMlB,EAAIokC,EAAOpkC,GACtE++E,EAAiC,CAAC,EAAG,GACrC1gD,EACJn9B,EAAMlB,EAAIokC,EAAOpkC,EAAI+V,GAAW+oE,EAAaC,IAAyD,EAAzChpE,GAAW+oE,EAAaC,GACjFzgD,EAAWD,GAAct+B,EAAE8J,IAAM9J,EAAEmB,OACnCykD,EAASr3D,KAAKuU,KAAKvU,KAAAA,IAAC4S,EAAMnB,EAAIqkC,EAAOrkC,EAAM,GAAIzR,KAAAA,IAAC4S,EAAMlB,EAAIokC,EAAOpkC,EAAM,IAE7E,MAAO,CACLokC,OAAM,EACNuhB,OAAM,EACNtnB,WAAU,EACVC,SAAQ,EAEZ,CASM,SAAU0gD,GAAcC,EAA4CjwC,GACxE,OAAI97C,GAAU+rF,IACI,IAATA,GAAyB,CAAC,EAE5BvpF,GAAIupF,EAAM,CAACjwC,GACpB,CAQM,SAAUkwC,GAAiBC,EAAwBvlF,GACvD,OAAOlE,GAAIypF,EAAY,WAAYvlF,EACrC,CAOM,SAAUwlF,GAAiBnrE,EAAckrE,GAC7C,OAAOzpF,GAAIypF,EAAY,CAAC,QAAS,QAASrB,GAAQ7pE,GACpD,CCpOA,kBAaE,WAAYorE,EAAYjhF,GAPjB,KAAAO,WAAqB,EAKlB,KAAA2gF,OAAc,GAGtBn4F,KAAKk4F,KAAOA,EACZl4F,KAAKiX,IAAMnI,GAAQ,CAAC,EAAG9O,KAAKqoB,gBAAiBpR,EAC/C,CAoUF,OA/TSmhF,EAAAA,UAAAA,KAAP,WAEOp4F,KAAK4U,YACR5U,KAAK4U,UAAY5U,KAAKq4F,mBAIxB,IAAMxxF,EAAO7G,KAAKk4F,KAAKI,UACvBt4F,KAAKm4F,OAASn4F,KAAKu4F,eAAe1xF,EACpC,EAUOuxF,EAAAA,UAAAA,OAAP,WACEp4F,KAAKw4F,aACP,EAKOJ,EAAAA,UAAAA,OAAP,WAEA,EAMOA,EAAAA,UAAAA,MAAP,WACEp4F,KAAKy4F,iBACP,EAKOL,EAAAA,UAAAA,QAAP,WACEp4F,KAAK+3B,QAED/3B,KAAK4U,YACP5U,KAAK4U,UAAUtM,QAAO,GACtBtI,KAAK4U,eAAYzP,GAGnBnF,KAAKwX,WAAY,EACjBxX,KAAKk4F,UAAO/yF,EACZnF,KAAKm4F,OAAS,EAChB,EAMUC,EAAAA,UAAAA,YAAV,SAAsBM,GACZ,IAAAt3B,EAA6Cs3B,EAAK,OAA1C7xF,EAAqC6xF,EAAK,KAApCvuE,EAA+BuuE,EAAK,QAApC53B,OAAO,IAAG,EAAA9gE,KAAKiX,IAAI6pD,QAAO,EAE1Co3B,EAAOl4F,KAAKk4F,KAAKS,WAAW,CAChCv3B,OAAM,EACNN,QAAO,IAITo3B,EAAKrxF,KAAKA,GAAQ,IAClB6xF,EAAMR,KAAOA,EAGbl4F,KAAK44F,eAAeV,EAAMQ,GAElB,IAAAG,EAAa74F,KAAKiX,IAAG,SAQ7B,OAPI4hF,GACFA,EAASX,EAAMQ,GAIjB14F,KAAK84F,cAAcZ,EAAMQ,GAElBR,CACT,EAGQE,EAAAA,UAAAA,gBAAR,WACE,IAAMW,EAAkB/4F,KAAKk4F,KAAKc,SAASjoF,GAAMgC,MACjD,OAAOgmF,EAAgBhzB,UACzB,EAKQqyB,EAAAA,UAAAA,YAAR,WACEp4F,KAAKi5F,kBACP,EAKQb,EAAAA,UAAAA,iBAAR,sBAEE,OAAOp4F,KAAKm4F,OAAO7oF,KAAI,SAACopF,GACtB,OAAO3hF,EAAKmiF,YAAYR,EAC1B,GACF,EAKQN,EAAAA,UAAAA,gBAAR,sBAEE9yF,EAAKtF,KAAKm4F,QAAQ,SAACO,GACbA,EAAMR,OACRnhF,EAAKmhF,KAAKiB,WAAWT,EAAMR,MAC3BQ,EAAMR,UAAO/yF,EAEjB,GACF,EAKQizF,EAAAA,UAAAA,aAAR,WAcQ,MAAoBp4F,KAAKk4F,KAAKkB,SAA5BrnF,EAAK,QAAE2D,EAAM,SACbs8D,EAAYhyE,KAAKiX,IAAG,QAC5B,OAAO+6D,EAAQ1iE,KAAI,SAAC4I,EAAW9H,GAC7B,OAAI9F,GAAS4N,GAAWA,GAAa,IAAR9H,EAAY2B,EAAQ2D,GACrCtL,WAAW8N,GAAK,GAC9B,GACF,EAWUkgF,EAAAA,UAAAA,eAAV,SAAyBvxF,EAAeghD,GACtC,IAAMriD,EAAM,GACNiD,EAAiC,CAAC,EAWxC,OARAnD,EAAKuB,GAAM,SAAC6R,GACV,IAAM5X,EAAQ4X,EAAEmvC,GACX3iD,EAAMpE,IAAW2H,EAAM3H,KAC1B0E,EAAIb,KAAK7D,GACT2H,EAAM3H,IAAS,EAEnB,IAEO0E,CACT,EASU4yF,EAAAA,UAAAA,UAAV,SAAoBiB,EAAcC,EAAcC,EAAgBC,GACxD,eAAuBx5F,KAAKy5F,eAAc,GAAzCC,EAAQ,KAAEC,EAAQ,KAWnBC,GAAU,EAAIF,IAAsB,IAATJ,EAAa,EAAIA,GAAQI,EACpDG,GAAU,EAAIF,IAAsB,IAATN,EAAa,EAAIA,GAAQM,EAGpD5/E,EAAQ,CACZnB,GAAIghF,EAASF,GAAYH,EACzB1gF,GAAIghF,EAASF,GAAYH,GAErB92E,EAAM,CACV9J,EAAGmB,EAAMnB,EAAIghF,EACb/gF,EAAGkB,EAAMlB,EAAIghF,GAEf,MAAO,CAAE9/E,MAAK,EAAE2I,IAAG,EACrB,EAEU01E,EAAAA,UAAAA,cAAV,WACE,MAAO,CACLS,cAAU1zF,EACVykF,WAAW,EACX5X,QAAS,CAAC,EAAG,GACblR,QAAS,GACTsD,OAAQ,GAEZ,EAKUg0B,EAAAA,UAAAA,mBAAV,WAEE,IAAM/mF,EAAarR,KAAKk4F,KAAK4B,WAAWzoF,WACxC,MAAO,CACL8D,MAAO,CACLvD,SAAU,GACVooD,KAAM,OACN3oD,WAAU,GAGhB,EAOU+mF,EAAAA,UAAAA,YAAV,SAAsBF,EAAYQ,GAChC,IAAMroF,EAAU6nF,EAAK6B,aAEfC,EAAmB3pF,EAAQsjF,WAC3BsG,EAAa/B,EAAK+B,WAElBC,EAAiB3rF,GAAIyrF,EAAkB,OAAQ,QAErD,GAAuB,SAAnBE,GAA6BD,EAAW/2F,OAAQ,CAC9CgC,EAAMmL,EAAQynF,QAEhBznF,EAAQynF,KAAO,CAAC,GAElB,IAAMA,EAAOznF,EAAQynF,KAEf,WAASmC,EAAW,GAAGE,cAAa,GAAnCvhF,EAAC,KAAEC,EAAC,KAELuhF,EAAUvC,GAAcC,EAAMl/E,GAC9ByhF,EAAUxC,GAAcC,EAAMj/E,IAEpB,IAAZuhF,IACF/pF,EAAQynF,KAAKl/E,GAAK5Y,KAAKs6F,eAAe1hF,EAAGk/E,EAAMsC,EAAS1B,KAG1C,IAAZ2B,IACFhqF,EAAQynF,KAAKj/E,GAAK7Y,KAAKu6F,eAAe1hF,EAAGi/E,EAAMuC,EAAS3B,G,CAG9D,EAMUN,EAAAA,UAAAA,mBAAV,SAA6BoC,GAC3B,OAAO,SAACC,GAEN,OAAOtxF,GAAMqxF,GAAY,SAAClxF,GAChB,IAAAu+C,EAAiBv+C,EAAS,MAAnBxI,EAAUwI,EAAS,MAElC,SAAKpE,EAAMpE,IAAU+mD,IACZ4yC,EAAM5yC,KAAW/mD,CAG5B,GACF,CACF,EAuCF,EApVA,GCzBM45F,GAAoC,CAAC,EAM9BC,GAAW,SAAC31F,GACvB,OAAO01F,GAAOrvF,GAAUrG,GAC1B,EAOa41F,GAAgB,SAAC51F,EAAc89C,GAC1C43C,GAAOrvF,GAAUrG,IAAS89C,CAC5B,EClBA,cAUE,WAAYj1C,EAA8BoJ,GACxCjX,KAAK6N,QAAUA,EACf7N,KAAKiX,IAAMA,EACXpJ,EAAQgtF,UAAU76F,KACpB,CA0BF,OApBY86F,EAAAA,UAAAA,SAAV,SAAmB7jF,GACjBovB,GAAOrmC,KAAMiX,EACf,EAKO6jF,EAAAA,UAAAA,KAAP,WACE96F,KAAK+6F,SAAS/6F,KAAKiX,IACrB,EAKO6jF,EAAAA,UAAAA,QAAP,WAEE96F,KAAK6N,QAAQmtF,aAAah7F,MAE1BA,KAAK6N,QAAU,IACjB,EACF,EAxCA,GA0CA,MC5CA,4B,8CAoBA,QApB4CuJ,EAAAA,EAAAA,IAAAA,EAAAA,GAQnC6jF,EAAAA,UAAAA,QAAP,WACMj7F,KAAKwW,UACPxW,KAAKwW,SAASxW,KAAK6N,QAEvB,EAIOotF,EAAAA,UAAAA,QAAP,WACE/jF,EAAAA,UAAMua,QAAO,WACbzxB,KAAKwW,SAAW,IAClB,EACF,EApBA,CAA4CskF,I,MCWtCI,GAA4C,CAAC,EAQ7C,SAAUC,GAAaC,EAAoBvtF,GAC/C,IAAMwtF,EAAeH,GAAYE,GAC7B/sE,EAAS,KACb,GAAIgtE,EAAc,CACR,IAAAC,EAAqBD,EAAY,YAApBpkF,EAAQokF,EAAY,IACzChtE,EAAS,IAAIitE,EAAYztF,EAASoJ,GAClCoX,EAAOztB,KAAOw6F,EACd/sE,EAAOhmB,M,CAET,OAAOgmB,CACT,CAgBM,SAAUktE,GAAeH,EAAoBE,EAAgCrkF,GACjFikF,GAAYE,GAAc,CACxBE,YAAW,EACXrkF,IAAG,EAEP,CAgBM,SAAUukF,GAAqBhlF,EAA0B3I,GAC7D,IAAMwgB,EAAS,IAAI4sE,GAAeptF,GAGlC,OAFAwgB,EAAO7X,SAAWA,EAClB6X,EAAOztB,KAAO,WACPytB,CACT,CCrEA,SAASotE,GAAal3E,EAAiBm3E,GACrC,IAAMvrF,EAAO,GACb,GAAIoU,EAAOrhB,OAAQ,CACjBiN,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC,IAAK,IAAIpT,EAAI,EAAGuR,EAASuN,EAAOrhB,OAAQuC,EAAIuR,EAAQvR,GAAK,EAAG,CAC1D,IAAM7C,EAAO2hB,EAAO9e,GACpB0K,EAAKxL,KAAK,CAAC,IAAK/B,EAAKgW,EAAGhW,EAAKiW,G,CAG3B6iF,GACFvrF,EAAKxL,KAAK,CAAC,K,CAIf,OAAOwL,CACT,CAEA,SAASwrF,GAAYr3F,EAAes3F,GAElC,IADA,IAAMl0F,EAAM,CAACpD,EAAI,IACRmB,EAAI,EAAGC,EAAMpB,EAAIpB,OAAQuC,EAAIC,EAAKD,GAAQ,EAAG,CACpD,IAAM6oC,EAAQstD,EAAM3G,QAAQ,CAC1Br8E,EAAGtU,EAAImB,GACPoT,EAAGvU,EAAImB,EAAI,KAEbiC,EAAI/C,KAAK2pC,EAAM11B,EAAG01B,EAAMz1B,E,CAE1B,OAAOnR,CACT,CACA,SAASm0F,GAAgB1rF,EAAmByrF,GAClC,IAAA/9B,EAAiB+9B,EAAK,aACxBjzF,EAAIwH,EAAK,GACTyI,EAAIzI,EAAK,GACT0I,EAAI1I,EAAK,GACTm+B,EAAQstD,EAAM3G,QAAQ,CAAEr8E,EAAC,EAAEC,EAAC,IAC5ByV,EAAYuvC,EAAe,EAAI,EACrC,MAAO,CAAC,IAAKl1D,EAAGA,EAAG,EAAG,EAAG2lB,EAAWggB,EAAM11B,EAAG01B,EAAMz1B,EACrD,CAEA,SAASijF,GAAkB75C,EAAkB85C,EAAkBH,GACrD,IAAA/9B,EAAuC+9B,EAAK,aAA9B1kD,EAAyB0kD,EAAK,WAAlBzkD,EAAaykD,EAAK,SAC9Cp+C,EACqB,MAAzByE,EAAI,GAAG32C,cACH,CACEsN,EAAGqpC,EAAI,GACPppC,EAAGopC,EAAI,IAET,CACErpC,EAAGqpC,EAAI,GACPppC,EAAGopC,EAAI,IAET+5C,EAAW,CACfpjF,EAAGmjF,EAAI,GACPljF,EAAGkjF,EAAI,IAEHv2F,EAAM,GACNkyC,EAAOmmB,EAAe,IAAM,IAC5Bo+B,EAAa90F,KAAK0D,IAAImxF,EAAStkD,GAAQ8F,EAAS9F,KAAUP,EAAWD,GACrE5oB,EAAY0tE,EAAStkD,IAAS8F,EAAS9F,GAAQ,EAAI,EACnDwkD,EAAOD,EAAa90F,KAAK+D,GAAK,EAAI,EAClCkzD,EAAew9B,EAAM3G,QAAQ+G,GAC7BrzF,EAAIwsF,GAAoByG,EAAOx9B,GACrC,GAAIz1D,GAAK,GAEP,GAAIszF,IAAyB,EAAV90F,KAAK+D,GAAQ,CAC9B,IAAMmhE,EAAc,CAClBzzD,GAAIojF,EAASpjF,EAAI4kC,EAAS5kC,GAAK,EAC/BC,GAAImjF,EAASnjF,EAAI2kC,EAAS3kC,GAAK,GAE3BsjF,EAAqBP,EAAM3G,QAAQ5oB,GACzC7mE,EAAIb,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAGuzF,EAAM5tE,EAAW6tE,EAAmBvjF,EAAGujF,EAAmBtjF,IAClFrT,EAAIb,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAGuzF,EAAM5tE,EAAW8vC,EAAaxlD,EAAGwlD,EAAavlD,G,MAEtErT,EAAIb,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAGuzF,EAAM5tE,EAAW8vC,EAAaxlD,EAAGwlD,EAAavlD,IAG1E,OAAOrT,CACT,CAGA,SAAS42F,GAAqBjsF,GAC5B7K,EAAK6K,GAAM,SAACksF,EAASx5F,GACnB,IAAMk5F,EAAMM,EACZ,GAA6B,MAAzBN,EAAI,GAAGzwF,cAAuB,CAChC,IAAM22C,EAAM9xC,EAAKtN,EAAQ,GACnBmxC,EAAO7jC,EAAKtN,EAAQ,GACtBmxC,GAAkC,MAA1BA,EAAK,GAAG1oC,cACd22C,GAAgC,MAAzBA,EAAI,GAAG32C,gBAChB22C,EAAI,GAAK,KAEFA,GAAgC,MAAzBA,EAAI,GAAG32C,eACnB0oC,GAAkC,MAA1BA,EAAK,GAAG1oC,gBAClB0oC,EAAK,GAAK,I,CAIlB,GACF,CAMO,IAAMwG,GAAe,SAC1Bj2B,EACAk2B,EACAC,EACAC,G,MAKIC,EACA/B,EACAxxC,EACAD,EACAyzC,EACAC,EACAC,EATEC,EAAM,GACNC,IAAkBN,EAUxB,GAAIM,EAAe,CACjB9wB,GAAAA,EAAAA,EAAAA,IAAawwB,EAAU,GAAtBtzC,EAAG,KAAED,EAAG,KACT,IAAK,IAAI3B,EAAI,EAAGoE,EAAI0a,EAAOrhB,OAAQuC,EAAIoE,EAAGpE,IAAK,CAC7C,IAAM6oC,EAAQ/pB,EAAO9e,GACrB4B,EAAMunB,GAAS,CAAC,EAAG,GAAIvnB,EAAKinC,GAC5BlnC,EAAMwnB,GAAS,CAAC,EAAG,GAAIxnB,EAAKknC,E,EAIvB7oC,EAAI,EAAb,IAAK,IAAWC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CAC3C6oC,EAAQ/pB,EAAO9e,GACrB,GAAU,IAANA,GAAYi1C,EAET,GAAIj1C,IAAMC,EAAM,GAAMg1C,EAItB,CACLE,EAAYr2B,EAAOm2B,EAAUj1C,EAAIA,EAAI,EAAIC,EAAM,EAAKD,EAAI,GACxDozC,EAAYt0B,EAAOm2B,GAAUj1C,EAAI,GAAKC,EAAMD,EAAI,GAEhD,IAAI+B,EAAsB,CAAC,EAAG,GAC9BA,EAAIonB,GAASpnB,EAAGqxC,EAAW+B,GAC3BpzC,EAAIonB,GAAWpnB,EAAGA,EAAGizC,GAErB,IAAIU,EAAKvsB,GAAc0f,EAAOsM,GAC1B7G,EAAKnlB,GAAc0f,EAAOuK,GAExBl5B,EAAMw7B,EAAKpH,EACL,IAARp0B,IACFw7B,GAAMx7B,EACNo0B,GAAMp0B,GAGR,IAAI4O,EAAKK,GAAW,CAAC,EAAG,GAAIpnB,GAAI2zC,GAC5B3sB,EAAKI,GAAW,CAAC,EAAG,GAAIpnB,EAAGusC,GAE/B+G,EAAMlsB,GAAS,CAAC,EAAG,GAAI0f,EAAO/f,GAC9BssB,EAAUjsB,GAAS,CAAC,EAAG,GAAI0f,EAAO9f,GAGlCqsB,EAAUjsB,GAAS,CAAC,EAAG,GAAIisB,EAASjsB,GAAS,CAAC,EAAG,GAAIiqB,EAAWvK,IAChEuM,EAAUjsB,GAAS,CAAC,EAAG,GAAIisB,EAASjsB,GAAS,CAAC,EAAG,GAAIiqB,EAAWvK,IAGhE/f,EAAKK,GAAS,CAAC,EAAG,GAAIisB,EAASvM,GAC/B/f,EAAKK,GAAW,CAAC,EAAG,GAAIL,GAAK4sB,EAAKpH,GAClC+G,EAAMlsB,GAAS,CAAC,EAAG,GAAI0f,EAAO/f,GAG9BusB,EAAMlsB,GAAS,CAAC,EAAG,GAAIksB,EAAKlsB,GAAS,CAAC,EAAG,GAAIgsB,EAAWtM,IACxDwM,EAAMlsB,GAAS,CAAC,EAAG,GAAIksB,EAAKlsB,GAAS,CAAC,EAAG,GAAIgsB,EAAWtM,IAGxD9f,EAAKI,GAAS,CAAC,EAAG,GAAI0f,EAAOwM,GAC7BtsB,EAAKI,GAAW,CAAC,EAAG,GAAIJ,EAAIulB,EAAKoH,GACjCN,EAAUjsB,GAAS,CAAC,EAAG,GAAI0f,EAAO9f,GAE9BysB,IACFH,EAAMlsB,GAAS,CAAC,EAAG,GAAIksB,EAAKzzC,GAC5ByzC,EAAMlsB,GAAS,CAAC,EAAG,GAAIksB,EAAK1zC,GAC5ByzC,EAAUjsB,GAAS,CAAC,EAAG,GAAIisB,EAASxzC,GACpCwzC,EAAUjsB,GAAS,CAAC,EAAG,GAAIisB,EAASzzC,IAGtC4zC,EAAIr2C,KAAKo2C,GACTC,EAAIr2C,KAAKm2C,GACTC,EAAMF,C,MArDNC,EAAMxM,EACN0M,EAAIr2C,KAAKo2C,GACTC,EAAIr2C,KAAKm2C,QAJTC,EAAMzM,C,CA+DV,OAJIoM,GACFM,EAAIr2C,KAAKq2C,EAAI/8B,SAGR+8B,CACT,EAMM,SAAUshD,GAAkB7jF,EAAeJ,EAAYsiC,GAG3D,IAFA,IAAMD,IAAWriC,EACXgjC,EAAY,GACT51C,EAAI,EAAGoE,EAAI4O,EAAIvV,OAAQuC,EAAIoE,EAAGpE,GAAK,EAC1C41C,EAAU12C,KAAK,CAAC8T,EAAIhT,GAAIgT,EAAIhT,EAAI,KAGlC,IAIIq1C,EACAQ,EACArrC,EANEsrC,EAAmBf,GAAaa,EAAW,GAAKX,EAAQC,GACxDj1C,EAAM21C,EAAUn4C,OAChB6wC,EAAK,GAMX,IAAStuC,EAAI,EAAGA,EAAIC,EAAM,EAAGD,IAC3Bq1C,EAAMS,EAAqB,EAAJ91C,GACvB61C,EAAMC,EAAqB,EAAJ91C,EAAQ,GAC/BwK,EAAIorC,EAAU51C,EAAI,GAElBsuC,EAAGpvC,KAAK,CAAC,IAAKm2C,EAAI,GAAIA,EAAI,GAAIQ,EAAI,GAAIA,EAAI,GAAIrrC,EAAE,GAAIA,EAAE,KAUxD,OAPIyqC,IACFI,EAAMS,EAAiB71C,GACvB41C,EAAMC,EAAiB71C,EAAM,GAC7BuK,EAAIorC,EAAU,GAEdtH,EAAGpvC,KAAK,CAAC,IAAKm2C,EAAI,GAAIA,EAAI,GAAIQ,EAAI,GAAIA,EAAI,GAAIrrC,EAAE,GAAIA,EAAE,MAEjD8jC,CACT,CAMM,SAAUy/B,GAAYjvD,EAAiBm3E,GAC3C,OAAOD,GAAal3E,EAAQm3E,EAC9B,CAMM,SAAUa,GAAch4E,EAAiBm3E,EAAsBc,GACnE,IAAM31F,EAAO,GACP80C,EAAQp3B,EAAO,GACjBi5B,EAAW,KACf,GAAIj5B,EAAOrhB,QAAU,EAEnB,OAAOswE,GAAYjvD,EAAQm3E,GAE7B,IAAK,IAAIj2F,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CACjD,IAAM6oC,EAAQ/pB,EAAO9e,GAChB+3C,GAAcA,EAAS5kC,IAAM01B,EAAM11B,GAAK4kC,EAAS3kC,IAAMy1B,EAAMz1B,IAChEhS,EAAKlC,KAAK2pC,EAAM11B,GAChB/R,EAAKlC,KAAK2pC,EAAMz1B,GAChB2kC,EAAWlP,E,CAGf,IAAMqM,EAAa6hD,GAAa,CAE9B,CAAC,EAAG,GACJ,CAAC,EAAG,IAEAC,EAAaH,GAAkBz1F,EAAM60F,EAAY/gD,GAEvD,OADA8hD,EAAW32E,QAAQ,CAAC,IAAK61B,EAAM/iC,EAAG+iC,EAAM9iC,IACjC4jF,CACT,CAMM,SAAUC,GAAkBd,EAAOzrF,GACvC,IAAMzI,EAAM,GAkBZ,OAjBApC,EAAK6K,GAAM,SAACksF,GACV,IAAMhuE,EAASguE,EAAQ,GACvB,OAAQhuE,EAAO/iB,eACb,IAAK,IACL,IAAK,IACL,IAAK,IACH5D,EAAI/C,KAAKg3F,GAAYU,EAAST,IAC9B,MACF,IAAK,IACHl0F,EAAI/C,KAAKk3F,GAAgBQ,EAAST,IAClC,MACF,IAAK,IACL,QACEl0F,EAAI/C,KAAK03F,GACT,MAEN,IACO30F,CACT,CAMM,SAAUi1F,GAAiBf,EAAOzrF,GACtC,IACI8xC,EACA85C,EACAa,EACAC,EAJAn1F,EAAM,GAqCV,OAhCApC,EAAK6K,GAAM,SAACksF,EAASx5F,GACnB,IAAMwrB,EAASguE,EAAQ,GAEvB,OAAQhuE,EAAO/iB,eACb,IAAK,IACL,IAAK,IACL,IAAK,IACH5D,EAAI/C,KAAKg3F,GAAYU,EAAST,IAC9B,MACF,IAAK,IACH35C,EAAM9xC,EAAKtN,EAAQ,GACnBk5F,EAAMM,EACNO,EAAahB,EAAM/9B,aAEnBg/B,EAASD,EAAa36C,EAAIA,EAAI/+C,OAAS,KAAO64F,EAAI,GAAK95C,EAAIA,EAAI/+C,OAAS,KAAO64F,EAAI,GAC/Ec,EACFn1F,EAAMA,EAAIX,OAAO+0F,GAAkB75C,EAAK85C,EAAKH,IAG7Cl0F,EAAI/C,KAAKg3F,GAAYU,EAAST,IAEhC,MACF,IAAK,IACHl0F,EAAI/C,KAAKk3F,GAAgBQ,EAAST,IAClC,MACF,IAAK,IACL,QACEl0F,EAAI/C,KAAK03F,GACT,MAEN,IACAD,GAAqB10F,GACdA,CACT,CCjVA,SAASo1F,GAAYjvF,EAA8B0wC,GACjD,IAAMn3B,EAAQvZ,EAAQuZ,MAChB21E,EAAY31E,EAAM9kB,OAClB06F,EAAWD,EAAUjmE,gBAE3B,OAAMkmE,EAASjrF,OAASwsC,GAAay+C,EAAStnF,QAAU6oC,EAGjDy+C,EAFE,IAGX,CAEA,SAASC,GAAYpvF,EAA8B0wC,GACjD,IAAMn3B,EAAQvZ,EAAQuZ,MAChB21E,EAAY31E,EAAM9kB,OAClB06F,EAAWD,EAAUjmE,gBAE3B,OAAMkmE,EAASjrF,OAASwsC,GAAay+C,EAAStnF,QAAU6oC,EAGjDw+C,EAAUptE,KAAK,QAFb,IAGX,CAOM,SAAUutE,GAAkBrvF,GAChC,IACIqa,EADEd,EAAQvZ,EAAQuZ,MAEhB9kB,EAAS8kB,EAAM9kB,OAIrB,OAHIA,IACF4lB,EAAU5lB,EAAOiM,IAAI,YAEhB2Z,CACT,CAOM,SAAUi1E,GAAoBtvF,GAClC,IAEIinB,EAFE1N,EAAQvZ,EAAQuZ,MAChB9kB,EAAS8kB,EAAM9kB,OAKrB,OAHIA,IACFwyB,EAAiBxyB,EAAOiM,IAAI,mBAEvBumB,CACT,CAEM,SAAUsoE,GAAgBvvF,GAC9B,IAAMuZ,EAAQvZ,EAAQuZ,MAAMi2E,OAE5B,QAAIj2E,GAASA,EAAMgN,WAAahN,EAAMiN,SAAWjN,EAAMgN,UAAU7lB,IAAI,aAAe6Y,EAAMiN,QAAQ9lB,IAAI,WAIxG,CAOM,SAAU+uF,GAAOxoE,GACrB,OAAOA,GAAkBA,EAAemxC,WAAanxC,EAAemxC,UAAUq3B,QAChF,CAOM,SAAUC,GAASzoE,GACvB,OAAOA,GAAkBA,EAAemxC,WAAanxC,EAAemxC,UAAUs3B,UAChF,CAOM,SAAUC,GAAO3vF,GACrB,IAAMuZ,EAAQvZ,EAAQuZ,MAChB9kB,EAAS8kB,EAAM9kB,OACrB,OAAOA,GAAiC,SAAvBA,EAAOiM,IAAI,OAC9B,CAOM,SAAUkvF,GAAkB5vF,EAA8B0wC,GAC9D,IAAMj8C,EAASuL,EAAQuZ,MAAM9kB,OAC7B,GAA2B,SAAvBA,EAAOiM,IAAI,QAAoB,CACjC,IAAMmvF,EAAWT,GAAYpvF,EAAS0wC,GACtC,IAAKm/C,EACH,OAEF,OAAOC,GAAkB9vF,EAAQqqF,KAAMwF,E,CAEzC,IAAMV,EAAWF,GAAYjvF,EAAS0wC,GAEtC,OAAKy+C,EAGEY,GAAqB/vF,EAAQqqF,KAAM8E,GAFjC,IAGX,CAKM,SAAUa,GAAuBhwF,EAA8BiwF,EAAev/C,GAClF,IAAMy+C,EAAWF,GAAYjvF,EAAS0wC,GAEtC,IAAKy+C,EACH,OAAO,KAET,IAAM9E,EAAOrqF,EAAQqqF,KACfn+E,EAAQgkF,GAAgB7F,EAAM4F,EAAS,CAAEllF,EAAGokF,EAASpkF,EAAGC,EAAGmkF,EAASnkF,IACpE6J,EAAMq7E,GAAgB7F,EAAM4F,EAAS,CAAEllF,EAAGokF,EAASxmE,KAAM3d,EAAGmkF,EAAStmE,OACrExV,EAAM,CACVoV,KAAMvc,EAAMnB,EACZ6d,KAAM1c,EAAMlB,EACZ2d,KAAM9T,EAAI9J,EACV8d,KAAMhU,EAAI7J,GAEZ,OAAO+kF,GAAqBE,EAAS58E,EACvC,CAOM,SAAU88E,GAAY9F,GAC1B,IAAM+B,EAAa/B,EAAK+B,WACpBz0F,EAAiB,GAUrB,OATAF,EAAK20F,GAAY,SAACgE,GAChB,IAAM14F,EAAW04F,EAAK14F,SACtBC,EAAMA,EAAIuB,OAAOxB,EACnB,IACI2yF,EAAKgG,OAAShG,EAAKgG,MAAMh7F,QAC3BoC,EAAK4yF,EAAKgG,OAAO,SAACC,GAChB34F,EAAMA,EAAIuB,OAAOi3F,GAAYG,GAC/B,IAEK34F,CACT,CASM,SAAU44F,GAAmBlG,EAAYrwC,EAAe/mD,GAC5D,IAAMyE,EAAWy4F,GAAY9F,GAC7B,OAAO3yF,EAASf,QAAO,SAAC+oC,GACtB,OAAO8wD,GAAgB9wD,EAAIsa,KAAW/mD,CACxC,GACF,CAQM,SAAUw9F,GAAmBpG,EAAYqG,GAC7C,IAAMtE,EAAa/B,EAAK+B,WACpBz0F,EAAiB,GAKrB,OAJAF,EAAK20F,GAAY,SAACgE,GAChB,IAAM14F,EAAW04F,EAAKO,eAAc,SAACjxD,GAAO,OAAAA,EAAG4lC,SAASorB,EAAZ,IAC5C/4F,EAAMA,EAAIuB,OAAOxB,EACnB,IACOC,CACT,CAQM,SAAU64F,GAAgBn2E,EAAkB2/B,GAChD,IAEI/mD,EAFE29F,EAAQv2E,EAAQw2E,WAChBj8C,EAASg8C,EAAM53F,KAOrB,OAJE/F,EADEuE,EAAQo9C,GACFA,EAAO,GAAGoF,GAEVpF,EAAOoF,GAEV/mD,CACT,CAQM,SAAU69F,GAAcl/C,EAAMC,GAClC,QAASA,EAAKppB,KAAOmpB,EAAKjpB,MAAQkpB,EAAKlpB,KAAOipB,EAAKnpB,MAAQopB,EAAKjpB,KAAOgpB,EAAK/oB,MAAQgpB,EAAKhpB,KAAO+oB,EAAKhpB,KACvG,CAQM,SAAUmnE,GAAqB1F,EAAYh3E,GAC/C,IAAM3b,EAAWy4F,GAAY9F,GACvB1yF,EAAM,GAQZ,OAPAF,EAAKC,GAAU,SAACgoC,GACd,IAAMzlB,EAAQylB,EAAGzlB,MACX82E,EAAY92E,EAAMgP,gBACpB6nE,GAAcz9E,EAAK09E,IACrBp5F,EAAIb,KAAK4oC,EAEb,IACO/nC,CACT,CACA,SAASq5F,GAAa1uF,GACpB,IAAMoU,EAAS,GAYf,OAXAjf,EAAK6K,GAAM,SAACoO,GACV,IAAMg/B,EAAUh/B,EAAI,GACpB,GAAgB,MAAZg/B,EACF,IAAK,IAAI93C,EAAI,EAAGA,EAAI8Y,EAAIrb,OAAQuC,GAAQ,EACtC8e,EAAO5f,KAAK,CAAC4Z,EAAI9Y,GAAI8Y,EAAI9Y,EAAI,SAE1B,CACL,IAAMuR,EAASuH,EAAIrb,OACnBqhB,EAAO5f,KAAK,CAAC4Z,EAAIvH,EAAS,GAAIuH,EAAIvH,EAAS,I,CAE/C,IACOuN,CACT,CAOM,SAAUo5E,GAAkBzF,EAAY/nF,GAC5C,IAAM5K,EAAWy4F,GAAY9F,GACvB3zE,EAASs6E,GAAa1uF,GACtB3K,EAAMD,EAASf,QAAO,SAAC+oC,GAC3B,IACIuxD,EADEh3E,EAAQylB,EAAGzlB,MAEjB,GAA0B,SAAtBA,EAAMvZ,IAAI,QACZuwF,EAAcD,GAAa/2E,EAAM6H,KAAK,aACjC,CACL,IAAMivE,EAAY92E,EAAMgP,gBACxBgoE,EAAcjK,GAAS+J,E,CAEzB,OAAOj/C,GAAoBp7B,EAAQu6E,EACrC,IACA,OAAOt5F,CACT,CAOM,SAAUu5F,GAAc7G,GAC5B,OAAOA,EAAK6G,gBAAgBzvF,KAAI,SAAC0vF,GAAwB,OAAAA,EAAG/4B,SAAH,GAC3D,CAGM,SAAUl5C,GAASjO,EAAW9B,GAClC,IAAMwyB,EAAKxyB,EAAGpE,EAAIkG,EAAGlG,EACf62B,EAAKzyB,EAAGnE,EAAIiG,EAAGjG,EACrB,OAAO1R,KAAKuU,KAAK8zB,EAAKA,EAAKC,EAAKA,EAClC,CAGM,SAAUwvD,GAAU16E,EAAiBlM,GACzC,GAAIkM,EAAOrhB,QAAU,EACnB,OAAOswE,GAAYjvD,GAAQ,GAE7B,IAAMo3B,EAAQp3B,EAAO,GACfjgB,EAAM,GACZgB,EAAKif,GAAQ,SAAC+pB,GACZhqC,EAAIK,KAAK2pC,EAAM11B,GACftU,EAAIK,KAAK2pC,EAAMz1B,EACjB,IACA,IAAM1I,EAAOmsF,GAAkBh4F,EAAK+T,EAAG,MAEvC,OADAlI,EAAK2V,QAAQ,CAAC,IAAK61B,EAAM/iC,EAAG+iC,EAAM9iC,IAC3B1I,CACT,CAQM,SAAU+uF,GAAQh+E,EAAWotB,GACjC,OAAOptB,EAAItI,GAAK01B,EAAM11B,GAAKsI,EAAIsV,MAAQ8X,EAAM11B,GAAKsI,EAAIrI,GAAKy1B,EAAMz1B,GAAKqI,EAAIwV,KAAO4X,EAAMz1B,CACzF,CAQM,SAAUsmF,GAAYjH,GAC1B,IAAM/hF,EAAS+hF,EAAK/hF,OAChBmxD,EAAW,KAIf,OAHInxD,IACFmxD,EAAWnxD,EAAO+nF,MAAM15F,QAAO,SAACgpB,GAAQ,OAAAA,IAAQ0qE,CAAR,KAEnC5wB,CACT,CAEA,SAAS83B,GAAgBlH,EAAY5pD,GACnC,IAAMstD,EAAQ1D,EAAKl4B,gBACnB,OAAO47B,EAAM7wE,OAAOujB,EACtB,CAQM,SAAUyvD,GAAgB7F,EAAY4F,EAAexvD,GACzD,IAAM+wD,EAAcD,GAAgBlH,EAAM5pD,GAC1C,OAAOwvD,EAAQ99B,gBAAgBi1B,QAAQoK,EACzC,CAcM,SAAUC,GAAYC,EAAmB98C,EAAgB+8C,EAAgB99C,GAC7E,IAAI5B,GAAO,EAOX,OANAx6C,EAAKi6F,GAAS,SAAC52F,GACb,GAAIA,EAAE62F,KAAY/8C,EAAO+8C,IAAW72F,EAAE+4C,KAAYe,EAAOf,GAEvD,OADA5B,GAAO,GACA,CAEX,IACOA,CACT,CAGM,SAAU2/C,GAAgBvH,EAAYrwC,GAC1C,IAAI/6B,EAAQorE,EAAKuH,gBAAgB53C,GASjC,OARK/6B,GAASorE,EAAKgG,OACjB54F,EAAK4yF,EAAKgG,OAAO,SAACC,GAEhB,GADArxE,EAAQ2yE,GAAgBtB,EAASt2C,GAC7B/6B,EACF,OAAO,CAEX,IAEKA,CACT,CCxXA,kBAUE,WAAYorE,GARL,KAAA/pE,QAAqB,GAIrB,KAAA/G,MAAqB,KAEpB,KAAAi9B,SAAwB,CAAC,EAG/BrkD,KAAKk4F,KAAOA,CACd,CAgIF,OAxHSwH,EAAAA,UAAAA,MAAP,W,IAAa,aAAApxF,EAAAA,UAAAA,OAAAA,IAAAiK,EAAAA,GAAAA,UAAAA,GACX,GAAsB,IAAlBA,EAAOrV,OACT,OAAOlD,KAAKqkD,SAAS9rC,EAAO,IACD,IAAlBA,EAAOrV,SAChBlD,KAAKqkD,SAAS9rC,EAAO,IAAMA,EAAO,GAEtC,EAMOmnF,EAAAA,UAAAA,UAAP,SAAiB9+F,GACf,OAAOZ,KAAKmuB,QAAQ3nB,MAAK,SAAC6nB,GAAW,OAAAA,EAAOztB,OAASA,CAAhB,GACvC,EAMO8+F,EAAAA,UAAAA,UAAP,SAAiBrxE,GACfruB,KAAKmuB,QAAQxpB,KAAK0pB,EACpB,EAMOqxE,EAAAA,UAAAA,aAAP,SAAoBrxE,GAClB,IAAMF,EAAUnuB,KAAKmuB,QACftrB,EAAQ7C,KAAKmuB,QAAQ5pB,QAAQ8pB,GAC/BxrB,GAAS,GACXsrB,EAAQpmB,OAAOlF,EAAO,EAE1B,EAKO68F,EAAAA,UAAAA,gBAAP,WACE,IAAMt4E,EAAQpnB,KAAKonB,MACnB,GAAIA,EAAO,CACT,GAAIA,EAAM9kB,kBAAkBq9F,YAAa,CACvC,IAAM5tE,EAAS/xB,KAAKk4F,KAAKlmE,YACnBsc,EAAQvc,EAAO+e,iBAAiB1pB,EAAMmnB,QAASnnB,EAAMonB,SAC3D,OAAOF,C,CAEP,MAAO,CACL11B,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,E,CAIf,OAAO,IACT,EAMO6mF,EAAAA,UAAAA,gBAAP,WACE,OAAOnxF,GAAIvO,KAAKonB,MAAO,CAAC,SAAU,SACpC,EAKOs4E,EAAAA,UAAAA,SAAP,WACE,IAAMpxD,EAAQtuC,KAAK4/F,kBACnB,QAAItxD,GACKtuC,KAAKk4F,KAAK2H,cAAcvxD,EAGnC,EAMOoxD,EAAAA,UAAAA,UAAP,SAAiB9+F,GACf,IAAMknB,EAAQ9nB,KAAK8/F,kBACnB,QAAIh4E,GACKA,EAAMvZ,IAAI,UAAY3N,CAGjC,EAMO8+F,EAAAA,UAAAA,cAAP,SAAqB9+F,GACnB,IAAMm/F,EAAahB,GAAc/+F,KAAKk4F,MAChC5pD,EAAQtuC,KAAK4/F,kBACnB,QAAItxD,KACOyxD,EAAWv5F,MAAK,SAACy/D,GACxB,IAAMjlD,EAAOilD,EAAUpvC,UACvB,OAAIj2B,EACKqlE,EAAU13D,IAAI,UAAY3N,GAAQs+F,GAAQl+E,EAAMstB,GAEhD4wD,GAAQl+E,EAAMstB,EAEzB,GAGJ,EAKOoxD,EAAAA,UAAAA,QAAP,WAEEp6F,EAAKtF,KAAKmuB,QAAQziB,SAAS,SAAC2iB,GAC1BA,EAAOoD,SACT,IACAzxB,KAAKk4F,KAAO,KACZl4F,KAAKonB,MAAQ,KACbpnB,KAAKmuB,QAAU,KACfnuB,KAAKqkD,SAAW,IAClB,EACF,EA5IA,G,MCDA,cAME,WAAY6zC,EAAYjhF,GACtBjX,KAAKk4F,KAAOA,EACZl4F,KAAKiX,IAAMA,CACb,CAyBF,OApBS+oF,EAAAA,UAAAA,KAAP,WACEhgG,KAAKkwC,YACP,EAKU8vD,EAAAA,UAAAA,WAAV,WAAwB,EAKdA,EAAAA,UAAAA,YAAV,WAAyB,EAKlBA,EAAAA,UAAAA,QAAP,WACEhgG,KAAKoxC,aACP,EACF,EAlCA,G,MCAM,SAAU6uD,GAAYC,EAAmBryF,EAA8BsyF,GAC3E,IAAM77F,EAAM47F,EAAUx2F,MAAM,KACtB0xF,EAAa92F,EAAI,GAEjB+pB,EAASxgB,EAAQuyF,UAAUhF,IAAeD,GAAaC,EAAYvtF,GACzE,IAAKwgB,EACH,MAAM,IAAIva,MAAM,mCAA4BsnF,IAE9C,IAAMiF,EAAa/7F,EAAI,GACvB,MAAO,CACL+pB,OAAM,EACNgyE,WAAU,EACVF,IAAG,EAEP,CAGA,SAASG,GAAcC,GACb,IAAAlyE,EAA4BkyE,EAAY,OAAhCF,EAAoBE,EAAY,WAApBJ,EAAQI,EAAY,IAChD,IAAIlyE,EAAOgyE,GAGT,MAAM,IAAIvsF,MAAM,iBAAUua,EAAOztB,KAAI,0CAAkCy/F,IAFvEhyE,EAAOgyE,GAAYF,EAIvB,CAEA,IAAMK,GAAa,CACjBC,MAAO,QACPC,YAAa,aACbC,IAAK,MACLC,SAAU,WACVC,WAAY,cA6Hd,eAcE,WAAY3I,EAAYzwC,GAAxB,MACEvwC,EAAAA,KAAAA,KAAMghF,EAAMzwC,IAAM,K,OALZ1wC,EAAAA,eAA8B,CAAC,EAE/BA,EAAAA,WAA0B,CAAC,EAIjCA,EAAK0wC,MAAQA,E,CACf,CA2OF,OA5PgDrwC,EAAAA,EAAAA,IAAAA,EAAAA,GAsBvC0pF,EAAAA,UAAAA,KAAP,WACE9gG,KAAK+gG,cACL7pF,EAAAA,UAAM7O,KAAI,UACZ,EAKOy4F,EAAAA,UAAAA,QAAP,WACE5pF,EAAAA,UAAMua,QAAO,WACbzxB,KAAKynD,MAAQ,KACTznD,KAAK6N,UACP7N,KAAK6N,QAAQ4jB,UACbzxB,KAAK6N,QAAU,MAGjB7N,KAAKghG,eAAiB,KACtBhhG,KAAKk4F,KAAO,IACd,EAKU4I,EAAAA,UAAAA,WAAV,sBACEx7F,EAAKtF,KAAKynD,OAAO,SAACw5C,EAASC,GACzB57F,EAAK27F,GAAS,SAACv5C,GACb,IAAMlxC,EAAWO,EAAKoqF,kBAAkBD,EAAUx5C,GAC9ClxC,GAEFO,EAAKqqF,UAAU15C,EAAK25C,QAAS7qF,EAEjC,GACF,GACF,EAKUsqF,EAAAA,UAAAA,YAAV,sBACEx7F,EAAKtF,KAAKynD,OAAO,SAACw5C,EAASC,GACzB57F,EAAK27F,GAAS,SAACv5C,GACb,IAAMlxC,EAAWO,EAAKoqF,kBAAkBD,EAAUx5C,GAC9ClxC,GACFO,EAAKuqF,SAAS55C,EAAK25C,QAAS7qF,EAEhC,GACF,GACF,EAGQsqF,EAAAA,UAAAA,YAAR,WACE,IAAM5I,EAAOl4F,KAAKk4F,KACZrqF,EAAU,IAAI0zF,GAAmBrJ,GACvCl4F,KAAK6N,QAAUA,EACf,IAAM45C,EAAQznD,KAAKynD,MAEnBniD,EAAKmiD,GAAO,SAAC+5C,GACXl8F,EAAKk8F,GAAU,SAAC95C,GACd,GAAIzhD,EAAWyhD,EAAKr5B,QAElBq5B,EAAK64C,aAAe,CAClBlyE,OAAQmtE,GAAqB9zC,EAAKr5B,OAAQxgB,GAC1CwyF,WAAY,gBAET,GAAIlxF,GAASu4C,EAAKr5B,QAEvBq5B,EAAK64C,aAAeN,GAAYv4C,EAAKr5B,OAAQxgB,EAAS65C,EAAKy4C,UACtD,GAAI96F,EAAQqiD,EAAKr5B,QAAS,CAE/B,IAAMozE,EAAY/5C,EAAKr5B,OACjBqzE,EAASr8F,EAAQqiD,EAAKy4C,KAAOz4C,EAAKy4C,IAAM,CAACz4C,EAAKy4C,KACpDz4C,EAAK64C,aAAe,GACpBj7F,EAAKm8F,GAAW,SAACvB,EAAW9vF,GACzBs3C,EAAK64C,aAAgC57F,KAAKs7F,GAAYC,EAAWryF,EAAS6zF,EAAOtxF,IACpF,G,CAGJ,GACF,GACF,EAGQ0wF,EAAAA,UAAAA,YAAR,SAAoBI,GAClB,IAAMS,EAAkB3hG,KAAK2hG,gBACvBl6C,EAAQznD,KAAKynD,MAEnB,GAAIk6C,IAAoBT,EACtB,OAAO,EAGT,GAAIA,IAAaV,GAAWE,YAE1B,OAAO,EAGT,GAAIQ,IAAaV,GAAWK,WAE1B,OAAOc,IAAoBnB,GAAWC,MAGxC,GAAIS,IAAaV,GAAWC,MAE1B,OAAOkB,IAAoBnB,GAAWK,WAGxC,GAAIK,IAAaV,GAAWG,IAC1B,OAAOgB,IAAoBnB,GAAWK,YAAcc,IAAoBnB,GAAWC,MAGrF,GAAIS,IAAaV,GAAWI,SAAU,CACpC,GAAIn5C,EAAM+4C,GAAWG,KAEnB,OAAOgB,IAAoBnB,GAAWG,IACjC,GAAIgB,IAAoBnB,GAAWC,MAExC,OAAO,C,CAGX,OAAO,CACT,EAGQK,EAAAA,UAAAA,eAAR,SAAuBI,EAAkBx5C,GACvC,GAAI1nD,KAAK4hG,YAAYV,GAAW,CAC9B,IAAMp+F,EAAM9C,KAAK6hG,OAAOX,EAAUx5C,GAElC,QAAIA,EAAKjxC,OAAQzW,KAAK8hG,WAAWh/F,OAI7B4kD,EAAKq6C,UACAr6C,EAAKq6C,SAAS/hG,KAAK6N,S,CAI9B,OAAO,CACT,EAEQizF,EAAAA,UAAAA,UAAR,SAAkBI,GAChBlhG,KAAK2hG,gBAAkBT,EACvBlhG,KAAK8hG,WAAa,CAAC,CACrB,EAGQhB,EAAAA,UAAAA,aAAR,SAAqBI,EAAkBx5C,GAEjCw5C,IAAaV,GAAWE,aAAe1gG,KAAK2hG,kBAAoBT,GAClElhG,KAAKgiG,UAAUd,GAEjB,IAAMp+F,EAAM9C,KAAK6hG,OAAOX,EAAUx5C,GAElC1nD,KAAK8hG,WAAWh/F,IAAO,CACzB,EAEQg+F,EAAAA,UAAAA,OAAR,SAAeI,EAAUx5C,GACvB,OAAOw5C,EAAWx5C,EAAK25C,QAAU35C,EAAKr5B,MACxC,EAGQyyE,EAAAA,UAAAA,kBAAR,SAA0BI,EAAkBx5C,GAA5C,WACQ75C,EAAU7N,KAAK6N,QACfmzF,EAAiBhhG,KAAKghG,eACtBT,EAAe74C,EAAK64C,aAC1B,GAAI74C,EAAKr5B,QAAUkyE,EAAc,CAC/B,IAAMz9F,EAAM9C,KAAK6hG,OAAOX,EAAUx5C,GAClC,IAAKs5C,EAAel+F,GAAM,CAExB,IAAMm/F,EAAiB,SAAC76E,GACtBvZ,EAAQuZ,MAAQA,EACZrQ,EAAKmrF,eAAehB,EAAUx5C,IAE5BriD,EAAQk7F,GACVj7F,EAAKi7F,GAAc,SAACv6F,GAClB6H,EAAQuZ,MAAQA,EAChBk5E,GAAct6F,EAChB,KAEA6H,EAAQuZ,MAAQA,EAChBk5E,GAAcC,IAEhBxpF,EAAKorF,aAAajB,EAAUx5C,GACxBA,EAAKlxC,WACP3I,EAAQuZ,MAAQA,EAChBsgC,EAAKlxC,SAAS3I,KAIhBA,EAAQuZ,MAAQ,IAEpB,EAEIsgC,EAAKj6C,SACPuzF,EAAel+F,GAAO2K,GAASw0F,EAAgBv6C,EAAKj6C,SAASC,KAAMg6C,EAAKj6C,SAASE,WACxE+5C,EAAK06C,SAEdpB,EAAel+F,GAAOs/F,GAASH,EAAgBv6C,EAAK06C,SAAS10F,KAAM,CACjE4C,QAASo3C,EAAK06C,SAAS9xF,QACvBK,SAAU+2C,EAAK06C,SAASzxF,WAI1BqwF,EAAel+F,GAAOm/F,C,CAG1B,OAAOjB,EAAel+F,E,CAExB,OAAO,IACT,EAEQg+F,EAAAA,UAAAA,UAAR,SAAkBnsE,EAAWne,GAC3B,IAAM6rF,EAAU1tE,EAAUjrB,MAAM,KACb,WAAf24F,EAAQ,GACVz1F,OAAOqhC,iBAAiBo0D,EAAQ,GAAI7rF,GACZ,aAAf6rF,EAAQ,GACjB5wF,SAASw8B,iBAAiBo0D,EAAQ,GAAI7rF,GAEtCxW,KAAKk4F,KAAK32F,GAAGozB,EAAWne,EAE5B,EAEQsqF,EAAAA,UAAAA,SAAR,SAAiBnsE,EAAWne,GAC1B,IAAM6rF,EAAU1tE,EAAUjrB,MAAM,KACb,WAAf24F,EAAQ,GACVz1F,OAAOyhC,oBAAoBg0D,EAAQ,GAAI7rF,GACf,aAAf6rF,EAAQ,GACjB5wF,SAAS48B,oBAAoBg0D,EAAQ,GAAI7rF,GAEzCxW,KAAKk4F,KAAK3gF,IAAIod,EAAWne,EAE7B,EACF,EA5PA,CAAgDwpF,I,MC9J1CsC,GAA4B,CAAC,EAO7B,SAAUC,GAAe3hG,GAC7B,OAAO0hG,GAAaj3F,GAAUzK,GAChC,CAOM,SAAU4hG,GAAoB5hG,EAAc6hG,GAChDH,GAAaj3F,GAAUzK,IAAS6hG,CAClC,CAQM,SAAUC,GAAkB9hG,EAAcs3F,EAAYjhF,GAC1D,IAAM0rF,EAAcJ,GAAe3hG,GACnC,IAAK+hG,EACH,OAAO,KAET,GAAIt8F,EAAcs8F,GAAc,CAE9B,IAAMl7C,EAAQ93C,GAAInC,GAAMm1F,GAAc1rF,GACtC,OAAO,IAAI6pF,GAAmB5I,EAAMzwC,E,CAEpC,IAAM8O,EAAMosC,EACZ,OAAO,IAAIpsC,EAAI2hC,EAAMjhF,EAEzB,CClCA,SAAS2rF,GAAiBC,GACxB,MAAO,CACLp6C,MAAO,CACL+iB,YAAY,EACZzmB,SAAU,SACVitB,QAAS6wB,EAAWC,iBACpB3tF,MAAO,CACL6kD,KAAM6oC,EAAWE,uBACjBnxF,SAAUixF,EAAWG,sBACrBzpD,WAAYspD,EAAWI,wBACvB/oD,aAAc,SACd7oC,WAAYwxF,EAAWxxF,YAEzB4gE,UAAW,CACTjY,KAAM6oC,EAAWK,+BAGrBj6B,MAAO,CACLuC,YAAY,EACZnB,cAAc,EACd0H,SAAU,CAAE/sE,KAAM,eAAgBiS,IAAK,CAAE4gE,OAAQ,IACjD5yB,OAAQ49C,EAAWM,gBACnBhuF,MAAO,CACL6kD,KAAM6oC,EAAWO,mBACjBxxF,SAAUixF,EAAWQ,kBACrB9pD,WAAYspD,EAAWS,oBACvBjyF,WAAYwxF,EAAWxxF,aAG3B0jC,KAAM,CACJ5/B,MAAO,CACLgrC,UAAW0iD,EAAWU,eACtBviD,OAAQ6hD,EAAWW,sBAGvBC,KAAM,CACJ1uD,KAAM,CACJ/vC,KAAM,OACNmQ,MAAO,CACL6rC,OAAQ6hD,EAAWa,oBACnBvjD,UAAW0iD,EAAWc,eACtBC,SAAUf,EAAWgB,mBAGzBhyB,WAAW,EACXxO,SAAS,GAEXiO,SAAU,CACRn8D,MAAO,CACLgrC,UAAW0iD,EAAWiB,mBACtB9iD,OAAQ6hD,EAAWkB,yBAErBlyB,WAAW,EACX3uE,OAAQ2/F,EAAWmB,oBAErBzyB,YAAa,KACblO,SAAS,EAEb,CAYA,SAAS4gC,GAAmBpB,GAC1B,MAAO,CACLp6C,MAAO,KACPs1B,OAAQ,CACNuB,OAAQ,SACRtN,QAAS6wB,EAAWqB,oBACpB/uF,MAAO,CACLxM,EAAGk6F,EAAWsB,uBACdnqC,KAAM6oC,EAAWuB,oBAGrBplB,SAAU,CACRhN,QAAS,EACT78D,MAAO,CACL6kD,KAAM6oC,EAAWwB,wBACjBhzF,WAAYwxF,EAAWxxF,WACvBO,SAAUixF,EAAWyB,uBACrB/qD,WAAYspD,EAAW0B,yBACvBjzF,WAAYuxF,EAAW2B,yBACvBrqD,UAAW,QACXD,aAAc,WAGlBilC,WAAY,CACVhN,OAAQ,CACNqN,UAAW,CACTjvD,QAAS,KAGbkvD,UAAW,CACTD,UAAW,CACTxlB,KAAM,WAER0lB,YAAa,CACX1lB,KAAM,UACNhZ,OAAQ,YAGZsxB,SAAU,CACRkN,UAAW,CACTxlB,KAAM,WAER0lB,YAAa,CACXnvD,QAAS,MAIfk0E,UAAU,EACVplB,cAAe,CACbtB,OAAQ,CACN5oE,MAAO,CACLnG,KAAM6zF,EAAW6B,8BACjB1mB,aAAc6kB,EAAW8B,2CACzB1mB,gBAAiB4kB,EAAW+B,6CAC5B5qC,KAAM6oC,EAAWgC,mCACjBt0E,QAASsyE,EAAWiC,uCAGxB3zF,KAAM,CACJgE,MAAO,CACL6kD,KAAM6oC,EAAWkC,iCACjBnzF,SAAUixF,EAAWmC,mCAI3B3hC,SAAS,EACTwb,aAAc,IACdF,YAAakkB,EAAWoC,kBACxBrmB,iBAAkBikB,EAAWqC,uBAC7BpkC,QAAS+hC,EAAWsC,cAExB,CAMM,SAAUC,GAAwBvC,G,MAChCwC,EAAc,CAClB/2D,MAAO,CACLiiB,QAAS,CACPyJ,KAAM6oC,EAAWyC,eACjB38F,EAAGk6F,EAAW0C,UACdvkD,OAAQ6hD,EAAW2C,iBACnBrlD,UAAW0iD,EAAW4C,YACtBC,YAAa7C,EAAW8C,kBAE1BxzB,OAAQ,CACNnxB,OAAQ6hD,EAAW+C,uBACnBzlD,UAAW0iD,EAAWgD,mBAExBC,SAAU,CACR9kD,OAAQ6hD,EAAWkD,yBACnB5lD,UAAW0iD,EAAWmD,qBAExB1zB,SAAU,CACRozB,YAAa7C,EAAWoD,yBACxBla,cAAe8W,EAAWqD,6BAG9BC,YAAa,CACX51C,QAAS,CACPyJ,KAAM6oC,EAAWuD,qBACjBjmD,UAAW0iD,EAAWwD,kBACtBrlD,OAAQ6hD,EAAWyD,uBACnBva,cAAe8W,EAAW0D,yBAC1B59F,EAAGk6F,EAAW2D,iBAEhBr0B,OAAQ,CACNnxB,OAAQ6hD,EAAW4D,6BACnB1a,cAAe8W,EAAW6D,gCAE5BZ,SAAU,CACR3lD,UAAW0iD,EAAW8D,0BACtB3lD,OAAQ6hD,EAAW+D,+BACnB7a,cAAe8W,EAAWgE,kCAE5Bv0B,SAAU,CACRyZ,cAAe8W,EAAWiE,mCAG9BC,KAAM,CACJx2C,QAAS,CACPyJ,KAAM6oC,EAAWmE,cACjBtB,YAAa7C,EAAWoE,gBACxBjmD,OAAQ,MAEVmxB,OAAQ,CACNuzB,YAAa7C,EAAWqE,uBAE1BpB,SAAU,CACRJ,YAAa7C,EAAWsE,yBAE1B70B,SAAU,CACRozB,YAAa7C,EAAWuE,0BAG5BC,WAAY,CACV92C,QAAS,CACPyJ,KAAM,KACNhZ,OAAQ6hD,EAAWyE,sBACnBnnD,UAAW0iD,EAAW0E,iBACtBxb,cAAe8W,EAAW2E,yBAE5Br1B,OAAQ,CACNnY,KAAM,KACN7Z,UAAW0iD,EAAW4E,wBAExB3B,SAAU,CACR9rC,KAAM,KACN7Z,UAAW0iD,EAAW6E,0BAExBp1B,SAAU,CACRyZ,cAAe8W,EAAW8E,kCAG9BtvE,SAAU,CACRk4B,QAAS,CACPyJ,KAAM6oC,EAAW+E,kBACjBlC,YAAa7C,EAAWgF,qBAE1B11B,OAAQ,CACNnxB,OAAQ6hD,EAAWiF,0BACnB3nD,UAAW0iD,EAAWkF,sBAExBjC,SAAU,CACR9kD,OAAQ6hD,EAAWmF,4BACnB7nD,UAAW0iD,EAAWoF,wBAExB31B,SAAU,CACRozB,YAAa7C,EAAWqF,4BACxBnc,cAAe8W,EAAWsF,gCAG9BC,eAAgB,CACd73C,QAAS,CACPyJ,KAAM6oC,EAAWwF,wBACjBrnD,OAAQ6hD,EAAWyF,0BACnBnoD,UAAW0iD,EAAW0F,qBACtBxc,cAAe8W,EAAW2F,6BAE5Br2B,OAAQ,CACNnxB,OAAQ6hD,EAAW4F,gCACnBtoD,UAAW0iD,EAAW6F,2BACtB3c,cAAe8W,EAAW8F,mCAE5B7C,SAAU,CACR9kD,OAAQ6hD,EAAW+F,kCACnBzoD,UAAW0iD,EAAWgG,6BACtB9c,cAAe8W,EAAWiG,qCAE5Bx2B,SAAU,CACRtxB,OAAQ6hD,EAAWkG,kCACnB5oD,UAAW0iD,EAAWmG,6BACtBjd,cAAe8W,EAAWoG,sCAG9Bl0D,KAAM,CACJwb,QAAS,CACPvP,OAAQ6hD,EAAWqG,gBACnB/oD,UAAW0iD,EAAWsG,WACtBpd,cAAe8W,EAAWuG,kBAC1BpvC,KAAM,KACNqvC,gBAAiB,GACjB/Y,QAAS,QACTgZ,SAAU,SAEZn3B,OAAQ,CACNhyB,UAAW0iD,EAAW0G,kBAExBzD,SAAU,CACR3lD,UAAW0iD,EAAW2G,oBAExBl3B,SAAU,CACRyZ,cAAe8W,EAAW4G,6BAI1BC,EAAa9G,GAAiBC,GAC9B8G,EAAe1F,GAAmBpB,GAExC,MAAO,CACLt4B,WAAYs4B,EAAWvnB,gBACvBsuB,aAAc/G,EAAWgH,WACzBC,SAAUjH,EAAWiH,SACrBC,YAAalH,EAAWmH,mBACxBC,cAAepH,EAAWqH,qBAC1BppC,QAAS,OACTzvD,WAAYwxF,EAAWxxF,WAGvByyC,iBAAkB,GAElBF,eAAgB,KAEhBC,eAAgB,KAEhBsmD,eAAgB,SAEhBC,sBAAuB,EAAI,IAC3BC,SAAUxH,EAAWyH,qBACrBC,SAAU1H,EAAW2H,qBACrBC,eAAgB5H,EAAW6H,gBAC3BC,OAAQ,CACNr8D,MAAO,CACL,gBACA,gBACA,gBACA,iBACA,iBACA,kBACA,uBACA,SACA,SACA,SACA,UACA,UACA,WACA,gBACA,QACA,OACA,OACA,SACA,QAEFyG,KAAM,CAAC,OAAQ,OAAQ,MAAO,UAC9BgyD,KAAM,CAAC,OAAQ,SAAU,OAAQ,eACjC1uE,SAAU,CAAC,OAAQ,cAAe,OAAQ,SAE5CuyE,MAAO,CAAC,EAAG,IACX3Q,WAAY,CACV5hE,SAAU,CACR6oB,KAAM,CACJqP,QAAS,CACPp7C,MAAOkwF,EAAYhtE,SAASk4B,SAE9B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYhtE,SAAS85C,QAE9BG,SAAU,CACRn9D,MAAOkwF,EAAYhtE,SAASi6C,UAE9BwzB,SAAU,CACR3wF,MAAO,SAAC+S,GACN,IAAMyrE,EAAazrE,EAAQ2iF,SAASlX,WACpC,GAAIA,EAAWoB,SAAWpB,EAAW91B,aAAc,CAC3C,MAA2BrmB,GAAStvB,EAAQw2E,WAAY/K,GAAtDz8C,EAAU,aAAEC,EAAQ,WACtB2zD,GAAe5zD,EAAaC,GAAY,EACxCxuC,EAAI,IACJiQ,EAAIjQ,EAAIxB,KAAKiS,IAAI0xF,GACjBjyF,EAAIlQ,EAAIxB,KAAKoS,IAAIuxF,GACvB,MAAO,CACL18E,OAAQY,GAAc,KAAM,CAAC,CAAC,IAAKpW,EAAGC,K,CAG1C,OAAOwsF,EAAYhtE,SAASytE,QAC9B,IAGJ,cAAe,CACbv1C,QAAS,CACPp7C,MAAOkwF,EAAY+C,eAAe73C,SAEpC4hB,OAAQ,CACNh9D,MAAOkwF,EAAY+C,eAAej2B,QAEpCG,SAAU,CACRn9D,MAAOkwF,EAAY+C,eAAe91B,UAEpCwzB,SAAU,CACR3wF,MAAOkwF,EAAY+C,eAAetC,WAGtC/wD,KAAM,CACJwb,QAAS,CACPp7C,MAAOkwF,EAAY+C,eAAe73C,SAEpC4hB,OAAQ,CACNh9D,MAAOkwF,EAAY+C,eAAej2B,QAEpCG,SAAU,CACRn9D,MAAOkwF,EAAY+C,eAAe91B,UAEpCwzB,SAAU,CACR3wF,MAAOkwF,EAAY+C,eAAetC,WAGtCh7C,KAAM,CACJyF,QAAS,CACPp7C,MAAOkwF,EAAY+C,eAAe73C,SAEpC4hB,OAAQ,CACNh9D,MAAOkwF,EAAY+C,eAAej2B,QAEpCG,SAAU,CACRn9D,MAAOkwF,EAAY+C,eAAe91B,UAEpCwzB,SAAU,CACR3wF,MAAOkwF,EAAY+C,eAAetC,WAGtCiF,OAAQ,CACNx6C,QAAS,CACPp7C,MAAOkwF,EAAYhtE,SAASk4B,SAE9B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYhtE,SAAS85C,QAE9BG,SAAU,CACRn9D,MAAOkwF,EAAYhtE,SAASi6C,UAE9BwzB,SAAU,CACR3wF,MAAOkwF,EAAYhtE,SAASytE,WAGhCkF,QAAS,CACPz6C,QAAS,CACPp7C,MAAOkwF,EAAYhtE,SAASk4B,SAE9B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYhtE,SAAS85C,QAE9BG,SAAU,CACRn9D,MAAOkwF,EAAYhtE,SAASi6C,UAE9BwzB,SAAU,CACR3wF,MAAOkwF,EAAYhtE,SAASytE,YAIlC/wD,KAAM,CACJA,KAAM,CACJwb,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5B54E,IAAK,CACHqjC,QAAS,CACPp7C,OAAO,oBACFkwF,EAAYtwD,KAAKwb,SAAO,CAC3B+/B,QAAS,KACTsT,SAAU,CAAC,EAAG,MAGlBzxB,OAAQ,CACNh9D,OAAO,oBACFkwF,EAAYtwD,KAAKo9B,QAAM,CAC1Bme,QAAS,KACTsT,SAAU,CAAC,EAAG,MAGlBtxB,SAAU,CACRn9D,OAAO,oBACFkwF,EAAYtwD,KAAKu9B,UAAQ,CAC5Bge,QAAS,KACTsT,SAAU,CAAC,EAAG,MAGlBkC,SAAU,CACR3wF,OAAO,oBACFkwF,EAAYtwD,KAAK+wD,UAAQ,CAC5BxV,QAAS,KACTsT,SAAU,CAAC,EAAG,OAIpBqH,KAAM,CACJ16C,QAAS,CACPp7C,OAAO,oBACFkwF,EAAYtwD,KAAKwb,SAAO,CAC3B+/B,QAAS,KACTsT,SAAU,CAAC,IAAK,MAGpBzxB,OAAQ,CACNh9D,OAAO,oBACFkwF,EAAYtwD,KAAKo9B,QAAM,CAC1Bme,QAAS,KACTsT,SAAU,CAAC,IAAK,MAGpBtxB,SAAU,CACRn9D,OAAO,oBACFkwF,EAAYtwD,KAAKu9B,UAAQ,CAC5Bge,QAAS,KACTsT,SAAU,CAAC,IAAK,MAGpBkC,SAAU,CACR3wF,OAAO,oBACFkwF,EAAYtwD,KAAK+wD,UAAQ,CAC5BxV,QAAS,KACTsT,SAAU,CAAC,IAAK,OAItBnpD,OAAQ,CACN8V,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BoF,GAAI,CACF36C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BqF,GAAI,CACF56C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BsF,IAAK,CACH76C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BuF,IAAK,CACH96C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,YAI9BzkD,QAAS,CACPA,QAAS,CACPkP,QAAS,CACPp7C,MAAOkwF,EAAYhtE,SAASk4B,SAE9B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYhtE,SAAS85C,QAE9BG,SAAU,CACRn9D,MAAOkwF,EAAYhtE,SAASi6C,UAE9BwzB,SAAU,CACR3wF,MAAOkwF,EAAYhtE,SAASytE,YAIlCx3D,MAAO,CACL6S,OAAQ,CACNoP,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7BwF,OAAQ,CACN/6C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7ByF,OAAQ,CACNh7C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7B0F,QAAS,CACPj7C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7B2F,QAAS,CACPl7C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7B4F,SAAU,CACRn7C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7B,gBAAiB,CACfv1C,QAAS,CACPp7C,MAAOkwF,EAAY/2D,MAAMiiB,SAE3B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY/2D,MAAM6jC,QAE3BG,SAAU,CACRn9D,MAAOkwF,EAAY/2D,MAAMgkC,UAE3BwzB,SAAU,CACR3wF,MAAOkwF,EAAY/2D,MAAMw3D,WAG7B,gBAAiB,CACfv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,gBAAiB,CACfv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,gBAAiB,CACfv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,iBAAkB,CAChBv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,iBAAkB,CAChBv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,kBAAmB,CACjBv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC,uBAAwB,CACtBv1C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnCzyD,MAAO,CACLkd,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnCh7C,KAAM,CACJyF,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC6F,KAAM,CACJp7C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC8F,OAAQ,CACNr7C,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,WAGnC/wD,KAAM,CACJwb,QAAS,CACPp7C,MAAOkwF,EAAYc,YAAY51C,SAEjC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYc,YAAYh0B,QAEjCG,SAAU,CACRn9D,MAAOkwF,EAAYc,YAAY7zB,UAEjCwzB,SAAU,CACR3wF,MAAOkwF,EAAYc,YAAYL,YAIrCiB,KAAM,CACJA,KAAM,CACJx2C,QAAS,CACPp7C,MAAOkwF,EAAY0B,KAAKx2C,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY0B,KAAK50B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAY0B,KAAKz0B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAY0B,KAAKjB,WAG5BrrD,OAAQ,CACN8V,QAAS,CACPp7C,MAAOkwF,EAAY0B,KAAKx2C,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAY0B,KAAK50B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAY0B,KAAKz0B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAY0B,KAAKjB,WAG5B/wD,KAAM,CACJwb,QAAS,CACPp7C,MAAOkwF,EAAYgC,WAAW92C,SAEhC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYgC,WAAWl1B,QAEhCG,SAAU,CACRn9D,MAAOkwF,EAAYgC,WAAW/0B,UAEhCwzB,SAAU,CACR3wF,MAAOkwF,EAAYgC,WAAWvB,WAGlC,cAAe,CACbv1C,QAAS,CACPp7C,MAAOkwF,EAAYgC,WAAW92C,SAEhC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYgC,WAAWl1B,QAEhCG,SAAU,CACRn9D,MAAOkwF,EAAYgC,WAAW/0B,UAEhCwzB,SAAU,CACR3wF,MAAOkwF,EAAYgC,WAAWvB,YAIpC+F,OAAQ,CACNC,OAAQ,CACNv7C,QAAS,CACPp7C,MAAOkwF,EAAY+C,eAAe73C,SAEpC4hB,OAAQ,CACNh9D,MAAOkwF,EAAY+C,eAAej2B,QAEpCG,SAAU,CACRn9D,MAAOkwF,EAAY+C,eAAe91B,UAEpCwzB,SAAU,CACR3wF,MAAOkwF,EAAY+C,eAAetC,WAGtC5kF,IAAK,CACHqvC,QAAS,CACPp7C,MAAOkwF,EAAY+C,eAAe73C,SAEpC4hB,OAAQ,CACNh9D,MAAOkwF,EAAY+C,eAAej2B,QAEpCG,SAAU,CACRn9D,MAAOkwF,EAAY+C,eAAe91B,UAEpCwzB,SAAU,CACR3wF,MAAOkwF,EAAY+C,eAAetC,YAIxCiG,KAAM,CACJh3D,KAAM,CACJwb,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BuF,IAAK,CACH96C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BrrD,OAAQ,CACN8V,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BkG,IAAK,CACHz7C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,YAI9BmG,OAAQ,CACNA,OAAQ,CACN17C,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BrrD,OAAQ,CACN8V,QAAS,CACPp7C,MAAOkwF,EAAYtwD,KAAKwb,SAE1B4hB,OAAQ,CACNh9D,MAAOkwF,EAAYtwD,KAAKo9B,QAE1BG,SAAU,CACRn9D,MAAOkwF,EAAYtwD,KAAKu9B,UAE1BwzB,SAAU,CACR3wF,MAAOkwF,EAAYtwD,KAAK+wD,WAG5BoG,OAAQ,CACN37C,QAAS,CACPp7C,MAAOkwF,EAAYgC,WAAW92C,SAEhC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYgC,WAAWl1B,QAEhCG,SAAU,CACRn9D,MAAOkwF,EAAYgC,WAAW/0B,UAEhCwzB,SAAU,CACR3wF,MAAOkwF,EAAYgC,WAAWvB,WAGlC,gBAAiB,CACfv1C,QAAS,CACPp7C,MAAOkwF,EAAYgC,WAAW92C,SAEhC4hB,OAAQ,CACNh9D,MAAOkwF,EAAYgC,WAAWl1B,QAEhCG,SAAU,CACRn9D,MAAOkwF,EAAYgC,WAAW/0B,UAEhCwzB,SAAU,CACR3wF,MAAOkwF,EAAYgC,WAAWvB,aAKtC/F,WAAY,CACVoM,KAAM,CACJC,OAAQ1C,EACRv4D,IAAK,CACH4T,SAAU,MACV0+C,KAAM,KACNh7C,MAAO,KACPgpB,oBAAqB,IAEvB1Q,OAAQ,CACNhc,SAAU,SACV0+C,KAAM,KACNh7C,MAAO,KACPgpB,oBAAqB,IAEvBjtD,KAAM,CACJugC,SAAU,OACV0D,MAAO,KACP1T,KAAM,KACNu8B,SAAU,KACVG,oBAAqB,EAAI,GAE3BhtD,MAAO,CACLsgC,SAAU,QACV0D,MAAO,KACP1T,KAAM,KACNu8B,SAAU,KACVG,oBAAqB,EAAI,GAE3BtwB,OAAQ,CACNsH,MAAO,KACPg7C,KAAM30F,GAAQ,CAAC,EAAG46F,EAAWjG,KAAM,CAAE1uD,KAAM,CAAE/vC,KAAM,WAErDw5D,OAAQ,CACN/V,MAAO,KACPg7C,KAAM30F,GAAQ,CAAC,EAAG46F,EAAWjG,KAAM,CAAE1uD,KAAM,CAAE/vC,KAAM,cAGvDqnG,OAAQ,CACND,OAAQzC,EACRllF,MAAO,CACL+4D,OAAQ,WACR1c,QAAS+hC,EAAWyJ,uBAEtB9nF,KAAM,CACJg5D,OAAQ,WACR1c,QAAS+hC,EAAWyJ,uBAEtBn7D,IAAK,CACHqsC,OAAQ,aACR1c,QAAS+hC,EAAW0J,yBAEtBxrC,OAAQ,CACNyc,OAAQ,aACR1c,QAAS+hC,EAAW0J,yBAEtBC,WAAY,CACV/jD,MAAO,KACP8hB,WAAY,KACZmZ,MAAO,CAAC,EACRC,KAAM,CACJ3+E,KAAM,QACNgK,KAAM6zF,EAAW4J,iBACjB5oB,cAAegf,EAAW6J,gBAC1Bv3F,MAAO,CACL6kD,KAAM6oC,EAAW8J,oBACjB3rD,OAAQ6hD,EAAW+J,sBACnBzsD,UAAW0iD,EAAWgK,mBAG1B5jC,MAAO,CACLqK,MAAO,OACPtB,QAAS,EACT/mB,UAAW,KACX91C,MAAO,CACL6kD,KAAM6oC,EAAWiK,yBACjBl7F,SAAUixF,EAAWkK,wBACrBxzD,WAAYspD,EAAWmK,0BACvB9yD,aAAc,SACd7oC,WAAYwxF,EAAWxxF,aAG3BlE,QAAS,CACP6B,KAAM6zF,EAAWoK,mBACjB93F,MAAO,CACL6kD,KAAM6oC,EAAWqK,uBACjBlsD,OAAQ6hD,EAAWsK,2BAGvBvpB,UAAU,EACV9iB,QAAS6oC,EAAa7oC,UAG1BssC,QAAS,CACPC,aAAa,EACbC,QAAQ,EACRC,gBAAgB,EAChBC,aAAa,EACbC,QAAQ,EACRC,WAAW,EACX3oD,SAAU,OACVg5B,OAAQ,CACNuB,OAAQ,SACRt+B,OAAQ,OACRhP,WAAY,GACZC,cAAe,EACfC,cAAe,EACfH,YAAa,mBACboO,UAAW,EACXx3C,EAAG,GAELmhF,WAAY,CACV/0C,KAAM,CACJ5/B,MAAO,CACL6rC,OAAQ6hD,EAAW8K,6BACnBxtD,UAAW0iD,EAAW+K,0BAG1Bz8F,KAAM,KACNwpE,eAAgB,CACd7Z,QAAS,EACT3rD,MAAO,CACL6kD,KAAM,sBACN7Z,UAAW,EACXa,OAAQ,OAGZssD,QAAQ,GAGVj9B,WAAS,KACPlmD,EAAC,UAAG0jF,KAAsC,CACxC9oD,SAAU,WACVwjC,WAAY,SACZl4D,OAAQ,EACRm4D,WAAY,0FACZlN,gBAAiBunB,EAAWiL,0BAC5Bv9E,QAASsyE,EAAWkL,4BACpBtlB,UAAWoa,EAAWmL,uBACtBtlB,aAAc,UAAGma,EAAWoL,6BAA4B,MACxDvpE,MAAOm+D,EAAWqL,qBAClBt8F,SAAU,UAAGixF,EAAWsL,oBAAmB,MAC3C98F,WAAYwxF,EAAWxxF,WACvBkoC,WAAY,UAAGspD,EAAWuL,sBAAqB,MAC/CttC,QAAS,iBAEX32C,EAAC,UAAG0jF,KAAkC,CACpCllB,aAAc,OACd0lB,UAAW,QAEblkF,EAAC,UAAG0jF,KAAiC,CACnCxoD,OAAQ,EACRujC,cAAe,OACf9nB,QAAS,GAEX32C,EAAC,UAAG0jF,KAAsC,CACxCjlB,cAAe,OACf9nB,QAAS,EACT6nB,aAAc,OACd0lB,UAAW,OACXtlB,WAAY,EACZF,YAAa,GAEf1+D,EAAC,UAAG0jF,KAAmC,CACrC97F,MAAO,MACP2D,OAAQ,MACRgzE,aAAc,MACdhgC,QAAS,eACTmgC,YAAa,OAEf1+D,EAAC,UAAG0jF,KAAkC,CACpCnlD,QAAS,eACTogC,MAAO,QACPC,WAAY,QACb,IAGLulB,WAAY,CACVtC,IAAK,CACH72F,MAAO,CACL6rC,OAAQ6hD,EAAW0L,yBACnBpuD,UAAW0iD,EAAW2L,qBAExBnrC,SAAS,GAEXtuB,KAAM,CACJ5/B,MAAO,CACL6rC,OAAQ6hD,EAAW4L,0BACnB7K,SAAUf,EAAW6L,mBACrBvuD,UAAW0iD,EAAW8L,sBAExBx9F,KAAM,CACJ4zC,SAAU,QACVymB,YAAY,EACZr2D,MAAO,CACL6kD,KAAM6oC,EAAW+L,wBACjB5tD,OAAQ6hD,EAAWgM,0BACnB1uD,UAAW0iD,EAAWiM,qBACtBl9F,SAAUixF,EAAWkM,uBACrB50D,UAAW,QACX9oC,WAAYwxF,EAAWxxF,WACvB6oC,aAAc,WAGlBmpB,SAAS,GAEXlyD,KAAM,CACJgE,MAAO,CACL6kD,KAAM6oC,EAAW+L,wBACjB5tD,OAAQ6hD,EAAWgM,0BACnB1uD,UAAW0iD,EAAWiM,qBACtBl9F,SAAUixF,EAAWkM,uBACrB70D,aAAc,SACdC,UAAW,QACX9oC,WAAYwxF,EAAWxxF,YAEzBgyD,SAAS,GAEXjC,OAAQ,CACNjwB,KAAK,EACLh8B,MAAO,CACLgrC,UAAW0iD,EAAWmM,uBACtBhuD,OAAQ6hD,EAAWoM,4BACnBj1C,KAAM6oC,EAAWqM,0BACjBxJ,YAAa7C,EAAWsM,6BAE1B9rC,SAAS,GAEX+rC,MAAO,CACLj+D,KAAK,EACLkyB,SAAS,GAEXgsC,WAAY,CACVl+D,KAAK,EACL7C,MAAO,CACLn5B,MAAO,CACLxM,EAAG,EACHq4C,OAAQ6hD,EAAWgH,WACnB1pD,UAAW,IAGfpL,KAAM,CACJ5/B,MAAO,CACL6rC,OAAQ6hD,EAAW4L,0BACnBtuD,UAAW0iD,EAAW8L,sBAExBzrG,OAAQ2/F,EAAWyM,gCAErBn+F,KAAM,CACJgE,MAAO,CACLglC,UAAW,QACX6f,KAAM6oC,EAAW+L,wBACjB5tD,OAAQ6hD,EAAWgM,0BACnB1uD,UAAW0iD,EAAWiM,qBACtBl9F,SAAUixF,EAAWkM,uBACrB19F,WAAYwxF,EAAWxxF,aAG3Bid,UAAW,SACXw+C,YAAY,EACZzJ,SAAS,GAEXksC,WAAY,CACVp6F,MAAO,CACLisD,OAAQ,CACNpH,KAAM6oC,EAAWqM,0BACjBxJ,YAAa7C,EAAWsM,6BAE1Bh+F,KAAM,CACJgpC,UAAW,SACXD,aAAc,SACd8f,KAAM6oC,EAAW+L,wBACjB5tD,OAAQ6hD,EAAWgM,0BACnB1uD,UAAW0iD,EAAWiM,qBACtBl9F,SAAUixF,EAAWkM,uBACrB19F,WAAYwxF,EAAWxxF,aAG3BgyD,SAAS,IAGbmsC,OAAQ,CACNpD,OAAQ,CACNtrC,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB4J,gBAAiB,CACf1Q,KAAM6oC,EAAW4M,2BACjBl/E,QAASsyE,EAAW6M,8BAEtBphB,gBAAiB,CACft0B,KAAM6oC,EAAW8M,2BACjBp/E,QAASsyE,EAAW+M,8BAEtBrhB,aAAc,CACZx8E,MAAO8wF,EAAWgN,oBAClBn6F,OAAQmtF,EAAWiN,qBACnB91C,KAAM6oC,EAAWkN,wBACjBx/E,QAASsyE,EAAWmN,0BACpBhvD,OAAQ6hD,EAAWoN,0BACnB9vD,UAAW0iD,EAAWqN,qBACtB1xC,OAAQqkC,EAAWsN,2BAEnBtjB,cAAegW,EAAWuN,kCAE5BxiC,UAAW,CACT5T,KAAM6oC,EAAWwN,qBACjB9/E,QAASsyE,EAAWyN,uBACpB1+F,SAAUixF,EAAW0N,oBACrBh3D,WAAYspD,EAAW2N,sBACvBl/F,WAAYuxF,EAAW4N,sBACvBzvD,OAAQ6hD,EAAW6N,uBACnBvwD,UAAW0iD,EAAW8N,qBAI5BC,UAAW,CACTxE,OAAQ,CACNtrC,QAAS,CAAC,EAAG,EAAG,EAAG,IAErBvQ,QAAS,CACPp7C,MAAO,CACLi7E,WAAYyS,EAAWgO,wBACvBxgB,WAAYwS,EAAWiO,0BAG3BtgB,MAAO,CACLr7E,MAAO,CACLk7E,WAAYwS,EAAWkO,qCAK/BhoC,OAAQ,CACN9jB,OAAQ,GACR9vC,MAAO,CACL6kD,KAAM6oC,EAAWmO,eACjBp/F,SAAUixF,EAAWoO,cACrB5/F,WAAYwxF,EAAWxxF,WACvB2vC,OAAQ6hD,EAAWqO,iBACnB/wD,UAAW0iD,EAAWsO,aAExBC,cAAevO,EAAWwO,mBAC1BC,eAAgBzO,EAAW0O,oBAC3B/lC,YAAY,GAEdgmC,YAAa,CACXr8F,MAAO,CACL6kD,KAAM6oC,EAAW4O,oBACjB7/F,SAAUixF,EAAW6O,mBACrBrgG,WAAYwxF,EAAWxxF,WACvB2vC,OAAQ6hD,EAAW8O,sBACnBxxD,UAAW0iD,EAAW+O,kBAExBpmC,YAAY,GAEdqmC,eAAgB,CACd18F,MAAO,CACL6kD,KAAM6oC,EAAWiP,uBACjBlgG,SAAUixF,EAAWkP,sBACrB1gG,WAAYwxF,EAAWxxF,WACvB2vC,OAAQ6hD,EAAWmP,yBACnB7xD,UAAW0iD,EAAWoP,sBAG1BC,UAAW,CACTC,YAAa,GACbltD,OAAQ,GACRmtD,UAAW,CACTj9F,MAAO,CACLgrC,UAAW0iD,EAAWwP,kBAG1B7mC,YAAY,GAGlB,CCl7CA,IAAM8mC,GAAe,CACnB,IAAK,OACL,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,EAAG,WAGCC,GAAe,CACnB,IAAK,UACL,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,EAAG,WAGCC,GAAiB,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGIC,GAAiB,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIIC,GAAkB,CACtB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGWC,GAAwB,SAAC17F,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GAC5B,MAAiFA,EAAG,qBAApFqzF,OAAoB,IAAG,EAAAkI,GAAc,EAAEt/E,EAA0Cjc,EAAG,qBAA7CuzF,OAAoB,IAAG,EAAAiI,GAAc,EAC5E,EAAyCx7F,EAAG,WAA5C4yF,OAAU,IAAG,EAAAS,EAAqB,GAAE,EAEtCt+C,EAAQ,CAEZsvB,gBAAiB,cAEjBuuB,WAAU,EAEVC,SAAU,mBAEVQ,qBAAoB,EAEpBE,qBAAoB,EAEpBR,mBAAoB,UAEpBE,qBAAsB,UAEtB0I,sBAAuB,UAEvBlI,gBAAiBgI,GAEjBrhG,WAAY,+JAMZmyF,oBAAqB8O,GAAa,IAElC/O,eAAgB,EAEhBsP,aAAc,KAGd9P,uBAAwBuP,GAAa,IAErCtP,sBAAuB,GAEvBC,wBAAyB,GAEzB6P,wBAAyB,SAEzBhQ,iBAAkB,GAElBI,6BAA8BqP,GAAa,IAG3CxO,wBAAyBuO,GAAa,IAEtCtO,mBAAoB,EAEpBF,mBAAoB,EAGpBiP,2BAA4BT,GAAa,IAEzCU,sBAAuB,EAEvBC,sBAAuB,EAGvB7P,mBAAoBkP,GAAa,IAEjCjP,kBAAmB,GAEnBC,oBAAqB,GAErB4P,oBAAqB,SAErB/P,gBAAiB,EAGjBO,oBAAqB4O,GAAa,IAElC3O,eAAgB,EAEhBE,iBAAkB,KAIlBsP,yBAA0Bb,GAAa,IAEvCc,wBAAyB,GAEzBC,0BAA2B,GAE3BC,0BAA2B,SAG3BlP,kBAAmByF,EAEnB3F,oBAAqB,EAErBqP,iBAAkB,EAElBpP,uBAAwB,EAExBqP,uBAAwB,EAExBC,qBAAsB,EAGtBpP,wBAAyBiO,GAAa,IAEtChO,uBAAwB,GAExBC,yBAA0B,GAE1BC,yBAA0B,SAE1BS,kBAAmB,GAEnBC,uBAAwB,GAExBC,cAAe,CAAC,EAAG,EAAG,EAAG,GAEzBoH,wBAAyB,CAAC,EAAG,EAAG,EAAG,GAEnCD,sBAAuB,CAAC,EAAG,EAAG,EAAG,GAIjC5H,8BAA+B,GAE/BC,2CAA4C2N,GAAa,KAEzD1N,6CAA8C,IAE9CC,mCAAoCyN,GAAa,KAEjDxN,qCAAsC,EAEtCC,iCAAkCuN,GAAa,IAE/CtN,gCAAiC,GAGjC2H,oBAAqB2F,GAAa,IAElCzF,iBAAkB,EAElBD,sBAAuB,KAEvBF,gBAAiB,IAEjBD,iBAAkB,GAGlBK,yBAA0BwF,GAAa,IAEvCvF,wBAAyB,GAEzBC,0BAA2B,GAE3B0G,0BAA2B,SAG3BxG,uBAAwBoF,GAAa,GAErCrF,mBAAoB,GAEpB0G,oBAAqB,GAErBC,oBAAqB,EAErBzG,yBAA0BmF,GAAa,IAIvC/D,yBAA0B+D,GAAa,IAEvC9D,oBAAqB,EAGrBC,0BAA2B6D,GAAa,IAExC3D,qBAAsB,EAEtBD,mBAAoB,KAGpBE,wBAAyB0D,GAAa,IAEtCvD,uBAAwB,GAExB8E,yBAA0B,GAE1BC,yBAA0B,SAE1BjF,0BAA2B,KAE3BC,qBAAsB,EAGtBI,0BAA2BoD,GAAa,KAExCnD,4BAA6B,IAE7BH,uBAAwB,EAExBC,4BAA6B,KAG7BK,+BAAgC,GAIhC3B,6BAA8B2E,GAAa,IAE3C1E,wBAAyB,EAEzBmG,0BAA2B,KAG3BjG,0BAA2B,qBAC3BC,4BAA6B,IAE7BC,uBAAwB,uBAExBC,6BAA8B,EAG9BC,qBAAsBoE,GAAa,IAEnCnE,oBAAqB,GAErBC,sBAAuB,GAEvB4F,sBAAuB,OAIvBhD,eAAgBsB,GAAa,IAC7BjB,mBAAoB,UACpBE,oBAAqB,UAErBN,cAAe,GAEfgD,gBAAiB,GAEjBC,gBAAiB,SAEjBhD,iBAAkB,KAElBC,YAAa,EAGbM,oBAAqBc,GAAa,KAElCb,mBAAoB,GAEpByC,qBAAsB,GAEtBC,qBAAsB,SAEtBzC,sBAAuB,KAEvBC,iBAAkB,EAGlBE,uBAAwBQ,GAAa,IAErCP,sBAAuB,GAEvBsC,wBAAyB,GAEzBC,wBAAyB,SAEzBtC,yBAA0BO,GAAa,KAEvCN,oBAAqB,EAGrBI,gBAAiB,EAEjBkC,qBAAsBjC,GAAa,IAInCkC,kBAAmB,GAEnB/E,2BAA4B,UAE5BC,6BAA8B,IAE9BC,2BAA4B,UAE5BC,6BAA8B,IAG9BE,qBAAsB,GAEtBD,oBAAqB,GAErBE,wBAAyB,UAEzBC,0BAA2B,EAE3BI,iCAAkC,OAElCH,0BAA2B,UAE3BC,qBAAsB,EAEtBC,2BAA4B,EAG5BE,qBAAsB,OAEtBC,uBAAwB,IAExBC,oBAAqB,GAErBC,sBAAuB,GAEvBC,sBAAuB,SAEvBC,uBAAwB,KAExBC,kBAAmB,EAInBE,wBAAyB,gBAEzBC,wBAAyB,mBAEzBC,iCAAkC,kBAIlCzL,eAAgBuE,EAEhBlE,iBAAkB,IAElBJ,UAAW,EAEXE,YAAa,EAEbD,iBAAkB+M,GAAa,KAE/BkC,mBAAoB,EAGpB7O,uBAAwB0M,GAAa,KAGrCtM,oBAAqB,EAErBD,yBAA0BuM,GAAa,KAGvCrM,yBAA0B,GAE1BC,2BAA4B,GAG5BM,gBAAiB,EAEjBH,kBAAmB,EAEnBC,uBAAwBuD,EAExBtD,yBAA0B,IAC1BH,qBAAsBmM,GAAa,KAGnCmC,wBAAyB,EAEzBjO,6BAA8B6L,GAAa,KAE3C5L,+BAAgC,EAGhCC,0BAA2B,EAE3BC,+BAAgC0L,GAAa,KAE7CzL,iCAAkC,EAGlCC,iCAAkC,GAGlCqC,WAAY,EAEZD,gBAAiBW,EAEjBT,kBAAmB,EAGnBG,iBAAkB,EAGlBC,mBAAoB,EAGpBC,0BAA2B,GAG3BzC,cAAe6C,EAEf5C,gBAAiB,IAGjB0N,oBAAqB9K,EACrB3C,sBAAuB,GAGvB0N,sBAAuB/K,EACvB1C,wBAAyB,GAGzBC,wBAAyB,GAGzBE,sBAAuBuC,EAEvBtC,iBAAkB,EAElBC,wBAAyB,EAGzBC,uBAAwB,EACxBoN,4BAA6BvC,GAAa,KAG1C5K,yBAA0B,EAC1BoN,8BAA+BxC,GAAa,KAG5C3K,gCAAiC,GAGjCC,kBAAmBiC,EAEnBhC,oBAAqB,IAGrBE,qBAAsB,EAEtBD,0BAA2BwK,GAAa,KACxCyC,4BAA6B,EAG7B9M,uBAAwB,EAExBD,4BAA6BsK,GAAa,KAE1C0C,8BAA+B,EAG/B7M,8BAA+B,GAE/BD,4BAA6B,GAG7BK,qBAAsB,EAEtBD,0BAA2BuB,EAE3BrB,4BAA6B,EAC7BH,wBAAyBkK,GAAa,KAGtC7J,2BAA4B,EAE5BD,gCAAiC6J,GAAa,KAG9CzJ,6BAA8B,EAE9BD,kCAAmC0J,GAAa,KAEhDxJ,oCAAqC,EAGrCG,oCAAqC,IAGvC,OAAO,oBAAKj9C,GAAU/0C,EACxB,EAEyB07F,KCtiBnB,SAAUsC,GAAYC,GAClB,MAAmDA,EAAQ,WAA/CC,OAAa,IAAG,GAAC,EAAC,EAAKC,GAAW,QAAKF,EAArD,gBAGArS,EAAa8P,GAAsBwC,GAEzC,OAAOrmG,GAAQ,CAAC,EAAGs2F,GAAwBvC,GAAauS,EAC1D,CCXA,IAAMC,GAAeJ,GAAY,CAAC,GAG5BK,GAAsC,CAC1C/kD,QAAS8kD,IAOL,SAAUvb,GAASrnB,GACvB,OAAOlkE,GAAI+mG,GAAQjqG,GAAUonE,GAAQ6iC,GAAO/kD,QAC9C,CAOM,SAAUglD,GAAc9iC,EAAe3xE,GAC3Cw0G,GAAOjqG,GAAUonE,IAAUwiC,GAAYn0G,EACzC,CCNA,SAAS00G,GAAUjnF,EAASC,EAAS1B,GACnC,IAAM2oF,EAAS3oF,EAAMyI,UAAUhH,GACzBmnF,EAAS5oF,EAAMyI,UAAU/G,GAE/B,OAAO9jB,GAAc+qG,EAAQC,EAC/B,CAEA,SAASC,GAAiBrnE,EAAcu8D,GACtC,IAAMlX,EAAakX,EAASlX,WACtBiiB,EAAS/K,EAASgL,YAClBnxD,EAAQkxD,EAAOlxD,MACfmH,EAAWnH,EAAMA,EAAMxhD,OAAS,GAChC0oD,EAAWlH,EAAM,GAEjB2Z,EAAcs1B,EAAW5oE,OAAOujB,GAElCiY,EAAS8X,EAAYzlD,EAIzB,OAHI+6E,EAAWoB,SAAWxuC,GAAU,EAAIsF,GAAY,IAClDtF,EAASqF,GAEJgqD,EAAOrgF,UAAUqgF,EAAO7qF,OAAOw7B,GACxC,CAEA,SAASuvD,GAAajvG,EAAYynC,EAAcu8D,GAC9C,IAAMlX,EAAakX,EAASlX,WACtBoiB,EAASlL,EAASmL,YAClBt0D,EAASq0D,EAAOluD,MAChBwW,EAAcs1B,EAAW5oE,OAAOujB,GAChCuY,EAASkvD,EAAOhrF,OAAOszC,EAAYxlD,GAEnCnU,EAAS8B,EAAKK,GAAM,SAACb,GACzB,IAAMiwG,EAAajwG,EAAIuN,IACvB,OAAO0iG,EAAWv0D,GAAQ,IAAMmF,GAAUovD,EAAWv0D,GAAQ,IAAMmF,CACrE,IACA,OAAOniD,GAAUmC,EAAKA,EAAK3D,OAAS,EACtC,CAEA,IAAMgzG,GAAehlG,IAAQ,SAAC4b,GAC5B,GAAIA,EAAMm7B,WACR,OAAO,EAOT,IALA,IAAMkuD,EAAcrpF,EAAMjoB,OACpB3B,EAASizG,EAAYjzG,OACvBmE,EAAMylB,EAAMyI,UAAU4gF,EAAY,IAClC/uG,EAAMC,EAEDxE,EAAQ,EAAGA,EAAQK,EAAQL,IAAS,CAC3C,IAAM/B,EAAQq1G,EAAYtzG,GAEpBuzG,EAAetpF,EAAMyI,UAAUz0B,GACjCs1G,EAAe/uG,IACjBA,EAAM+uG,GAEJA,EAAehvG,IACjBA,EAAMgvG,E,CAGV,OAAQhvG,EAAMC,IAAQnE,EAAS,EACjC,IAQA,SAASmzG,GAAgBJ,EAAmBpL,EAAoBpiD,GAC9D,IAAM6tD,EAAezL,EAASptC,aAAa,YACrC2G,EAASkyC,EAAaC,YACtBhvD,EAASsjD,EAAStjD,OAElBivD,EAAavwG,EAAWwiD,KAAWA,EAAQ2b,EAAO,GAAK3b,EACvDguD,EAAalvD,EAAOivD,GAIpBE,EAAeD,EAAaA,EAAW1rD,QAAQkrD,EAAWO,IAAeP,EAAWO,IAAeA,EAEzG,OAAOvwG,EAAWwiD,GAASA,EAAMiuD,EAAcT,GAAcS,CAC/D,CAEA,SAASC,GAAuB9L,GAC9B,IAAM+L,EAAa/xG,GAAOgmG,EAAS+L,YACnC,OAAOpyG,EAAOoyG,GAAY,SAACC,GAAyB,SAASvjG,GAAaujG,EAAU7xG,KAAhC,GACtD,CAEA,SAAS8xG,GAAqBjM,G,QAExB/9E,EADE8pF,EAAaD,GAAuB9L,G,IAE1C,IAAwB,eAAA+L,GAAU,8BAAE,CAA/B,IAAMC,EAAS,QACZE,EAAWF,EAAUxgB,SAASwgB,EAAU7xG,MAC9C,GAAI+xG,GAAYA,EAAS5uD,SAAU,CACjC,IAAM6uD,EAAczoG,GAAIs8F,EAASoM,UAAWF,EAASlvD,OAC/CqvD,EAAmBnhB,GAAeghB,EAAUC,EAAaH,EAAU7xG,KAAM6lG,EAAS7lG,MACxF,GAAyB,QAArBkyG,EAA4B,CAE9BpqF,EAAQiqF,EACR,K,qGAKN,IAAMnB,EAAS/K,EAASgL,YAClBE,EAASlL,EAASmL,YAExB,OAAOlpF,GAASipF,GAAUH,CAC5B,CAEA,SAASuB,GAAgBlB,EAAmBmB,GAC1C,IAAMvvD,EAAQuvD,EAAWvvD,MACnB/mD,EAAQm1G,EAAWpuD,GAEzB,GAAIxiD,EAAQvE,GAAQ,CAClB,IAAMkoE,EAAQloE,EAAMwO,KAAI,SAAC+nG,GACvB,OAAOD,EAAWrsD,QAAQssD,EAC5B,IACA,OAAOruC,EAAMn3D,KAAK,I,CAEpB,OAAOulG,EAAWrsD,QAAQjqD,EAC5B,CAGA,SAASw2G,GAAerB,EAAmBpL,GACzC,IAAI0M,EACEC,EAAc3M,EAAS4M,iBAK7B,GAJID,EAAYt0G,SAEdq0G,EAAYC,EAAY,IAEtBD,EAAW,CACb,IAAM1vD,EAAQ0vD,EAAU1vD,MACxB,OAAO0vD,EAAUxsD,QAAQkrD,EAAWpuD,G,CAGtC,IAAMuvD,EAAaN,GAAqBjM,GACxC,OAAOlU,GAAQygB,EACjB,CAUM,SAAUM,GAAgBppE,EAAcznC,EAAsBgkG,GAClE,GAAoB,IAAhBhkG,EAAK3D,OACP,OAAO,KAGT,IAAMgzF,EAAe2U,EAAS7lG,KACxB4wG,EAAS/K,EAASgL,YAClBE,EAASlL,EAASmL,YAElBn0D,EAAS+zD,EAAO/tD,MAChBnG,EAASq0D,EAAOluD,MAElBriD,EAAM,KAGV,GAAqB,YAAjB0wF,GAA+C,UAAjBA,EAA0B,CAQ1D,IANA,IAAMvC,EAAakX,EAASlX,WACtBt1B,EAAcs1B,EAAW5oE,OAAOujB,GAChC11B,EAAIg9F,EAAO7qF,OAAOszC,EAAYzlD,GAC9BC,EAAIk9F,EAAOhrF,OAAOszC,EAAYxlD,GAEhCxR,EAAMkvB,IACD1zB,EAAQ,EAAGA,EAAQgE,EAAK3D,OAAQL,IAAS,CAChD,IAAMmD,EAAMa,EAAKhE,GACXozG,EAAajwG,EAAIuN,IACjBmxC,EAAQv9C,KAAAA,IAAC8uG,EAAWp0D,GAAUjpC,EAAM,GAAIzR,KAAAA,IAAC8uG,EAAWv0D,GAAU7oC,EAAM,GACtE6rC,EAAQr9C,IACVA,EAAMq9C,EACNl/C,EAAMQ,E,CAIV,OAAOR,C,CAIT,IAAMm2C,EAAQ90C,EAAK,GACfqB,EAAOrB,EAAKA,EAAK3D,OAAS,GACxBqjD,EAASovD,GAAiBrnE,EAAOu8D,GACjC8M,EAAch8D,EAAMpoC,IAAcsuC,GAClC+1D,EAAcj8D,EAAMpoC,IAAcmuC,GAClCm2D,EAAa3vG,EAAKqL,IAAcsuC,GAChCi2D,EAAW/B,EAAO5tD,UAAY9iD,EAAQuyG,GAG5C,GAAIvyG,EAAQsyG,GAAc,CACxB,IAAS90G,EAAQ,EAAGA,EAAQgE,EAAK3D,OAAQL,IAAS,CAChD,IAAM4/C,EAAS57C,EAAKhE,GACdozG,EAAaxzD,EAAOlvC,IAE1B,GAAIqiG,EAAOrgF,UAAU0gF,EAAWp0D,GAAQ,KAAO0E,GAAUqvD,EAAOrgF,UAAU0gF,EAAWp0D,GAAQ,KAAO0E,EAAQ,CAC1G,IAAIuxD,EAMG,CACLtyG,EAAMi9C,EACN,K,CANKp9C,EAAQG,KACXA,EAAM,IAERA,EAAIb,KAAK89C,E,EAOXp9C,EAAQG,KACVA,EAAMswG,GAAatwG,EAAK8oC,EAAOu8D,G,KAE5B,CACL,IAAI72D,OAAI,EACR,GAAK4hE,EAAOztD,UAA4B,YAAhBytD,EAAO5wG,KAwBxB,CAEL,IACGuhD,EAASqvD,EAAOrgF,UAAUsiF,IAAetxD,EAASqvD,EAAOrgF,UAAUoiF,MACnEpxD,EAASqvD,EAAOxuG,KAAOm/C,EAASqvD,EAAOvuG,KAGxC,OAAO,KAGT,IAAI0wG,EAAW,EACXC,EAAUnxG,EAAK3D,OAAS,EACxB+0G,OAAS,EACb,MAAOF,GAAYC,EAAS,CAC1BC,EAAY9wG,KAAKye,OAAOmyF,EAAWC,GAAW,GAC9C,IAAMp1G,EAAOiE,EAAKoxG,GAAW1kG,IAAcsuC,GAC3C,GAAI2zD,GAAU5yG,EAAM2jD,EAAQqvD,GAC1B,OAAO/uG,EAAKoxG,GAGVrC,EAAOrgF,UAAU3yB,IAASgzG,EAAOrgF,UAAUgxB,IAC7CwxD,EAAWE,EAAY,EACvB/vG,EAAOrB,EAAKoxG,GACZjkE,EAAOntC,EAAKoxG,EAAY,KAER,IAAZD,IACF9vG,EAAOrB,EAAK,IAEdmxG,EAAUC,EAAY,E,MApDuB,CAEjD,IAASp1G,EAAQ,EAAGA,EAAQgE,EAAK3D,OAAQL,IAAS,CAC1C4/C,EAAS57C,EAAKhE,GACdozG,EAAaxzD,EAAOlvC,IAC1B,GAAIiiG,GAAUS,EAAWp0D,GAAS0E,EAAQqvD,GAAS,CACjD,IAAIkC,EAKG,CACLtyG,EAAMi9C,EACN,K,CANKp9C,EAAQG,KACXA,EAAM,IAERA,EAAIb,KAAK89C,E,MAKFmzD,EAAOrgF,UAAU0gF,EAAWp0D,KAAY0E,IACjDr+C,EAAOu6C,EACPzO,EAAOntC,EAAKhE,EAAQ,G,CAIpBwC,EAAQG,KACVA,EAAMswG,GAAatwG,EAAK8oC,EAAOu8D,G,CAmC/B3iG,GAAQ8rC,GAGR7sC,KAAK0D,IAAI+qG,EAAOrgF,UAAUrtB,EAAKqL,IAAcsuC,IAAW0E,GACxDp/C,KAAK0D,IAAI+qG,EAAOrgF,UAAUye,EAAKzgC,IAAcsuC,IAAW0E,KAExDr+C,EAAO8rC,E,CAKb,IAAMjnB,EAAWmpF,GAAarL,EAASgL,aAKvC,OAJKrwG,GAAO2B,KAAK0D,IAAI+qG,EAAOrgF,UAAUrtB,EAAKqL,IAAcsuC,IAAW0E,IAAWx5B,EAAW,IACxFvnB,EAAM0C,GAGD1C,CACT,CAUM,SAAU0yG,GACdrxG,EACAgkG,EACApiD,EACA0vD,G,aADA,IAAA1vD,IAAAA,EAAAA,SACA,IAAA0vD,IAAAA,GAAAA,GAEA,IAKIv3G,EACAE,EANEm1G,EAAapvG,EAAK0M,IAClBmjG,EAAeL,GAAgBJ,EAAYpL,EAAUpiD,GACrD2vD,EAAgBvN,EAASuN,cACvBxO,EAAiBiB,EAASp4B,MAAK,aACjCI,EAAQ,GAId,SAASwlC,EAAQr5B,EAAUC,GACzB,GAAIk5B,IAAajzG,EAAM+5E,IAA4B,KAAdA,EAAmB,CAEtD,IAAMr8E,EAAO,CACX6lD,MAAOiuD,EACP7vG,KAAMovG,EACNqC,YAAazxG,EACbjG,KAAMo+E,EACNl+E,MAAOm+E,EACPv6C,MAAO79B,EAAK69B,OAASklE,EACrB7rB,QAAQ,GAGVlL,EAAMluE,KAAK/B,E,CAEf,CAEA,GAAI+C,EAASyyG,GAAgB,CACnB,IAAAh0C,EAAqBg0C,EAAa,OAA1B5hG,EAAa4hG,EAAa,SAC1C,GAAI5hG,EAAU,CAEZ,IAAM+hG,EAAiBn0C,EAAO90D,KAAI,SAACu4C,GACjC,OAAOhhD,EAAK0M,IAAcs0C,EAC5B,IACM5wC,EAAMT,EAAQ,kCAAI+hG,IAAc,IAChCC,GAAU,SACd3xG,KAAMA,EAAK0M,IACX+kG,YAAazxG,EACb4hD,MAAOiuD,EACPhyE,MAAO79B,EAAK69B,OAASklE,EACrB7rB,QAAQ,GACL9mE,GAGL47D,EAAMluE,KAAK6zG,E,KACN,CACL,IAAMjxD,EAASsjD,EAAStjD,O,IACxB,IAAoB,eAAA6c,GAAM,8BAAE,CAAvB,IAAMvc,EAAK,QACd,IAAK3iD,EAAM+wG,EAAWpuD,IAAS,CAE7B,IAAM/6B,EAAQy6B,EAAOM,GACrBjnD,EAAO+1F,GAAQ7pE,GACfhsB,EAAQgsB,EAAMi+B,QAAQkrD,EAAWpuD,IACjCwwD,EAAQz3G,EAAME,E,0GAIf,CACL,IAAMs2G,EAAaN,GAAqBjM,GAExC/pG,EAAQq2G,GAAgBlB,EAAYmB,GACpCx2G,EAAO02G,GAAerB,EAAYpL,GAClCwN,EAAQz3G,EAAME,E,CAEhB,OAAO+xE,CACT,CAEA,SAAS4lC,GAA0B5N,EAAoBv8D,EAAOma,EAAOiwD,G,QAC3DP,EAAYO,EAAU,QACxBh0G,EAAS,GACT69C,EAAYsoD,EAAStoD,UAC3B,IAAKxzC,GAAQwzC,GAAY,CACvBsoD,EAASv5E,KAAKixB,G,IACd,IAAmB,eAAAA,GAAS,8BAAE,CAAzB,IAAM17C,EAAI,QACP47C,EAASi1D,GAAgBppE,EAAOznC,EAAMgkG,GAC5C,GAAIpoD,EAAQ,CACV,IAAMskB,EAAY8jC,EAAS7lC,aAAaviB,GAClCv6B,EAAU2iF,EAAS8N,YAAY5xC,GACrC,GAAsB,YAAlB8jC,EAAS7lG,MAAsBkjB,EAAQ/Q,QAAS,CAGlD,IAAM07D,EAAQqlC,GAAgBz1D,EAAQooD,EAAUpiD,EAAO0vD,GACnDtlC,EAAM3vE,QACRwB,EAAOC,KAAKkuE,E,sGAOtB,OAAOnuE,CACT,CAEA,SAASk0G,GAA0B/N,EAAUv8D,EAAOma,EAAOiwD,GACjD,IAAAP,EAAYO,EAAU,QACxBh0G,EAAS,GACTkQ,EAAYi2F,EAASj2F,UACrBkT,EAAQlT,EAAUgjB,SAAS0W,EAAM11B,EAAG01B,EAAMz1B,GAChD,GAAIiP,GAASA,EAAMvZ,IAAI,YAAcuZ,EAAMvZ,IAAI,UAAW,CACxD,IAAM+pG,EAAcxwF,EAAMvZ,IAAI,UAAU+pG,YAClCzlC,EAAQqlC,GAAgBI,EAAazN,EAAUpiD,EAAO0vD,GACxDtlC,EAAM3vE,QACRwB,EAAOC,KAAKkuE,E,CAIhB,OAAOnuE,CACT,CAKM,SAAUm0G,GAAkB3gB,EAAY5pD,EAAcoqE,G,QACpDh0G,EAAS,GAETu1F,EAAa/B,EAAK+B,WAChBwT,EAA4BiL,EAAU,OAA9BjwD,EAAoBiwD,EAAU,MAAvBxgC,EAAawgC,EAAU,S,IAC9C,IAAuB,eAAAze,GAAU,8BAAE,CAA9B,IAAM4Q,EAAQ,QACjB,GAAIA,EAAS1zF,UAAsC,IAA3B0zF,EAASuN,cAAyB,CAExD,IAAMliB,EAAe2U,EAAS7lG,KAC1B8zG,OAAY,EAGdA,EAFE,CAAC,QAAS,OAAQ,WAAWxtE,SAAS4qD,GAEzB0iB,GAA0B/N,EAAUv8D,EAAOma,EAAOiwD,GACxD,CAAC,OAAQ,OAAQ,OAAQ,WAAWptE,SAAS4qD,KAIvC,IAAXuX,EAFWgL,GAA0B5N,EAAUv8D,EAAOma,EAAOiwD,GAKhDE,GAA0B/N,EAAUv8D,EAAOma,EAAOiwD,GAGjEI,EAAa51G,SACXg1E,GACF4gC,EAAal0F,UAGflgB,EAAOC,KAAKm0G,G,oGAKlB,OAAOp0G,CACT,CAEM,SAAUq0G,GAA4B7gB,EAAY5pD,EAAcoqE,G,QAChEh0G,EAASm0G,GAAkB3gB,EAAM5pD,EAAOoqE,G,IAG5C,IAAwB,eAAAxgB,EAAKgG,OAAK,8BAAE,CAA/B,IAAM8a,EAAS,QAClBt0G,EAASA,EAAOqC,OAAO8xG,GAAkBG,EAAW1qE,EAAOoqE,G,mGAG7D,OAAOh0G,CACT,CCzdM,SAAUu0G,GAAcn4C,GAC5B,OAAQx2D,GAASw2D,KAAaz7D,EAAQy7D,EACxC,CAQM,SAAUo4C,GAAap4C,QAAA,IAAAA,IAAAA,EAAAA,GAC3B,IAAIq4C,EAAe9zG,EAAQy7D,GAAWA,EAAU,CAACA,GAEjD,OAAQq4C,EAAaj2G,QACnB,KAAK,EACHi2G,EAAe,CAAC,EAAG,EAAG,EAAG,GACzB,MACF,KAAK,EACHA,EAAe,IAAI/zG,MAAM,GAAG40D,KAAKm/C,EAAa,IAC9C,MACF,KAAK,EACHA,GAAe,6BAAIA,IAAY,YAAKA,IAAY,GAChD,MACF,KAAK,EACHA,GAAe,6BAAIA,IAAY,IAAEA,EAAa,KAAE,GAChD,MACF,QAEEA,EAAeA,EAAaztG,MAAM,EAAG,GACrC,MAGJ,OAAOytG,CACT,CCvCA,IAAMC,GAA6D,CAAC,EAQ9D,SAAUC,GAA4Bz4G,EAAc04G,GACxDF,GAA2Bx4G,GAAQ04G,CACrC,CAeM,SAAUC,KACd,OAAOxzG,OAAOD,KAAKszG,GACrB,CAOM,SAAUI,GAAuB54G,GACrC,OAAOw4G,GAA2Bx4G,EACpC,CC7BA,kBAIE,WAAY64G,GAEVz5G,KAAKy5G,OAASz5G,KAAK05G,cAAcD,EACnC,CAgKF,OA1JSE,EAAAA,UAAAA,OAAP,SAAcF,GAEZ,OADAz5G,KAAKy5G,OAASz5G,KAAK05G,cAAcD,GAC1Bz5G,IACT,EAMO25G,EAAAA,UAAAA,UAAP,SAAiBve,GACP,IAAAjtE,EAAYnuB,KAAKy5G,OAAM,QAE/B,OAAOrwG,GAAK+kB,GAAS,SAACE,GAAW,OAAAA,EAAO,KAAO+sE,CAAd,GACnC,EAOOue,EAAAA,UAAAA,OAAP,SAAc5/F,EAAc2I,GACpB,MAAgB1iB,KAAKy5G,OAAnBz0G,EAAI,OAAEiS,EAAG,MACX2iG,EAAmB,UAAT50G,EAGV0qB,GAAQ,SACZ3V,MAAK,EACL2I,IAAG,GACAzL,GAIC4iG,EAAI75C,GAAc45C,EAAU,QAAU50G,GAkB5C,OAhBAhF,KAAK2zF,WAAa,IAAIkmB,EAAEnqF,GAGxB1vB,KAAK2zF,WAAW3uF,KAAOA,EAGnB40G,IAEG55G,KAAK85G,UAAU,cAClB95G,KAAK+5G,aAKT/5G,KAAKg6G,cAEEh6G,KAAK2zF,UACd,EAQOgmB,EAAAA,UAAAA,OAAP,SAAc5/F,EAAc2I,GAY1B,OAXA1iB,KAAK2zF,WAAWxnD,OAAO,CACrBpyB,MAAK,EACL2I,IAAG,IAML1iB,KAAK2zF,WAAWsmB,cAChBj6G,KAAKg6G,YAAY,CAAC,QAAS,SAAU,cAE9Bh6G,KAAK2zF,UACd,EAMOgmB,EAAAA,UAAAA,OAAP,SAAc9+F,GAEZ,OADA7a,KAAKy5G,OAAOtrF,QAAQxpB,KAAK,CAAC,SAAUkW,IAC7B7a,IACT,EAMO25G,EAAAA,UAAAA,QAAP,SAAe53D,GAEb,OADA/hD,KAAKy5G,OAAOtrF,QAAQxpB,KAAK,CAAC,UAAWo9C,IAC9B/hD,IACT,EAOO25G,EAAAA,UAAAA,MAAP,SAAaO,EAAYC,GAEvB,OADAn6G,KAAKy5G,OAAOtrF,QAAQxpB,KAAK,CAAC,QAASu1G,EAAIC,IAChCn6G,IACT,EAKO25G,EAAAA,UAAAA,UAAP,WAEE,OADA35G,KAAKy5G,OAAOtrF,QAAQxpB,KAAK,CAAC,cACnB3E,IACT,EAKO25G,EAAAA,UAAAA,UAAP,WACE,OAAO35G,KAAKy5G,MACd,EAKOE,EAAAA,UAAAA,cAAP,WACE,OAAO35G,KAAK2zF,UACd,EAMQgmB,EAAAA,UAAAA,cAAR,SAAsBF,GACpB,OAAO,SACLz0G,KAAM,OACNmpB,QAAS,GACTlX,IAAK,CAAC,GACHwiG,EAEP,EAMQE,EAAAA,UAAAA,YAAR,SAAoBS,GAApB,WACUjsF,EAAYnuB,KAAKy5G,OAAM,QAE/Bn0G,EAAK6oB,GAAS,SAACE,G,MACP,WAAwBA,GAAvB+sE,EAAU,KAAKttF,EAAI,WAEpBusG,IAAan1G,EAAMk1G,IAAyBA,EAAe9uE,SAAS8vD,GAEtEif,IACF,IAAK1mB,YAAWyH,GAAW,6BAAIttF,IAAI,GAEvC,GACF,EACF,EAvKA,G,MCDA,cAUE,WAAYoqF,EAAYmF,EAAgBx2F,GACtC7G,KAAKk4F,KAAOA,EACZl4F,KAAKq9F,OAASA,EACdr9F,KAAK6G,KAAOA,EACZ7G,KAAKgF,KAAOq4F,EAAOr4F,IACrB,CA8DF,OAtDgBs1G,EAAAA,SAAd,SAAuBpiB,EAAYlzF,EAAc6B,GAC/C,OAAO,IAAIyzG,EAAMpiB,EAAM,IAAIqiB,GAAOv1G,EAAM,CAAC,GAAI6B,EAC/C,EAKAd,OAAAA,eAAWu0G,EAAAA,UAAAA,SAAM,C,IAAjB,WAGE,OAAOt6G,KAAKq9F,OAAO/6F,MACrB,E,gCAGAyD,OAAAA,eAAWu0G,EAAAA,UAAAA,QAAK,C,IAAhB,WACE,OAAOt6G,KAAKq9F,OAAOh2E,aACrB,E,gCAGAthB,OAAAA,eAAWu0G,EAAAA,UAAAA,IAAC,C,IAAZ,WACE,OAAOt6G,KAAKq9F,OAAOzkF,CACrB,E,gCAGA7S,OAAAA,eAAWu0G,EAAAA,UAAAA,IAAC,C,IAAZ,WACE,OAAOt6G,KAAKq9F,OAAOxkF,CACrB,E,gCAGA9S,OAAAA,eAAWu0G,EAAAA,UAAAA,UAAO,C,IAAlB,WACE,OAAOt6G,KAAKq9F,OAAO9uD,OACrB,E,gCAGAxoC,OAAAA,eAAWu0G,EAAAA,UAAAA,UAAO,C,IAAlB,WACE,OAAOt6G,KAAKq9F,OAAO7uD,OACrB,E,gCAOO8rE,EAAAA,UAAAA,SAAP,WACE,MAAO,uBAAgBt6G,KAAKgF,KAAI,KAClC,EAMOs1G,EAAAA,UAAAA,MAAP,WACE,OAAO,IAAIA,EAAMt6G,KAAKk4F,KAAMl4F,KAAKq9F,OAAQr9F,KAAK6G,KAChD,EACF,EA7EA,G,MCWc,SAAU2zG,GAActiB,GACpC,IAAMiU,EAAOjU,EAAKuiB,cAAc,QAC1BpO,EAASnU,EAAKuiB,cAAc,UAC5BnM,EAAapW,EAAKuiB,cAAc,cAChCjL,EAAStX,EAAKuiB,cAAc,UAC5B7J,EAAY1Y,EAAKuiB,cAAc,aAGrC,CAACtO,EAAMqD,EAAQoB,EAAWvE,EAAQiC,GAAY7+F,SAAQ,SAACirG,GACjDA,GACFA,EAAWl9B,QAEf,GACF,CCfA,+BAEU,KAAAj2B,OAAS,IAAI7+C,IAEb,KAAAiyG,WAAa,IAAIjyG,GAoO3B,QA3NSkyG,EAAAA,UAAAA,YAAP,SAAmB/yD,EAAehhD,EAAYmvF,EAAuBlzF,GACnE,IAAI+3G,EAAgB7kB,EAEd8kB,EAAiB96G,KAAK+6G,aAAaj4G,GACzC,GAAoB,IAAhB+D,EAAK3D,QAAgB43G,EAAgB,CAEvC,IAAME,EAAaF,EAAehuF,MAC5BmuF,EAA6B,CACjCj2G,KAAMg2G,EAAWh2G,MAEfg2G,EAAW/yD,aAEbgzD,EAAcp2G,OAASm2G,EAAWn2G,QAEpCg2G,EAAgB/rG,GAAQmsG,EAAeH,EAAe9kB,SAAUA,E,CAGlE,IAAMlpE,EAAQqpE,GAAmBtuC,EAAOhhD,EAAMg0G,GAK9C,OAFA76G,KAAKg7G,WAAWluF,EAAOkpE,EAAUlzF,GAE1BgqB,CACT,EAKO8tF,EAAAA,UAAAA,KAAP,SAAYjnB,EAAwBlhB,GAApC,WAEEzyE,KAAK26G,WAAWlrG,SAAQ,SAACyrG,EAAqBC,GAE5C,IAAI9zG,EAAMmD,OAAO4wG,iBACbh0G,EAAMoD,OAAO6wG,iBACXx2G,EAAS,GAGfS,EAAK41G,GAAW,SAACp4G,GACf,IAAMgqB,EAAQ/V,EAAKs/E,SAASvzF,GAE5BsE,EAAMkD,GAASwiB,EAAM1lB,KAAOD,KAAKC,IAAIA,EAAK0lB,EAAM1lB,KAAOA,EACvDC,EAAMiD,GAASwiB,EAAMzlB,KAAOF,KAAKE,IAAIA,EAAKylB,EAAMzlB,KAAOA,EAGvD/B,EAAKwnB,EAAMjoB,QAAQ,SAAC2C,GACb3C,EAAOymC,SAAS9jC,IACnB3C,EAAOF,KAAK6C,EAEhB,GACF,IAGAlC,EAAK41G,GAAW,SAACp4G,GACf,IAAMgqB,EAAQ/V,EAAKs/E,SAASvzF,GAE5B,GAAIgqB,EAAMwuF,aACRxuF,EAAM4pE,OAAO,CACXrvF,IAAG,EACHD,IAAG,EACHvC,OAAM,SAEH,GAAIioB,EAAMm7B,WAAY,CAC3B,IAAIvD,EAAQ53B,EAAM43B,MACZo2D,EAAiB/jG,EAAKgkG,aAAaj4G,GAGrC+B,IAAW0J,GAAIusG,EAAgB,CAAC,WAAY,YAE9Cp2D,EAAQmyC,GACN/nF,GAAQ,CAAC,EAAGge,EAAO,CACjBjoB,OAAM,IAER8uF,EACAlhB,IAGJ3lD,EAAM4pE,OAAO,CACX7xF,OAAM,EACN6/C,MAAK,G,CAGX,GACF,GACF,EAQQk2D,EAAAA,UAAAA,WAAR,SAAmB9tF,EAAckpE,EAAuBlzF,GAGtD,IAAIq3D,EAAKn6D,KAAK+6G,aAAaj4G,GAEvBq3D,GAAMA,EAAGrtC,MAAM9nB,OAAS8nB,EAAM9nB,MAChCwxF,GAAUr8B,EAAGrtC,MAAOA,GACpBqtC,EAAG67B,SAAWA,IAGd77B,EAAK,CACHr3D,IAAG,EACHgqB,MAAK,EACLkpE,SAAQ,GAGVh2F,KAAKunD,OAAO1+C,IAAI/F,EAAKq3D,IAIvB,IAAMghD,EAAUn7G,KAAKu7G,WAAWphD,GAOhC,GANAA,EAAGghD,QAAUA,EAGbn7G,KAAKw7G,qBAAqB14G,GAGtBq4G,EAAS,CAEX,IAAID,EAAYl7G,KAAK26G,WAAWpsG,IAAI4sG,GAC/BD,IACHA,EAAY,GACZl7G,KAAK26G,WAAW9xG,IAAIsyG,EAASD,IAE/BA,EAAUv2G,KAAK7B,E,CAEnB,EAMO83G,EAAAA,UAAAA,SAAP,SAAgB93G,GACd,IAAI24G,EAAYz7G,KAAK+6G,aAAaj4G,GAClC,IAAK24G,EAAW,CACd,IAAM5zD,EAAQ3/C,GAAKpF,EAAI4G,MAAM,MACvBwxG,EAAYl7G,KAAK26G,WAAWpsG,IAAIs5C,GAClCqzD,GAAaA,EAAUh4G,SACzBu4G,EAAYz7G,KAAK+6G,aAAaG,EAAU,I,CAG5C,OAAOO,GAAaA,EAAU3uF,KAChC,EAMO8tF,EAAAA,UAAAA,YAAP,SAAmB93G,GACjB,IAAM24G,EAAYz7G,KAAK+6G,aAAaj4G,GACpC,GAAI24G,EAAW,CACL,IAAAN,EAAYM,EAAS,QAEvBP,EAAYl7G,KAAK26G,WAAWpsG,IAAI4sG,GAGtC,GAAID,GAAaA,EAAUh4G,OAAQ,CACjC,IAAMkN,EAAM8qG,EAAU32G,QAAQzB,IAEjB,IAATsN,GACF8qG,EAAUnzG,OAAOqI,EAAK,E,EAM5BpQ,KAAKunD,OAAOm0D,OAAO54G,EACrB,EAKO83G,EAAAA,UAAAA,MAAP,WACE56G,KAAKunD,OAAOxvB,QACZ/3B,KAAK26G,WAAW5iF,OAClB,EAMQ6iF,EAAAA,UAAAA,qBAAR,SAA6B93G,GAA7B,WACE9C,KAAK26G,WAAWlrG,SAAQ,SAACyrG,EAAqBC,GAC5C,IAAM/qG,EAAM8qG,EAAU32G,QAAQzB,GAE9B,IAAa,IAATsN,EAQF,OAPA8qG,EAAUnzG,OAAOqI,EAAK,GAGG,IAArB8qG,EAAUh4G,QACZ6T,EAAK4jG,WAAWe,OAAOP,IAGlB,CAEX,GACF,EAMQP,EAAAA,UAAAA,WAAR,SAAmBzgD,GACT,IAAArtC,EAAoBqtC,EAAE,MAAf67B,EAAa77B,EAAE,SACtBtS,EAAU/6B,EAAK,MACjB6uF,EAAOptG,GAAIynF,EAAU,CAAC,SAG5B,OAAgB,IAAT2lB,EAAgB9zD,GAAiB,IAAT8zD,OAAiBx2G,EAAYw2G,CAC9D,EAMQf,EAAAA,UAAAA,aAAR,SAAqB93G,GACnB,OAAO9C,KAAKunD,OAAOh5C,IAAIzL,EACzB,EACF,EAxOA,GCRA,cAwBE,WAAYquC,EAAiB1sB,EAAmBs8C,EAAoBv8C,QAAxD,IAAA2sB,IAAAA,EAAAA,QAAiB,IAAA1sB,IAAAA,EAAAA,QAAmB,IAAAs8C,IAAAA,EAAAA,QAAoB,IAAAv8C,IAAAA,EAAAA,GAClExkB,KAAKmxC,IAAMA,EACXnxC,KAAKykB,MAAQA,EACbzkB,KAAK+gE,OAASA,EACd/gE,KAAKwkB,KAAOA,CACd,CAoFF,OApGgBo3F,EAAAA,SAAd,SAAuBzqE,EAAiB1sB,EAAmBs8C,EAAoBv8C,GAC7E,YADqB,IAAA2sB,IAAAA,EAAAA,QAAiB,IAAA1sB,IAAAA,EAAAA,QAAmB,IAAAs8C,IAAAA,EAAAA,QAAoB,IAAAv8C,IAAAA,EAAAA,GACtE,IAAIo3F,EAAWzqE,EAAK1sB,EAAOs8C,EAAQv8C,EAC5C,EAoBOo3F,EAAAA,UAAAA,IAAP,SAAW96C,GACH,eAA6BA,EAAO,GAAnC3vB,EAAG,KAAE1sB,EAAK,KAAEs8C,EAAM,KAAEv8C,EAAI,KAO/B,OALAxkB,KAAKmxC,IAAMhqC,KAAKC,IAAIpH,KAAKmxC,IAAKA,GAC9BnxC,KAAKykB,MAAQtd,KAAKC,IAAIpH,KAAKykB,MAAOA,GAClCzkB,KAAK+gE,OAAS55D,KAAKC,IAAIpH,KAAK+gE,OAAQA,GACpC/gE,KAAKwkB,KAAOrd,KAAKC,IAAIpH,KAAKwkB,KAAMA,GAEzBxkB,IACT,EAMO47G,EAAAA,UAAAA,OAAP,SAAc96C,GACN,eAA6BA,EAAO,GAAnC3vB,EAAG,KAAE1sB,EAAK,KAAEs8C,EAAM,KAAEv8C,EAAI,KAO/B,OALAxkB,KAAKmxC,KAAOA,EACZnxC,KAAKykB,OAASA,EACdzkB,KAAK+gE,QAAUA,EACf/gE,KAAKwkB,MAAQA,EAENxkB,IACT,EAOO47G,EAAAA,UAAAA,IAAP,SAAW56F,EAAYsN,GACb,IAAAvc,EAAkBiP,EAAI,MAAftL,EAAWsL,EAAI,OAE9B,OAAQsN,GACN,KAAKtd,GAAAA,IACL,KAAKA,GAAAA,SACL,KAAKA,GAAAA,UACHhR,KAAKmxC,KAAOz7B,EACZ,MAEF,KAAK1E,GAAAA,MACL,KAAKA,GAAAA,UACL,KAAKA,GAAAA,aACHhR,KAAKykB,OAAS1S,EACd,MAEF,KAAKf,GAAAA,OACL,KAAKA,GAAAA,YACL,KAAKA,GAAAA,aACHhR,KAAK+gE,QAAUrrD,EACf,MAEF,KAAK1E,GAAAA,KACL,KAAKA,GAAAA,SACL,KAAKA,GAAAA,YACHhR,KAAKwkB,MAAQzS,EACb,MACF,QACE,MAGJ,OAAO/R,IACT,EAKO47G,EAAAA,UAAAA,WAAP,WACE,MAAO,CAAC57G,KAAKmxC,IAAKnxC,KAAKykB,MAAOzkB,KAAK+gE,OAAQ/gE,KAAKwkB,KAClD,EAKOo3F,EAAAA,UAAAA,MAAP,WACE,OAAO,IAAIA,EAAU,WAAVA,GAAU,0BAAI57G,KAAK67G,eAAY,IAC5C,EACF,EAjHA,GCIM,SAAUC,GAAiB5jB,GAC/B,IAAMp3B,EAAUo3B,EAAKp3B,QAGrB,IAAKm4C,GAAcn4C,GACjB,OAAO,IAAI86C,GAAAA,KAAAA,MAAAA,IAAU,0BAAI1C,GAAap4C,KAAQ,KAIxC,IAAAs4B,EAAalB,EAAI,SAEnB6jB,EAAa,IAAIH,GAEjBI,EAAiB,GACjBC,EAAoB,GACpBC,EAAkB,GA8CxB,OA5CA52G,EAAK4yF,EAAK6G,iBAAiB,SAACC,GAClB,IAAAh6F,EAASg6F,EAAE,KACfh6F,IAASiM,GAAekrG,KAC1BH,EAAer3G,KAAKq6F,GACX,CAAC/tF,GAAemrG,OAAQnrG,GAAeorG,OAAQprG,GAAeqrG,WAAWhxE,SAAStmC,GAC3Fi3G,EAAkBt3G,KAAKq6F,GACdh6F,IAASiM,GAAesrG,MAAQv3G,IAASiM,GAAeurG,SACjEN,EAAgBv3G,KAAKq6F,EAEzB,IAGA15F,EAAK02G,GAAgB,SAAChd,GACZ,IAAA/4B,EAAc+4B,EAAE,UAClByd,EAAax2C,EAAUwX,gBACvBi/B,EAAgB,IAAIjoB,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG4jG,EAAW1qG,MAAO0qG,EAAW/mG,QAElFinG,EAASD,EAAcC,OAAOvjB,GAGpC2iB,EAAW30G,IAAIu1G,EACjB,IAGAr3G,EAAK22G,GAAmB,SAACjd,GACf,IAAA/4B,EAAyB+4B,EAAE,UAAhB1wE,EAAc0wE,EAAE,UAC7Byd,EAAax2C,EAAUwX,gBACvBm/B,EAA4B32C,EAAU13D,IAAI,WAC1CmuG,EAAgB,IAAIjoB,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG4jG,EAAW1qG,MAAO0qG,EAAW/mG,QAAQmnG,OAC9FD,GAGFb,EAAWe,IAAIJ,EAAepuF,EAChC,IAGAhpB,EAAK42G,GAAiB,SAACld,GACb,IAAA/4B,EAAyB+4B,EAAE,UAAhB1wE,EAAc0wE,EAAE,UAC7Byd,EAAax2C,EAAUwX,gBACvBi/B,EAAgB,IAAIjoB,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG4jG,EAAW1qG,MAAO0qG,EAAW/mG,QAExFqmG,EAAWe,IAAIJ,EAAepuF,EAChC,IAEOytF,CACT,CClEM,SAAUgB,GAAuBC,EAAa9e,EAAe+e,GACjE,IAAMC,EAAcD,EAAGE,WAGvBjf,EAAMzuF,SAAQ,SAACjI,GACbA,EAAE41G,YAAcF,EAAY91G,IAAII,EAAE41G,YAAYvB,aAChD,GACF,C,gBCkEA,eAgFE,WAAYnsF,GAAZ,MACExY,EAAAA,KAAAA,KAAM,CAAEC,QAASuY,EAAMvY,WAAU,KA3E5BJ,EAAAA,MAAgB,GAEhBA,EAAAA,WAAyB,GAEzBA,EAAAA,YAA4B,GAE5BA,EAAAA,aAA4C,CAAC,EAsB7CA,EAAAA,aAAuB,EAUpBA,EAAAA,QAAmB,CAC3BlQ,KAAM,GACNw8D,SAAS,GAOHtsD,EAAAA,gBAA4BwiG,KAG5BxiG,EAAAA,UAAuB,IAAI6jG,GAGzB7jG,EAAAA,WAAqByjG,GASvBzjG,EAAAA,kBAA4B,EAE5BA,EAAAA,eAAyB,EAEzBA,EAAAA,qBAA+B,EAE/BA,EAAAA,iBAAmB,IAAIrO,IAm7CvBqO,EAAAA,cAAgB,SAACR,GACvB,IAAM3V,EAAO2V,EAAI3V,KACjB,IAAKA,EAAK0qC,SAAS,KAAM,CAEvB,IAAMjS,EAAItiB,EAAKsmG,gBAAgB9mG,GAE/BQ,EAAKumG,YAAYjkF,GACjBtiB,EAAKge,KAAKn0B,EAAMy4B,E,CAEpB,EA6BQtiB,EAAAA,iBAAmB,SAACR,GAGlB,IAAA3V,EAAS2V,EAAG,KACpB,GAAK3V,EAAK0qC,SAAS,KAAnB,CAIA,IAAMjS,EAAItiB,EAAKsmG,gBAAgB9mG,GAG/BQ,EAAKge,KAAKn0B,EAAMy4B,E,CAYlB,EAt+CI,MAaE3J,EAAK,GAbP4D,OAAE,IAAG,EAAAC,GAAS,QAAO,EACrBpd,EAYEuZ,EAAK,OAXPqC,EAWErC,EAAK,OAVP6tF,EAUE7tF,EAAK,gBATP8tF,EASE9tF,EAAK,YARPqpE,EAQErpE,EAAK,gBAPPwD,EAOExD,EAAK,OAPP0xC,OAAM,IAAG,GAAErnD,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAAK6J,IAAK,CAAE9J,EAAG,EAAGC,EAAG,IAAK,EACvDioD,EAMEpxC,EAAK,QALP+tF,EAKE/tF,EAAK,cAJP+iD,EAIE/iD,EAAK,MAHPrf,EAGEqf,EAAK,QAFPguF,EAEEhuF,EAAK,YADPiuF,EACEjuF,EAAK,gB,OAET3Y,EAAKZ,OAASA,EACdY,EAAKgb,OAASA,EACdhb,EAAKwmG,gBAAkBA,EACvBxmG,EAAKymG,YAAcA,EACnBzmG,EAAKgiF,gBAAkBA,EACvBhiF,EAAKqqD,OAASA,EACdrqD,EAAK+pD,QAAUA,EACf/pD,EAAK0mG,cAAgBA,EAErB1mG,EAAK1G,SAAU,oBAAK0G,EAAK1G,SAAYA,GACrC0G,EAAK2mG,YAAcA,EACnB3mG,EAAKuc,GAAKA,EACVvc,EAAK4mG,gBAAkBA,EAGvB5mG,EAAKq+F,YAAczvG,EAAS8sE,GAAS3jE,GAAQ,CAAC,EAAGgrF,GAAS,WAAYmb,GAAYxiC,IAAUqnB,GAASrnB,GACrG17D,EAAK1O,O,CACP,CAi2DF,OAr9D0B+O,EAAAA,EAAAA,IAAAA,EAAAA,GA2HjBwmG,EAAAA,UAAAA,UAAP,SAAiBpgC,GACfx9E,KAAK69G,WAAargC,CACpB,EAMOogC,EAAAA,UAAAA,KAAP,WAEE59G,KAAK89G,oBAGL99G,KAAKkwC,aAGLlwC,KAAK+9G,0BAEL/9G,KAAKg+G,aACP,EAQOJ,EAAAA,UAAAA,OAAP,SAAcK,EAA2BC,QAA3B,IAAAD,IAAAA,GAAAA,GACZj+G,KAAK+0B,KAAKriB,GAAiByrG,cAAe7D,GAAAA,SAAet6G,KAAM0S,GAAiByrG,cAAeD,IAE/Fl+G,KAAKo+G,MAAMH,GAEXj+G,KAAK+0B,KAAKriB,GAAiB2rG,aAAc/D,GAAAA,SAAet6G,KAAM0S,GAAiB2rG,aAAcH,KAExE,IAAjBl+G,KAAKmX,SAEPnX,KAAKsX,eAAc,EAEvB,EAMOsmG,EAAAA,UAAAA,MAAP,sBACE59G,KAAK+0B,KAAKriB,GAAiB4rG,cAE3Bt+G,KAAKu+G,aAAe,GACpBv+G,KAAKw+G,wBAAqBr5G,EAC1BnF,KAAKy+G,eAAgB,EACrBz+G,KAAK0+G,qBAAsB,EAI3B,IADA,IAAMzkB,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGA,EAAIw0F,EAAW/2F,OAAQuC,IACrCw0F,EAAWx0F,GAAGsyB,QAEdkiE,EAAWx0F,GAAGmP,UAAUtM,QAAO,GAC/B2xF,EAAWx0F,GAAGk5G,gBAAgBr2G,QAAO,GAEvCtI,KAAKi6F,WAAa,GAGlB,IAAM2kB,EAAc5+G,KAAK4+G,YACzB,IAASn5G,EAAI,EAAGA,EAAIm5G,EAAY17G,OAAQuC,IACV,eAAxBm5G,EAAYn5G,GAAG7E,KAEhBg+G,EAAYn5G,GAAkBsyB,OAAM,GAErC6mF,EAAYn5G,GAAGsyB,QAKnB/3B,KAAK6+G,iBAAiBpvG,SAAQ,SAACjI,EAAY5B,GACzCmR,EAAK+nG,cAAcC,UAAUC,YAAYp5G,EAC3C,IACA5F,KAAK6+G,iBAAiB9mF,QAGtB,IAAMmmE,EAAQl+F,KAAKk+F,MACnB,IAASz4F,EAAI,EAAGA,EAAIy4F,EAAMh7F,OAAQuC,IAChCy4F,EAAMz4F,GAAGsyB,QAGX/3B,KAAK+0B,KAAKriB,GAAiBusG,YAC7B,EAMOrB,EAAAA,UAAAA,QAAP,WAEE59G,KAAK+0B,KAAKriB,GAAiBwsG,gBAC3B,IAAMC,EAAen/G,KAAKm/G,aAE1B75G,EAAK65G,GAAc,SAAC1c,GACdA,GAEFA,EAAYhxE,SAEhB,IAEAzxB,KAAK+3B,QAIL,IADA,IAAM6mF,EAAc5+G,KAAK4+G,YAChBn5G,EAAI,EAAGC,EAAMk5G,EAAY17G,OAAQuC,EAAIC,EAAKD,IAAK,CACtD,IAAMi1G,EAAakE,EAAYn5G,GAC/Bi1G,EAAWjpF,S,CAGbzxB,KAAKu9G,gBAAgBj1G,QAAO,GAC5BtI,KAAKw9G,YAAYl1G,QAAO,GACxBtI,KAAK+4F,gBAAgBzwF,QAAO,GAE5B4O,EAAAA,UAAMua,QAAO,UACf,EAQOmsF,EAAAA,UAAAA,cAAP,SAAqBzmG,GACnBD,EAAAA,UAAMI,cAAa,UAACH,GAGpB,IADA,IAAM8iF,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGC,EAAMu0F,EAAW/2F,OAAQuC,EAAIC,EAAKD,IAAK,CACrD,IAAMolG,EAAW5Q,EAAWx0F,GAC5BolG,EAASvzF,cAAcH,E,CAGzB,IAAMynG,EAAc5+G,KAAK4+G,YACzB,IAASn5G,EAAI,EAAGC,EAAMk5G,EAAY17G,OAAQuC,EAAIC,EAAKD,IAAK,CACtD,IAAMi1G,EAAakE,EAAYn5G,GAC/Bi1G,EAAWpjG,cAAcH,E,CAU3B,OAPAnX,KAAK+4F,gBAAgBlwF,IAAI,UAAWsO,GACpCnX,KAAKw9G,YAAY30G,IAAI,UAAWsO,GAChCnX,KAAKu9G,gBAAgB10G,IAAI,UAAWsO,GAGpCnX,KAAKgyB,YAAY4a,OAEV5sC,IACT,EAYO49G,EAAAA,UAAAA,KAAP,SAAY/2G,GAGV,OAFAgC,GAAI7I,KAAKqQ,QAAS,OAAQxJ,GAC1B7G,KAAKy+G,eAAgB,EACdz+G,IACT,EAMO49G,EAAAA,UAAAA,OAAP,SAAc/2G,GAEZ,OADAq2D,GAAQC,KAAK,4EACNn9D,KAAK6G,KAAKA,EACnB,EAgBO+2G,EAAAA,UAAAA,OAAP,SAAc/1D,EAAev+C,GAC3B,OAAIrD,EAAWqD,IACbT,GAAI7I,KAAKqQ,QAAS,CAAC,UAAWw3C,GAAQv+C,GAC/BtJ,QAGJsJ,GAAaiF,GAAIvO,KAAKqQ,QAAS,CAAC,UAAWw3C,YACvC7nD,KAAKqQ,QAAQ+uG,QAAQv3D,GAGvB7nD,KACT,EA4BO49G,EAAAA,UAAAA,KAAP,SAAY/1D,EAAyBmwC,GAOnC,OANIjsF,GAAU87C,GACZh/C,GAAI7I,KAAKqQ,QAAS,CAAC,QAASw3C,GAE5Bh/C,GAAI7I,KAAKqQ,QAAS,CAAC,OAAQw3C,GAAQmwC,GAG9Bh4F,IACT,EAkCO49G,EAAAA,UAAAA,OAAP,SAAc/1D,EAA8Bw3D,GAe1C,OAdItzG,GAAU87C,GACZh/C,GAAI7I,KAAKqQ,QAAS,CAAC,WAAYw3C,GACtB14C,GAAS04C,IAClBh/C,GAAI7I,KAAKqQ,QAAS,CAAC,UAAWw3C,GAAQw3D,GAClCh5G,EAAcg5G,KAA6B,OAAZA,QAAY,IAAZA,OAAY,EAAZA,EAAcvZ,WAC/Cj9F,GAAI7I,KAAKqQ,QAAS,CAAC,UAAWw3C,IAAQ,SAACjnD,G,MACrC,OAAmC,QAA5B,EAAY,OAAZy+G,QAAY,IAAZA,OAAY,EAAZA,EAAcvZ,SAASllG,UAAK,QACrC,KAIFiI,GAAI7I,KAAKqQ,QAAS,CAAC,WAAYw3C,GAG1B7nD,IACT,EA8BO49G,EAAAA,UAAAA,MAAP,SAAa/1D,EAA6Cy3D,GAA1D,WASE,OARInwG,GAAS04C,GACXh/C,GAAI7I,KAAKqQ,QAAS,CAAC,SAAUw3C,GAAQy3D,GAC5B35G,EAASkiD,IAClBviD,EAAKuiD,GAAO,SAACrgD,EAAgB5B,GAC3BiD,GAAIkO,EAAK1G,QAAS,CAAC,SAAUzK,GAAI4B,EACnC,IAGKxH,IACT,EAgBO49G,EAAAA,UAAAA,QAAP,SAAe3mG,GAGb,OAFApO,GAAI7I,KAAKqQ,QAAS,UAAW4G,GAEtBjX,IACT,EAmBO49G,EAAAA,UAAAA,WAAP,WACE,OAAO59G,KAAKy6G,cAAc,aAC5B,EAMOmD,EAAAA,UAAAA,MAAP,WAEE,OADA1gD,GAAQC,KAAK,kFACNn9D,KAAKsuG,YACd,EAsCOsP,EAAAA,UAAAA,WAAP,SAAkB54G,EAAiCu6G,GAWjD,OATIpwG,GAASnK,GACX6D,GAAI7I,KAAKqQ,QAAS,aAAc,CAAErL,KAAI,EAAEiS,IAAKsoG,IAE7C12G,GAAI7I,KAAKqQ,QAAS,aAAcrL,GAIlChF,KAAKw/G,qBAAqBrzE,OAAOnsC,KAAKqQ,QAAQsjF,YAEvC3zF,KAAKw/G,oBACd,EAMO5B,EAAAA,UAAAA,MAAP,SAAa54G,EAAiCu6G,GAG5C,OAFAriD,GAAQC,KAAK,kFAENn9D,KAAK2zF,WAAW3uF,EAAMu6G,EAC/B,EAmBO3B,EAAAA,UAAAA,MAAP,SAA0C54G,EAASiS,GAE7CjX,KAAKy/G,eACPz/G,KAAKy/G,cAAchuF,UAIrB,IAAMrlB,EAAOuuF,GAAS31F,GAEtB,IAAKoH,EACH,MAAM,IAAI0H,MAAM,iBAAU9O,EAAI,oBAKhC,OAFAhF,KAAKy/G,cAAgB,IAAIrzG,EAAKpM,MAAM,oBAAKiX,GAAG,CAAEjS,KAAI,KAE3ChF,IACT,EAYO49G,EAAAA,UAAAA,QAAP,SAAe8B,GAEb,OADA72G,GAAI7I,KAAKqQ,QAAS,UAAWqvG,GACtB1/G,IACT,EAMO49G,EAAAA,UAAAA,cAAP,SAAqBvtG,GAYnB,OAXArQ,KAAK+3B,QACLpoB,GAAI3P,KAAKqQ,QAASA,GAIlBrQ,KAAKk+F,MAAMzuF,SAAQ,SAACyoF,GAAS,OAAAA,EAAKzmE,SAAL,IAC7BzxB,KAAKk+F,MAAQ,GAEbl+F,KAAKg+G,cAELh+G,KAAK+sE,eAAiB/sE,KAAKo5F,SACpBp5F,IACT,EAQO49G,EAAAA,UAAAA,OAAP,SAAch9G,EAAc++G,GAG1B,GAAI/B,EAAK91G,UAAUlH,GACjB,MAAM,IAAIkT,MAAM,6CAAqClT,EAAI,kCAK3D,OADAiI,GAAI7I,KAAKqQ,QAASzP,EAAM++G,GACjB3/G,IACT,EAcO49G,EAAAA,UAAAA,MAAP,SAAanrC,GAGX,OAFAzyE,KAAKo1G,YAAczvG,EAAS8sE,GAAS3jE,GAAQ,CAAC,EAAG9O,KAAKo1G,YAAaH,GAAYxiC,IAAUqnB,GAASrnB,GAE3FzyE,IACT,EAeO49G,EAAAA,UAAAA,YAAP,SAAmBh9G,EAAcqW,GAC/B,IAAM2oG,EAAmB5/G,KAAKm/G,aAAav+G,GAEvCg/G,GACFA,EAAiBnuF,UAInB,IAAMgxE,EAAcC,GAAkB9hG,EAAMZ,KAAMiX,GAKlD,OAJIwrF,IACFA,EAAYp6F,OACZrI,KAAKm/G,aAAav+G,GAAQ6hG,GAErBziG,IACT,EASO49G,EAAAA,UAAAA,kBAAP,SAAyBh9G,GACvB,IAAMg/G,EAAmB5/G,KAAKm/G,aAAav+G,GAEvCg/G,IACFA,EAAiBnuF,UACjBzxB,KAAKm/G,aAAav+G,QAAQuE,EAE9B,EAYOy4G,EAAAA,UAAAA,WAAP,SAAkB/2G,GAChB7G,KAAKy+G,eAAgB,EACrBz+G,KAAK+0B,KAAKriB,GAAiBmtG,mBAAoBvF,GAAAA,SAAet6G,KAAM0S,GAAiBmtG,mBAAoB,OAEzG7/G,KAAK6G,KAAKA,GAGV7G,KAAKo+G,OAAM,GAIX,IADA,IAAMlgB,EAAQl+F,KAAKk+F,MACVz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GAEnByyF,EAAK4nB,WAAWj5G,E,CAGlB7G,KAAK+0B,KAAKriB,GAAiBqtG,kBAAmBzF,GAAAA,SAAet6G,KAAM0S,GAAiBqtG,kBAAmB,MACzG,EAkBOnC,EAAAA,UAAAA,WAAP,SAAkB3mG,GAGZjX,KAAKmW,QAAUnW,KAAKmW,OAAOA,QAE7B+mD,GAAQC,KAAK,0FAIf,IAAM6iD,EAAgB,CACpBn5G,KAAM7G,KAAKqQ,QAAQxJ,KACnB0gD,OAAQ/5C,GAAMxN,KAAKqQ,QAAQk3C,QAC3BuwC,KAAMtqF,GAAMxN,KAAKqQ,QAAQynF,MACzBnE,WAAYnmF,GAAMxN,KAAKw/G,qBAAqBS,aAC5C7S,QAAS5/F,GAAMxN,KAAKqQ,QAAQ+8F,SAC5B8S,QAAS1yG,GAAMxN,KAAKqQ,QAAQ6vG,SAC5B78C,QAASrjE,KAAKqQ,QAAQgzD,QACtBlsD,QAASnX,KAAKmX,SAGV3P,EAAI,IAAIo2G,GAAK,kBACjBznG,OAAQnW,KACR+xB,OAAQ/xB,KAAK+xB,OAEbwrF,gBAAiBv9G,KAAKu9G,gBAAgBx3C,SAAS,CAAE11C,OAAQvd,GAAcG,KACvEuqG,YAAax9G,KAAKw9G,YAAYz3C,SAAS,CAAE11C,OAAQvd,GAAcE,MAC/D+lF,gBAAiB/4F,KAAK+4F,gBAAgBhzB,SAAS,CAAE11C,OAAQvd,GAAcC,OACvE0/D,MAAOzyE,KAAKo1G,YACZt0C,QAAS9gE,KAAK8gE,SACX7pD,GAAG,CACN5G,SAAS,oBACJ2vG,GACAzxG,GAAI0I,EAAK,UAAW,CAAC,OAM5B,OAFAjX,KAAKk+F,MAAMv5F,KAAK6C,GAETA,CACT,EAMOo2G,EAAAA,UAAAA,KAAP,SAAY3mG,GAEV,OADAimD,GAAQC,KAAK,kFACNn9D,KAAK24F,WAAW1hF,EACzB,EAOO2mG,EAAAA,UAAAA,WAAP,SAAkB1lB,GAChB,IAAMioB,EAAc73G,GAAOtI,KAAKk+F,OAAO,SAAC12F,GAAY,OAAAA,IAAM0wF,CAAN,IAAY,GAMhE,OAJIioB,GACFA,EAAY1uF,UAGP0uF,CACT,EASOvC,EAAAA,UAAAA,cAAP,WACE,OAAO59G,KAAKw+G,kBACd,EAMOZ,EAAAA,UAAAA,SAAP,WACE,OAAO59G,KAAKo1G,WACd,EAMOwI,EAAAA,UAAAA,UAAP,WAGE,IAAM14E,EAAIllC,KAAKi6F,WAAW,GAC1B,OAAO/0D,EAAIA,EAAE2wE,YAAc,IAC7B,EAMO+H,EAAAA,UAAAA,WAAP,WAEE,IAAM90G,EAAS,CAAC,EACVs3G,EAAU,GAShB,OARApgH,KAAKi6F,WAAWxqF,SAAQ,SAACy1B,GACvB,IAAM6wE,EAAS7wE,EAAE8wE,YACXnuD,EAAQkuD,EAAOluD,MAChB/+C,EAAO++C,KACV/+C,EAAO++C,IAAS,EAChBu4D,EAAQz7G,KAAKoxG,GAEjB,IACOqK,CACT,EAOOxC,EAAAA,UAAAA,eAAP,SAAsByC,GAIpB,IAHA,IAAMpmB,EAAaj6F,KAAKi6F,WAClB1yC,EAAS,CAAC,EAEP9hD,EAAI,EAAGC,EAAMu0F,EAAW/2F,OAAQuC,EAAIC,EAAKD,IAAK,CACrD,IAAMolG,EAAW5Q,EAAWx0F,GACtBqnB,EAAoB,MAAZuzF,EAAkBxV,EAASgL,YAAchL,EAASmL,YAC5DlpF,IAAUy6B,EAAOz6B,EAAM+6B,SACzBN,EAAOz6B,EAAM+6B,OAAS/6B,E,CAI1B,OAAOy6B,CACT,EAOOq2D,EAAAA,UAAAA,SAAP,SAAgB/1D,EAAe/kD,GAC7B,IAAMw9G,EAAax9G,GAAY9C,KAAKugH,YAAY14D,GAEhD,OAAO7nD,KAAK8+G,cAAcC,UAAU1oB,SAASiqB,EAC/C,EAMO1C,EAAAA,UAAAA,gBAAP,SAAuB/1D,EAAe/kD,GACpC,OAAO9C,KAAKq2F,SAASxuC,EAAO/kD,EAC9B,EAMO86G,EAAAA,UAAAA,WAAP,WACE,OAAO59G,KAAKqQ,OACd,EAMOutG,EAAAA,UAAAA,QAAP,WACE,OAAO59G,KAAKu+G,YACd,EAMOX,EAAAA,UAAAA,gBAAP,WACE,OAAO59G,KAAKqQ,QAAQxJ,IACtB,EAMO+2G,EAAAA,UAAAA,WAAP,WACE,OAAO59G,KAAKo9G,YAAYvB,YAC1B,EAMO+B,EAAAA,UAAAA,cAAP,WACE,OAAO59G,KAAKi6F,UACd,EAKO2jB,EAAAA,UAAAA,YAAP,WACE,OAAO52G,GACLhH,KAAKi6F,YACL,SAAC10F,EAAqBslG,GACpB,OAAOtlG,EAASwB,OAAO8jG,EAAS7M,cAClC,GACA,GAEJ,EAgBO4f,EAAAA,UAAAA,cAAP,SAAqBt0G,GACnB,OAAOtJ,KAAKg+F,cAAcx5F,QAAO,SAAC+oC,GAAO,OAAAjkC,EAAUikC,EAAV,GAC3C,EAOOqwE,EAAAA,UAAAA,SAAP,SAAgB3vC,GACd,OAAOA,IAAUl9D,GAAMkC,GACnBjT,KAAKu9G,gBACLtvC,IAAUl9D,GAAMiC,IAChBhT,KAAKw9G,aACKzsG,GAAMgC,KAChB/S,KAAK+4F,gBAEX,EAMO6kB,EAAAA,UAAAA,cAAP,SAAqBtvE,GACnB,OAAO8mD,GAAoBp1F,KAAKggE,gBAAiB1xB,EACnD,EAMOsvE,EAAAA,UAAAA,oBAAP,WACE,OAAO92G,EAAQ9G,KAAKi6F,WAAW3qF,KAAI,SAAC41B,GAAgB,OAAAA,EAAEs7E,oBAAF,IACtD,EAMO5C,EAAAA,UAAAA,eAAP,WAEE,IAAMr2D,EAASvnD,KAAKi6F,WAAW3qF,KAAI,SAAC41B,GAAgB,OAAAA,EAAEuyE,gBAAF,IACpD,OAAOjvG,GAAK1B,EAAQygD,GACtB,EAMOq2D,EAAAA,UAAAA,UAAP,WACE,OAAQ59G,KAAK8+G,cAAmC/sF,MAClD,EAKO6rF,EAAAA,UAAAA,YAAP,WACE,IAAIp2G,EAAIxH,KAER,MAAO,EAAM,CACX,IAAIwH,EAAE2O,OAIN,MAHE3O,EAAIA,EAAE2O,M,CAKV,OAAO3O,CACT,EAOOo2G,EAAAA,UAAAA,MAAP,SAAa/2G,GACX,IAGI+R,EACAC,EAJE86E,EAAa3zF,KAAKggE,gBAClBygD,EAAUzgH,KAAK0gH,eAAe,KAC9BN,EAAUpgH,KAAK0gH,eAAe,KAapC,GATAp7G,EAAKuB,GAAM,SAAC/F,EAAOgC,GACb29G,EAAQ39G,KACV8V,EAAI6nG,EAAQ39G,GAAKgqB,MAAMhsB,IAErBs/G,EAAQt9G,KACV+V,EAAIunG,EAAQt9G,GAAKgqB,MAAMhsB,GAE3B,KAEKoE,EAAM0T,KAAO1T,EAAM2T,GACtB,OAAO86E,EAAWsB,QAAQ,CAAEr8E,EAAC,EAAEC,EAAC,GAEpC,EAcO+kG,EAAAA,UAAAA,cAAP,SAAqBh9G,GACnB,OAAO4F,EAAKxG,KAAK4+G,aAAa,SAAC5mG,GAAkB,OAAAA,EAAEpX,OAASA,CAAX,GACnD,EAOOg9G,EAAAA,UAAAA,YAAP,SAAmBtvE,GACjB,IAAM8+D,EAAUptG,KAAKy6G,cAAc,WAInC,OAHIrN,GACFA,EAAQuT,YAAYryE,GAEftuC,IACT,EAMO49G,EAAAA,UAAAA,YAAP,WACE,IAAMxQ,EAAUptG,KAAKy6G,cAAc,WAInC,OAHIrN,GACFA,EAAQwT,cAEH5gH,IACT,EAMO49G,EAAAA,UAAAA,YAAP,WACE,IAAMxQ,EAAUptG,KAAKy6G,cAAc,WAInC,OAHIrN,GACFA,EAAQyT,cAEH7gH,IACT,EAMO49G,EAAAA,UAAAA,cAAP,WACE,IAAMxQ,EAAUptG,KAAKy6G,cAAc,WAInC,OAHIrN,GACFA,EAAQ0T,gBAEH9gH,IACT,EAMO49G,EAAAA,UAAAA,gBAAP,WACE,IAAMxQ,EAAUptG,KAAKy6G,cAAc,WACnC,OAAOrN,GAAWA,EAAQ2T,iBAC5B,EAOOnD,EAAAA,UAAAA,gBAAP,SAAuBtvE,GACrB,IAAM8+D,EAAUptG,KAAKy6G,cAAc,WAEnC,OAAOrN,EAAUA,EAAQ8K,gBAAgB5pE,GAAS,EACpD,EAOOsvE,EAAAA,UAAAA,eAAP,SAAsBtvE,GAGpB,IAFA,IAAM2rD,EAAaj6F,KAAKi6F,WACpBz0F,EAAM,GACDC,EAAI,EAAGC,EAAMu0F,EAAW/2F,OAAQuC,EAAIC,EAAKD,IAAK,CACrD,IAAMw4F,EAAOhE,EAAWx0F,GAClB88C,EAAY07C,EAAK17C,UACvB07C,EAAK3sE,KAAKixB,GAEV,IADA,IAAIE,OAAM,EACD15C,EAAI,EAAGi4G,EAAUz+D,EAAUr/C,OAAQ6F,EAAIi4G,EAASj4G,IAAK,CAC5D,IAAMlC,EAAO07C,EAAUx5C,GACvB05C,EAASi1D,GAAgBppE,EAAOznC,EAAMo3F,GAClCx7C,GACFj9C,EAAIb,KAAK89C,E,EAMf,IAAMy7C,EAAQl+F,KAAKk+F,MACnB,IAASz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GACbw7G,EAAc/oB,EAAKgpB,eAAe5yE,GACxC9oC,EAAMA,EAAIuB,OAAOk6G,E,CAGnB,OAAOz7G,CACT,EAKOo4G,EAAAA,UAAAA,cAAP,WAGE,IAFA,IAAI7d,EAAa,GACX6e,EAAc5+G,KAAK4+G,YAChBn5G,EAAI,EAAGC,EAAMk5G,EAAY17G,OAAQuC,EAAIC,EAAKD,IAAK,CACtD,IAAMi1G,EAAakE,EAAYn5G,GAC/Bs6F,EAAaA,EAAWh5F,OAAO2zG,EAAW3b,gB,CAG5C,OAAOgB,CACT,EAOO6d,EAAAA,UAAAA,WAAP,SAAkB/2G,GACR,IAAAu4G,EAAYp/G,KAAKqQ,QAAO,QAEhC,OAAsB,IAAlBrB,GAAKowG,GACAv4G,EAIFrC,EAAOqC,GAAM,SAAC4zF,EAAcrqF,GAEjC,IAAMg0D,EAASr+D,OAAOD,KAAKs5G,GAG3B,OAAOh7C,EAAOj7D,OAAM,SAAC0+C,GACnB,IAAMv+C,EAAY81G,EAAQv3D,GAG1B,OAAOv+C,EAAUmxF,EAAM5yC,GAAQ4yC,EAAOrqF,EACxC,GACF,GACF,EAOOwtG,EAAAA,UAAAA,gBAAP,SAAuB/1D,EAAehhD,GAC5B,IAAAu4G,EAAYp/G,KAAKqQ,QAAO,QAC1B/G,EAAYiF,GAAI6wG,EAASv3D,GAE/B,OAAIv7C,GAAYhD,GACPzC,EAEFA,EAAKrC,QAAO,SAACi2F,EAAcrqF,GAAgB,OAAA9G,EAAUmxF,EAAM5yC,GAAQ4yC,EAAOrqF,EAA/B,GACpD,EAKOwtG,EAAAA,UAAAA,iBAAP,WACQ,MAAmC59G,KAAKggE,gBAA/BmhD,EAAQ,QAAOC,EAAM,MAC9BrnG,EAAQ/Z,KAAK+sE,eAAes0C,GAC5B3+F,EAAM1iB,KAAK+sE,eAAe74D,GAG5BjF,GAAQkyG,EAAUpnG,IAAU9K,GAAQmyG,EAAQ1+F,GAC9C1iB,KAAK0+G,qBAAsB,GAI7B1+G,KAAK0+G,qBAAsB,EAC3B1+G,KAAKw+G,mBAAqBx+G,KAAKw/G,qBAAqB8B,OAAOvnG,EAAO2I,GACpE,EAEUk7F,EAAAA,UAAAA,MAAV,SAAgBK,GACdj+G,KAAKuhH,oBAAoBtD,GAGzBj+G,KAAKw2F,YAELx2F,KAAK+0B,KAAKriB,GAAiB8uG,cAG3BxhH,KAAKyhH,uBAAuBxD,GAE5Bj+G,KAAK0hH,sBAAsBzD,GAE3Bj+G,KAAK2hH,6BAEL3hH,KAAK4hH,qBAAqB3D,GAE1Bj+G,KAAK+0B,KAAKriB,GAAiBmvG,aAE3B7hH,KAAKy+G,eAAgB,CACvB,EAMQb,EAAAA,UAAAA,2BAAR,WAEE,IAAI59G,KAAKmW,OAAT,CAGA,IAAMo0D,EAAah8D,GAAIvO,KAAKo1G,YAAa,cAEzC,GAAI7qC,EAAY,CAETvqE,KAAK8hH,2BACR9hH,KAAK8hH,yBAA2B9hH,KAAKu9G,gBAAgBj3C,SAAS,OAAQ,CACpElmE,MAAO,CAAC,EACRiwB,QAAS,EAETlI,SAAS,IAEXnoB,KAAK8hH,yBAAyBl3C,UAI1B,MAA0B5qE,KAAKo5F,SAA7BxgF,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SAC3B1V,KAAK8hH,yBAAyBnyF,KAAK,CACjCqqC,KAAMuQ,EACN3xD,EAAC,EACDC,EAAC,EACD9G,MAAK,EACL2D,OAAM,G,MAIJ1V,KAAK8hH,2BACP9hH,KAAK8hH,yBAAyBx5G,QAAO,GACrCtI,KAAK8hH,8BAA2B38G,E,CAGtC,EAMUy4G,EAAAA,UAAAA,uBAAV,SAAiCK,GAE/Bj+G,KAAK89G,oBAEL99G,KAAK+hH,mBAEL/hH,KAAKgiH,eAAe/D,GAGpBj+G,KAAKo9G,YAActB,GAAiB97G,MAAMiiH,OAAO/I,GAAal5G,KAAKy9G,gBAGnEz9G,KAAK+sE,eAAiB/sE,KAAKo5F,SAAS6oB,OAAOjiH,KAAKo9G,YAAYvB,cAC5D77G,KAAK+hH,mBAGL,IAAMG,EAAoBliH,KAAK4+G,YAAYp4G,MAAK,SAACwR,GAAM,MAAW,YAAXA,EAAEpX,IAAF,IACvDshH,EAAkB/1E,SAIlB,IADA,IAAM+xD,EAAQl+F,KAAKk+F,MACVz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GACnByyF,EAAKupB,uBAAuBxD,E,CAEhC,EAMUL,EAAAA,UAAAA,sBAAV,SAAgCK,GAG9B,IAAMkE,GACqB,IAAzBniH,KAAK29G,gBACDZ,GACA92G,EAAWjG,KAAK29G,iBAChB39G,KAAK29G,qBACLx4G,EAEFg9G,IACFA,EAAkBniH,KAAMA,KAAKk+F,MAAO0d,IAEpC57G,KAAKk+F,MAAMzuF,SAAQ,SAACjI,GAClBA,EAAEulE,eAAiBvlE,EAAE4xF,SAAS6oB,OAAOz6G,EAAE41G,YAAYvB,cACnDr0G,EAAEu6G,kBACJ,KAIF/hH,KAAKoiH,WAIL,IADA,IAAMlkB,EAAQl+F,KAAKk+F,MACVz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GACnByyF,EAAKwpB,sBAAsBzD,E,CAE/B,EAMUL,EAAAA,UAAAA,qBAAV,SAA+BK,GAC7B,IAAMT,EAAcx9G,KAAKw9G,YACzB,GAAIx9G,KAAK09G,YAAa,CACd,MAAkBpoB,GAAqBt1F,KAAKw+G,oBAA1Cx5G,EAAI,OAAE5E,EAAK,QACnBo9G,EAAY56C,QAAQ,CAClB59D,KAAI,EACJ5E,MAAK,G,MAIPo9G,EAAY56C,aAAQz9D,GAItBnF,KAAKqiH,gBAAgBpE,GAErBj+G,KAAKsiH,iBAAiBrE,GAItB,IADA,IAAM/f,EAAQl+F,KAAKk+F,MACVz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GACnByyF,EAAK0pB,qBAAqB3D,E,CAE9B,EAWUL,EAAAA,UAAAA,YAAV,SAAsB/1D,EAAehhD,EAAYmvF,EAAuBlzF,GAEtE,IAAMy/G,EAAkBh0G,GAAIvO,KAAKqQ,QAAQk3C,OAAQ,CAACM,IAC5C26D,GAAiB,oBAAKD,GAAoBvsB,GAGhD,OAAIh2F,KAAKmW,OACAnW,KAAKmW,OAAOssG,YAAY56D,EAAOhhD,EAAM27G,EAAgB1/G,GAIvD9C,KAAK++G,UAAU0D,YAAY56D,EAAOhhD,EAAM27G,EAAgB1/G,EACjE,EAMQ86G,EAAAA,UAAAA,oBAAR,SAA4BK,GAE1Bj+G,KAAK0iH,eAEL1iH,KAAK2iH,mBAEL3iH,KAAK4iH,eAAe3E,GAEpBj+G,KAAK6iH,YAAY5E,GAIjB,IADA,IAAM/f,EAAQl+F,KAAKk+F,MACVz4F,EAAI,EAAGC,EAAMw4F,EAAMh7F,OAAQuC,EAAIC,EAAKD,IAAK,CAChD,IAAMyyF,EAAOgG,EAAMz4F,GACnByyF,EAAKqpB,oBAAoBtD,E,CAE7B,EAMQL,EAAAA,UAAAA,kBAAR,WACE,IAAIhlG,EACAC,EACA9G,EACA2D,EAEJ,GAAI1V,KAAKmW,OAAQ,CACf,IAAM6K,EAAOhhB,KAAKmW,OAAO42D,eAEzBn0D,EAAIoI,EAAKpI,EACTC,EAAImI,EAAKnI,EACT9G,EAAQiP,EAAKjP,MACb2D,EAASsL,EAAKtL,M,MAGdkD,EAAI,EACJC,EAAI,EACJ9G,EAAQ/R,KAAK+xB,OAAOxjB,IAAI,SACxBmH,EAAS1V,KAAK+xB,OAAOxjB,IAAI,UAGrB,MAAiBvO,KAAKohE,OAApBrnD,EAAK,QAAE2I,EAAG,MAGZ02E,EAAW,IAAI3E,GACnB77E,EAAI7G,EAAQgI,EAAMnB,EAClBC,EAAInD,EAASqE,EAAMlB,EACnB9G,GAAS2Q,EAAI9J,EAAImB,EAAMnB,GACvBlD,GAAUgN,EAAI7J,EAAIkB,EAAMlB,IAGrB7Y,KAAKo5F,UAAap5F,KAAKo5F,SAASnqF,QAAQmqF,KAE3Cp5F,KAAKo5F,SAAW,IAAI3E,GAClB77E,EAAI7G,EAAQgI,EAAMnB,EAClBC,EAAInD,EAASqE,EAAMlB,EACnB9G,GAAS2Q,EAAI9J,EAAImB,EAAMnB,GACvBlD,GAAUgN,EAAI7J,EAAIkB,EAAMlB,KAK5B7Y,KAAK+sE,eAAiB/sE,KAAKo5F,QAC7B,EASQwkB,EAAAA,UAAAA,WAAR,WAEE59G,KAAK+4F,gBAAgBx3F,GAAG,IAAKvB,KAAK8iH,kBAClC9iH,KAAKw9G,YAAYj8G,GAAG,IAAKvB,KAAK8iH,kBAC9B9iH,KAAKu9G,gBAAgBh8G,GAAG,IAAKvB,KAAK8iH,kBAElC9iH,KAAK+xB,OAAOxwB,GAAG,IAAKvB,KAAK+iH,cAC3B,EAgBQnF,EAAAA,UAAAA,wBAAR,WAEE,IADA,IAAMoF,EAAkBhjH,KAAKgjH,gBACpBv9G,EAAI,EAAGC,EAAMs9G,EAAgB9/G,OAAQuC,EAAIC,EAAKD,IAAK,CAC1D,IAAMw9G,EAAiBD,EAAgBv9G,GACjC2G,EAAOotG,GAAuByJ,GAChC72G,GACFpM,KAAK4+G,YAAYj6G,KAAK,IAAIyH,EAAKpM,M,CAGrC,EAEQ49G,EAAAA,UAAAA,gBAAR,SAAwBrnG,GACd,IAAAuR,EAAgBvR,EAAG,MAAZ3V,EAAS2V,EAAG,KAErB1P,EAAOihB,EAAQA,EAAMvZ,IAAI,UAAY,KAErC8qB,EAAI,IAAIihF,GAAMt6G,KAAMuW,EAAK1P,GAE/B,OADAwyB,EAAEr0B,KAAOpE,EACFy4B,CACT,EAoCQukF,EAAAA,UAAAA,YAAR,SAAoBvkF,GACV,IAAAr0B,EAAeq0B,EAAC,KAAVzgB,EAASygB,EAAC,EAAPxgB,EAAMwgB,EAAC,EAElBiV,EAAQ,CAAE11B,EAAC,EAAEC,EAAC,GAEdqqG,EAAa,CACjB,YACA,UACA,YACA,aACA,aACA,aACA,YACA,WACA,cACA,QACA,WACA,eAGF,GAAIA,EAAW53E,SAAStmC,GAAO,CAC7B,IAAMm+G,EAAgBnjH,KAAK6/F,cAAcvxD,GACnC80E,EAAW/pF,EAAE7rB,QAEnB,GAAI21G,EAAe,CACjB,IAAME,EAAO,eAAQr+G,GACrBo+G,EAASp+G,KAAOq+G,EAChBrjH,KAAK+0B,KAAKsuF,EAAMD,GACH,eAATp+G,GAAkC,aAATA,IAE3BhF,KAAKsjH,kBAAmB,E,CAKf,cAATt+G,GAAiC,cAATA,GACtBhF,KAAKsjH,mBAAqBH,GACf,cAATn+G,IACFo+G,EAASp+G,KAAO4N,GAAY2wG,YAC5BvjH,KAAK+0B,KAAKniB,GAAY2wG,YAAaH,IAErCA,EAASp+G,KAAO4N,GAAY4wG,MAC5BxjH,KAAK+0B,KAAKniB,GAAY4wG,MAAOJ,KACnBpjH,KAAKsjH,kBAAoBH,IACtB,cAATn+G,IACFo+G,EAASp+G,KAAO4N,GAAY6wG,YAC5BzjH,KAAK+0B,KAAKniB,GAAY6wG,YAAaL,IAErCA,EAASp+G,KAAO4N,GAAY8wG,MAC5B1jH,KAAK+0B,KAAKniB,GAAY8wG,MAAON,IAG/BpjH,KAAKsjH,iBAAmBH,GACN,eAATn+G,GAAkC,aAATA,GAE9BhF,KAAKsjH,mBACM,eAATt+G,IACFo+G,EAASp+G,KAAO4N,GAAY2wG,YAC5BvjH,KAAK+0B,KAAKniB,GAAY2wG,YAAaH,IAErCA,EAASp+G,KAAO4N,GAAY4wG,MAC5BxjH,KAAK+0B,KAAKniB,GAAY4wG,MAAOJ,GAE7BpjH,KAAKsjH,kBAAmB,E,CAIhC,EAQQ1F,EAAAA,UAAAA,aAAR,WACU,IAAA/2G,EAAS7G,KAAKqQ,QAAO,KAC7BrQ,KAAKu+G,aAAev+G,KAAK2jH,WAAW98G,EACtC,EAMQ+2G,EAAAA,UAAAA,eAAR,SAAuBK,GAErBj+G,KAAK4jH,uBAKL,IAHA,IAAMjwB,EAAa3zF,KAAKggE,gBAClBi3C,EAAY1oG,GAAIvO,KAAKqQ,QAAS,SAAU,CAAC,GACzC4pF,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGC,EAAMu0F,EAAW/2F,OAAQuC,EAAIC,EAAKD,IAAK,CACrD,IAAMolG,EAAW5Q,EAAWx0F,GAE5BolG,EAAStjD,OAASvnD,KAAK6jH,oBACvB,IAAM5sG,EAAM,CACV08E,WAAU,EACVsjB,UAAS,EACTpwG,KAAM7G,KAAKu+G,aACX9rC,MAAOzyE,KAAKo1G,YACZqJ,cAAez+G,KAAKy+G,cACpBC,oBAAqB1+G,KAAK0+G,qBAGxBT,EAEFpT,EAAS1+D,OAAOl1B,GAEhB4zF,EAASxiG,KAAK4O,E,CAKlBjX,KAAK8jH,cACP,EAMQlG,EAAAA,UAAAA,qBAAR,WAOE,IANA,IAAMx5C,EAASpkE,KAAK+jH,iBACdC,EAAgBhkH,KAAKikH,mBAErB,EAAwBjkH,KAAK+5F,aAA3BlzF,EAAI,OAAEqsB,EAAAA,EAAAA,OAAAq0B,OAAM,IAAG,GAAC,EAAC,EACnBg3D,EAAev+G,KAAKu+G,aAEjB94G,EAAI,EAAGC,EAAM0+D,EAAOlhE,OAAQuC,EAAIC,EAAKD,IAAK,CACjD,IAAMoiD,EAAQuc,EAAO3+D,GACfuwF,EAAWzuC,EAAOM,GAGlB/kD,EAAM9C,KAAKugH,YAAY14D,GAC7B7nD,KAAKyiH,YACH56D,EAEAm8D,EAAc14E,SAASuc,GAAShhD,EAAO03G,EACvCvoB,EACAlzF,GAIF9C,KAAK6+G,iBAAiBh2G,IAAI/F,GAAK,E,CAEnC,EAKQ86G,EAAAA,UAAAA,UAAR,WAEE59G,KAAK8+G,cAAcC,UAAUpD,KAAK37G,KAAKggE,gBAAiBhgE,KAAKyyE,MAC/D,EAKQmrC,EAAAA,UAAAA,kBAAR,WAIE,IAHA,IAAMx5C,EAASpkE,KAAK+jH,iBAEdx8D,EAAS,CAAC,EACP9hD,EAAI,EAAGA,EAAI2+D,EAAOlhE,OAAQuC,IAAK,CACtC,IAAMoiD,EAAQuc,EAAO3+D,GACrB8hD,EAAOM,GAAS7nD,KAAKy/F,gBAAgB53C,E,CAGvC,OAAON,CACT,EAEQq2D,EAAAA,UAAAA,eAAR,WAIE,IAHA,IAAMx5C,EAAS,GACTt7D,EAAS,IAAIJ,IACbuxF,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGA,EAAIw0F,EAAW/2F,OAAQuC,IAAK,CAC1C,IAAMolG,EAAW5Q,EAAWx0F,GACtBy+G,EAAiBrZ,EAASkZ,iBAChCv7G,GAAK07G,EAAgB9/C,EAAQt7D,E,CAE/B,OAAOs7D,CACT,EAEQw5C,EAAAA,UAAAA,iBAAR,WAIE,IAHA,IAAMx5C,EAAS,GACTt7D,EAAS,IAAIJ,IACbuxF,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGA,EAAIw0F,EAAW/2F,OAAQuC,IAAK,CAC1C,IAAMolG,EAAW5Q,EAAWx0F,GACtB0+G,EAActZ,EAASuZ,iBAC7B57G,GAAK27G,EAAa//C,EAAQt7D,E,CAE5B,OAAOs7D,CACT,EAMQw5C,EAAAA,UAAAA,aAAR,WAGE59G,KAAKqkH,0BACP,EAMQzG,EAAAA,UAAAA,yBAAR,sBACQ0G,GAAWh8F,EAAAA,EAAAA,IAAAA,CAACtoB,KAAK61G,cAAW,QAAK71G,KAAKukH,eAAY,GAAE//G,QAAO,SAAC60B,GAAM,QAAEA,CAAF,IAClEs6D,EAAa3zF,KAAKggE,gBAClBwkD,EAAexkH,KAAKqQ,QAAQk3C,OAElCjiD,EAAKg/G,GAAU,SAACx3F,GACN,IAAA+6B,EAA0C/6B,EAAK,MAAxCjoB,EAAmCioB,EAAK,OAAhCm7B,EAA2Bn7B,EAAK,WAApB23F,EAAe33F,EAAK,YAGnDm7B,GAAcw8D,IAEZ5/G,IAAW0J,GAAIi2G,EAAc,CAAC38D,EAAO,YAEvC/6B,EAAM43B,MAAQmyC,GAA6B/pE,EAAO6mE,EAAY58E,EAAK07D,OAGzE,GACF,EAOQmrC,EAAAA,UAAAA,eAAR,SAAuBK,GAGrB,IADA,IAAMW,EAAc5+G,KAAK4+G,YAChBn5G,EAAI,EAAGA,EAAIm5G,EAAY17G,OAAQuC,IAAK,CAC3C,IAAMi1G,EAAakE,EAAYn5G,GAE3Bw4G,EACFvD,EAAWvuE,UAEXuuE,EAAW3iF,QACX2iF,EAAW56G,S,CAGjB,EAEQ89G,EAAAA,UAAAA,SAAR,WACE59G,KAAK69G,WAAW79G,KAClB,EAMQ49G,EAAAA,UAAAA,iBAAR,WACE,IAAM7jG,EAAQ/Z,KAAK+sE,eAAes0C,GAC5B3+F,EAAM1iB,KAAK+sE,eAAe74D,GAChClU,KAAKw+G,mBAAqBx+G,KAAKw/G,qBAAqB7yF,OAAO5S,EAAO2I,EACpE,EAMQk7F,EAAAA,UAAAA,gBAAR,SAAwBK,GAetB,IAdA,IAAMyG,EAAc1kH,KAAKqQ,QAAQgzD,QAE3BswB,EAAa3zF,KAAKggE,gBAClB2kD,EAAe,CACnB/rG,EAAG5Y,KAAKo5F,SAASxgF,EACjBC,EAAG7Y,KAAKo5F,SAASvgF,EACjByd,KAAMt2B,KAAKo5F,SAAS9iE,KACpBG,KAAMz2B,KAAKo5F,SAAS3iE,KACpBD,KAAMx2B,KAAKo5F,SAAS5iE,KACpBE,KAAM12B,KAAKo5F,SAAS1iE,KACpB3kB,MAAO/R,KAAKo5F,SAASrnF,MACrB2D,OAAQ1V,KAAKo5F,SAAS1jF,QAElBukF,EAAaj6F,KAAKi6F,WACfx0F,EAAI,EAAGA,EAAIw0F,EAAW/2F,OAAQuC,IAAK,CAC1C,IAAMolG,EAAW5Q,EAAWx0F,GAC5BolG,EAASlX,WAAaA,EACtBkX,EAAS8Z,aAAeA,EACnBD,GAEH7Z,EAASxnC,SAAQ,GAEnBwnC,EAASuT,MAAMH,E,CAEnB,EAMQL,EAAAA,UAAAA,iBAAR,SAAyBK,GAGvB,IAFA,IAAMle,EAAa//F,KAAK++F,gBAEft5F,EAAI,EAAGA,EAAIs6F,EAAW78F,OAAQuC,IAAK,CAC1C,IAAMu5F,EAAKe,EAAWt6F,GACrBu5F,EAAG/4B,UAA6BnmE,Q,CAErC,EAMQ89G,EAAAA,UAAAA,YAAR,SAAoBK,GACdj+G,KAAKy/G,gBACHxB,EACFj+G,KAAKy/G,cAActzE,UAEnBnsC,KAAKy/G,cAAc1nF,QAEnB/3B,KAAKy/G,cAAcp3G,OAEnBrI,KAAKy/G,cAAc3/G,UAGzB,EAEQ89G,EAAAA,UAAAA,YAAR,sBACQ,EAQF59G,KAAKqQ,QAPP6iB,EAAAA,EAAAA,WAAA+mE,OAAU,IAAG,KAAE,EACfh6F,EAAAA,EAAAA,aAAAk/G,OAAY,IAAG,KAAE,EACjBrhE,EAAAA,EAAAA,MAAAogD,OAAK,IAAG,KAAE,EACVngD,EAAAA,EAAAA,YAAA6mE,OAAW,IAAG,KAAE,EAChBjxB,EAAU,aACVh9E,EAAM,SACNwhF,EAAM,SAIJn4F,KAAKw/G,qBAEP7rB,GAAc3zF,KAAKw/G,qBAAqBrzE,OAAOwnD,GAG/C3zF,KAAKw/G,qBAAuB,IAAI7F,GAAqBhmB,GAIvD,IAAK,IAAIluF,EAAI,EAAGA,EAAIw0F,EAAW/2F,OAAQuC,IAAK,CAC1C,IAAMo/G,EAAiB5qB,EAAWx0F,GAClCzF,KAAK8kH,eAAeD,E,CAItB,IAAK,IAAI97G,EAAI,EAAGA,EAAIo2G,EAAaj8G,OAAQ6F,IAAK,CAC5C,IAAMg8G,EAAoB5F,EAAap2G,GAC/B/D,EAAc+/G,EAAiB,KAAzB9tG,EAAQ8tG,EAAiB,IACvC/kH,KAAKyiG,YAAYz9F,EAAMiS,E,CAIzB,IAAK,IAAIrR,EAAI,EAAGA,EAAIs4F,EAAMh7F,OAAQ0C,IAAK,CACrC,IAAMo/G,EAAa9mB,EAAMt4F,GACzB5F,KAAK24F,WAAWqsB,E,CAKlB,IADA,IAAMC,EAAsBjlH,KAAKy6G,cAAc,cACtC5wG,EAAI,EAAGA,EAAI+6G,EAAY1hH,OAAQ2G,IAAK,CAC3C,IAAMq7G,EAAmBN,EAAY/6G,GACrCo7G,EAAoB3W,WAAW4W,E,CAI7BvuG,GACFrR,EAAKqR,GAAQ,SAACwuG,EAAexwF,GAC3B5d,EAAKxV,GAAGozB,EAAWwwF,EACrB,IAGEhtB,GACF7yF,EAAK6yF,GAAQ,SAACO,GACJ,IAAA1zF,EAAkB0zF,EAAK,KAAd0sB,GAAI,QAAK1sB,EAApB,UAEN3hF,EAAK2hF,MAAM1zF,EAAMogH,EACnB,GAEJ,EAEQxH,EAAAA,UAAAA,eAAR,SAAuBiH,GACb,IAAA7/G,EAAmB6/G,EAAc,KAA3B16F,EAAa06F,EAAc,IAA3B5tG,OAAG,IAAG,GAAC,EAAC,EACtB,GAAIjX,KAAKgF,GAAO,CACd,IAAMqgH,EAAWrlH,KAAKgF,GAAMiS,GAC5B3R,EAAKu/G,GAAgB,SAACr9G,EAAG5B,GACnBK,EAAWo/G,EAASz/G,KACtBy/G,EAASz/G,GAAG4B,EAEhB,G,CAEJ,EAMQo2G,EAAAA,UAAAA,YAAR,SAAoB/1D,GAClB,MAAO,UAAG7nD,KAAKszB,GAAE,YAAIu0B,EACvB,EACF,EAr9DA,CAA0BxwC,IA69DpB,SAAUiuG,GAAiB1kH,EAAcwL,GAE7CwxG,GAAK91G,UAAUlH,EAAK0K,eAAiB,SAAU2L,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GAC7C,IAAMyY,GAAQ,SAEZ9a,UAAW5U,KAAKw9G,YAAYz3C,WAC5B44C,gBAAiB3+G,KAAK+4F,gBAAgBhzB,YACnC9uD,GAGC4zF,EAAW,IAAIz+F,EAAKsjB,GAG1B,OAFA1vB,KAAKi6F,WAAWt1F,KAAKkmG,GAEdA,CACT,CACF,CAEA,UCrjEA,eAkBE,WAAYn7E,GAAZ,WAEI9a,EAgBE8a,EAAK,UAfP3d,EAeE2d,EAAK,MAdPha,EAcEga,EAAK,OAbPvF,EAaEuF,EAAK,QAbP3Z,OAAO,IAAG,GAAK,EACf+qD,EAYEpxC,EAAK,QAXP+tF,EAWE/tF,EAAK,cAVPwD,EAUExD,EAAK,SAVP61F,OAAQ,IAAG,WAAQ,EACnBC,EASE91F,EAAK,WARPzvB,EAQEyvB,EAAK,aARP+1F,OAAY,IAAG,GAAI,EACnB3nE,EAOEpuB,EAAK,QAPPvY,OAAO,IAAG,GAAI,EACd4mC,EAMEruB,EAAK,oBANP+gB,OAAmB,IAAG,GAAK,EAC3BuN,EAKEtuB,EAAK,oBALPg2F,OAAmB,IAAG,GAAC,UAAW,gBAAiB,gBAAiB,oBAAqB,gBAAiB,oBAAmB,EAC7Hr1G,EAIEqf,EAAK,QAHPguF,EAGEhuF,EAAK,YAFP+iD,EAEE/iD,EAAK,MADPiuF,EACEjuF,EAAK,gBAEHra,EAAmBlG,GAASyF,GAAanD,SAAS4+B,eAAez7B,GAAaA,EAG9E+wG,EAAiBnxG,GAAU,0CACjCa,EAAIi7B,YAAYq1E,GAGhB,IAAM32G,EAAO8G,GAAaT,EAAKU,EAAShE,EAAO2D,GAEzC7B,EAAID,GAAU2xG,GAEdxzF,EAAS,IAAIle,EAAEu8B,QAAO,SAC1Bx7B,UAAW+wG,EACXH,WAAU,EACVC,aAAY,EACZh1E,oBAAmB,GAChBzhC,I,SAILkI,EAAAA,KAAAA,KAAM,CACJf,OAAQ,KACR4b,OAAM,EAENwrF,gBAAiBxrF,EAAOg0C,SAAS,CAAE11C,OAAQvd,GAAcG,KACzDuqG,YAAazrF,EAAOg0C,SAAS,CAAE11C,OAAQvd,GAAcE,MACrD+lF,gBAAiBhnE,EAAOg0C,SAAS,CAAE11C,OAAQvd,GAAcC,OACzD+tD,QAAO,EACP28C,cAAa,EACbtmG,QAAO,EACP9G,QAAO,EACPqtG,YAAW,EACXjrC,MAAK,EACLkrC,gBAAe,KACf,KAmII5mG,EAAAA,SAAWtJ,IAAS,WAC1BsJ,EAAK6uG,UACP,GAAG,KAnID7uG,EAAK1B,IAAMA,EACX0B,EAAKgb,OAASA,EACdhb,EAAKhF,MAAQ/C,EAAK+C,MAClBgF,EAAKrB,OAAS1G,EAAK0G,OACnBqB,EAAKhB,QAAUA,EACfgB,EAAK0uG,aAAeA,EACpB1uG,EAAKwuG,SAAWA,EAChBxuG,EAAK4uG,eAAiBA,EAGtB5uG,EAAK8uG,oBACL9uG,EAAK+uG,cACL/uG,EAAKgvG,wBAAwBL,G,CAC/B,CAuHF,OA9MmCtuG,EAAAA,EAAAA,IAAAA,EAAAA,GAyFzB4uG,EAAAA,UAAAA,wBAAR,SAAgC7G,GAAhC,WACE75G,EAAK65G,GAAc,SAAC1c,GAClB1rF,EAAK0rF,YAAYA,EACnB,GACF,EAMOujB,EAAAA,UAAAA,KAAP,SAAYC,GACV,IAAMC,EAAO,cACM,IAAfD,EACFjmH,KAAKqV,IAAI8wG,gBAAgBD,GAEzBlmH,KAAKqV,IAAI86D,aAAa+1C,EAAMD,EAAWh9C,MAE3C,EAQO+8C,EAAAA,UAAAA,WAAP,SAAkBj0G,EAAe2D,GAE/B,OAAI1V,KAAK+R,QAAUA,GAAS/R,KAAK0V,SAAWA,IAI5C1V,KAAK+0B,KAAKriB,GAAiB0zG,oBAE3BpmH,KAAK+R,MAAQA,EACb/R,KAAK0V,OAASA,EACd1V,KAAK+xB,OAAOs0F,WAAWt0G,EAAO2D,GAG9B1V,KAAKF,QAAO,GAEZE,KAAK+0B,KAAKriB,GAAiB4zG,oBAZlBtmH,IAeX,EAKOgmH,EAAAA,UAAAA,MAAP,WACE9uG,EAAAA,UAAM6gB,MAAK,WAEX/3B,KAAKumH,MAAK,EACZ,EAMOP,EAAAA,UAAAA,QAAP,WACE9uG,EAAAA,UAAMua,QAAO,WAEbzxB,KAAKwmH,gBACLxmH,KAAK+xB,OAAON,UAEZvb,GAAUlW,KAAK2lH,gBACf3lH,KAAK2lH,eAAiB,IACxB,EAOOK,EAAAA,UAAAA,cAAP,SAAqB7uG,GAInB,OAHAD,EAAAA,UAAMI,cAAa,UAACH,GACpBnX,KAAK2lH,eAAexwG,MAAMuzC,QAAUvxC,EAAU,GAAK,OAE5CnX,IACT,EAKOgmH,EAAAA,UAAAA,SAAP,WAEE,IAAKhmH,KAAKwX,UAAW,CAEb,MAAoB1B,GAAa9V,KAAKqV,KAAK,EAAMrV,KAAK+R,MAAO/R,KAAK0V,QAAhE3D,EAAK,QAAE2D,EAAM,SACrB1V,KAAKqmH,WAAWt0G,EAAO2D,E,CAE3B,EAEQswG,EAAAA,UAAAA,kBAAR,WACE/wG,GAAUjV,KAAK+xB,OAAOxjB,IAAI,MAAO,CAC/Bm6C,QAAS,eACT+9D,cAAe,UAEnB,EAEQT,EAAAA,UAAAA,YAAR,WACMhmH,KAAK+V,SACPnJ,OAAOqhC,iBAAiB,SAAUjuC,KAAK0mH,SAE3C,EAEQV,EAAAA,UAAAA,cAAR,WACMhmH,KAAK+V,SACPnJ,OAAOyhC,oBAAoB,SAAUruC,KAAK0mH,SAE9C,EAQF,EA9MA,CAAmC9I,I,MCEnC,cASE,WAAY1lB,GAPL,KAAA/gF,SAAmB,EAKhB,KAAA4oF,WAAgC,GAGxC//F,KAAKk4F,KAAOA,CACd,CAgFF,OA1CSyuB,EAAAA,UAAAA,MAAP,SAAaC,GAEXthH,EAAKtF,KAAK+/F,YAAY,SAACf,GACrBA,EAAG/4B,UAAUx0C,SACf,IAGAzxB,KAAK+/F,WAAa,EACpB,EAKO4mB,EAAAA,UAAAA,QAAP,WACE3mH,KAAK+3B,OACP,EAMO4uF,EAAAA,UAAAA,cAAP,WACE,OAAO3mH,KAAK+/F,UACd,EAMO4mB,EAAAA,UAAAA,cAAP,SAAqBxvG,GACfnX,KAAKmX,UAAYA,IAGrBnX,KAAK+/F,WAAWtwF,SAAQ,SAACuvF,GACnB7nF,EACF6nF,EAAG/4B,UAAUjC,OAEbg7B,EAAG/4B,UAAUhC,MAEjB,IACAjkE,KAAKmX,QAAUA,EACjB,EACF,EA3FA,GCDA,SAAS3O,GAAKqqE,GAEZ,IADA,IAAMg0C,EAAY,G,WACThkH,GACP,IAAMD,EAAOiwE,EAAMhwE,GACb6B,EAAS8B,EAAKqgH,GAAW,SAACC,GAC9B,OACEA,EAAQpiF,QAAU9hC,EAAK8hC,OACvBoiF,EAAQlmH,OAASgC,EAAKhC,MACtBkmH,EAAQhmH,QAAU8B,EAAK9B,OACvBgmH,EAAQr+D,QAAU7lD,EAAK6lD,KAE3B,IACK/jD,GACHmiH,EAAUliH,KAAK/B,E,EAXVC,EAAQ,EAAGA,EAAQgwE,EAAM3vE,OAAQL,I,EAAjCA,GAcT,OAAOgkH,CACT,CAGA,8E,OAQU9vG,EAAAA,UAAoB,E,CA6rB9B,QArsBqCK,EAAAA,EAAAA,IAAAA,EAAAA,GAanCrR,OAAAA,eAAWwjF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,MAAO,SACT,E,gCAEOA,EAAAA,UAAAA,KAAP,WAAgB,EAERA,EAAAA,UAAAA,UAAR,WACE,IAAMkwB,EAASz5G,KAAKk4F,KAAK6B,aAAaqT,QACtC,OAAkB,IAAXqM,CACT,EAEOlwB,EAAAA,UAAAA,OAAP,WAAkB,EAMXA,EAAAA,UAAAA,YAAP,SAAmBj7C,GAEjB,GADAtuC,KAAKsuC,MAAQA,EACRtuC,KAAK+mH,YAAV,CAIA,IAAM7uB,EAAOl4F,KAAKk4F,KACZrlB,EAAQ7yE,KAAKk4G,gBAAgB5pE,GACnC,GAAKukC,EAAM3vE,OAAX,CAKA,IAAMulD,EAAQzoD,KAAKgnH,SAASn0C,GACtBo0C,EAAY,CAChBruG,EAAGi6D,EAAM,GAAGj6D,EACZC,EAAGg6D,EAAM,GAAGh6D,GAGdq/E,EAAKnjE,KACH,eACAulF,GAAAA,SAAepiB,EAAM,gBAAgB,SACnCrlB,MAAK,EACLpqB,MAAK,GACFna,KAIP,IAAMr3B,EAAMjX,KAAKknH,gBACT5Z,EAA6Dr2F,EAAG,OAAxDu2F,EAAqDv2F,EAAG,YAA3Cs2F,EAAwCt2F,EAAG,eAA3Bo2F,EAAwBp2F,EAAG,YAAd8mE,EAAW9mE,EAAG,OAClEkwG,EAAYnnH,KAAK6yE,MACjBu0C,EAAYpnH,KAAKyoD,MAmDvB,GAlDKx5C,GAAQm4G,EAAW3+D,IAAWx5C,GAAQk4G,EAAWt0C,IAqChD7yE,KAAKotG,SAAWE,IAClBttG,KAAKotG,QAAQjhE,OAAOmC,GACpBtuC,KAAKotG,QAAQppC,QAGXhkE,KAAKqnH,qBACPrnH,KAAKqnH,oBAAoBrjD,SAzC3Bk0B,EAAKnjE,KACH,iBACAulF,GAAAA,SAAepiB,EAAM,kBAAkB,SACrCrlB,MAAK,EACLpqB,MAAK,GACFna,MAIHroC,EAAWonG,GAAeA,EAAYx6B,GAASw6B,KAE5CrtG,KAAKotG,SAERptG,KAAKsnH,gBAEPtnH,KAAKotG,QAAQjhE,OACXx8B,GACE,CAAC,EACDsH,EACA,CACE47D,MAAO7yE,KAAKunH,qBAAqB10C,GACjCpqB,MAAK,GAEP6kD,EAASh/D,EAAQ,CAAC,IAGtBtuC,KAAKotG,QAAQppC,QAGXwpC,GAEFxtG,KAAKwnH,qBAAqB30C,EAAOkL,IAcrC/9E,KAAK6yE,MAAQA,EACb7yE,KAAKyoD,MAAQA,EAET8kD,EAAgB,CAElB,IAAMka,EAA2Bl5G,GAAI0I,EAAK,CAAC,aAAc,WAAW,GACpEjX,KAAK0nH,iBAAiBD,EAA2Bn5E,EAAQ24E,EAAWhwG,E,OA3EpEjX,KAAK4gH,a,CA6ET,EAEOr3B,EAAAA,UAAAA,YAAP,WACU,IAAA+jB,EAAWttG,KAAKknH,gBAAe,OACvC,GAAK5Z,EAAL,CAKA,IAAM+Z,EAAsBrnH,KAAKqnH,oBAC7BA,GACFA,EAAoBpjD,OAItB,IAAM0jD,EAAa3nH,KAAK2nH,WAClBC,EAAa5nH,KAAK4nH,WACpBD,GACFA,EAAW1jD,OAET2jD,GACFA,EAAW3jD,OAGb,IAAMmpC,EAAUptG,KAAKotG,QACjBA,GACFA,EAAQnpC,OAGVjkE,KAAKk4F,KAAKnjE,KAAK,eAAgBulF,GAAAA,SAAet6G,KAAKk4F,KAAM,eAAgB,CAAC,IAE1El4F,KAAKsuC,MAAQ,I,MA1BXtuC,KAAKsuC,MAAQ,IA2BjB,EAKOi7C,EAAAA,UAAAA,YAAP,WACEvpF,KAAK6nH,UAAW,EACZ7nH,KAAKotG,SAEPptG,KAAKotG,QAAQlpC,YAAW,EAE5B,EAKOqlB,EAAAA,UAAAA,cAAP,WACEvpF,KAAK6nH,UAAW,EAChB,IAAM5wG,EAAMjX,KAAKknH,gBACblnH,KAAKotG,SAEPptG,KAAKotG,QAAQlpC,WAAWjtD,EAAIkR,QAEhC,EAKOohE,EAAAA,UAAAA,gBAAP,WACE,OAAOvpF,KAAK6nH,QACd,EAEOt+B,EAAAA,UAAAA,MAAP,WACQ,MAA2DvpF,KAAzDotG,EAAO,UAAEua,EAAU,aAAEC,EAAU,aAAEP,EAAmB,sBACxDja,IACFA,EAAQnpC,OACRmpC,EAAQr1E,SAGN4vF,GACFA,EAAW5vF,QAGT6vF,GACFA,EAAW7vF,QAGTsvF,GACFA,EAAoBtvF,SAIX,OAAPq1E,QAAO,IAAPA,OAAO,EAAPA,EAAS7+F,IAAI,oBACfvO,KAAKotG,QAAQ37E,UACbzxB,KAAKotG,QAAU,MAKjBptG,KAAKyoD,MAAQ,KACbzoD,KAAK6yE,MAAQ,IACf,EAEO0W,EAAAA,UAAAA,QAAP,WACMvpF,KAAKotG,SACPptG,KAAKotG,QAAQ37E,UAEXzxB,KAAK2nH,YACP3nH,KAAK2nH,WAAWl2F,UAEdzxB,KAAK4nH,YACP5nH,KAAK4nH,WAAWn2F,UAGdzxB,KAAK8nH,YACP9nH,KAAK8nH,WAAWx/G,QAAO,GAGzBtI,KAAK+nH,OACP,EAEOx+B,EAAAA,UAAAA,MAAP,WACEvpF,KAAK6yE,MAAQ,KACb7yE,KAAKyoD,MAAQ,KACbzoD,KAAKqnH,oBAAsB,KAC3BrnH,KAAKgoH,uBAAyB,KAC9BhoH,KAAK2nH,WAAa,KAClB3nH,KAAK4nH,WAAa,KAClB5nH,KAAKotG,QAAU,KACfptG,KAAK8nH,WAAa,KAClB9nH,KAAK6nH,UAAW,EAChB7nH,KAAKsuC,MAAQ,IACf,EAEOi7C,EAAAA,UAAAA,cAAP,SAAqBpyE,GACnB,GAAInX,KAAKmX,UAAYA,EAArB,CAGM,MAA2DnX,KAAzDotG,EAAO,UAAEia,EAAmB,sBAAEM,EAAU,aAAEC,EAAU,aACxDzwG,GACEi2F,GACFA,EAAQppC,OAENqjD,GACFA,EAAoBrjD,OAElB2jD,GACFA,EAAW3jD,OAET4jD,GACFA,EAAW5jD,SAGTopC,GACFA,EAAQnpC,OAENojD,GACFA,EAAoBpjD,OAElB0jD,GACFA,EAAW1jD,OAET2jD,GACFA,EAAW3jD,QAGfjkE,KAAKmX,QAAUA,C,CACjB,EAEOoyE,EAAAA,UAAAA,gBAAP,SAAuBj7C,G,gBACjBukC,EAAQ7yE,KAAK64G,kBAAkB74G,KAAKk4F,KAAM5pD,GAC9C,GAAIukC,EAAM3vE,OAAQ,CAEhB2vE,EAAQ/rE,EAAQ+rE,G,IAChB,IAAsB,eAAAA,GAAK,8BAAE,CAAxB,IAAM9oB,EAAO,Q,IAChB,IAAmB,yBAAAA,IAAO,8BAAE,CAAvB,IAAMnnD,EAAI,QACP,EAAWA,EAAK01G,YAAd1/F,EAAC,IAAEC,EAAC,IACZjW,EAAKgW,EAAIvT,EAAQuT,GAAKA,EAAEA,EAAE1V,OAAS,GAAK0V,EACxChW,EAAKiW,EAAIxT,EAAQwT,GAAKA,EAAEA,EAAE3V,OAAS,GAAK2V,C,sMAIpC,IAAA40F,EAAWztG,KAAKknH,gBAAe,OAEvC,IAAe,IAAXzZ,GAAoB56B,EAAM3vE,OAAS,EAAG,CACxC,IAAI+kH,EAAWp1C,EAAM,GACjBxrE,EAAMF,KAAK0D,IAAIyjC,EAAMz1B,EAAIovG,EAAS,GAAGpvG,G,IACzC,IAAoB,eAAAg6D,GAAK,8BAAE,CAAtB,IAAMq1C,EAAK,QACRC,EAAYhhH,KAAK0D,IAAIyjC,EAAMz1B,EAAIqvG,EAAM,GAAGrvG,GAC1CsvG,GAAa9gH,IACf4gH,EAAWC,EACX7gH,EAAM8gH,E,mGAGVt1C,EAAQ,CAACo1C,E,CAGX,OAAOz/G,GAAK1B,EAAQ+rE,G,CAGtB,MAAO,EACT,EAEO0W,EAAAA,UAAAA,OAAP,WAAkB,EAEXA,EAAAA,UAAAA,OAAP,WAKE,GAJIvpF,KAAKsuC,OACPtuC,KAAK2gH,YAAY3gH,KAAKsuC,OAGpBtuC,KAAKotG,QAAS,CAGhB,IAAMr7E,EAAS/xB,KAAKk4F,KAAKlmE,YAGzBhyB,KAAKotG,QAAQvkG,IAAI,SAAU,CACzBkR,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAClB6J,IAAK,CAAE9J,EAAGmZ,EAAOxjB,IAAI,SAAUsK,EAAGkZ,EAAOxjB,IAAI,Y,CAGnD,EAMOg7E,EAAAA,UAAAA,gBAAP,SAAuBj7C,GAErB,GAAItuC,KAAKotG,QAAS,CAChB,IAAM7/D,EAAkBvtC,KAAKotG,QAAQv9B,eAC/B1nD,EAAUnoB,KAAKotG,QAAQ7+F,IAAI,WAEjC,GAAIg/B,GAAMplB,EAAS,CACX,MAA0BolB,EAAG2D,wBAA3Bt4B,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SAC3B,OAAO,IAAI++E,GAAK77E,EAAGC,EAAG9G,EAAO2D,GAAQ0yG,UAAU95E,E,EAInD,OAAO,CACT,EAGOi7C,EAAAA,UAAAA,cAAP,WACE,IAAM2O,EAAOl4F,KAAKk4F,KACZuhB,EAASvhB,EAAK6B,aAAaqT,QAC3Bib,EAAgBroH,KAAKsoH,qBAAqB7O,GAC1ChnC,EAAQylB,EAAK4B,WACb1xE,EAAa7Z,GAAIkkE,EAAO,CAAC,aAAc,WAAY,CAAC,GACpDi7B,EAAYn/F,GAAI85G,EAAe,YAAajgG,EAAWslF,WAC7D,OAAO5+F,GAAQ,CAAC,EAAGsZ,EAAYigG,EAAe,CAC5ClgG,WAASulF,IAAa1tG,KAAK6nH,WAE/B,EAGUt+B,EAAAA,UAAAA,qBAAV,SAA+BkwB,GAC7B,GAAI1tG,GAAU0tG,KAAYlrG,GAAIkrG,EAAQ,iBACpC,OAAOA,EAET,IAAM8O,EAAuB9O,EAAOjwB,cAC9BA,EAAgB,SAAC/gC,EAAeoqB,GACpC,IAAM1I,EAAUo+C,EAAqB9/D,EAAOoqB,IAAU,GACtD,OAAO1jE,GAASg7D,GAAW,2BAA6BA,EAAU,SAAWA,CAC/E,EACA,OAAO,oBACFsvC,GAAM,CACTjwB,cAAa,GAEjB,EAEQD,EAAAA,UAAAA,SAAR,SAAiB1W,GACf,IAAMpqB,EAAQoqB,EAAM,GAAGpqB,OAASoqB,EAAM,GAAGjyE,KAGzC,OAFAZ,KAAKyoD,MAAQA,EAENA,CACT,EAEQ8gC,EAAAA,UAAAA,cAAR,WACE,IAAMx3D,EAAS/xB,KAAKk4F,KAAKlmE,YACnBovC,EAAS,CACbrnD,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAClB6J,IAAK,CAAE9J,EAAGmZ,EAAOxjB,IAAI,SAAUsK,EAAGkZ,EAAOxjB,IAAI,YAGzC0I,EAAMjX,KAAKknH,gBACX9Z,EAAU,IAAI3a,IAAY,kBAC9Bt8E,OAAQ4b,EAAOxjB,IAAI,MAAM6H,WACzBgrD,OAAM,GACHnqD,GAAG,CACNE,SAAS,EACT2yE,WAAY,QAGdsjB,EAAQ/kG,OACRrI,KAAKotG,QAAUA,CACjB,EAEQ7jB,EAAAA,UAAAA,qBAAR,SAA6B1W,EAAOkL,G,QAC5BspC,EAAsBrnH,KAAKwoH,yBAC3BC,EAAWzoH,KAAKk4F,KAAK4mB,cACnBpB,EAAgB+K,EAAQ,Y,IAChC,IAAmB,eAAA51C,GAAK,8BAAE,CAArB,IAAMjwE,EAAI,QACLgW,EAAShW,EAAI,EAAViW,EAAMjW,EAAI,EAGrB,GAAI86G,IAAkC,OAAnB2J,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBv2F,WAAW,CAC3C,MAAkBwkE,GAAqBmzB,EAASzoD,iBAA9Ch7D,EAAI,OAAE0jH,EAAK,QACA,OAAnBrB,QAAmB,IAAnBA,GAAAA,EAAqBzkD,QAAQ,CAC3B59D,KAAI,EACJ5E,MAAK,G,MAIY,OAAnBinH,QAAmB,IAAnBA,GAAAA,EAAqBzkD,aAAQz9D,GAG/B,IAAMstE,EAAQzyE,KAAKk4F,KAAK4B,WAClB6uB,EAAmBp6G,GAAIkkE,EAAO,CAAC,aAAc,UAAW,UAAW,CAAC,GAEpEryE,GAAQ,kBACZ45D,KAAMp3D,EAAK8hC,MACX46C,OAAQ,SACRvtC,YAAanvC,EAAK8hC,OACdz+B,EAAW83E,IAAS56B,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,IAAAA,CAAAA,EAAMwlE,GAAqB5qC,EAAOn7E,IAAUm7E,GAAO,CAC3EnlE,EAAC,EACDC,EAAC,IAGHwuG,EAAoB/gD,SAAS,SAAU,CACrClmE,MAAK,G,mGAGX,EAEQmpF,EAAAA,UAAAA,iBAAR,SAAyBj7C,EAAcr3B,GACrC,IAAM2xG,EAAiBr6G,GAAI0I,EAAK,CAAC,aAAc,QAAS,KACjC,MAAnB2xG,GACE5oH,KAAK4nH,YACP5nH,KAAK4nH,WAAW3jD,OAElBjkE,KAAK6oH,kBAAkBv6E,EAAOr3B,IACF,MAAnB2xG,GACL5oH,KAAK2nH,YACP3nH,KAAK2nH,WAAW1jD,OAElBjkE,KAAK8oH,kBAAkBx6E,EAAOr3B,IACF,OAAnB2xG,IACT5oH,KAAK6oH,kBAAkBv6E,EAAOr3B,GAC9BjX,KAAK8oH,kBAAkBx6E,EAAOr3B,GAElC,EAGQsyE,EAAAA,UAAAA,kBAAR,SAA0Bj7C,EAAcoqE,GACtC,IACI3+F,EACA2I,EAFEixE,EAAa3zF,KAAK+oH,oBAAoB/oH,KAAKk4F,MAAMl4B,gBAGvD,GAAI2zB,EAAWwD,OACTxD,EAAW91B,cACb9jD,EAAQ,CACNnB,EAAG+6E,EAAW55E,MAAMnB,EACpBC,EAAGy1B,EAAMz1B,GAEX6J,EAAM,CACJ9J,EAAG+6E,EAAWjxE,IAAI9J,EAClBC,EAAGy1B,EAAMz1B,KAGXkB,EAAQ,CACNnB,EAAG01B,EAAM11B,EACTC,EAAG86E,EAAWjxE,IAAI7J,GAEpB6J,EAAM,CACJ9J,EAAG01B,EAAM11B,EACTC,EAAG86E,EAAW55E,MAAMlB,QAGnB,CAEL,IAAMgC,EAAQw6E,GAAgB1B,EAAYrlD,GACpC2O,EAAS02C,EAAWl0B,YACpBjB,EAASm1B,EAAWqB,YAC1BtyE,EAAMqwE,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQ3jD,GACnDd,EAAQkjC,C,CAGV,IAAMhmC,EAAMnI,GACV,CACEiL,MAAK,EACL2I,IAAG,EACH9N,UAAW5U,KAAKgpH,6BAElBz6G,GAAImqG,EAAY,aAAc,CAAC,GAC/B14G,KAAKipH,kBAAkB,IAAK36E,EAAOoqE,WAE9BzhG,EAAIjS,KAEX,IAAI2iH,EAAa3nH,KAAK2nH,WAClBA,EACFA,EAAWx7E,OAAOl1B,IAElB0wG,EAAa,IAAIuB,GAAejyG,GAChC0wG,EAAWt/G,QAEbs/G,EAAW7nH,SACX6nH,EAAW3jD,OACXhkE,KAAK2nH,WAAaA,CACpB,EAGQp+B,EAAAA,UAAAA,kBAAR,SAA0Bj7C,EAAcoqE,GACtC,IACIzhG,EACAjS,EAFE2uF,EAAa3zF,KAAK+oH,oBAAoB/oH,KAAKk4F,MAAMl4B,gBAGvD,GAAI2zB,EAAWwD,OAAQ,CACrB,IAAIp9E,OAAK,EACL2I,OAAG,EACHixE,EAAW91B,cACb9jD,EAAQ,CACNnB,EAAG01B,EAAM11B,EACTC,EAAG86E,EAAWjxE,IAAI7J,GAEpB6J,EAAM,CACJ9J,EAAG01B,EAAM11B,EACTC,EAAG86E,EAAW55E,MAAMlB,KAGtBkB,EAAQ,CACNnB,EAAG+6E,EAAW55E,MAAMnB,EACpBC,EAAGy1B,EAAMz1B,GAEX6J,EAAM,CACJ9J,EAAG+6E,EAAWjxE,IAAI9J,EAClBC,EAAGy1B,EAAMz1B,IAGb5B,EAAM,CACJ8C,MAAK,EACL2I,IAAG,GAEL1d,EAAO,M,MAGPiS,EAAM,CACJgmC,OAAQ02C,EAAWl0B,YAEnBjB,OAAQ22B,GAAoBxB,EAAYrlD,GACxC4I,WAAYy8C,EAAWz8C,WACvBC,SAAUw8C,EAAWx8C,UAEvBnyC,EAAO,SAGTiS,EAAMnI,GACJ,CACE8F,UAAW5U,KAAKgpH,6BAElB/xG,EACA1I,GAAImqG,EAAY,aAAc,CAAC,GAC/B14G,KAAKipH,kBAAkB,IAAK36E,EAAOoqE,WAE9BzhG,EAAIjS,KAEX,IAAI4iH,EAAa5nH,KAAK4nH,WAClBA,EAGCj0B,EAAWwD,QAAqC,WAA3BywB,EAAWr5G,IAAI,UACnColF,EAAWwD,QAAqC,SAA3BywB,EAAWr5G,IAAI,SAEtCq5G,EAAa,IAAIsB,EAAUlkH,GAAMiS,GACjC2wG,EAAWv/G,QAEXu/G,EAAWz7E,OAAOl1B,IAGpB2wG,EAAa,IAAIsB,EAAUlkH,GAAMiS,GACjC2wG,EAAWv/G,QAEbu/G,EAAW9nH,SACX8nH,EAAW5jD,OACXhkE,KAAK4nH,WAAaA,CACpB,EAEQr+B,EAAAA,UAAAA,kBAAR,SAA0BvkF,EAAMspC,EAAcoqE,GAC5C,IAAI3qC,EAAUx/D,GAAImqG,EAAY,CAAC,aAAc,SACvCpL,EAAS/+F,GAAImqG,EAAY,CAAC,aAAc,WACxC7lC,EAAQ7yE,KAAK6yE,MAEnB,GAAI9E,EAAS,CACX,IAAMmqB,EAAOl4F,KAAK+oH,oBAAoB/oH,KAAKk4F,MAErCixB,EAAYt2C,EAAM,GAClB+iC,EAAS1d,EAAK2d,YACdE,EAAS7d,EAAKqsB,aAAa,GAC7Bh+D,OAAM,EACNM,OAAM,EACV,GAAIymD,EAAQ,CAEV,IAAMjvC,EAAcr+D,KAAKk4F,KAAKl4B,gBAAgBj1C,OAAOujB,GACrDiY,EAASqvD,EAAO7qF,OAAOszC,EAAYzlD,GACnCiuC,EAASkvD,EAAOhrF,OAAOszC,EAAYxlD,E,MAEnC0tC,EAAS4iE,EAAUtiH,KAAK+uG,EAAO/tD,OAC/BhB,EAASsiE,EAAUtiH,KAAKkvG,EAAOluD,OAGjC,IAAMsiB,EAAmB,MAATnlE,EAAeuhD,EAASM,EAOxC,OANI5gD,EAAW8nE,GACbA,EAAUA,EAAQ/oE,EAAMmlE,EAAS0I,EAAOvkC,GAExCy/B,EAAQ5D,QAAUA,EAGb,CACLh5D,KAAM48D,E,CAGZ,EAGQwb,EAAAA,UAAAA,cAAR,WACE,IAAKvpF,KAAK8nH,WAAY,CACpB,IAAM/uB,EAAkB/4F,KAAKk4F,KAAKa,gBAClC/4F,KAAK8nH,WAAa/uB,EAAgBhzB,SAAS,CACzCnlE,KAAM,eACNunB,SAAS,G,CAIb,OAAOnoB,KAAK8nH,UACd,EAGQv+B,EAAAA,UAAAA,uBAAR,WACE,IAAI89B,EAAsBrnH,KAAKqnH,oBAW/B,OAVIA,IAAwBA,EAAoB7vG,WAC9C6vG,EAAoBtvF,QACpBsvF,EAAoBrjD,SAEpBqjD,EAAsBrnH,KAAKopH,gBAAgBrjD,SAAS,CAClDnlE,KAAM,wBAERymH,EAAoBgC,UACpBrpH,KAAKqnH,oBAAsBA,GAEtBA,CACT,EAGQ99B,EAAAA,UAAAA,0BAAR,WACE,IAAIy+B,EAAyBhoH,KAAKgoH,uBASlC,OARKA,IACHA,EAAyBhoH,KAAKopH,gBAAgBrjD,SAAS,CACrDnlE,KAAM,yBACNunB,SAAS,IAEX6/F,EAAuBp9C,SACvB5qE,KAAKgoH,uBAAyBA,GAEzBA,CACT,EAEQz+B,EAAAA,UAAAA,kBAAR,SAA0B2O,EAAY5pD,G,QACpC,IAAkC,IAA9B4pD,EAAK6B,aAAaqT,QAEpB,MAAO,GAGT,IAAMsL,EAAa14G,KAAKknH,gBACpBxiH,EAASm0G,GAAkB3gB,EAAM5pD,EAAOoqE,G,IAE5C,IAAwB,eAAAxgB,EAAKgG,OAAK,8BAAE,CAA/B,IAAM8a,EAAS,QAClBt0G,EAASA,EAAOqC,OAAO/G,KAAK64G,kBAAkBG,EAAW1qE,G,mGAG3D,OAAO5pC,CACT,EAIQ6kF,EAAAA,UAAAA,oBAAR,SAA4B2O,GAA5B,WACE,OAAIA,EAAK+B,WAAW/2F,OACXg1F,EAGF1xF,EAAK0xF,EAAKgG,OAAO,SAAC8a,GAAc,SAAK+P,oBAAoB/P,EAAzB,GACzC,EAMQzvB,EAAAA,UAAAA,qBAAR,SAA6B+/B,GACnB,IAAAC,EAAgBvpH,KAAKknH,gBAAe,YACtC9+G,EAAKmhH,GAA4B,SAAC/hH,GAAM,OAAAA,CAAA,EAE9C,OAAOY,EAAGkhH,EACZ,EACF,EArsBA,CAAqC3C,I,MCrB/B6C,GAA+B,CAAC,EAMhC,SAAUC,GAAazkH,GAC3B,OAAOwkH,GAAexkH,EAAKsG,cAC7B,CAOM,SAAUo+G,GAAkB1kH,EAAc8qB,GAC9C05F,GAAexkH,EAAKsG,eAAiBwkB,CACvC,CCnBO,IAAM65F,GAAsB,CACjCnmD,OAAQ,CACNvhE,SAAU,IACVgxB,OAAQ,eAEVkZ,OAAQ,CACNlqC,SAAU,IACVgxB,OAAQ,iBAEVwwC,MAAO,CACLxhE,SAAU,IACVgxB,OAAQ,iBAEVywC,MAAO,CACLzhE,SAAU,IACVgxB,OAAQ,eAKN22F,GAAuB,CAC3BvxF,SAAU,SAACs7D,GACT,MAAO,CACLlwB,MAAO,CACL3zC,UAAW6jE,EAAWwD,OAAUxD,EAAW91B,aAAe,aAAe,aAAgB,WAE3F1xB,OAAQ,CACNrc,UAAW6jE,EAAWoB,SAAWpB,EAAW91B,aAAe,qBAAuB,MAEpF6F,MAAO,CACL5zC,UAAW,YAGjB,EACAilB,KAAM,CACJ0uB,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGf3f,KAAM,CACJszD,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGfwe,MAAO,CACLk1B,OAAQ,CACN1zC,UAAW,WAEb2zC,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGfi3E,KAAM,CACJtjC,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGfuxB,QAAS,CACPoiB,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGf+7E,OAAQ,CACNpoC,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGfi8E,KAAM,CACJtoC,MAAO,CACL3zC,UAAW,WAEb4zC,MAAO,CACL5zC,UAAW,aAGfm5C,MAAO,CACLzF,OAAQ,CACN1zC,UAAW,UACXE,MAAO,KAETyzC,MAAO,CACL3zC,UAAW,WAEbqc,OAAQ,CACNrc,UAAW,mBAEb4zC,MAAO,CACL5zC,UAAW,cAMX+5F,GAAkC,CACtC90E,KAAM,WACJ,MAAO,CACLjlB,UAAW,UAEf,EACAi3E,KAAM,WACJ,MAAO,CACLj3E,UAAW,UAEf,EACA3f,KAAM,WACJ,MAAO,CACL2f,UAAW,UAEf,EACAuI,SAAQ,SAACs7D,GACP,IAAI7jE,EAWJ,OATI6jE,EAAWwD,OACbrnE,EAAY6jE,EAAW91B,aAAe,YAAc,aAEpD/tC,EAAY,aACR6jE,EAAWoB,SAAWpB,EAAW91B,eAEnC/tC,EAAY,YAGT,CACLA,UAAS,EAEb,EACA+7E,OAAQ,SAAClY,GACP,IAAI7jE,EAMJ,OAJEA,EADE6jE,EAAWwD,OACDxD,EAAW91B,aAAe,YAAc,YAExC,aAEP,CACL/tC,UAAS,EAEb,EACAuxB,QAAS,WACP,MAAO,CACLvxB,UAAW,UACX7tB,SAAU,IAEd,EACA8pG,KAAM,WACJ,MAAO,CACLj8E,UAAW,UAEf,GAIF,SAASg6F,GAAmB92F,EAAwBnsB,GAClD,MAAO,CACLmpB,MAAO/pB,EAAW+sB,EAAWhD,OAASgD,EAAWhD,MAAMnpB,GAAQmsB,EAAWhD,MAC1EiD,OAAQhtB,EAAW+sB,EAAWC,QAAUD,EAAWC,OAAOpsB,GAAQmsB,EAAWC,OAC7EhxB,SAAUgE,EAAW+sB,EAAW/wB,UAAY+wB,EAAW/wB,SAAS4E,GAAQmsB,EAAW/wB,SACnFuU,SAAUwc,EAAWxc,SACrBqc,OAAQG,EAAWH,OAEvB,CASM,SAAUk3F,GAAqBrjD,EAAqBitB,EAAwBq2B,GAChF,IAAIh3F,EAAa42F,GAAqBljD,GAEtC,OAAI1zC,IACE/sB,EAAW+sB,KACbA,EAAaA,EAAW2gE,IAE1B3gE,EAAalkB,GAAQ,CAAC,EAAG66G,GAAqB32F,GAE1Cg3F,GACKh3F,EAAWg3F,GAGfh3F,CACT,CAUM,SAAUi3F,GAAUniG,EAAwBkL,EAAwB/b,GACxE,IAAMpQ,EAAO0H,GAAIuZ,EAAMvZ,IAAI,UAAW,OAAQgF,IACxCuc,EAAYkD,EAAWlD,UACvBo6F,EAAmBJ,GAAmB92F,EAAYnsB,GACxD,GAAIipB,EAAW,CAEb,IAAMq6F,EAAkBV,GAAa35F,GACjCq6F,GACFA,EAAgBriG,EAAOoiG,EAAkBjzG,E,MAI3C6Q,EAAMu7C,QAAQpsD,EAAIsY,QAAS26F,EAE/B,CAWM,SAAUE,GACdx1G,EACAoe,EACAkjE,EACAvC,EACA02B,GAEA,GAAIR,GAAgC3zB,GAAe,CACjD,IAAM9tE,EAAayhG,GAAgC3zB,GAAcvC,GAC3D7jE,EAAY25F,GAAal7G,GAAI6Z,EAAY,YAAa,KAC5D,GAAI0H,EAAW,CACb,IAAM7Y,GAAM,6BACP0yG,GAAoBnmD,QACpBp7C,GACA4K,GAELpe,EAAUk4B,cACVhd,EAAUlb,EAAWqC,EAAK,CACxB08E,WAAU,EACV02B,UAAS,EACT96F,QAAS,M,EAIjB,CCxQO,IAAM+6F,GAAmB,qBC4BhC,eA+BE,WAAYrzG,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAhBLF,EAAAA,WAAuB,GAUtBA,EAAAA,OAAmB,GAQjB,IAAAwzG,EAA0EtzG,EAAG,aAA/DrC,EAA4DqC,EAAG,UAApDuzG,EAAiDvzG,EAAG,eAApCwzG,EAAiCxzG,EAAG,aAAtBkT,EAAmBlT,EAAG,QAAtBE,OAAO,IAAG,GAAI,E,OAC7EJ,EAAKwzG,aAAeA,EACpBxzG,EAAKnC,UAAYA,EACjBmC,EAAKyzG,eAAiBA,EACtBzzG,EAAKI,QAAUA,EACfJ,EAAK0zG,aAAeA,E,CACtB,CA+bF,OAveqCrzG,EAAAA,EAAAA,IAAAA,EAAAA,GA+C5B5K,EAAAA,UAAAA,KAAP,SAAYiyF,EAAkBwf,QAAA,IAAAA,IAAAA,GAAAA,GAC5Bj+G,KAAKy+F,MAAQA,EACbz+F,KAAK6G,KAAO43F,EAAM53F,KAClB7G,KAAKoyB,UAAYpyB,KAAK0qH,aAAajsB,GAGnCz+F,KAAK2qH,UAAUlsB,EAAOwf,IAED,IAAjBj+G,KAAKmX,SAEPnX,KAAKsX,eAAc,EAEvB,EAMO9K,EAAAA,UAAAA,OAAP,SAAciyF,GACN,MAA0Bz+F,KAAxBuqH,EAAY,eAAEziG,EAAK,QAC3B,GAAKA,EAAL,CAKA9nB,KAAKy+F,MAAQA,EACbz+F,KAAK6G,KAAO43F,EAAM53F,KAClB7G,KAAKoyB,UAAYpyB,KAAK0qH,aAAajsB,GAGnCz+F,KAAK4qH,aAAa9iG,EAAO22E,GAGzB,IAAM+rB,EAAiBxqH,KAAK6qH,oBACtBC,EAAWP,EAAaI,UAAU3qH,KAAKoyB,UAAWqsE,EAAO+rB,GAE/DM,EAAS7zG,IAAIpQ,KAAO7G,KAAK6G,KAEzBikH,EAAS7zG,IAAI8zG,OAAStsB,EAEtBqsB,EAAS7zG,IAAIiR,QAAUloB,KAGvBA,KAAKgrH,eAAeljG,EAAOgjG,EAAU9qH,KAAKirH,YAAajrH,KAAKkrH,cAAc,U,CAC5E,EAKO1+G,EAAAA,UAAAA,QAAP,WACQ,MAA0BxM,KAAxBuqH,EAAY,eAAEziG,EAAK,QAE3B,GAAIA,EAAO,CACT,IAAMkL,EAAahzB,KAAKkrH,cAAc,SAClCl4F,EAEFi3F,GAAUniG,EAAOkL,EAAY,CAC3B2gE,WAAY42B,EAAa52B,WACzBpkE,SAAS,WACJzH,EAAM6H,UAKb7H,EAAMxf,QAAO,E,CAKjBtI,KAAK62E,OAAS,GACd72E,KAAKuqH,kBAAeplH,EACpBnF,KAAK4U,eAAYzP,EACjBnF,KAAK8nB,WAAQ3iB,EACbnF,KAAKqjE,aAAUl+D,EACfnF,KAAK6qG,cAAW1lG,EAChBnF,KAAK+2E,WAAa,GAClB/2E,KAAKy+F,WAAQt5F,EACbnF,KAAK6G,UAAO1B,EACZnF,KAAKwqH,oBAAiBrlH,EACtBnF,KAAKsjF,iBAAcn+E,EAEnB+R,EAAAA,UAAMua,QAAO,UACf,EAMOjlB,EAAAA,UAAAA,cAAP,SAAqB2K,GACnBD,EAAAA,UAAMI,cAAa,UAACH,GAEhBA,GACEnX,KAAK8nB,OACP9nB,KAAK8nB,MAAMk8C,OAEThkE,KAAK+2E,YACP/2E,KAAK+2E,WAAWtnE,SAAQ,SAACw5D,GACvBA,EAAMjF,MACR,MAGEhkE,KAAK8nB,OACP9nB,KAAK8nB,MAAMm8C,OAETjkE,KAAK+2E,YACP/2E,KAAK+2E,WAAWtnE,SAAQ,SAACw5D,GACvBA,EAAMhF,MACR,IAGN,EAsBOz3D,EAAAA,UAAAA,SAAP,SAAgB+xF,EAAmB4sB,GAC3B,MAAoDnrH,KAAlD62E,EAAM,SAAE0zC,EAAY,eAAE9rB,EAAK,QAAE32E,EAAK,QAAEsK,EAAS,YAE/CvvB,EAAQg0E,EAAOtyE,QAAQg6F,GAC7B,GAAI4sB,EAAa,CAEf,GAAItoH,GAAS,EAEX,OAEFg0E,EAAOlyE,KAAK45F,GACM,WAAdA,GAAwC,aAAdA,GACvB,OAALz2E,QAAK,IAALA,GAAAA,EAAOuhG,S,KAEJ,CACL,IAAe,IAAXxmH,EAEF,OAGF,GADAg0E,EAAO9uE,OAAOlF,EAAO,GACH,WAAd07F,GAAwC,aAAdA,EAA0B,CAChD,MAAiCv+F,KAAK6qG,SAApCugB,EAAU,aAAEC,EAAc,iBAC5Bj7G,EAAMi7G,EAAiBrrH,KAAK6qG,SAAStlG,SAASrC,OAASlD,KAAKyqH,aAAezqH,KAAKyqH,aACtFW,EAAatjG,EAAMwjG,UAAUl7G,GAAO0X,EAAMjf,IAAI,SAAUuH,E,EAK5D,IAAMm7G,EAAiBhB,EAAaI,UAAUv4F,EAAWqsE,EAAOz+F,KAAK6qH,qBACjEh0C,EAAO3zE,OAETlD,KAAKgrH,eAAeljG,EAAOyjG,EAAgB10C,EAAQ,MAGnD72E,KAAKgrH,eAAeljG,EAAOyjG,EAAgB,CAAC,SAAU,MAGxDA,EAAejjH,QAAO,GAEtB,IAAM63D,EAAc,CAClBj/D,MAAOq9F,EACP4sB,YAAW,EACXjjG,QAASloB,KACTsC,OAAQtC,KAAK4U,WAEf5U,KAAK4U,UAAUmgB,KAAK,cAAeorC,GAEnCD,GAAoBlgE,KAAK8nB,MAAO,cAAeq4C,EACjD,EAKO3zD,EAAAA,UAAAA,YAAP,sBACQqqE,EAAS72E,KAAK62E,OAEpBvxE,EAAKuxE,GAAQ,SAAC31E,GACZ6V,EAAKy0G,SAAStqH,GAAO,EACvB,IAEAlB,KAAK62E,OAAS,EAChB,EAOOrqE,EAAAA,UAAAA,SAAP,SAAgB+xF,GACd,OAAOv+F,KAAK62E,OAAOvrC,SAASizD,EAC9B,EAMO/xF,EAAAA,UAAAA,UAAP,WACE,OAAOxM,KAAK62E,MACd,EAMOrqE,EAAAA,UAAAA,QAAP,WACE,OAAOxM,KAAK6G,IACd,EAMO2F,EAAAA,UAAAA,SAAP,WACE,OAAOxM,KAAKy+F,KACd,EAMOjyF,EAAAA,UAAAA,QAAP,WACQ,MAAwBxM,KAAtB8nB,EAAK,QAAEivD,EAAU,aACrB/1D,EAAO,CACTpI,EAAG,EACHC,EAAG,EACHyd,KAAM,EACNG,KAAM,EACND,KAAM,EACNE,KAAM,EACN3kB,MAAO,EACP2D,OAAQ,GAoBV,OAlBIoS,IACF9G,EAAO8G,EAAMgP,iBAEXigD,GACFA,EAAWtnE,SAAQ,SAACw5D,GAClB,IAAMwiD,EAAYxiD,EAAMnyC,gBACxB9V,EAAKpI,EAAIzR,KAAKE,IAAIokH,EAAU7yG,EAAGoI,EAAKpI,GACpCoI,EAAKnI,EAAI1R,KAAKE,IAAIokH,EAAU5yG,EAAGmI,EAAKnI,GACpCmI,EAAKsV,KAAOnvB,KAAKE,IAAIokH,EAAUn1F,KAAMtV,EAAKsV,MAC1CtV,EAAKyV,KAAOtvB,KAAKE,IAAIokH,EAAUh1F,KAAMzV,EAAKyV,MAC1CzV,EAAKwV,KAAOrvB,KAAKC,IAAIqkH,EAAUj1F,KAAMxV,EAAKwV,MAC1CxV,EAAK0V,KAAOvvB,KAAKC,IAAIqkH,EAAU/0F,KAAM1V,EAAK0V,KAC5C,IAGF1V,EAAKjP,MAAQiP,EAAKwV,KAAOxV,EAAKsV,KAC9BtV,EAAKtL,OAASsL,EAAK0V,KAAO1V,EAAKyV,KAExBzV,CACT,EAEQxU,EAAAA,UAAAA,eAAR,WACE,IAAKxM,KAAKsjF,YAAa,CACf,MAAwCtjF,KAAtCoyB,EAAS,YAAEy4E,EAAQ,WAAE0f,EAAY,eACnCmB,EAAc7gB,EAAS6gB,YACvBC,EAAmBpB,EAAaoB,iBAChCC,EAAarB,EAAa93C,MAAMrgD,IAAcm4F,EAAa93C,MAAMk5C,GACvE3rH,KAAKsjF,YAAcx0E,GAAQ,CAAC,EAAG88G,EAAYF,E,CAG7C,OAAO1rH,KAAKsjF,WACd,EAGQ92E,EAAAA,UAAAA,cAAR,SAAsB+xF,EAAmBstB,GACvC,IAAMvoC,EAActjF,KAAKkxE,iBACnB46C,EAAWv9G,GAAI+0E,EAAa,CAACib,EAAW,SAAU,CAAC,GACnDwtB,EAAaD,EAASD,IAAaC,EACzC,OAAI7lH,EAAW8lH,GACNA,EAAW/rH,MAGb+rH,CACT,EAGQv/G,EAAAA,UAAAA,cAAR,SAAsBw9G,GAAtB,WACQ3mD,EAAUrjE,KAAKqjE,QACrB,GAAIA,EAAS,CACX,IAAM2oD,EAAM3oD,EAAQ2mD,GAEpB,OAAIgC,GAEK,oBACFA,GAAG,CACNx1G,SAAU,W,MACRvQ,EAAW+lH,EAAIx1G,WAAaw1G,EAAIx1G,WACnB,QAAb,IAAKq0F,gBAAQ,SAAE91E,KAAKpiB,GAAqBs5G,mBAC3C,IAGGD,C,CAGT,OAAO,IACT,EAGQx/G,EAAAA,UAAAA,UAAR,SAAkBiyF,EAAkBwf,G,WAAA,IAAAA,IAAAA,GAAAA,GAC5B,MAAyCj+G,KAAvCuqH,EAAY,eAAE31G,EAAS,YAAEwd,EAAS,YAK1C,GAFApyB,KAAK8nB,MAAQyiG,EAAaI,UAAUv4F,EAAWqsE,EAAO7pF,GAElD5U,KAAK8nB,MAAO,CACd9nB,KAAK4qH,aAAa5qH,KAAK8nB,MAAO22E,GAE9B,IAAMnqE,EAAOt0B,KAAK8nB,MAAM7Q,IAAIrW,KAEvB0zB,EAIMnlB,GAASmlB,KAElBt0B,KAAK8nB,MAAM7Q,IAAIrW,KAAO,CAAC,UAAW0zB,IAHlCt0B,KAAK8nB,MAAM7Q,IAAIrW,KAAO,CAAC,UAAWZ,KAAKuqH,aAAar0B,cAMtD,IAAM8zB,EAAc/L,EAAW,QAAU,SACnCjrF,EAAahzB,KAAKkrH,cAAclB,GAClCh3F,IAEW,QAAb,EAAAhzB,KAAK6qG,gBAAQ,SAAE91E,KAAKpiB,GAAqBu5G,qBAEzCjC,GAAUjqH,KAAK8nB,MAAOkL,EAAY,CAChC2gE,WAAY42B,EAAa52B,WACzBpkE,SAAS,WACJvvB,KAAK8nB,MAAM6H,U,CAKxB,EAGQnjB,EAAAA,UAAAA,kBAAR,WACE,IAAKxM,KAAKwqH,eAAgB,CACxB,IAAM2B,EAAYnsH,KAAK4U,UAAU2iB,eACjCv3B,KAAKwqH,eAAiB,IAAI2B,EAAU,CAAC,E,CAGvC,OAAOnsH,KAAKwqH,cACd,EAGQh+G,EAAAA,UAAAA,aAAR,SAAqBsb,EAAwBjhB,GAA7C,WAKE,GAHAihB,EAAM7Q,IAAI8zG,OAASlkH,EAEnBihB,EAAM7Q,IAAIiR,QAAUloB,KAChB8nB,EAAMyM,UAAW,CACnB,IAAMhD,EAAWzJ,EAAMvZ,IAAI,YAC3BgjB,EAAS9hB,SAAQ,SAACsmB,GAChBhf,EAAK6zG,aAAa70F,EAAOlvB,EAC3B,G,CAEJ,EAGQ2F,EAAAA,UAAAA,eAAR,SACEwnF,EACAC,EACApd,EACA7jD,EACAnwB,GALF,I,EAAA,OAOE,QAJA,IAAAg0E,IAAAA,EAAAA,SAEA,IAAAh0E,IAAAA,EAAAA,GAEKmxF,GAAgBC,EAArB,CAIA,IAAMpjE,EAAOmjE,EAAYzlF,IAAI,aACvB69G,EAAUn4B,EAAY1lF,IAAI,aAIhC,GAFAvO,KAAKgrH,eAAen6F,EAAMu7F,EAASv1C,EAAQ7jD,GAEvCghE,EAAYz/D,UAGd,IAFA,IAAMhD,EAAWyiE,EAAYzlF,IAAI,YAC3B89G,EAAcp4B,EAAY1lF,IAAI,YAC3B9I,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IACnCzF,KAAKgrH,eAAez5F,EAAS9rB,GAAI4mH,EAAY5mH,GAAIoxE,EAAQ7jD,EAAYnwB,EAAQ4C,OAE1E,CACL,IAAKsJ,GAAQ8nE,KAAY5nE,GAAQ4nE,EAAQ,CAAC,UAAW,CACnD,IAAIy1C,EAAOt4B,EAAYzlF,IAAI,QACvBlJ,EAAQinH,KAEVA,EAAOA,EAAK,IAGdhnH,EAAKuxE,GAAQ,SAAC31E,GAEZ,GAAI+yF,EAAY1lF,IAAI,UAAY+7G,GAAkB,CAChD,IAAMn1G,EAAQ4B,EAAKw1G,cAAcrrH,EAAOorH,GAAQzpH,GAChDoxF,EAAYtkE,KAAKxa,E,CAErB,G,CAEF,IAAMyxD,EAAWQ,GAAgB4sB,EAAuBC,GAEpDj0F,KAAKqjE,QACHrwC,GACW,QAAb,EAAAhzB,KAAK6qG,gBAAQ,SAAE91E,KAAKpiB,GAAqBu5G,qBAEzCjC,GAAUj2B,EAAahhE,EAAY,CACjC2gE,WAAY3zF,KAAKuqH,aAAa52B,WAC9BpkE,QAASq3C,EACT8sB,WAAY1zF,KAAKy+F,SAET1vF,GAAQ8nE,GAMlBmd,EAAYrkE,KAAKi3C,IALjBotB,EAAYlnD,cACZknD,EAAY3wB,QAAQuD,EAAU,CAC5B3kE,SAAU,OAMd+xF,EAAYrkE,KAAKi3C,E,EAGvB,EAEQp6D,EAAAA,UAAAA,aAAR,SAAqBiyF,GACnB,IAAM32E,EAAQvZ,GAAIkwF,EAAO,SACzB,OAAOp5F,EAAQyiB,GAASA,EAAM,GAAKA,CACrC,EACF,EAveA,CAAqCzQ,I,MCV/Bm1G,GAAgE,CAAC,EACjEC,GAAqE,CAAC,EAOtE,SAAUC,GAAiB1nH,GAC/B,OAAOwnH,GAAoBxnH,EAAKsG,cAClC,CAOM,SAAUqhH,GAAsB3nH,EAAc89C,GAClD0pE,GAAoBxnH,EAAKsG,eAAiBw3C,CAC5C,CAOM,SAAU8pE,GAAuB5nH,GACrC,OAAOynH,GAA2BznH,EAAKsG,cACzC,CAOM,SAAUuhH,GAA4B7nH,EAAc8nH,GACxDL,GAA2BznH,EAAKsG,eAAiBwhH,CACnD,CCvCA,IAAMC,GAAmB,CAEvBp5B,WAAY,KAEZg4B,iBAAkB,KAElBl5C,MAAO,KAOPu6C,eAAc,SAAC56F,EAAmB66F,GAChC,IAAMnlG,EAAQ9nB,KAAK43B,SAASxF,GAC5B,OAAItK,EAAMolG,UACDplG,EAAMolG,UAAUD,GAGlBjtH,KAAKmtH,iBAAiBF,EAC/B,EAMAr1F,SAAQ,SAACxF,GACP,IAAMtK,EAAQ9nB,KAAKoyB,IAAcpyB,KAAKA,KAAK2rH,kBAG3C,OAFA7jG,EAAM6rE,WAAa3zF,KAAK2zF,WAEjB7rE,CACT,EAKAqlG,iBAAgB,WACd,MAAO,EACT,EAIAC,gBAAe,SAACC,GACd,OAAO9+G,GAAI8+G,EAAe,CAACrtH,KAAK2rH,iBAAkB,UAAW,SAAU,CAAC,EAC1E,EAQA2B,UAAS,SAACl7F,EAAmBsuD,GAC3B,IAAI54D,EAAQ9nB,KAAK43B,SAASxF,GAE1B,IAAKtK,EAAMwlG,UAAW,CACpB,IAAM3B,EAAmB3rH,KAAK2rH,iBAC9B7jG,EAAQ9nB,KAAK43B,SAAS+zF,E,CAGxB,IAAMl5C,EAAQzyE,KAAKyyE,MACbs5C,EAAax9G,GAAIkkE,EAAO,CAACrgD,EAAW,WAAY,CAAC,GACjDstD,EAAc53D,EAAMwlG,UAAU5sC,GAEpC,OAAO5xE,GAAQ,CAAC,EAAGi9G,EAAYrsC,EACjC,EASAirC,UAAS,SAACv4F,EAAmBnb,EAAgBrC,GAC3C,IAAMkT,EAAQ9nB,KAAK43B,SAASxF,GAC5B,OAAOtK,EAAM8kB,KAAK31B,EAAKrC,EACzB,GAIIsd,GAAY,CAEhByhE,WAAY,KAMZr5C,UAAS,SAACnqC,GACR,IAAMwjF,EAAa3zF,KAAK2zF,WACpB45B,EAAa11G,GAAgB1H,GAMjC,OAJEo9G,EADE55B,EAAWoB,QACA4H,GAAiBhJ,EAAY45B,GAE7B7wB,GAAkB/I,EAAY45B,GAEtCA,CACT,EAMAC,WAAU,SAACl/E,GACT,IAAMqlD,EAAa3zF,KAAK2zF,WACxB,OAAOA,EAAWsB,QAAQ3mD,EAC5B,EAMAm/E,YAAW,SAAClpG,GACV,IAAMovE,EAAa3zF,KAAK2zF,WACxB,OAAOpvE,EAAOjV,KAAI,SAACg/B,GACjB,OAAOqlD,EAAWsB,QAAQ3mD,EAC5B,GACF,EAKA1B,KAAI,SAAC31B,EAAgBrC,GAAoB,GAGrC84G,GAAkB,CAAC,EAQnB,SAAUC,GAAqBC,EAAqB32G,GACxD,IAAMkhB,EAAYxsB,GAAWiiH,GACvBC,GAAU,6BACXd,IACA91G,GAAG,CACNi/E,aAAc03B,IAGhB,OADAF,GAAgBv1F,GAAa01F,EACtBA,CACT,CASM,SAAUC,GAAcF,EAAqBx7F,EAAmBnb,GACpE,IAAMkhB,EAAYxsB,GAAWiiH,GACvB/zF,EAAU6zF,GAAgBv1F,GAC1B41F,GAAW,oBACZ77F,IACAjb,GAGL,OADA4iB,EAAQzH,GAAa27F,EACdA,CACT,CAOM,SAAUC,GAAgBJ,GAC9B,IAAMz1F,EAAYxsB,GAAWiiH,GAC7B,OAAOF,GAAgBv1F,EACzB,CC1LM,SAAUhB,GAAMtwB,EAAYu9D,EAAkB6pD,G,QAClD,QADkD,IAAAA,IAAAA,EAAAA,CAAAA,IAC7C7pD,EACH,MAAO,CAACv9D,GAEV,IAAMiD,EAASP,GAAW1C,EAAMu9D,GAC1Br6D,EAAQ,GACd,GAAsB,IAAlBq6D,EAAOlhE,QAAgB+qH,EAAiB7pD,EAAO,IAAK,CACtD,IAAMv/D,EAASopH,EAAiB7pD,EAAO,I,IACvC,IAAoB,eAAAv/D,GAAM,8BAAE,CAAvB,IAAM/D,EAAK,QACRwD,EAAMwF,EAAO,WAAIhJ,IACnBwD,GAEFyF,EAAMpF,KAAKL,E,yGAIf,IAAK,IAAMsB,KAAKkE,EACd,GAAIA,EAAOjE,eAAeD,GAAI,CAC5B,IAAMsoH,EAAYpkH,EAAOlE,GACzBmE,EAAMpF,KAAKupH,E,CAKjB,OAAOnkH,CACT,CCnBM,SAAUokH,GAAcC,EAAyBC,GACrD,OAAOjlH,GACL,CAAC,QAAS,QAAS,OAAQ,IAAK,IAAK,aAAc,OAAQ,QAAS,eAAgB,SAAU,gBAC9F,SAACtG,GACC,OAAQmM,GAAQm/G,EAAatrH,GAAMurH,EAASvrH,GAC9C,GAEJ,CCdM,SAAUwrH,GAAYzmE,GAC1B,OAAIxiD,EAAQwiD,GACHA,EAGFA,EAAMn+C,MAAM,IACrB,CCHM,SAAUkd,GAAK2nG,EAA8BzoH,GAMjD,IALA,IAAM0oH,EAAQ,GACRC,EAAU,GACVC,EAAU,GACVC,EAAc,IAAIjmH,IAEfjD,EAAI,EAAGA,EAAIK,EAAK5C,OAAQuC,IAAK,CACpC,IAAM3C,EAAMgD,EAAKL,GACb8oH,EAAQzrH,GAAM2rH,EAAQ9pH,KAAK7B,GAC1B0rH,EAAM7pH,KAAK7B,GAChB6rH,EAAY9lH,IAAI/F,GAAK,E,CAOvB,OAJAiD,OAAOD,KAAKyoH,GAAS9+G,SAAQ,SAAC3M,GACvB6rH,EAAY/lH,IAAI9F,IAAM4rH,EAAQ/pH,KAAK7B,EAC1C,IAEO,CACL0rH,MAAK,EACLC,QAAO,EACPC,QAAO,EAEX,CC2IA,mBAwGE,WAAYz3G,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAvGIF,EAAAA,KAAe,OA0BxBA,EAAAA,WAAwC,CAAC,EAEzCA,EAAAA,SAAsB,GActBA,EAAAA,YAAuC,CAAC,EAExCA,EAAAA,eAAyC,EAEtCA,EAAAA,gBAAmD,CAAC,EAUpDA,EAAAA,gBAA2C,CAAC,EAE5CA,EAAAA,gBAA0B,EAE1BA,EAAAA,kBAA4B,KAM9BA,EAAAA,QAAkC,CAAC,EAEnCA,EAAAA,SAAqB,GA2BrBA,EAAAA,WAAqB,EACnBA,EAAAA,qBAA+B,EAUrC,IAAAnC,EAoBEqC,EAAG,UAnBL0nG,EAmBE1nG,EAAG,gBAlBL08E,EAkBE18E,EAAG,WAjBLpQ,EAiBEoQ,EAAG,KAhBLkT,EAgBElT,EAAG,SAhBL23G,OAAQ,IAAG,GAAK,EAChB17F,EAeEjc,EAAG,QAfLE,OAAO,IAAG,GAAI,EACds7D,EAcEx7D,EAAG,MAbLhX,EAaEgX,EAAG,OAbLswC,OAAM,IAAG,GAAC,EAAC,EACXzJ,EAYE7mC,EAAG,UAZLggG,OAAS,IAAG,GAAC,EAAC,EAEd1zD,EAUEtsC,EAAG,gBATLusC,EASEvsC,EAAG,aARL2sC,EAQE3sC,EAAG,eAPL4sC,EAOE5sC,EAAG,eANL6sC,EAME7sC,EAAG,iBALLkzF,EAKElzF,EAAG,eAJLmzF,EAIEnzF,EAAG,sBAHLo0G,EAGEp0G,EAAG,eAFLm0G,EAEEn0G,EAAG,WADL43G,EACE53G,EAAG,iB,OAEPF,EAAKnC,UAAYA,EACjBmC,EAAK4nG,gBAAkBA,EACvB5nG,EAAK48E,WAAaA,EAClB58E,EAAKlQ,KAAOA,EACZkQ,EAAK63G,SAAWA,EAChB73G,EAAKI,QAAUA,EACfJ,EAAK+3G,UAAYr8C,EACjB17D,EAAKwwC,OAASA,EACdxwC,EAAKkgG,UAAYA,EAEjBlgG,EAAKwsC,gBAAkBA,EACvBxsC,EAAKysC,aAAeA,EACpBzsC,EAAK6sC,eAAiBA,EACtB7sC,EAAK8sC,eAAiBA,EACtB9sC,EAAK+sC,iBAAmBA,EACxB/sC,EAAKozF,eAAiBA,EACtBpzF,EAAKqzF,sBAAwBA,EAC7BrzF,EAAKs0G,eAAiBA,EACtBt0G,EAAKq0G,WAAaA,EAClBr0G,EAAK83G,iBAAmBA,EAAgD,kBAArBA,EAAgCA,EAAmBt4F,IAAY,K,CACpH,CAmyDF,OAz7DyEnf,EAAAA,EAAAA,IAAAA,EAAAA,GAwKhE23G,EAAAA,UAAAA,SAAP,SAAgB93G,GACd,IAAI+3G,EAAc/3G,EACb5Q,EAAc4Q,KAEjB+3G,EAAc,CACZ5qD,OAAQkqD,GAAYr3G,KAIxB,IAAMmtD,EAAS71D,GAAIygH,EAAa,UAQhC,OAPsB,IAAlB5qD,EAAOlhE,SAETkhE,EAAOt+C,QAAQ,KACfjd,GAAImmH,EAAa,SAAU5qD,IAE7Bv7D,GAAI7I,KAAKivH,gBAAiB,WAAYD,GAE/BhvH,IACT,EAiDO+uH,EAAAA,UAAAA,MAAP,SAAalnE,EAAiC5wC,GAG5C,OAFAjX,KAAKkvH,iBAAiB,QAASrnE,EAAO5wC,GAE/BjX,IACT,EA+CO+uH,EAAAA,UAAAA,MAAP,SAAalnE,EAAiC5wC,GAG5C,OAFAjX,KAAKkvH,iBAAiB,QAASrnE,EAAO5wC,GAE/BjX,IACT,EA8CO+uH,EAAAA,UAAAA,KAAP,SAAYlnE,EAA0C5wC,GAGpD,OAFAjX,KAAKkvH,iBAAiB,OAAQrnE,EAAO5wC,GAE9BjX,IACT,EA+CO+uH,EAAAA,UAAAA,OAAP,SAAcI,GACZ,IAAIC,EAAeD,EAWnB,OAVIhgH,GAASggH,IAAc9oH,EAAc8oH,MACvCC,EAAU,CAACD,IAEb7pH,EAAK8pH,GAAS,SAAC9N,EAAQz+G,GAChB8C,EAAS27G,KACZ8N,EAAQvsH,GAAS,CAAEmC,KAAMs8G,GAE7B,IAEAthH,KAAKqvH,aAAeD,EACbpvH,IACT,EA+CO+uH,EAAAA,UAAAA,MAAP,SAAalnE,EAA2CynE,GACtD,GAAIngH,GAAS04C,GAAQ,CACnB,IAAMuc,EAASkqD,GAAYzmE,GAC3B7nD,KAAKuvH,YAAc,CACjBnrD,OAAM,EACN5tD,SAAU84G,E,KAEP,CACC,MAA4BznE,EAAlBrxC,GAAR4tD,EAAM,SAAU,YAAEntD,EAAG,MAE3BjX,KAAKuvH,YADHnrD,GAAU5tD,GAAYS,EACL4wC,EAEA,CACjB5wC,IAAK4wC,E,CAKX,OAAO7nD,IACT,EA8EO+uH,EAAAA,UAAAA,QAAP,SAAelnE,EAAiD5wC,GAC9D,GAAI9H,GAAS04C,GAAQ,CACnB,IAAMuc,EAASkqD,GAAYzmE,GAC3B7nD,KAAKo4G,cAAgB,CACnBh0C,OAAM,EACN5tD,SAAUS,E,MAGZjX,KAAKo4G,cAAgBvwD,EAGvB,OAAO7nD,IACT,EA2BO+uH,EAAAA,UAAAA,QAAP,SAAe93G,GAEb,OADAjX,KAAKujE,cAAgBtsD,EACdjX,IACT,EAsCO+uH,EAAAA,UAAAA,MAAP,SACElnE,EACA2nE,EACAC,GAEA,GAAItgH,GAAS04C,GAAQ,CACnB,IAAM6nE,EAA2B,CAAC,EAC5BtrD,EAASkqD,GAAYzmE,GAC3B6nE,EAAYtrD,OAASA,EACjBn+D,EAAWupH,GACbE,EAAYl5G,SAAWg5G,EACdnpH,EAAcmpH,KACvBE,EAAYz4G,IAAMu4G,GAGhBC,IACFC,EAAYz4G,IAAMw4G,GAEpBzvH,KAAK0vH,YAAcA,C,MAEnB1vH,KAAK0vH,YAAc7nE,EAGrB,OAAO7nD,IACT,EAkCO+uH,EAAAA,UAAAA,MAAP,SAAa93G,GAEX,OADAjX,KAAK0rH,YAAcz0G,EACZjX,IACT,EAuBO+uH,EAAAA,UAAAA,WAAP,SAAkB93G,GAEhB,OADAjX,KAAK2vH,aAAe14G,EACbjX,IACT,EAMO+uH,EAAAA,UAAAA,KAAP,SAAY93G,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GACVjX,KAAK4vH,OAAO34G,GACZjX,KAAK6vH,iBAGL7vH,KAAK8vH,YAAY9vH,KAAK6G,MAGtB7G,KAAK+vH,aACP,EAMOhB,EAAAA,UAAAA,OAAP,SAAc93G,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GACJ,IAAApQ,EAA6CoQ,EAAG,KAA1CwnG,EAAuCxnG,EAAG,cAA3BynG,EAAwBznG,EAAG,oBAClD,EAA2CjX,KAAzCivH,EAAe,kBAAEe,EAAmB,sBAEvC/gH,GAAQggH,EAAiBe,IAGnBnpH,IAAS43G,GAAkBxvG,GAAQpI,EAAM7G,KAAK6G,MAOvD7G,KAAK4vH,OAAO34G,IALZjX,KAAK4vH,OAAO34G,GACZjX,KAAK6vH,iBACL7vH,KAAK8vH,YAAYjpH,IALjB7G,KAAKqI,KAAK4O,GAYZjX,KAAK+vH,cACL/vH,KAAK0+G,oBAAsBA,CAC7B,EAKOqQ,EAAAA,UAAAA,MAAP,SAAa9Q,GAAb,gBAAa,IAAAA,IAAAA,GAAAA,GACPj+G,KAAKujE,gBACPvjE,KAAKujE,cAAgBz0D,GAAQ,CAAC,EAAGi7G,GAAqB/pH,KAAKgF,KAAMhF,KAAK2zF,YAAa3zF,KAAKujE,gBAG1FvjE,KAAK2jD,iBAAcx+C,EACnBnF,KAAK24G,YAAc,CAAC,EACpB34G,KAAKuF,SAAW,GAChB,IAAMilH,EAAiBxqH,KAAK6qH,oBAC5BL,EAAezyF,QAEf,IAAMk4F,EAAoBjwH,KAAKiwH,kBACzB1tE,EAAYviD,KAAKkwH,cAAcD,GAErCjwH,KAAKuiD,UAAY,IAAIn9C,MAAMm9C,EAAUr/C,QACrC,IAAK,IAAIuC,EAAI,EAAGA,EAAI88C,EAAUr/C,OAAQuC,IAAK,CACzC,IAAMoB,EAAO07C,EAAU98C,GACvBzF,KAAKuiD,UAAU98C,GAAKzF,KAAKmwH,QAAQtpH,E,CAKnC,GAHA7G,KAAKolE,eAAeplE,KAAKuiD,UAAW07D,GACpCj+G,KAAKowH,gBAAkBpwH,KAAK24G,YAExB34G,KAAKqwH,oBAAoBpS,GAAW,CAEtC,IAAMrpG,EAAY5U,KAAK4U,UACjB5P,EAAOhF,KAAKgF,KACZ2uF,EAAa3zF,KAAK2zF,WAClB3gE,EAAazkB,GAAIvO,KAAKujE,cAAe,UACrCwyC,EAAS/1G,KAAKg2G,YACdsa,EAAY38B,EAAWsB,QAAQ,CACnCr8E,EAAG,EACHC,EAAGk9F,EAAOjpF,MAAM9sB,KAAKuwH,kBAEvBnG,GAAqBx1G,EAAWoe,EAAYhuB,EAAM2uF,EAAY28B,E,CAIhE,GAAItwH,KAAK0vH,YAAa,CACpB,IAAMc,EAAWxwH,KAAK6uH,iBAChBr4G,EAAY,WAAM,SAAKi6G,aAAa3pH,EAAQiQ,EAAKwrC,WAAyC07D,EAAxE,EAAmFplF,KAAK74B,MAChH,GAAwB,kBAAbwwH,EAAuB,CAEhC,IAAM5iH,EAA+B,kBAAb4iH,GAAyBA,IAAaj6F,IAAYi6F,EAAW,EACrF,GAAK5jH,OAAO8jH,oBAEL,CACL,IAAMrgH,EAAUzC,GAAWA,IAAY2oB,IAAW,CAAE3oB,QAAO,QAAKzI,EAChEyH,OAAO8jH,oBAAoBl6G,EAAUnG,E,MAHrCpD,WAAWuJ,EAAU5I,E,MAMvB4I,G,CAKJxW,KAAKgwH,qBAAsB,WACtBhwH,KAAKivH,kBAGW,IAAjBjvH,KAAKmX,SAEPnX,KAAKsX,eAAc,EAEvB,EAMOy3G,EAAAA,UAAAA,MAAP,WACQ,MAA+C/uH,KAA7C4U,EAAS,YAAE+7G,EAAa,gBAAEnG,EAAc,iBAC5C51G,GACFA,EAAUmjB,QAGR44F,GACFA,EAAc54F,QAGZyyF,GACFA,EAAezyF,QAIjB/3B,KAAKi3G,eAAY9xG,EACjBnF,KAAK42G,WAAa,CAAC,EACnB52G,KAAKunD,OAAS,CAAC,EACfvnD,KAAK24G,YAAc,CAAC,EACpB34G,KAAKowH,gBAAkB,CAAC,EACxBpwH,KAAKuF,SAAW,GAChBvF,KAAKovH,QAAU,CAAC,EAChBpvH,KAAKuiD,UAAY,KACjBviD,KAAKiwH,kBAAoB,KACzBjwH,KAAKgwH,yBAAsB7qH,EAC3BnF,KAAK2jD,iBAAcx+C,EACnBnF,KAAK4wH,SAAW,GAChB5wH,KAAKw3G,iBAAcryG,EACnBnF,KAAK6wH,WAAY,EACjB7wH,KAAK0+G,qBAAsB,CAC7B,EAKOqQ,EAAAA,UAAAA,QAAP,WACE/uH,KAAK+3B,QACL,IAAMnjB,EAAY5U,KAAK4U,UACvBA,EAAUtM,QAAO,GAEbtI,KAAKwqH,iBACPxqH,KAAKwqH,eAAeliH,QAAO,GAC3BtI,KAAKwqH,eAAiB,MAGpBxqH,KAAK2wH,gBACP3wH,KAAK2wH,cAAcl/F,UACnBzxB,KAAK2wH,cAAgB,MAEvB3wH,KAAKyyE,WAAQttE,EACbnF,KAAKuqH,kBAAeplH,EAEpB+R,EAAAA,UAAMua,QAAO,UACf,EAMOs9F,EAAAA,UAAAA,eAAP,WACE,OAAO/uH,KAAKw3G,WACd,EAKOuX,EAAAA,UAAAA,aAAP,SAAoBnuH,GAClB,OAAOZ,KAAK42G,WAAWh2G,EACzB,EAGOmuH,EAAAA,UAAAA,UAAP,WACE,OAAO/uH,KAAKy9D,aAAa,YAAYlW,OAAO,EAC9C,EAGOwnE,EAAAA,UAAAA,UAAP,WACE,OAAO/uH,KAAKy9D,aAAa,YAAYlW,OAAO,EAC9C,EAKOwnE,EAAAA,UAAAA,mBAAP,WACE,IAAMvpH,EAAM,GAMZ,OALAF,EAAKtF,KAAK42G,YAAY,SAACjnF,GACjBrc,GAAYg4B,SAAS3b,EAAK3qB,OAC5BQ,EAAIb,KAAKgrB,EAEb,IACOnqB,CACT,EAGOupH,EAAAA,UAAAA,gBAAP,SAAuB+B,GACrB,IAAIhwH,EACE6uB,EAAO3vB,KAAKy9D,aAAaqzD,GAK/B,OAJInhG,GAAQ5gB,GAAQ4gB,EAAK43B,UAEvBzmD,EAAQ6uB,EAAK9qB,OAAO,IAEf/D,CACT,EAQOiuH,EAAAA,UAAAA,mBAAP,SAA0Bp/F,EAAiB3pB,GAGzC,IAFA,IAAMuS,EAAS,GACTgvC,EAAS53B,EAAK43B,OACX1kD,EAAQ,EAAGmU,EAASuwC,EAAOrkD,OAAQL,EAAQmU,EAAQnU,IAAS,CACnE,IAAMiqB,EAAQy6B,EAAO1kD,GACfglD,EAAQ/6B,EAAM+6B,MAChB/6B,EAAM23F,WACRlsG,EAAO5T,KAAKmoB,EAAMjoB,QAElB0T,EAAO5T,KAAKqB,EAAI6hD,G,CAIpB,OAAOl4B,EAAKwgG,QAAO,MAAZxgG,GAAI,oBAAYpX,IAAM,GAC/B,EAOOw2G,EAAAA,UAAAA,UAAP,SAAiBgC,GACf,OAAO/wH,KAAKovH,QAAQ2B,EACtB,EAMOhC,EAAAA,UAAAA,cAAP,WACE,OAAO/uH,KAAK2zF,UACd,EAEOo7B,EAAAA,UAAAA,QAAP,WACE,OAAO/uH,KAAK6G,IACd,EAQOkoH,EAAAA,UAAAA,eAAP,SAAsBiC,EAAmB/5G,GACvC,IAAMszG,EAAevqH,KAAKguH,kBAC1B,OAAOzD,EAAa+C,UAAU0D,EAAW/5G,EAC3C,EAgBO83G,EAAAA,UAAAA,cAAP,SAAqBzlH,GACnB,OAAOtJ,KAAKuF,SAASf,QAAO,SAAC0jB,GAAY,OAAA5e,EAAU4e,EAAV,GAC3C,EASO6mG,EAAAA,UAAAA,YAAP,WACE,OAAO/uH,KAAKuF,QACd,EAOOwpH,EAAAA,UAAAA,aAAP,SAAoBloH,GAClBA,EAAOxB,EAAQwB,GAAQA,EAAK,GAAKA,EACjC,IAAMovG,EAAapvG,EAAK0M,IAGxB,GAAIvT,KAAK4wH,SAAS1tH,OAAQ,CAExB,IADA,IAAI6jE,EAAYkvC,EAAWj2G,KAAK4wH,SAAS,IAChC/tH,EAAQ,EAAGA,EAAQ7C,KAAK4wH,SAAS1tH,OAAQL,IAChDkkE,GAAa,IAAMkvC,EAAWj2G,KAAK4wH,SAAS/tH,IAG9C,OAAOkkE,C,CAGT,IAMIkqD,EAOA39F,EAbEtuB,EAAOhF,KAAKgF,KACZ4wG,EAAS51G,KAAK61G,YACdE,EAAS/1G,KAAKg2G,YACdn0D,EAAS+zD,EAAO/tD,OAAS,IACzBnG,EAASq0D,EAAOluD,OAAS,IACzBqpE,EAAOjb,EAAWv0D,GAGtBuvE,EADkB,aAAhBrb,EAAO5wG,KACF4wG,EAAO/wG,OAAO,GAEdoxG,EAAWp0D,GAKlBvuB,EADW,aAATtuB,GAAgC,WAATA,EACpB,UAAGisH,GACU,SAATjsH,GAA4B,SAATA,GAA4B,SAATA,EAC1CA,EAEA,UAAGisH,EAAI,YAAIC,GAKlB,IAFA,IAAM1Z,EAAcx3G,KAAKw3G,YAEL2Z,GAAXtuH,EAAQ,EAAY20G,EAAYt0G,QAAQL,EAAQsuH,EAAQtuH,IAAS,CACxE,IAAMuuH,EAAa5Z,EAAY30G,GACzBglD,EAAQupE,EAAWvpE,MACzBv0B,EAAK,UAAGA,EAAE,YAAI2iF,EAAWpuD,G,CAI3B,IAAMwpE,EAAcrxH,KAAK4iD,UAAU,SACnC,GAAIyuE,EAAa,CACf,IAAM/tE,EAAU+tE,EAAY/tE,QACxBA,IACFhwB,EAAK,UAAGA,EAAE,YAAI2iF,EAAW3yD,I,CAQ7B,OAJItjD,KAAK4iD,UAAU,YACjBtvB,EAAK,UAAGA,EAAE,YAAIzsB,EAAK+R,EAAC,YAAI/R,EAAKgS,IAGxBya,CACT,EAKOy7F,EAAAA,UAAAA,eAAP,WACE,IAAM3qD,EAAS,GACTt7D,EAAS,IAAIJ,IACb,EAAkD1I,KAAhDivH,EAAe,kBAAES,EAAW,cAAEtX,EAAa,gBAEnD,IAAK,IAAMkZ,KAAiBrC,EAC1B,GAAIA,EAAgBppH,eAAeyrH,GAAgB,CACjD,IAAMC,EAAUtC,EAAgBqC,GAC5BC,EAAQntD,OACV57D,GAAK+oH,EAAQntD,OAAQA,EAAQt7D,GACpByoH,EAAQ1sH,QAEjB2D,GAAK+oH,EAAQ1sH,OAAQu/D,EAAQt7D,E,CAcnC,OATI4mH,GAAeA,EAAYtrD,QAC7B57D,GAAKknH,EAAYtrD,OAAQA,EAAQt7D,GAI/BnD,EAASyyG,IAAkBA,EAAch0C,QAC3C57D,GAAK4vG,EAAch0C,OAAQA,EAAQt7D,GAG9Bs7D,CACT,EAMO2qD,EAAAA,UAAAA,cAAP,SAAqB53G,GACnBD,EAAAA,UAAMI,cAAa,UAACH,GAEpB,IADA,IAAM5R,EAAWvF,KAAKuF,SACb1C,EAAQ,EAAG2uH,EAASjsH,EAASrC,OAAQL,EAAQ2uH,EAAQ3uH,IAAS,CACrE,IAAMqlB,EAAU3iB,EAAS1C,GACzBqlB,EAAQ5Q,cAAcH,E,CAEpBA,GACEnX,KAAK4U,WACP5U,KAAK4U,UAAUovD,OAEbhkE,KAAK2+G,iBACP3+G,KAAK2+G,gBAAgB36C,SAGnBhkE,KAAK4U,WACP5U,KAAK4U,UAAUqvD,OAEbjkE,KAAK2+G,iBACP3+G,KAAK2+G,gBAAgB16C,OAG3B,EAKO8qD,EAAAA,UAAAA,UAAP,WACE,IAAM0C,EAAU,IAAI/oH,IACd07D,EAAS,GAYf,OAVAr+D,OAAOlB,OAAO7E,KAAKivH,iBAAiBx/G,SAAQ,SAACwH,GAC3C,IAAMy6G,GAAQ,OAAHz6G,QAAG,IAAHA,OAAG,EAAHA,EAAKmtD,SAAU,GAC1BstD,EAAGjiH,SAAQ,SAACzC,GACLykH,EAAQ7oH,IAAIoE,IACfo3D,EAAOz/D,KAAKqI,GAEdykH,EAAQ5oH,IAAImE,GAAG,EACjB,GACF,GAAG,IAEIo3D,CACT,EAMO2qD,EAAAA,UAAAA,eAAP,WAGE,IAFA,IAAM5K,EAAc,GACdr7G,EAAS,IAAIJ,IACV7F,EAAQ,EAAG8uH,EAASr+G,GAAYpQ,OAAQL,EAAQ8uH,EAAQ9uH,IAAS,CACxE,IAAM+uH,EAAgBt+G,GAAYzQ,GAC5BoU,EAAMjX,KAAKivH,gBAAgB2C,GAC7B36G,GAAOA,EAAImtD,QACb57D,GAAKyO,EAAImtD,OAAQ+/C,EAAar7G,E,CAIlC,OAAOq7G,CACT,EAKO4K,EAAAA,UAAAA,YAAP,WACQ,eAAS/uH,KAAKivH,gBAAgBlqE,SAASqf,OAAM,GAA5CxrD,EAAC,KAAEC,EAAC,KACX,MAAO,CAACD,EAAGC,EACb,EAMOk2G,EAAAA,UAAAA,UAAP,WACE,OAAOxgH,GAAIvO,KAAKm6F,cAAe,CAAC,GAClC,EAMO40B,EAAAA,UAAAA,UAAP,WACE,OAAOxgH,GAAIvO,KAAKm6F,cAAe,CAAC,GAClC,EAMO40B,EAAAA,UAAAA,UAAP,WACE,OAAO/uH,KAAKuF,SAAS+J,KAAI,SAAC4Y,GAAqB,OAAAA,EAAQJ,KAAR,GACjD,EAMOinG,EAAAA,UAAAA,kBAAP,WACE,IAAK/uH,KAAKwqH,eAAgB,CACxB,IAAM2B,EAAYnsH,KAAK4U,UAAU2iB,eACjCv3B,KAAKwqH,eAAiB,IAAI2B,EAAU,CAAC,E,CAEvC,OAAOnsH,KAAKwqH,cACd,EAGOuE,EAAAA,UAAAA,KAAP,SAAY8C,GACV,IAAK7xH,KAAK6wH,UAIR,IAFA,IAAMiB,EAAS9xH,KAAK61G,YACdkc,EAASD,EAAOjqE,MACbhlD,EAAQ,EAAGA,EAAQgvH,EAAa3uH,OAAQL,IAAS,CACxD,IAAMknD,EAAU8nE,EAAahvH,GAC7BknD,EAAQz4B,MAAK,SAACvL,EAAaC,GACzB,OAAO8rG,EAAOv8F,UAAUxP,EAAKxS,IAAcw+G,IAAWD,EAAOv8F,UAAUvP,EAAKzS,IAAcw+G,GAC5F,G,CAIJ/xH,KAAK6wH,WAAY,CACnB,EAKU9B,EAAAA,UAAAA,YAAV,WACE,IAAMhZ,EAAS/1G,KAAKg2G,YAEhBD,GAAU/1G,KAAK4iD,UAAU,UAC3B5iD,KAAKgyH,iBAAiBjc,EAAQ/1G,KAAKiwH,kBAEvC,EAKUlB,EAAAA,UAAAA,gBAAV,WACE,IAAM38F,EAAYpyB,KAAKoyB,UACvB,GAAK47F,GAAgB57F,GAWrB,OARKpyB,KAAKuqH,eACRvqH,KAAKuqH,aAAe/8G,GAAMwgH,GAAgB57F,KAG5CpyB,KAAKuqH,aAAa52B,WAAa3zF,KAAK2zF,WAEpC3zF,KAAKuqH,aAAa93C,MAAQzyE,KAAKyyE,MAAMwnB,WAAW7nE,IAAc,CAAC,EAExDpyB,KAAKuqH,YACd,EAOUwE,EAAAA,UAAAA,qBAAV,SAA+B/oH,GAC7B,IAGI6S,EAHE+8F,EAAS51G,KAAK61G,YACdE,EAAS/1G,KAAKg2G,YACdp9F,EAAI5Y,KAAKiyH,gBAAgBjsH,EAAI4vG,EAAO/tD,OAAQ+tD,GASlD,OALE/8F,EADEk9F,EACE/1G,KAAKiyH,gBAAgBjsH,EAAI+vG,EAAOluD,OAAQkuD,GAExC/vG,EAAI6S,EAAI7S,EAAI6S,EAAI,GAGf,CACLD,EAAC,EACDC,EAAC,EACDqH,GAAI61F,EAASA,EAAOjpF,MAAM9sB,KAAKuwH,qBAAkBprH,EAErD,EAQU4pH,EAAAA,UAAAA,cAAV,SAAwBmD,EAA4BrvH,EAAeo7G,QAAA,IAAAA,IAAAA,GAAAA,GACzD,IAAArpG,EAAc5U,KAAI,UAEpBmyH,EAAWnyH,KAAKoyH,WAAWF,GAC3B3H,EAAevqH,KAAKguH,kBAEpB9lG,EAAU,IAAI1b,GAAQ,CAC1B+9G,aAAY,EACZ31G,UAAS,EACT41G,eAAgBxqH,KAAK6qH,oBACrBJ,aAAc5nH,IAMhB,OAJAqlB,EAAQm7C,QAAUrjE,KAAKujE,cACvBr7C,EAAQ2iF,SAAW7qG,KACnBkoB,EAAQ0kB,KAAKulF,EAAUlU,GAEhB/1F,CACT,EAOU6mG,EAAAA,UAAAA,WAAV,SAAqBmD,GACnB,IAAMjc,EAAaic,EAAa3+G,IAC1B0D,EAAiB,CACrBqhG,YAAa4Z,EACbrrH,KAAMovG,EACNr9F,EAAGs5G,EAAat5G,EAChBC,EAAGq5G,EAAar5G,EAChB6rB,MAAOwtF,EAAaxtF,MACpB11B,KAAMkjH,EAAaljH,KACnB0sF,WAAY17F,KAAK2zF,WAAWoB,QAC5Bs9B,WAAYryH,KAAK2vH,cAGfqB,EAAYkB,EAAapqG,OACxBkpG,GAAahxH,KAAKguH,oBACrBgD,EAAYhxH,KAAKguH,kBAAkBrC,kBAErC10G,EAAI6Q,MAAQkpG,EAEZ,IAAMv+C,EAAQzyE,KAAKyyE,MAAMwnB,WAAWj6F,KAAKoyB,WACzCnb,EAAIq7G,aAAe/jH,GAAIkkE,EAAO,CAACu+C,EAAW,WAAY,CAAC,GAAG77G,OACrD8B,EAAIq7G,cAAgBtyH,KAAKguH,oBAC5B/2G,EAAIq7G,aAAetyH,KAAKguH,kBAAkBZ,gBAAgB36C,IAG5D,IAAM88C,EAAcvvH,KAAKuvH,YASzB,OARIA,IACFt4G,EAAI9B,MAAQnV,KAAKuyH,YAAYhD,EAAatZ,IAExCj2G,KAAKwyH,iBACPv7G,EAAIsN,OAAS2tG,EAAa3tG,OAC1BtN,EAAIw7G,WAAaP,EAAaO,YAGzBx7G,CACT,EAEU83G,EAAAA,UAAAA,eAAV,SAAyB2D,EAAoCzU,G,qBAAA,IAAAA,IAAAA,GAAAA,GAU3D,IATA,IAAM0U,EAAW,IAAIjqH,IACf5C,EAAiB,GAGjB8sH,EAAW,IAAIlqH,IACjB7F,EAAQ,EAIH4C,EAAI,EAAGA,EAAIitH,EAAiBxvH,OAAQuC,IAE3C,IADA,IAAM6yG,EAAcoa,EAAiBjtH,GAC5BsD,EAAI,EAAGA,EAAIuvG,EAAYp1G,OAAQ6F,IAAK,CAC3C,IAAMmpH,EAAe5Z,EAAYvvG,GAC3BjG,EAAM9C,KAAKglE,aAAaktD,GACxBW,EAAWF,EAAS/pH,IAAI9F,GAAO,UAAGA,EAAG,YAAI2C,EAAC,YAAIsD,GAAMjG,EAC1DgD,EAAKnB,KAAKkuH,GACVF,EAAS9pH,IAAIgqH,EAAUX,GACvBU,EAAS/pH,IAAIgqH,EAAUhwH,GACvBA,G,CAIJ7C,KAAKuF,SAAW,IAAIH,MAAMvC,GAEpB,MAA8B+jB,GAAK5mB,KAAKowH,gBAAiBtqH,GAAvD0oH,EAAK,QAAEC,EAAO,UAAEC,EAAO,U,IAG/B,IAAkB,eAAAF,GAAK,8BAAE,CAAd1rH,EAAG,QACNovH,EAAeS,EAASpkH,IAAIzL,GAC5B2C,EAAImtH,EAASrkH,IAAIzL,GAFpB,IAGGolB,EAAUloB,KAAK0R,cAAcwgH,EAAczsH,EAAGw4G,GACpDj+G,KAAKuF,SAASE,GAAKyiB,EACnBloB,KAAK24G,YAAY71G,GAAOolB,EACpBA,EAAQJ,OACVI,EAAQJ,MAAMjf,IAAI,SAAU7I,KAAKqrH,eAAiBrrH,KAAKuF,SAASrC,OAASuC,EAAIA,E,uGAKjF,IAAkB,eAAAgpH,GAAO,8BAAE,CAAhB3rH,EAAG,QACNolB,EAAUloB,KAAKowH,gBAAgBttH,GAC/BovH,EAAeS,EAASpkH,IAAIzL,GAF/B,IAGGgwH,EAAkB9yH,KAAKoyH,WAAWF,GAClCa,EAAc7qG,EAAQw2E,WACtBj5F,EAAImtH,EAASrkH,IAAIzL,IACnB9C,KAAK0+G,qBAAuByP,GAAc2E,EAAiBC,MAC7D7qG,EAAQm7C,QAAUrjE,KAAKujE,cAEvBr7C,EAAQikB,OAAO2mF,IAEjB9yH,KAAKuF,SAASE,GAAKyiB,EACnBloB,KAAK24G,YAAY71G,GAAOolB,EACpBA,EAAQJ,OACVI,EAAQJ,MAAMjf,IAAI,SAAU7I,KAAKqrH,eAAiBrrH,KAAKuF,SAASrC,OAASuC,EAAIA,E,mGAK7EzF,KAAK4U,WACP5U,KAAK4U,UAAU0c,O,IAIjB,IAAkB,eAAAo9F,GAAO,8BAAE,CAAhB5rH,EAAG,QACNolB,EAAUloB,KAAKowH,gBAAgBttH,GAErColB,EAAQm7C,QAAUrjE,KAAKujE,cACvBr7C,EAAQuJ,S,mGAEZ,EAKUs9F,EAAAA,UAAAA,aAAV,WACQ,MAAoC/uH,KAAlC0vH,EAAW,cAAE/7B,EAAU,aAAE3uF,EAAI,OACvBk1F,EAAiCvG,EAAU,KAA3B91B,EAAiB81B,EAAU,aACrDq/B,EAAYzkH,GAAImhH,EAAa,CAAC,MAAO,SAgBzC,OAfKsD,IAIDA,EAFqB,UAAnB94B,EAEUr8B,EAAe,MAAQ,QACP,UAAnBq8B,EAEG,MACM,aAATl1F,GAAgC,YAATA,EACpB,WAEA,QAITguH,CACT,EAKUjE,EAAAA,UAAAA,aAAV,WACE,IAEIjuH,EAFEi1G,EAAS/1G,KAAKg2G,YACZ3uG,EAAa0uG,EAAM,IAAd3uG,EAAQ2uG,EAAM,IAW3B,OAPEj1G,EADEuG,GAAO,EACDA,EACCD,GAAO,EAERA,EAEA,EAEHtG,CACT,EAGUiuH,EAAAA,UAAAA,iBAAV,SAA2B+B,EAAkBjpE,EAA0C5wC,GACrF,GAAI/R,EAAM2iD,IAAUliD,EAASkiD,GACvBliD,EAASkiD,IAAU54C,GAAQlJ,OAAOD,KAAK+hD,GAAQ,CAAC,WAElDh/C,GAAI7I,KAAKivH,gBAAiB6B,EAAU,CAClC1sD,OAAQvc,EAAMhjD,SAGhBgE,GAAI7I,KAAKivH,gBAAiB6B,EAAUjpE,OAEjC,CACL,IAAMorE,EAA2B,CAAC,EAC9B3oH,GAASu9C,GAEXorE,EAAQpuH,OAAS,CAACgjD,GAElBorE,EAAQ7uD,OAASkqD,GAAYzmE,GAG3B5wC,IACEhR,EAAWgR,GACbg8G,EAAQz8G,SAAWS,EAEnBg8G,EAAQpuH,OAASoS,GAIrBpO,GAAI7I,KAAKivH,gBAAiB6B,EAAUmC,E,CAExC,EAEUlE,EAAAA,UAAAA,eAAV,sBACQ,EAAoD/uH,KAAlD42G,EAAU,aAAEqY,EAAe,kBAAEx8C,EAAK,QAAErgD,EAAS,YACrDpyB,KAAKw3G,YAAc,GACnB,IAAM1uG,EAAS,CAAC,E,WAGLmtF,GACT,GAAIg5B,EAAgBppH,eAAeowF,GAAW,CAC5C,IAAMwjB,EAA0BwV,EAAgBh5B,GAChD,IAAKwjB,E,qBAGL,IAAMwZ,GAAO,WACRxZ,GAEGjjG,EAAkCy8G,EAAO,SAA/BpuH,EAAwBouH,EAAO,OAAvB//F,EAAgB+/F,EAAO,OAAvB7uD,OAAM,IAAG,KAAE,EAG/B7c,EAAS6c,EAAO90D,KAAI,SAACu4C,GACzB,IAAM/6B,EAAQ/V,EAAKwwC,OAAOM,GAC1B,IAAK/+C,EAAO++C,IAAUv0C,GAAYg4B,SAAS2qD,GAAW,CACpD,IAAMihB,EAAmBnhB,GAAejpE,EAAOve,GAAIwI,EAAKkgG,UAAWpvD,GAAQouC,EAAUl/E,EAAK/R,MACjE,QAArBkyG,IACFngG,EAAKygG,YAAY7yG,KAAKmoB,GACtBhkB,EAAO++C,IAAS,E,CAGpB,OAAO/6B,CACT,IAEAmmG,EAAQ1rE,OAASA,EAEA,aAAb0uC,GAA6C,IAAlB1uC,EAAOrkD,QAAmC,aAAnBqkD,EAAO,GAAGviD,KAE9DiuH,EAAQpuH,OAAS0iD,EAAO,GAAG1iD,OACjB2R,GAAa3R,IAEN,SAAboxF,EACFg9B,EAAQpuH,OAAS4tE,EAAMm4B,MACD,UAAb3U,EACTg9B,EAAQpuH,OAAS4tE,EAAMk4B,OAAOv4E,IAAc,GACtB,UAAb6jE,IACL1uC,EAAOrkD,OAET+vH,EAAQpuH,OAAS0iD,EAAO,GAAG1iD,OAAO3B,QAAU,GAAKuvE,EAAM43B,SAAW53B,EAAM83B,SAExE0oB,EAAQpuH,OAAS4tE,EAAM43B,WAI7B,IAAM6oB,EAAgBC,GAAkBl9B,GACxC2gB,EAAW3gB,GAAY,IAAIi9B,EAAcD,E,GA7C7C,IAAK,IAAMh9B,KAAYg5B,EAAiB,C,QAA7Bh5B,G,sCAgDb,EAGQ84B,EAAAA,UAAAA,YAAR,SAAoBloH,G,QAClB7G,KAAK6wH,WAAY,EAMjB,IALQ,IAAAtpE,EAAWvnD,KAAKy9D,aAAa,YAAW,OAC1C21D,EAAiB7rE,EAAO/iD,QAAO,SAACsoB,GAAiB,OAAAA,EAAMm7B,UAAN,IAEjDorE,EAAerzH,KAAKykD,UAAU59C,GAC9BysH,EAAe,GACZ7tH,EAAI,EAAGC,EAAM2tH,EAAanwH,OAAQuC,EAAIC,EAAKD,IAAK,CAGvD,IAFA,IAAM8tH,EAAUF,EAAa5tH,GACvBnB,EAAM,GACHyE,EAAI,EAAGyqH,EAASD,EAAQrwH,OAAQ6F,EAAIyqH,EAAQzqH,IAAK,CACxD,IAAMktG,EAAasd,EAAQxqH,GACrBnG,EAAO,CAAC,EAEd,IAAK,IAAMgD,KAAKqwG,EACdrzG,EAAKgD,GAAKqwG,EAAWrwG,GAEvBhD,EAAK2Q,IAAgB0iG,E,IAGrB,IAAoB,yBAAAmd,IAAc,8BAAE,CAA/B,IAAMtmG,EAAK,QACR+6B,EAAQ/6B,EAAM+6B,MACpBjlD,EAAKilD,GAAS/6B,EAAMyI,UAAU3yB,EAAKilD,G,mGAErCvjD,EAAIK,KAAK/B,E,CAEX0wH,EAAa3uH,KAAKL,E,CAGpB,IAAMi+C,EAAYviD,KAAKskD,WAAWgvE,GAGlC,OAFAtzH,KAAKiwH,kBAAoB1tE,EAElBA,CACT,EAGQwsE,EAAAA,UAAAA,WAAR,SAAmBxsE,GACjB,IAAM8sE,EAAervH,KAAKqvH,aACpB,EAA2CrvH,KAAzCujD,EAAe,kBAAEC,EAAY,eAAEivB,EAAK,QAEtC7uB,EAAiB5jD,KAAK4jD,gBAAkB6uB,EAAM7uB,eAC9CC,EAAiB7jD,KAAK6jD,gBAAkB4uB,EAAM5uB,eAC9CC,EAAmB9jD,KAAK8jD,kBAAoB2uB,EAAM3uB,iBACpDp/C,EAAS69C,EAEb,GAAI8sE,EAAc,CAChB,IAAMoE,EAASzzH,KAAK61G,YACdE,EAAS/1G,KAAKg2G,YACdn0D,EAAS4xE,EAAO5rE,MAChBnG,EAASq0D,EAASA,EAAOluD,MAAQ,KACjCpE,EAAmBqxC,GAAoB90F,KAAK2zF,YAC5CjwC,EAAW+vE,EAAO5uH,OAAO3B,OAEzBwwH,EAAW1zH,KAAKy9D,aAAa,QAC/B9Z,OAAW,EACX+vE,IACF/vE,EAAc+vE,EAAS7uH,OAAO,IAEhC,IAAK,IAAIY,EAAI,EAAGC,EAAM2pH,EAAansH,OAAQuC,EAAIC,EAAKD,IAAK,CACvD,IAAM67G,EAAS+N,EAAa5pH,GACtB0pH,GAAS,SACbttE,OAAM,EACNH,OAAM,EACN6B,gBAAe,EACfC,aAAY,EACZC,iBAAgB,EAChBC,SAAQ,EACRC,YAAW,EACXC,eAAc,EACdC,eAAc,EACdC,iBAAgB,GACbw9D,GAECt8G,EAAOs8G,EAAOt8G,KACpB,GAAa,UAATA,EAAkB,CACpB,IAAM28C,EAAc,GACpB,GAAI8xE,EAAOxrE,YAA8B,aAAhBwrE,EAAOzuH,KAC9B28C,EAAYh9C,KAAK,SACZ,IAAKoxG,EAGV,MAAM,IAAIjiG,MAAM,yEAFhB6tC,EAAYh9C,KAAK,I,CAInBwqH,EAAUxtE,YAAcA,EAGxBwtE,EAAU9rE,WAAaS,C,MAClB,GAAa,UAAT9+C,EAAkB,CAC3B,IAAM2uF,EAAa3zF,KAAK2zF,WACxB,IAAKoiB,EAAQ,CAEXoZ,EAAUz5G,OAASi+E,EAAWnlB,YAC9B,IAAMx/D,EAAOhP,KAAK2zH,gBAAgB,SAAW,EAC7CxE,EAAUngH,KAAOA,C,EAGd2kF,EAAW91B,cAAgB34D,EAAMiqH,EAAUnpE,gBAC9CmpE,EAAUnpE,cAAe,E,CAG7B,IAAM4tE,EAAaC,GAAe7uH,GAClCmqH,EAAUvtE,aAAe,CAAC,EAEtB6xE,GAAUA,EAAO5uH,SACnBsqH,EAAUvtE,aAAa6xE,EAAO5rE,OAAS4rE,EAAO5uH,OAAOyK,KAAI,SAAC9H,GAAM,SAAO+tB,UAAU/tB,EAAjB,KAElE,IAAMssH,EAAiB,IAAIF,EAAWzE,GAEtCzqH,EAASovH,EAAe/qG,QAAQrkB,GAEhC1E,KAAKovH,QAAQpqH,GAAQ8uH,C,EAIzB,OAAOpvH,CACT,EAGQqqH,EAAAA,UAAAA,UAAR,SAAkBloH,GAKhB,IAJA,IAAM2wG,EAAcx3G,KAAKy3G,iBACnBR,EAAYj3G,KAAKi3G,UACjBgX,EAAmB,CAAC,EACpB9J,EAAc,GACXthH,EAAQ,EAAGA,EAAQ20G,EAAYt0G,OAAQL,IAAS,CACvD,IAAMiqB,EAAQ0qF,EAAY30G,GACpBglD,EAAQ/6B,EAAM+6B,MACpBs8D,EAAYx/G,KAAKkjD,GACbt5C,GAAI0oG,EAAW,CAACpvD,EAAO,aAEzBomE,EAAiBpmE,GAASovD,EAAUpvD,GAAOhjD,O,CAI/C,OAAOsyB,GAAMtwB,EAAMs9G,EAAa8J,EAClC,EAGQc,EAAAA,UAAAA,iBAAR,SAAyBjiG,EAAcy1B,GAKrC,IAJA,IAAMwxE,EAAajtH,EAAQy7C,GACrBsF,EAAQ/6B,EAAM+6B,MAChBxgD,EAAMylB,EAAMzlB,IACZD,EAAM0lB,EAAM1lB,IACPvE,EAAQ,EAAGA,EAAQkxH,EAAW7wH,OAAQL,IAAS,CACtD,IAAMmD,EAAM+tH,EAAWlxH,GACjBmxH,EAAS7sH,KAAKE,IAAI4G,MAAM,KAAMjI,EAAI6hD,IAClCosE,EAAS9sH,KAAKC,IAAI6G,MAAM,KAAMjI,EAAI6hD,IACpCmsE,EAAS3sH,IACXA,EAAM2sH,GAEJC,EAAS7sH,IACXA,EAAM6sH,E,CAGV,IAAMhd,EAAYj3G,KAAKi3G,UACjBhgG,EAAmB,CAAC,EACtB5P,EAAMylB,EAAMzlB,MAAQkH,GAAI0oG,EAAW,CAACpvD,EAAO,UAE7C5wC,EAAI5P,IAAMA,GAERD,EAAM0lB,EAAM1lB,MAAQmH,GAAI0oG,EAAW,CAACpvD,EAAO,UAE7C5wC,EAAI7P,IAAMA,GAGZ0lB,EAAM4pE,OAAOz/E,EACf,EAGQ83G,EAAAA,UAAAA,cAAR,SAAsBkB,GAGpB,IAAM1qG,EAAS0qG,EAIf,GAHIjwH,KAAK4uH,UACP5uH,KAAKsxB,KAAK/L,GAERvlB,KAAKwyH,eAEP,IAAK,IAAI3vH,EAAQ,EAAGqxH,EAAS3uG,EAAOriB,OAAQL,EAAQqxH,EAAQrxH,IAAS,CACnE,IAAMsxH,EAAc5uG,EAAO1iB,GAC3B7C,KAAKo0H,oBAAoBD,GACzB,IAAME,EAAW9uG,EAAO1iB,EAAQ,GAC5BwxH,IACFr0H,KAAKo0H,oBAAoBC,GACzBF,EAAY,GAAG1B,WAAa4B,EAAS,GAAG9vG,O,CAK9C,OAAOgB,CACT,EAGQwpG,EAAAA,UAAAA,oBAAR,SAA4BloH,GAG1B,IAFA,IAAM0jH,EAAevqH,KAAKguH,kBACpBsG,EAAYt0H,KAAKy9D,aAAa,SAC3B56D,EAAQ,EAAGA,EAAQgE,EAAK3D,OAAQL,IAAS,CAChD,IAAMmD,EAAMa,EAAKhE,GACXoU,EAAMjX,KAAKu0H,qBAAqBvuH,GAChC8hB,EAAQwsG,EAAYt0H,KAAKw0H,mBAAmBF,EAAWtuH,GAAO,KAC9Due,EAASgmG,EAAayC,eAAellG,EAAO7Q,GAClDjR,EAAIue,OAASA,C,CAEjB,EAGQwqG,EAAAA,UAAAA,gBAAR,SAAwBlqH,EAAQioB,GAC9B,IAAItnB,EAAM,GACV,GAAIH,EAAQR,GACV,IAAK,IAAIhC,EAAQ,EAAGA,EAAQgC,EAAO3B,OAAQL,IAAS,CAClD,IAAM/B,EAAQ+D,EAAOhC,GACrB2C,EAAIb,KAAKmoB,EAAMA,MAAMhsB,G,MAGvB0E,EAAMsnB,EAAMA,MAAMjoB,GAEpB,OAAOW,CACT,EAGQupH,EAAAA,UAAAA,QAAR,SAAgBloH,GAGd,IAFA,IAAM+vG,EAAa52G,KAAK42G,WAClB0B,EAAc,GACXz1G,EAAQ,EAAGA,EAAQgE,EAAK3D,OAAQL,IAAS,CAChD,IAAM4/C,EAAS57C,EAAKhE,GACd4xH,EAA0B,CAC9BC,QAASjyE,EAAOlvC,IAChBgR,OAAQk+B,EAAOl+B,OACfkuG,WAAYhwE,EAAOgwE,YAErB,IAAK,IAAM7sH,KAAKgxG,EACd,GAAIA,EAAW/wG,eAAeD,GAAI,CAChC,IAAM+pB,EAAOinF,EAAWhxG,GAClBgiD,EAAQj4B,EAAKi4B,MACb/iD,EAAS7E,KAAKw0H,mBAAmB7kG,EAAM8yB,GAC7C,GAAImF,EAAM1kD,OAAS,EAEjB,IAAK,IAAI6F,EAAI,EAAGA,EAAIlE,EAAO3B,OAAQ6F,GAAK,EAAG,CACzC,IAAMC,EAAMnE,EAAOkE,GACburB,EAAOszB,EAAM7+C,GACnB0rH,EAAUngG,GAAQjvB,EAAQ2D,IAAuB,IAAfA,EAAI9F,OAAe8F,EAAI,GAAKA,C,MAKhEyrH,EAAU7sE,EAAM,IAAwB,IAAlB/iD,EAAO3B,OAAe2B,EAAO,GAAKA,C,CAK9D7E,KAAKo+D,aAAaq2D,GAClBnc,EAAY3zG,KAAK8vH,E,CAGnB,OAAOnc,CACT,EAGQyW,EAAAA,UAAAA,aAAR,SAAqB4F,GACX,IAEJC,EACAC,EACA7uH,EAJI4S,EAAS+7G,EAAa,EAAnB97G,EAAM87G,EAAa,EAKxBhhC,EAAa3zF,KAAK2zF,WACxB,GAAItuF,EAAQuT,IAAMvT,EAAQwT,GAAI,CAC5B+7G,EAAO,GACPC,EAAO,GACP,IAAK,IAAIpvH,EAAI,EAAGsD,EAAI,EAAG+rH,EAAOl8G,EAAE1V,OAAQ6xH,EAAOl8G,EAAE3V,OAAQuC,EAAIqvH,GAAQ/rH,EAAIgsH,EAAMtvH,GAAK,EAAGsD,GAAK,EAC1F/C,EAAM2tF,EAAWsB,QAAQ,CACvBr8E,EAAGA,EAAEnT,GACLoT,EAAGA,EAAE9P,KAEP6rH,EAAKjwH,KAAKqB,EAAI4S,GACdi8G,EAAKlwH,KAAKqB,EAAI6S,E,MAEX,GAAIxT,EAAQwT,GAAI,CACrBg8G,EAAO,GACP,IAAK,IAAIhyH,EAAQ,EAAGA,EAAQgW,EAAE3V,OAAQL,IAAS,CAC7C,IAAMquH,EAAOr4G,EAAEhW,GACfmD,EAAM2tF,EAAWsB,QAAQ,CACvBr8E,EAAGA,EACHC,EAAGq4G,IAED0D,GAAQA,IAAS5uH,EAAI4S,GAClBvT,EAAQuvH,KACXA,EAAO,CAACA,IAEVA,EAAKjwH,KAAKqB,EAAI4S,IAEdg8G,EAAO5uH,EAAI4S,EAEbi8G,EAAKlwH,KAAKqB,EAAI6S,E,OAEX,GAAIxT,EAAQuT,GAAI,CACrBg8G,EAAO,GACP,IAAS/xH,EAAQ,EAAGA,EAAQ+V,EAAE1V,OAAQL,IAAS,CAC7C,IAAMouH,EAAOr4G,EAAE/V,GACfmD,EAAM2tF,EAAWsB,QAAQ,CACvBr8E,EAAGq4G,EACHp4G,EAAC,IAECg8G,GAAQA,IAAS7uH,EAAI6S,GAClBxT,EAAQwvH,KACXA,EAAO,CAACA,IAEVA,EAAKlwH,KAAKqB,EAAI6S,IAEdg8G,EAAO7uH,EAAI6S,EAEb+7G,EAAKjwH,KAAKqB,EAAI4S,E,MAEX,CACL,IAAM01B,EAAQqlD,EAAWsB,QAAQ,CAC/Br8E,EAAC,EACDC,EAAC,IAEH+7G,EAAOtmF,EAAM11B,EACbi8G,EAAOvmF,EAAMz1B,C,CAEf87G,EAAc/7G,EAAIg8G,EAClBD,EAAc97G,EAAIg8G,CACpB,EAGQ9F,EAAAA,UAAAA,YAAR,SAAoBQ,EAA0BtZ,GACpC,MAA+BsZ,EAAW,OAA1CnrD,OAAM,IAAG,KAAE,EAAE5tD,EAAkB+4G,EAAW,SAAnBt4G,EAAQs4G,EAAW,IAClD,GAAIt4G,EAEF,OAAOA,EAGT,IAAMsB,EAAS6rD,EAAO90D,KAAI,SAACu4C,GACzB,OAAOouD,EAAWpuD,EACpB,IAEA,OAAOrxC,EAAQ,kCAAI+B,IAAM,GAC3B,EAEQw2G,EAAAA,UAAAA,OAAR,SAAe93G,GAAf,WACU08E,EAAuC18E,EAAG,WAA9BpQ,EAA2BoQ,EAAG,KAAxBw7D,EAAqBx7D,EAAG,MAAjBggG,EAAchgG,EAAG,UAC9C08E,IACF3zF,KAAK2zF,WAAaA,GAEhB9sF,IACF7G,KAAK6G,KAAOA,GAEVowG,IACFj3G,KAAKi3G,UAAYA,EACjBj3G,KAAK4wH,SAAW,GAChBtrH,EAAK2xG,GAAW,SAACjhB,EAAUnuC,GACrBmuC,GAAYA,EAASlzF,KACvBiU,EAAK65G,SAASjsH,KAAKkjD,EAEvB,KAEE4qB,IACFzyE,KAAKyyE,MAAQzyE,KAAK8uH,UAAYhgH,GAAQ,CAAC,EAAG2jE,EAAOzyE,KAAK8uH,WAAar8C,EAEvE,EAEcs8C,EAAAA,UAAAA,aAAd,SAA2B8C,EAA8B5T,G,YAAA,IAAAA,IAAAA,GAAAA,I,kIAYvD,OAXI0S,EAAgB3wH,KAAK2wH,cAEzB3wH,KAAK+0B,KAAKpiB,GAAqBqiH,qBAE1BrE,IAEGqC,EAAYhzH,KAAKi1H,eACjBC,EAAqBxI,GAAiBsG,GAC5CrC,EAAgB,IAAIuE,EAAmBl1H,MACvCA,KAAK2wH,cAAgBA,GAEvB,GAAMA,EAAc7wH,OAAO+xH,EAAc5T,I,OAAzClgE,EAAAA,OAGMo3E,EAAYxE,EAAcyE,eAAe3wD,UAEzC4wD,EAAgB,IAAI3sH,IAC1BpD,EAAK6vH,GAAW,SAAC5hD,EAAoB+hD,GAEnC,IADA,IAAMC,EAAgBhiD,EAAW/hD,eAAiB,GACzCzoB,EAAI,EAAGA,EAAIwsH,EAAcryH,OAAQ6F,IAAK,CAC7C,IAAMguE,EAAaw+C,EAAcxsH,GAC3Bmf,EAAUnR,EAAK4hG,YAAY5hC,EAAWxoE,IAAI,cAAgB+mH,EAAa5rH,MAAM,KAAK,IACxF,GAAIwe,EAAS,CACX6uD,EAAW9/D,IAAIrW,KAAO,CAAC,UAAW,SAClCm2E,EAAW9/D,IAAIiR,QAAUA,EACzB,IAAM6gD,EAASssD,EAAc9mH,IAAI2Z,IAAY,IAAI4qE,IACjD/pB,EAAO5iD,IAAIotD,GACX8hD,EAAcxsH,IAAIqf,EAAS6gD,E,EAGjC,I,IACA,IAAgC5+C,GAAAA,EAAAA,EAAAA,IAAAA,EAAcqrG,WAAS,8BAA5Cv1H,GAAAA,EAAAA,EAAAA,IAAAA,EAAAA,MAAAA,GAACioB,EAAO,KAAE6gD,EAAM,KACzB7gD,EAAQ6uD,YAAa,oBAAIhO,IAAM,E,yGAGjC/oE,KAAK+0B,KAAKpiB,GAAqB8iH,oB,YAUzB1G,EAAAA,UAAAA,oBAAR,SAA4B9Q,GAC1B,OACGA,GACDj+G,KAAKujE,qBACkCp+D,IAAtCoJ,GAAIvO,KAAKujE,cAAe,WACtBh1D,GAAIvO,KAAKujE,cAAe,gBAAkEp+D,IAArDoJ,GAAIvO,KAAKujE,cAAe,CAAC,SAAU,cAE/E,EACF,EAz7DA,CAAyElsD,I,MCpKnE6W,GAAyDc,GAUzD,SAAUuG,GAAUrN,EAA0BtP,EAAWC,GAC7D,IAAMuV,EAASF,GAAUhG,EAAQgN,YAAa,CAAC,CAAC,IAAKtc,EAAGC,KACxDqP,EAAQkN,UAAUhH,EACpB,CAOM,SAAUsnG,GAAgBxtG,EAAmBytG,GAC3C,MAAWztG,EAAQyH,OAAjB/W,EAAC,IAAEC,EAAC,IACNuV,EAASF,GAAUhG,EAAQgN,YAAa,CAC5C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK88G,GACN,CAAC,IAAK/8G,EAAGC,KAEX,OAAOuV,CACT,CAOM,SAAU7S,GAAO2M,EAA0BytG,GAC/C,IAAMvnG,EAASsnG,GAAgBxtG,EAASytG,GACxCztG,EAAQkN,UAAUhH,EACpB,CC7BM,SAAUwnG,GAAmB3sD,GACjC,OAAOA,EAAMziE,MAAK,SAAC+mC,GAAO,MAAmB,SAAnBA,EAAGh/B,IAAI,OAAP,GAC5B,CAKM,SAAUsnH,GACdtiD,EACAuiD,EACAh1D,QAAA,IAAAA,IAAAA,EAAAA,CAA8B,EAAG,EAAG,EAAG,IAEvC,IAAMqJ,EAAUoJ,GAAcA,EAAW/hD,cAAc,GACvD,GAAI24C,EAAS,CACX,IAAM4M,EAAa5M,EAAQ38D,SAGd,OAATsoH,QAAS,IAATA,OAAS,EAATA,EAAWv6G,SACbA,GAAOw7D,GAAuB++C,EAAUv6G,QAIpC,MAA0Bw7D,EAAWjgD,gBAAnCle,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SAE3BqhE,EAAWtlD,UAEX,IAAIskG,EAAaj1D,EAOjB,OANI57D,EAAM6wH,GACRA,EAAa,CAAC,EAAG,EAAG,EAAG,GACdzrH,GAASyrH,KAClBA,EAAa,IAAI3wH,MAAM,GAAG40D,KAAK+7D,IAG1B,CACLn9G,EAAGA,EAAIm9G,EAAW,GAClBl9G,EAAGA,EAAIk9G,EAAW,GAClBhkH,MAAOA,EAAQgkH,EAAW,GAAKA,EAAW,GAC1CrgH,OAAQA,EAASqgH,EAAW,GAAKA,EAAW,GAC5CC,UAAmB,OAATF,QAAS,IAATA,OAAS,EAATA,EAAWv6G,SAAU,E,CAInC,MAAO,CAAE3C,EAAG,EAAGC,EAAG,EAAG9G,MAAO,EAAG2D,OAAQ,EAAGsgH,SAAU,EACtD,CAKM,SAAUC,GAAetvH,EAASgE,EAAS06C,QAAA,IAAAA,IAAAA,EAAS,GACxD,IAAM6wE,EAAW/uH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEiS,EAAIjS,EAAEoL,MAAQszC,EAAQ16C,EAAEiO,EAAIjO,EAAEoH,MAAQszC,GAAUl+C,KAAKC,IAAIT,EAAEiS,EAAIysC,EAAQ16C,EAAEiO,EAAIysC,IAEpF8wE,EAAWhvH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEkS,EAAIlS,EAAE+O,OAAS2vC,EAAQ16C,EAAEkO,EAAIlO,EAAE+K,OAAS2vC,GAAUl+C,KAAKC,IAAIT,EAAEkS,EAAIwsC,EAAQ16C,EAAEkO,EAAIwsC,IAG5F,OAAO6wE,EAAWC,CACpB,CAGM,SAAUC,GAAkBr6B,EAAes6B,GAC/C,IAAMn1G,EAAM66E,EAAIllE,UAChB,OAAOztB,GAAKitH,GAAO,SAACC,GAClB,IAAMh0H,EAASg0H,EAAKz/F,UACpB,OAAOo/F,GAAe/0G,EAAK5e,EAAQ,GAAK,CAC1C,GACF,CCxDM,SAAUi0H,GAAYniG,EAAmBC,EAAiBpd,GACtD,IAAApQ,EAAyCoQ,EAAG,KAAtC8zG,EAAmC9zG,EAAG,OAA9B+b,EAA2B/b,EAAG,WAAlB08E,EAAe18E,EAAG,WAC9Cu/G,EAAmBjoH,GAAIykB,EAAY,UAEzCoB,EAAUvrB,IAAI,OAAQhC,GACtButB,EAAUvrB,IAAI,SAAUkiH,GACxB32F,EAAUvrB,IAAI,aAAcmqB,GAC5BoB,EAAUvrB,IAAI,aAAc8qF,GAC5Bv/D,EAAUvrB,IAAI,UAAWwrB,EAAQ9lB,IAAI,aAEpC6lB,EAAU5C,eAAiB,IAAI/hB,SAAQ,SAACgnH,EAAWrmH,GAClD,IAAMsmH,EAAUriG,EAAQ2D,gBAAgB5nB,GACxC,GAAKsmH,EAGE,CACLD,EAAU5tH,IAAI,OAAQhC,GACtB4vH,EAAU5tH,IAAI,SAAUkiH,GACxB0L,EAAU5tH,IAAI,aAAcmqB,GAC5ByjG,EAAU5tH,IAAI,aAAc8qF,GAE5B,IAAM/sB,EAAWQ,GAAgBqvD,EAAqBC,GAClDF,EACFvM,GAAUwM,EAAqBD,EAAkB,CAC/CjnG,QAASq3C,EACT+sB,WAAU,IAGZ8iC,EAAU9mG,KAAKi3C,GAEb8vD,EAAQniG,WACVgiG,GAAYE,EAAkBC,EAAgBz/G,E,MAlBhDmd,EAAUpf,YAAYyhH,GACtBA,EAAUnuH,QAAO,EAoBrB,IAGAhD,EAAK+uB,EAAQ7C,eAAe,SAACuE,EAAO3lB,GAC9BA,GAAOgkB,EAAUuiG,aACd5gG,EAAMve,WACT4c,EAAUjO,IAAI4P,GAGpB,GACF,CC3CA,kBAaE,WAAY9e,GAFL,KAAAwtD,UAAoC,CAAC,EAGlC,IAAA+Y,EAAsBvmE,EAAG,OAAjBrC,EAAcqC,EAAG,UAEjCjX,KAAKw9E,OAASA,EACdx9E,KAAK4U,UAAYA,CACnB,CA+RF,OA3RegiH,EAAAA,UAAAA,OAAb,SAAoB/jD,EAAoB83B,EAAyCsT,G,YAAA,IAAAA,IAAAA,GAAAA,I,6HACzEx5C,EAAY,CAAC,EACb+lD,EAAiBxqH,KAAK62H,wBACxBhkD,EAAM3vE,OAAN,Y,IAGF,IAAmBu9E,GAAAA,EAAAA,EAAAA,IAAAA,GAAK,8BAAb79E,EAAI,QACTA,IACF6hE,EAAU7hE,EAAK0wB,IAAMtzB,KAAK0rE,YAAY9oE,EAAM4nH,G,kGAKhD,SAAMxqH,KAAKoiH,SAASvvC,EAAO83B,EAAQlmC,I,OAAnCvxC,EAAAA,OAGAlzB,KAAK82H,gBAAgBjkD,EAAOpO,GAE5BzkE,KAAK+2H,sBAAsBlkD,EAAOpO,GAElCzkE,KAAKg3H,YAAYnkD,EAAOpO,G,wBAIpBwyD,EAAgBj3H,KAAKykE,UAC3Bn/D,EAAKm/D,GAAW,SAAC38C,EAAOwL,GACtB,GAAIxL,EAAMtQ,iBAEDitD,EAAUnxC,OACZ,CACL,GAAI2jG,EAAc3jG,GAAK,CAErB,IAAMzsB,EAAOihB,EAAMvZ,IAAI,QACjB2oH,EAASpvG,EAAMvZ,IAAI,UACnBolF,EAAa7rE,EAAMvZ,IAAI,cACvB4oH,EAAoBrvG,EAAMvZ,IAAI,cAE9Bk/B,EAAewpF,EAAc3jG,GACnCijG,GAAY9oF,EAAcg3B,EAAUnxC,GAAK,CACvCzsB,KAAI,EACJkkH,OAAM,EACN/3F,WAAYmkG,EACZxjC,WAAU,IAGZlvB,EAAUnxC,GAAMma,C,KACX,CAGL,GAAI12B,EAAKnC,UAAU4C,UAAW,OAC9BT,EAAKnC,UAAUuR,IAAI2B,GACnB,IAAMkL,EAAazkB,GAAIuZ,EAAMvZ,IAAI,cAAe0vG,EAAW,QAAU,UACjEjrF,GACFi3F,GAAUniG,EAAOkL,EAAY,CAC3BzD,SAAS,WACJzH,EAAM6H,QAEXgkE,WAAY7rE,EAAMvZ,IAAI,e,QAIrB0oH,EAAc3jG,E,CAEzB,IAGAhuB,EAAK2xH,GAAe,SAACG,GACnB,IAAMpkG,EAAazkB,GAAI6oH,EAAY7oH,IAAI,cAAe,SAClDykB,EACFi3F,GAAUmN,EAAapkG,EAAY,CACjCzD,QAAS,KACTokE,WAAYyjC,EAAY7oH,IAAI,gBAG9B6oH,EAAY9uH,QAAO,EAEvB,IAEAtI,KAAKykE,UAAYA,EACjB+lD,EAAe/4F,U,YAIVmlG,EAAAA,UAAAA,MAAP,WACE52H,KAAK4U,UAAUmjB,QACf/3B,KAAKykE,UAAY,CAAC,CACpB,EAGOmyD,EAAAA,UAAAA,QAAP,WACE52H,KAAK4U,UAAU6c,UACfzxB,KAAKykE,UAAY,IACnB,EAEQmyD,EAAAA,UAAAA,YAAR,SAAoB3/G,EAAgBrC,GAC1B,IAmBJmiE,EAnBIzjD,EAA4Erc,EAAG,GAA3E8vD,EAAwE9vD,EAAG,UAAhEpQ,EAA6DoQ,EAAG,KAA1DqhG,EAAuDrhG,EAAG,YAA7C08E,EAA0C18E,EAAG,WAAjCosD,EAA8BpsD,EAAG,QAAxBkzD,EAAqBlzD,EAAG,QAAfkR,EAAYlR,EAAG,QACjFogH,EAAiB,CACrB/jG,GAAE,EACFyzC,UAAS,EACT5+C,QAAO,EACPthB,KAAI,EACJkkH,QAAQ,oBACHzS,GAAW,CACdzxG,KAAMyxG,EAAY/kG,MAEpBogF,WAAU,GAENpgB,EAAa3+D,EAAUmxD,UAAS,SACpCnlE,KAAM,QAENoyB,YACmB,IAAjBhzB,KAAKqjE,SAAiC,OAAZA,IAAgC,IAAZA,GAA4Bv0D,GAAQ,CAAC,EAAG9O,KAAKqjE,QAASA,IACnGg0D,IAGL,GAAKltD,EAAQ51C,SAAW41C,EAAQ51C,WAAe41C,EAAQmtD,SAAWntD,EAAQmtD,UAAY,CAE9E,MAAoBntD,EAAQrzC,gBAA1B/kB,EAAK,QAAE2D,EAAM,SACfykC,EAAY5rC,GAAI0I,EAAK,YAAa,QAEpC2B,EAAI3B,EAAI2B,EACNC,EAAI5B,EAAI4B,EAAInD,EAAS,EAET,WAAdykC,EACFvhC,GAAQ7G,EAAQ,EACO,UAAdooC,GAAuC,QAAdA,IAClCvhC,GAAQ7G,GAGVwjB,GAAU40C,EAASvxD,EAAGC,GACtBk+D,EAAa5M,EACboJ,EAAWptD,IAAIgkD,E,KACV,CACL,IAAMnQ,EAAOzrD,GAAI0I,EAAK,CAAC,QAAS,SAChC8/D,EAAaxD,EAAWjN,SAAS,QAAQ,SACvClmE,OAAO,kBACLwY,EAAG3B,EAAI2B,EACPC,EAAG5B,EAAI4B,EACPshC,UAAWljC,EAAIkjC,UACfD,aAAc3rC,GAAI0I,EAAK,eAAgB,UACvC9F,KAAM8F,EAAIkzD,SACPlzD,EAAI9B,OAAK,CACZ6kD,KAAM/tD,GAAO+tD,GAAQ/iD,EAAIytB,MAAQs1B,KAEhCq9D,G,CAOP,OAHIpgH,EAAIsE,QACNA,GAAOw7D,EAAY9/D,EAAIsE,QAElBg4D,CACT,EAGcqjD,EAAAA,UAAAA,SAAd,SAAuB/jD,EAAoB83B,EAAyClmC,G,0HAC9EzkE,KAAKw9E,QACD+5C,EAAUlyH,EAAQrF,KAAKw9E,QAAUx9E,KAAKw9E,OAAS,CAACx9E,KAAKw9E,QAC3D,GAAMg6C,QAAQC,IAAIF,EAAQjoH,KAAI,SAACkuE,GAC7B,IAAMsvC,EAAWF,GAAuBr+G,GAAIivE,EAAQ,OAAQ,KAC5D,GAAKsvC,EAAL,CAEA,IAAM4K,EAAc,GACdC,EAAiB,GAMvB,OALAryH,EAAKm/D,GAAW,SAACsS,EAAYzjD,GAC3BokG,EAAY/yH,KAAKoyE,GACjB4gD,EAAehzH,KAAKgmG,EAAO5zB,EAAWxoE,IAAI,cAC5C,IAEOu+G,EAASj6C,EAAO6kD,EAAaC,EAAgB5gH,EAAKqqD,OAAQoc,EAAOvmE,IATnD,CAUvB,OAdE,M,OAEFkT,EAAAA,O,mCAgBIysG,EAAAA,UAAAA,gBAAR,SAAwBgB,EAAyBnzD,GAC/Cn/D,EAAKsyH,GAAY,SAAC9B,GAChB,IAAMniC,EAAyBplF,GAAIunH,EAAW,cAC9C,GAAKA,GAAcniC,EAAnB,CAGA,IAAM12C,EAAS02C,EAAWl0B,YACpBjB,EAASm1B,EAAWqB,YAC1B,GAAK8gC,EAAU1jB,UAAf,CAIA,IAAMylB,EAAetpH,GAAIunH,EAAW,YAAa,CAAC,GAC5CxiG,EAAKwiG,EAAUxiG,GACjBnjB,EAAO0nH,EAAa1nH,KACxB,IAAKA,EAAM,CACT,IAAM4J,EAAQg5E,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQs3D,EAAUj7G,OACrE1K,EAAO,CACL,CAAC,IAAK4J,EAAMnB,EAAGmB,EAAMlB,GACrB,CAAC,IAAKi9G,EAAUl9G,EAAGk9G,EAAUj9G,G,CAGjC,IAAM06D,EAAa9O,EAAUnxC,GACxBigD,EAAW/7D,WACd+7D,EAAWjN,SAAS,OAAQ,CAC1Bn+C,SAAS,EACT/nB,OAAO,SACL+P,KAAI,EACJ6wC,OAAQ80E,EAAUpxF,MAAQoxF,EAAUpxF,MAAQn2B,GAAIunH,EAAW,CAAC,QAAS,QAAS,QAC9E97D,KAAM,MACH69D,EAAa1iH,OAElBme,GAAE,EACFy3F,OAAQ+K,EAAUxd,YAClBzxG,KAAMivH,EAAUjvH,KAChB8sF,WAAYmiC,EAAUniC,Y,EAG5B,GACF,EAMQijC,EAAAA,UAAAA,sBAAR,SAA8BgB,EAAyBnzD,GACrDn/D,EAAKsyH,GAAY,SAAC9B,GAChB,IAAMniC,EAAyBplF,GAAIunH,EAAW,cACxCvrD,EAAsCh8D,GAAIunH,EAAW,cAC3D,GAAKvrD,GAAeopB,EAApB,CAIA,IAAMrgE,EAAKwiG,EAAUxiG,GACfigD,EAAa9O,EAAUnxC,GAC7B,IAAKigD,EAAW/7D,UAAW,CACzB,IAAMsgH,EAAoBvkD,EAAW/hD,cAAc,GACnD,GAAIsmG,EAAmB,CACrB,IAAM3tG,EAAuB0rG,GAAuBtiD,EAAYuiD,EAAWvrD,EAAWzJ,SAA9Ek1D,EAAQ,WAAK90G,GAAG,UAAlB,cACA85D,EAAkBzH,EAAWjN,SAAS,OAAQ,CAClDlmE,OAAO,oBACF8gB,GACCqpD,EAAWp1D,OAAS,CAAC,GAE3Bme,GAAE,EACFy3F,OAAQ+K,EAAUxd,YAClBzxG,KAAMivH,EAAUjvH,KAChB8sF,WAAYmiC,EAAUniC,aAIxB,GAFA3Y,EAAgBswC,WAAW,GAEvB0K,EAAU,CACZ,IAAM5nG,EAAS0pG,EAAkB5iG,YACjC8lD,EAAgB5lD,UAAUhH,E,IAIlC,GACF,EAEQwoG,EAAAA,UAAAA,qBAAR,WACE,IAAMhiH,EAAY5U,KAAK4U,UACjB+wD,EAAa/wD,EAAU2iB,eACvBquC,EAAW,IAAID,EAAW,CAAC,GACjC,OAAOC,CACT,EAEQgxD,EAAAA,UAAAA,YAAR,SAAoB/jD,EAAoBpO,GACtCn/D,EAAKutE,GAAO,SAACjwE,GACX,GAAIA,EAAM,CACR,IAAM0wB,EAAK1wB,EAAK0wB,GACVigD,EAAa9O,EAAUnxC,GAC7B,IAAKigD,EAAW/7D,UAAW,CAEzB,IAAMkgH,EAAcnkD,EAAWr7C,SAAQ,SAAC7iB,GAAQ,MAAoB,SAApBA,EAAI9G,IAAI,OAAR,IAChDjJ,EAAKoyH,GAAa,SAAC3gD,GACbA,IACEn0E,EAAK+tC,SACPomC,EAAWpnD,KAAK,IAAKonD,EAAWpnD,KAAK,KAAO/sB,EAAK+tC,SAE/C/tC,EAAKiuC,SACPkmC,EAAWpnD,KAAK,IAAKonD,EAAWpnD,KAAK,KAAO/sB,EAAKiuC,SAGvD,G,EAGN,GACF,EACF,EAjTA,G,MCTA,SAASgqB,GAAIv2D,GACX,IAAIqb,EAAM,EAIV,OAHAra,EAAKhB,GAAK,SAACxD,GACT6e,GAAO7e,CACT,IACO6e,EAAMrb,EAAIpB,MACnB,CAKA,kBAOE,WAAY2nG,GACV7qG,KAAK6qG,SAAWA,CAClB,CAqaF,OAnaSktB,EAAAA,UAAAA,cAAP,SAAqBC,GAArB,WACQnlD,EAAQ,GACRolD,EAAYj4H,KAAKk4H,aAAaF,GAiCpC,OA/BA1yH,EAAK0yH,GAAe,SAAC1f,EAA2Bz1G,GAC9C,IAAMuyE,EAAW6iD,EAAUp1H,GAC3B,IAAKuyE,GAAYlwE,EAAMozG,EAAY1/F,IAAM1T,EAAMozG,EAAYz/F,GACzDg6D,EAAMluE,KAAK,UADb,CAKA,IAAMwzH,EAAgB9yH,EAAQ+vE,EAASjL,SAAgCiL,EAASjL,QAA9B,CAACiL,EAASjL,SAC5DiL,EAASjL,QAAUguD,EACnB,IAAMC,EAAQD,EAAaj1H,OAC3BoC,EAAK6yH,GAAc,SAAChuD,EAASkuD,GAC3B,GAAInzH,EAAMilE,IAAwB,KAAZA,EACpB0I,EAAMluE,KAAK,UADb,CAKA,IAAM/B,GAAO,oBACRwyE,GACAr+D,EAAK40D,cAAcyJ,EAAUkjC,EAAa+f,IAE1Cz1H,EAAKu3C,YACRv3C,EAAKu3C,UAAYpjC,EAAKuhH,cAAc11H,EAAMy1H,EAAUD,IAGlDx1H,EAAKqiD,QAAU,IACjBriD,EAAKwvG,UAAY,MAGnBv/B,EAAMluE,KAAK/B,E,CACb,G,CACF,IACOiwE,CACT,EAEaklD,EAAAA,UAAAA,OAAb,SAAoBlG,EAA8B5T,G,YAAA,IAAAA,IAAAA,GAAAA,I,yGAKhD,OAJM2Z,EAAa53H,KAAKu4H,cAAc1G,GAChCuD,EAAiBp1H,KAAKw4H,oBACtB7tB,EAAS3qG,KAAKy4H,oBAEpB,GAAMrD,EAAet1H,OAAO83H,EAAYjtB,EAAQsT,I,cAAhD9zF,EAAAA,O,YAGK4tG,EAAAA,UAAAA,MAAP,WACE,IAAM3C,EAAiBp1H,KAAKo1H,eACxBA,GACFA,EAAer9F,OAEnB,EAEOggG,EAAAA,UAAAA,QAAP,WACE,IAAM3C,EAAiBp1H,KAAKo1H,eACxBA,GACFA,EAAe3jG,UAEjBzxB,KAAKo1H,eAAiB,IACxB,EAGO2C,EAAAA,UAAAA,cAAP,WACE,OAAO/3H,KAAK6qG,SAASlX,UACvB,EAKUokC,EAAAA,UAAAA,mBAAV,SAA6B9yE,EAAiBF,GAC5C,IAAM8lD,EAAW7qG,KAAK6qG,SACd7lG,EAAgB6lG,EAAQ,KAAlBp4B,EAAUo4B,EAAQ,MAEhC,MACW,YAAT7lG,GACU,aAATA,GAAoC,WAAb+/C,GACvBE,EAAS,IAAM,CAAC,OAAQ,QAAS,QAAQ3Z,SAAStmC,GAG5CuJ,GAAIkkE,EAAO,cAAe,CAAC,GAG7BlkE,GAAIkkE,EAAO,SAAU,CAAC,EAC/B,EAMUslD,EAAAA,UAAAA,kBAAV,SAA4B3iD,GAC1B,IAGIsjD,EAHE7tB,EAAW7qG,KAAK6qG,SAChB8tB,EAAkB34H,KAAK44H,qBACrB5zH,EAAgB6lG,EAAQ,KAAlBp4B,EAAUo4B,EAAQ,MAUhC,OALE6tB,EAFW,YAAT1zH,GAAuBowE,EAASnwB,OAAS,IAAM,CAAC,OAAQ,QAAS,QAAQ3Z,SAAStmC,GAEnE8J,GAAQ,CAAC,EAAG6pH,EAAiBlmD,EAAM++B,YAAap8B,GAEhDtmE,GAAQ,CAAC,EAAG6pH,EAAiBlmD,EAAM1J,OAAQqM,GAGvDsjD,CACT,EASUX,EAAAA,UAAAA,iBAAV,SACEc,EACAvgB,EACAz1G,EACAkiD,GACC,EAKOgzE,EAAAA,UAAAA,eAAV,SAAyB9yE,GACvB,IAAM0uC,EAAa3zF,KAAKggE,gBAClB7nB,EAASn4C,KAAK84H,gBAAgB7zE,GACpC,OAAO0uC,EAAW91B,aAAe1lB,EAAO,GAAKA,EAAO,EACtD,EASU4/E,EAAAA,UAAAA,oBAAV,SAA8B3iD,EAAoBvyE,EAAeu1H,GAC/D,IAAMnzE,EAASmwB,EAASnwB,OAClB0uC,EAAa3zF,KAAKggE,gBAClB48B,EAAajJ,EAAW91B,aACxB9b,EAAM66C,EAAa,IAAM,IACzBxnC,EAASwnC,EAAa,GAAK,EAC3Bm8B,EAAc,CAClBngH,EAAG,EACHC,EAAG,GAQL,OAJEkgH,EAAYh3E,GAFVl/C,EAAQ,GAAe,IAAVu1H,EAEInzE,EAASmQ,EAETnQ,EAASmQ,GAAU,EAEjC2jE,CACT,EASUhB,EAAAA,UAAAA,cAAV,SAAwB3iD,EAAoBkjC,EAA2Bz1G,GACrE,IAAM8wF,EAAa3zF,KAAKggE,gBAClBo4D,EAAQhjD,EAASjL,QAAQjnE,OAE/B,SAAS81H,EAAYl4H,EAA0BsP,EAAa6oH,QAAA,IAAAA,IAAAA,GAAQ,GAClE,IAAIzxH,EAAI1G,EAiBR,OAhBIuE,EAAQmC,KAGNA,EAF4B,IAA5B4tE,EAASjL,QAAQjnE,OACf+1H,EACEp+D,GAAIrzD,GAGJA,EAAEtE,QAAU,EACVsE,EAAG1G,EAAmBoC,OAAS,GAE/B23D,GAAIrzD,GAIRA,EAAE4I,IAGH5I,CACT,CAEA,IAAMyhE,EAAQ,CACZkB,QAASiL,EAASjL,QAAQtnE,GAC1B+V,EAAG,EACHC,EAAG,EACHkB,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAClB6rB,MAAO,QAEH5c,EAAQziB,EAAQizG,EAAYxwF,OAASwwF,EAAYxwF,MAAM,GAAKwwF,EAAYxwF,MACxEoxG,EAAqB,WAAVpxG,GAAgC,YAAVA,EAGvC,GAA2B,YAAvB9nB,KAAK6qG,SAAS7lG,KAAoB,CACpC,IAAMm0H,EAAWplC,GAAmBukB,EAAY1/F,EAAG0/F,EAAYz/F,GAC/DowD,EAAMrwD,EAAIugH,EAAS,GACnBlwD,EAAMpwD,EAAIsgH,EAAS,E,KACa,aAAvBn5H,KAAK6qG,SAAS7lG,MAAwBk0H,GAK/CjwD,EAAMrwD,EAAIogH,EAAY1gB,EAAY1/F,EAAG/V,GACrComE,EAAMpwD,EAAImgH,EAAY1gB,EAAYz/F,EAAGhW,KAJrComE,EAAMrwD,EAAIogH,EAAY1gB,EAAY1/F,EAAG/V,GAAO,GAC5ComE,EAAMpwD,EAAImgH,EAAY1gB,EAAYz/F,EAAGhW,IAOvC,GAAIq2H,EAAU,CACZ,IAAMzG,EAAalkH,GAAI+pG,EAAa,cAC9B/zF,EAAShW,GAAI+pG,EAAa,UAChC,GAAIma,EAAY,CAEd,IAAMr2E,EAASu3C,EAAWsB,QAAQ1wE,EAAO,IACnC83B,EAASs3C,EAAWsB,QAAQw9B,EAAW,IAC7CxpD,EAAMrwD,GAAKwjC,EAAOxjC,EAAIyjC,EAAOzjC,GAAK,EAClCqwD,EAAMpwD,GAAKujC,EAAOvjC,EAAIwjC,EAAOxjC,GAAK,C,MAC7B,GAAc,YAAViP,EAAqB,CACxBs0B,EAASu3C,EAAWsB,QAAQ1wE,EAAO,IACnC83B,EAASs3C,EAAWsB,QAAQ1wE,EAAO,IACzC0kD,EAAMrwD,GAAKwjC,EAAOxjC,EAAIyjC,EAAOzjC,GAAK,EAClCqwD,EAAMpwD,GAAKujC,EAAOvjC,EAAIwjC,EAAOxjC,GAAK,C,EAIlCu8D,EAASrwB,UAEX/kD,KAAKo5H,iBAAiBnwD,EAAOqvC,EAAaz1G,EAAOuyE,EAASrwB,UAE5D,IAAMg0E,EAAc/4H,KAAKq5H,oBAAoBjkD,EAAUvyE,EAAOu1H,GAK9D,OAJAnvD,EAAMlvD,MAAQ,CAAEnB,EAAGqwD,EAAMrwD,EAAGC,EAAGowD,EAAMpwD,GACrCowD,EAAMrwD,GAAKmgH,EAAYngH,EACvBqwD,EAAMpwD,GAAKkgH,EAAYlgH,EACvBowD,EAAMvkC,MAAQ4zE,EAAY5zE,MACnBukC,CACT,EASU8uD,EAAAA,UAAAA,cAAV,SAAwBn1H,EAAiBC,EAAeu1H,GACtD,IAAI9kD,EAAmB,SACjBqgB,EAAa3zF,KAAKggE,gBACxB,GAAI2zB,EAAW91B,aAAc,CAC3B,IAAM5Y,EAASriD,EAAKqiD,OAElBquB,EADEruB,EAAS,EACH,QACY,IAAXA,EACD,SAEA,OAENmzE,EAAQ,GAAe,IAAVv1H,IACD,UAAVywE,EACFA,EAAQ,OACW,SAAVA,IACTA,EAAQ,S,CAId,OAAOA,CACT,EAMUykD,EAAAA,UAAAA,WAAV,SAAqBzf,GACnB,IAAMzN,EAAW7qG,KAAK6qG,SAChB7lG,EAAO6lG,EAAS7lG,KAChB4wG,EAAS/K,EAASgL,YAClBE,EAASlL,EAASmL,YAClB+U,EAASzS,EAAY/kG,IAEvBkhE,EAAUo2B,EAAS7lC,aAAaszC,GASpC,MARa,SAATtzG,GAA4B,SAATA,EAErByvE,GAAW,WAAIs2C,EAAOnV,EAAO/tD,QACX,SAAT7iD,IAETyvE,GAAW,WAAIs2C,EAAOnV,EAAO/tD,OAAM,YAAIkjE,EAAOhV,EAAOluD,SAGhD4sB,CACT,EAGQsjD,EAAAA,UAAAA,kBAAR,WACQ,MAAgE/3H,KAAK6qG,SAAnE8T,EAAe,kBAAE+Q,EAAW,cAAE/K,EAAY,eAAEphD,EAAa,gBAC3DowB,EAAa3zF,KAAK6qG,SAASlX,WAE7ByhC,EAAiBp1H,KAAKo1H,eAc1B,OAbKA,IACHA,EAAiB,IAAIwB,GAAO,CAC1BhiH,UAAW+pG,EACXnhC,OAAQjvE,GAAImhH,EAAa,CAAC,MAAO,UAAW,CAC1C1qH,KAAMhF,KAAKw6G,kBAGfx6G,KAAKo1H,eAAiBA,GAExBA,EAAeh0D,OAASujD,EAExByQ,EAAe/xD,UAAUE,GAAgBwmD,GAAqB,QAASp2B,GAEhEyhC,CACT,EAEQ2C,EAAAA,UAAAA,aAAR,SAAqBC,GAArB,WACQntB,EAAW7qG,KAAK6qG,SACd6kB,EAAoC7kB,EAAQ,YAA/BtjD,EAAuBsjD,EAAQ,OAAvBlX,EAAekX,EAAQ,WAC9C,EAA4B6kB,EAA1BtrD,EAAM,SAAE5tD,EAAQ,WAAES,EAAG,MACvBqiH,EAAcl1D,EAAO90D,KAAI,SAACu4C,GAC9B,OAAON,EAAOM,EAChB,IAEMowE,EAAwB,GAgD9B,OA/CA3yH,EAAK0yH,GAAe,SAAC1f,EAA2Bz1G,GAC9C,IAEI02H,EAFExO,EAASzS,EAAY/kG,IACrBimH,EAAaziH,EAAK0iH,aAAa1O,EAAQuO,GAE7C,GAAI9iH,EAAU,CAEZ,IAAMkjH,EAAet1D,EAAO90D,KAAI,SAACu4C,GAAkB,OAAAkjE,EAAOljE,EAAP,IAEnD,GADA0xE,EAAc/iH,EAAQ,kCAAIkjH,IAAY,IAClCx0H,EAAMq0H,GAER,YADAtB,EAAUtzH,KAAK,K,CAKnB,IAAIywE,GAAW,kBACb9hD,GAAIvc,EAAK4iH,WAAWrhB,GACpBvxC,UAAWhwD,EAAK8zF,SAAS7lC,aAAaszC,GACtCzxG,KAAMkkH,EACNzS,YAAW,EACX3kB,WAAU,GACP18E,GACAsiH,GAGDtzH,EAAWmvE,EAASrwB,YACtBqwB,EAASrwB,SAAWqwB,EAASrwB,SAASgmE,EAAQzS,EAAaz1G,IAG7D,IAAMoiD,EAASluC,EAAK6iH,eAAexkD,EAASnwB,QAAU,GAEhD0zE,EAAkB5hH,EAAK6hH,mBAAmB3zE,EAAQmwB,EAASrwB,UAEjEqwB,EAAWtmE,GAAQ,CAAC,EAAG6pH,EAAiBvjD,GAExCA,EAASnwB,OAASluC,EAAK6iH,eAAexkD,EAASnwB,QAAU,GAEzD,IAAMklB,EAAUiL,EAASjL,QACrBlkE,EAAWkkE,GACbiL,EAASjL,QAAUA,EAAQ4gD,EAAQzS,EAAaz1G,GACvCyJ,GAAY69D,KAErBiL,EAASjL,QAAUqvD,EAAW,IAGhCvB,EAAUtzH,KAAKywE,EACjB,IAEO6iD,CACT,EAEQF,EAAAA,UAAAA,aAAR,SAAqBhN,EAAexjE,GAClC,IAAMsyE,EAAa,GAiBnB,OAhBAv0H,EAAKiiD,GAAQ,SAACz6B,GACZ,IAAIhsB,EAAQiqH,EAAOj+F,EAAM+6B,OAEvB/mD,EADEuE,EAAQvE,GACFA,EAAMwO,KAAI,SAACwqH,GACjB,OAAOhtG,EAAMi+B,QAAQ+uE,EACvB,IAEQhtG,EAAMi+B,QAAQjqD,GAGpBoE,EAAMpE,IAAoB,KAAVA,EAClB+4H,EAAWl1H,KAAK,MAEhBk1H,EAAWl1H,KAAK7D,EAEpB,IACO+4H,CACT,EAEQ9B,EAAAA,UAAAA,gBAAR,SAAwB9yE,QAAA,IAAAA,IAAAA,EAAAA,GACtB,IAAM0uC,EAAa3zF,KAAKggE,gBACpB+5D,EAAe,EAKnB,OAJIzvH,GAAS26C,KACX80E,EAAe90E,GAGV0uC,EAAW91B,aAAe81B,EAAWz8D,YAAY6iG,EAAc,GAAKpmC,EAAWz8D,YAAY,EAAG6iG,EACvG,EAEQhC,EAAAA,UAAAA,kBAAR,WACE,IAAMltB,EAAW7qG,KAAK6qG,SAChBF,EAAS,CAAC,EAUhB,OATArlG,EAAKulG,EAAS8N,aAAa,SAACzwF,EAAkBoL,GAC5Cq3E,EAAOr3E,GAAMpL,EAAQJ,KACvB,IAEAxiB,EAAKulG,EAASggB,oBAAoBr5F,eAAe,SAACuE,GAChD,IAAMzC,EAAKu3E,EAAS7lC,aAAajvC,EAAMxnB,IAAI,UAAU+pG,aACrD3N,EAAOr3E,GAAMyC,CACf,IAEO40E,CACT,EACF,EA9aA,G,MCjBM,SAAUqvB,GAAgBrqG,EAAiB7uB,EAAY2R,GAC3D,IAAKkd,EACH,OAAOld,EAGT,IAAI9J,EAEJ,GAAIgnB,EAAKnZ,UAAYmZ,EAAKnZ,SAAStT,OAAS,EAAG,CAC7C,IAAM+2H,EAAW70H,MAAMuqB,EAAKnZ,SAAStT,OAAS,GAAG82D,KAAK,IACtDrxD,EAAIgnB,EAAKwgG,QAAO,MAAZxgG,GAAI,SAAS7uB,IAAK,QAAKm5H,IAAQ,IAAEpoH,KAAK,G,MAE1ClJ,EAAIgnB,EAAKwgG,QAAQrvH,GAAO+Q,KAAK,IAG/B,OAAOlJ,GAAK8J,CACd,CCxBO,IAAMynH,GAAgB,CAC3BzuB,QAAS,SAAC7yF,EAAWC,EAAWlQ,GAC9B,IAAMwxH,EAASxxH,EAAI,EAAKxB,KAAKuU,KAAK,GAClC,MAAO,CACL,CAAC,IAAK9C,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAIuhH,EAAOthH,EAAIlQ,EAAI,GACzB,CAAC,IAAKiQ,EAAIuhH,EAAOthH,EAAIlQ,EAAI,GACzB,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAIuhH,EAAOthH,EAAIlQ,EAAI,GACzB,CAAC,IAAKiQ,EAAIuhH,EAAOthH,EAAIlQ,EAAI,GACzB,CAAC,KAEL,EACA4iG,OAAQ,SAAC3yF,EAAWC,EAAWlQ,GAC7B,IAAMyxH,EAAQzxH,EAAI,IAClB,MAAO,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,KAC/G,EACA/mF,MAAO,SAACz6B,EAAWC,EAAWlQ,GAC5B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GACjB,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GACjB,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GACjB,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAErB,EACAmiD,KAAM,SAAClyC,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GAEzB,EACAgjG,KAAM,SAAC/yF,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAGC,EAAIlQ,GAEjB,EACAijG,OAAQ,SAAChzF,EAAWC,EAAWlQ,GAC7B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAIjQ,EAAGkQ,GAEjB,EACAk8B,KAAM,SAACn8B,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAGC,EAAIlQ,GAEjB,GC3CI0xH,GAAkB,CAAC,OAAQ,QAAS,OAAQ,OAAQ,UAQ1D,SAASC,GAAsB56C,EAAyBvqE,GACtD,OAAIlP,EAAWkP,GACNA,EAAMuqE,GAER5wE,GAAQ,CAAC,EAAG4wE,EAAavqE,EAClC,CAQA,SAASolH,GAAmBx8C,EAAyBr5C,GACnD,IAAM46C,EAASvB,EAAOuB,OACtB,GAAInwE,GAASmwE,KAAgD,IAArC+6C,GAAgB91H,QAAQ+6E,GAAgB,CAC9D,IAAMI,EAAcnxE,GAAIwvE,EAAQ,QAAS,CAAC,GACpC59B,EAAY5xC,GAAImxE,EAAa,YAAa,GAC1C1+B,EAAS0+B,EAAY1+B,QAAU0+B,EAAY1lB,MAAQt1B,EACzDq5C,EAAO5oE,MAAQrG,GAAQ,CAAC,EAAGivE,EAAO5oE,MAAO,CAAEgrC,UAAS,EAAEa,OAAM,EAAEgZ,KAAM,M,CAExE,CAMA,SAASwgE,GAAgBz8C,GACvB,IAAMuB,EAASvB,EAAOuB,OAClBnwE,GAASmwE,IAAW46C,GAAc56C,KACpCvB,EAAOuB,OAAS46C,GAAc56C,GAElC,CAQM,SAAUm7C,GAAgBnsG,GAC9B,OAAOA,EAAUosG,WAAW1pH,GAAAA,OAAmBsd,EAAUosG,WAAW1pH,GAAAA,OAAmB,WAAa,YACtG,CAiBM,SAAU2pH,GACdziC,EACA2S,EACAl7E,EACAirG,EACAC,GAEA,IAAM/tG,EAAQ6C,EAAK0mE,SAAS1mE,EAAK3qB,MACjC,GAAI8nB,EAAMm7B,WAAY,CACpB,IAAM6yE,EAAQhuG,EAAM+6B,MACdkzE,EAAYlwB,EAASptC,aAAa,SAClCu9D,EAAYnwB,EAASptC,aAAa,SAClCw9D,EAAe/iC,EAAK4B,WAAW8P,aAC/BsxB,EAAYrwB,EAASlX,WAAWoB,QAEtC,OAAOjoE,EAAMquG,WAAW7rH,KAAI,SAACw7C,EAAYjoD,G,MAC/BsO,EAA4B25C,EAAI,KAAnBswE,EAAetwE,EAAI,MAClClqD,EAAOuQ,EACPrQ,EAAQgsB,EAAM/B,OAAOqwG,GAGvB37C,EAAyE,IAA7DyY,EAAKmjC,gBAAgBP,EAAO,OAAG3wG,EAAC2wG,GAAQh6H,EAAK,KAAKoC,OAClEoC,EAAK4yF,EAAKgG,OAAO,SAACC,G,MACXA,EAAQk9B,gBAAgBP,EAAO,OAAG3wG,EAAC2wG,GAAQh6H,EAAK,KAAKoC,SACxDu8E,GAAY,EAEhB,IAGA,IAAM/6C,EAAQs1F,GAAgBe,EAAWj6H,EAAOm6H,GAC1CnzG,EAAQkyG,GAAgBgB,EAAWl6H,EAAO,SAC5Ci9E,EAAS8sB,EAASywB,eAAexzG,EAAO,CAC1C4c,MAAK,EACL62F,UAAS,IAGP76C,EAAYm6C,EAchB,OAbI50H,EAAWy6E,KACbA,EAAYA,EAAU9/E,EAAMiC,GAAO,SAAEjC,KAAI,EAAEE,MAAK,GAAKgO,GAAQ,CAAC,EAAG8rH,EAAa78C,MAIhFA,EAASjvE,GAAQ,CAAC,EAAG8rH,EAAa78C,EAAQuW,IAAK,WAAK5T,GAAa,CAAC,WAClE65C,GAAmBx8C,EAAQr5C,GACvBg8C,GAAaA,EAAUvrE,QAEzB4oE,EAAO5oE,MAAQmlH,GAAsBv8C,EAAO5oE,MAAOurE,EAAUvrE,QAE/DqlH,GAAgBz8C,GAET,CAAEzqD,GAAIxyB,EAAOF,KAAI,EAAEE,MAAK,EAAEi9E,OAAM,EAAE0B,UAAS,EACpD,G,CAEF,MAAO,EACT,CAUM,SAAU+7C,GAAqBZ,EAAqBC,EAAoBtR,GAE5E,OAAOA,EAAYj6G,KAAI,SAAC1M,EAAkBC,GACxC,IAAI69E,EAAYm6C,EACZ50H,EAAWy6E,KACbA,EAAYA,EAAU99E,EAAKhC,KAAMiC,EAAOiM,GAAQ,CAAC,EAAG8rH,EAAah4H,KAGnE,IAAM64H,EAAax1H,EAAWrD,EAAKm7E,QAC/Bn7E,EAAKm7E,OAAOn7E,EAAKhC,KAAMiC,EAAOiM,GAAQ,CAAC,EAAG8rH,EAAah4H,IACvDA,EAAKm7E,OAEHA,EAASjvE,GAAQ,CAAC,EAAG8rH,EAAal6C,EAAW+6C,GAInD,OAHAjB,GAAgBz8C,GAEhBn7E,EAAKm7E,OAASA,EACPn7E,CACT,GACF,CASM,SAAU84H,GAAkBjpD,EAAenkD,GAC/C,IAAMqtG,EAAcptH,GAAIkkE,EAAO,CAAC,aAAc,UAAW,CAAC,GAC1D,OAAO3jE,GAAQ,CAAC,EAAGP,GAAIotH,EAAa,CAAC,UAAW,CAAC,GAAI7sH,GAAQ,CAAC,EAAGP,GAAIotH,EAAa,CAACrtG,GAAY,CAAC,IAClG,CCxKA,SAASstG,GAAa96H,GACpB,OAAIA,IAGa,OAAVA,QAA4BqE,IAAVrE,GAAuB2G,MAAM3G,GACxD,CAEA,SAAS+6H,GAAOvtF,GACd,GAAIjpC,EAAQipC,GAEV,OAAOstF,GAAattF,EAAM,GAAGz1B,GAE/B,IAAM/X,EAAQwtC,EAAMz1B,EACpB,OAAOxT,EAAQvE,GAAS86H,GAAa96H,EAAM,IAAM86H,GAAa96H,EAChE,CAyBM,SAAUg7H,GAAcv3G,EAAuBw3G,EAA+BC,GAClF,QADmD,IAAAD,IAAAA,GAAAA,QAA+B,IAAAC,IAAAA,GAAAA,IAC7Ez3G,EAAOrhB,QAA6B,IAAlBqhB,EAAOrhB,SAAiB84H,EAE7C,MAAO,GAGT,GAAID,EAAc,CAGhB,IADA,IAAME,EAAW,GACRx2H,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CACjD,IAAM6oC,EAAQ/pB,EAAO9e,GAChBo2H,GAAOvtF,IACV2tF,EAASt3H,KAAK2pC,E,CAGlB,MAAO,CAAC2tF,E,CAGV,IAAMv3H,EAAS,GACXgD,EAAM,GACV,IAASjC,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CAC3C6oC,EAAQ/pB,EAAO9e,GACjBo2H,GAAOvtF,GACL5mC,EAAIxE,UACe,IAAfwE,EAAIxE,QAAiB84H,IAEzBt3H,EAAOC,KAAK+C,GAEdA,EAAM,IAGRA,EAAI/C,KAAK2pC,E,CAOb,OAHI5mC,EAAIxE,QACNwB,EAAOC,KAAK+C,GAEPhD,CACT,CAOM,SAAUw3H,GAAc33G,GAE5B,IADA,IAAMpU,EAAO,GACJ1K,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAAK,CACtC,IAAM6oC,EAAQ/pB,EAAO9e,GACrB,GAAI6oC,EAAO,CACT,IAAMjgB,EAAe,IAAN5oB,EAAU,IAAM,IAC/B0K,EAAKxL,KAAK,CAAC0pB,EAAQigB,EAAM11B,EAAG01B,EAAMz1B,G,EAGtC,IAAM8iC,EAAQp3B,EAAO,GAKrB,OAJIo3B,IACFxrC,EAAKxL,KAAK,CAAC,IAAKg3C,EAAM/iC,EAAG+iC,EAAM9iC,IAC/B1I,EAAKxL,KAAK,CAAC,OAENwL,CACT,CAOM,SAAUgsH,GAAoB53G,GAIlC,IAHA,IAAMo1C,EAAOp1C,EAAOrhB,OAAS,EACvBk5H,EAAa,GACbC,EAAc,GACX52H,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAC7BA,EAAIk0D,EACNyiE,EAAWz3H,KAAK4f,EAAO9e,IAEvB42H,EAAY13H,KAAK4f,EAAO9e,IAG5B,IAAM62H,EAAW//B,GAAc6/B,GAAY,GACrCG,EAAYhgC,GAAc8/B,GAAa,GACzCA,EAAYn5H,QACdo5H,EAAS33H,KAAK,CAAC,IAAK03H,EAAY,GAAGzjH,EAAGyjH,EAAY,GAAGxjH,IAEvD0jH,EAAUt+G,QACV,IAAM9N,EAAOmsH,EAASv1H,OAAOw1H,GAK7B,OAJIH,EAAWl5H,QACbiN,EAAKxL,KAAK,CAAC,IAAKy3H,EAAW,GAAGxjH,EAAGwjH,EAAW,GAAGvjH,IAEjD1I,EAAKxL,KAAK,CAAC,MACJwL,CACT,CC3HM,SAAUo+D,GAASt3D,EAAgBulH,EAAmBC,EAAiBC,QAAA,IAAAA,IAAAA,EAAAA,IACnE,MAA0CzlH,EAAG,MAA7C9B,OAAK,IAAG,GAAC,EAAC,EAAEm9G,EAA8Br7G,EAAG,aAAnBytB,EAAgBztB,EAAG,MAAZjI,EAASiI,EAAG,KAC/C7W,GAAQ,oBACTkyH,GACAn9G,GAsBL,OApBIuvB,IACE83F,IACGrnH,EAAM6rC,SAET5gD,EAAM4gD,OAAStc,IAIf+3F,IACGtnH,EAAM6kD,OAET55D,EAAM45D,KAAOt1B,KAIfg4F,GAAYx3H,EAAMiQ,EAAMunH,MAAex3H,EAAM8J,KAE/C5O,EAAMs8H,GAAY1tH,GAGb5O,CACT,CAMM,SAAUu8H,GAAuB1lH,GACrC,OAAOnI,GACL,CAAC,EACD,CAEEkrD,KAAM,UACN0rC,YAAa,IAEfn3F,GAAI0I,EAAK,CAAC,aAAc,UAE5B,CCzCM,SAAU2lH,GAAY52H,GAE1B,IAAM4S,EAAI5S,EAAI4S,EACRC,EAAIxT,EAAQW,EAAI6S,GAAK7S,EAAI6S,EAAI,CAAC7S,EAAI6S,GAExC,OAAOA,EAAEvJ,KAAI,SAACutH,EAAOh6H,GACnB,MAAO,CACL+V,EAAGvT,EAAQuT,GAAKA,EAAE/V,GAAS+V,EAC3BC,EAAGgkH,EAEP,GACF,CCvBA,IAAMC,GAAc,CAClB/nF,KAAM,SAACn8B,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAIjQ,EAAGkQ,GAEjB,EACAqU,IAAK,SAACtU,EAAWC,EAAWlQ,GAC1B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAIjQ,EAAGkQ,GAEjB,EACAoyF,KAAM,SAACryF,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKD,EAAIjQ,EAAGkQ,GAEjB,EACA4hC,OAAQ,SAAC7hC,EAAWC,EAAWlQ,GAC7B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKlQ,EAAI,EAAGA,EAAI,EAAG,EAAG,EAAG,EAAGiQ,EAAGC,GAChC,CAAC,IAAKlQ,EAAI,EAAGA,EAAI,EAAG,EAAG,EAAG,EAAGiQ,EAAIjQ,EAAGkQ,GAExC,EACAqyF,GAAI,SAACtyF,EAAWC,EAAWlQ,GACzB,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAGC,EAAI,KACb,CAAC,IAAKD,EAAGC,EAAI,KACb,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KAEzB,EACAsyF,GAAI,SAACvyF,EAAWC,EAAWlQ,GACzB,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAGC,EAAI,KACb,CAAC,IAAKD,EAAGC,EAAI,KACb,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KAEzB,EACAuyF,IAAK,SAACxyF,EAAWC,EAAWlQ,GAC1B,MAAO,CACL,CAAC,IAAKiQ,GAAKjQ,EAAI,GAAIkQ,EAAI,KACvB,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KACrB,CAAC,IAAKD,EAAIjQ,EAAI,EAAGkQ,EAAI,KAEzB,EACAwyF,IAAK,SAACzyF,EAAWC,GAEf,MAAO,CACL,CAAC,IAAKD,EAAI,EAAGC,EAAI,KACjB,CAAC,IAAKD,EAAI,EAAGC,GACb,CAAC,IAAKD,EAAGC,GACT,CAAC,IAAKD,EAAGC,EAAI,GACb,CAAC,IAAKD,EAAGC,EAAI,GACb,CAAC,IAAKD,EAAI,IAAKC,EAAI,GAEvB,GAUI,SAAUkkH,GAAcr8C,EAA2BtuD,GAC/C,IAAAsS,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQw9C,GAAY1qG,GACpBjd,MAAO,CACLgrC,UAAW,EACXx3C,EAAG,EACHq4C,OAAQtc,GAGd,CCzEA,SAASwoC,GAAcj2D,EAAgBwjC,EAAkBE,GAMvD,IALQ,IAAAqiF,EAAuD/lH,EAAG,QAAjD8kH,EAA8C9kH,EAAG,aAAnCykF,EAAgCzkF,EAAG,WAAvB+kH,EAAoB/kH,EAAG,gBAC5DgmH,EAAa1uD,GAASt3D,GAAK,GAAM,EAAO,aAExCsN,EAASu3G,GAAc7kH,EAAIsN,OAAQw3G,EAAcC,GACnD7rH,EAAO,GACF1K,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CACjD,IAAMy3H,EAAiB34G,EAAO9e,GAC9B0K,EAAOA,EAAKpJ,OAAOo2H,GAAQD,EAAgBxhC,EAAYshC,EAASviF,EAAQE,EAAYsiF,G,CAItF,OAFAA,EAAW9sH,KAAOA,EAEX8sH,CACT,CAGA,SAASG,GACP74G,EACAm3E,EACAjhD,EACAE,EACAxlC,GAEA,OAAsB,IAAlBoP,EAAOrhB,OAEF,CACL,CAAC,IAAKqhB,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAI1D,EAAMgrC,UAAY,GACnD,CAAC,IAAK57B,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAI1D,EAAMgrC,UAAY,KAKlD1F,GAOCihD,GAAcn3E,EAAOrhB,QACvBqhB,EAAO5f,KAAK,CAAEiU,EAAG2L,EAAO,GAAG3L,EAAGC,EAAG0L,EAAO,GAAG1L,IAE7C1I,EAAOosF,GAAch4E,GAAQ,EAAOo2B,KATpCxqC,EAAOqjE,GAAYjvD,GAAQ,GACvBm3E,GACFvrF,EAAKxL,KAAK,CAAC,OAURwL,GAdP,IAAIA,CAeN,CAEA,SAASktH,GACP94G,EACAm3E,EACAshC,EACAviF,EACAE,EACAxlC,GAEA,IAAMmoH,EAAY,GACZC,EAAe,GACrBj4H,EAAKif,GAAQ,SAAC+pB,GACZ,IAAM5pC,EAASk4H,GAAYtuF,GAC3BgvF,EAAU34H,KAAKD,EAAO,IACtB64H,EAAa54H,KAAKD,EAAO,GAC3B,IAEA,IAAM84H,EAAUJ,GAAcE,EAAW5hC,EAAYjhD,EAAQE,EAAYxlC,GACnEsoH,EAAaL,GAAcG,EAAc7hC,EAAYjhD,EAAQE,EAAYxlC,GAC/E,OAAI6nH,EACKQ,EAEFA,EAAQz2H,OAAO02H,EACxB,CAKM,SAAUN,GACd54G,EACAm3E,EACAshC,EACAviF,EACAE,EACAxlC,GAEA,GAAIoP,EAAOrhB,OAAQ,CACjB,IAAMy4C,EAAQp3B,EAAO,GAErB,OAAOlf,EAAQs2C,EAAM9iC,GACjBwkH,GAAa94G,EAAwBm3E,EAAYshC,EAASviF,EAAQE,EAAYxlC,GAC9EioH,GAAc74G,EAAmBm3E,EAAYjhD,EAAQE,EAAYxlC,E,CAEvE,MAAO,EACT,CAEyBw4G,GAAqB,OAAQ,CACpDhC,iBAAkB,SAKpBrmH,EAAK,CAAC,OAAQ,MAAO,OAAQ,WAAW,SAAC8sB,GACvC07F,GAAc,OAAQ17F,EAAW,CAC/Bwa,KAAI,SAAC31B,EAAgBrC,GACnB,IACI+lC,EADEF,EAAuB,WAAdroB,EAEf,GAAIqoB,EAAQ,CACJ,MAAiBz6C,KAAK2zF,WAApB55E,EAAK,QAAE2I,EAAG,MAClBi4B,EAAa,CACX,CAAC5gC,EAAMnB,EAAG8J,EAAI7J,GACd,CAAC6J,EAAI9J,EAAGmB,EAAMlB,G,CAIlB,IAAMzY,EAAQ8sE,GAAcj2D,EAAKwjC,EAAQE,GACnC7yB,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,OACNunB,SAAUsyB,IAGZ,OAAO3yB,CACT,EACAwlG,UAAS,SAAC5sC,GACR,OAAOq8C,GAAcr8C,EAAWtuD,EAClC,GAEJ,IAEA,IC1IMmgF,GAAe,CACnB,IAAK,OACL,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,EAAG,WAGCD,GAAe,CACnB,IAAK,UACL,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,GAAI,UACJ,EAAG,WAGCE,GAAiB,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGIC,GAAiB,CACrB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIIC,GAAkB,CACtB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGWgrB,GAAuB,SAACzmH,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GAC3B,MAAiFA,EAAG,qBAApFqzF,OAAoB,IAAG,EAAAkI,GAAc,EAAEt/E,EAA0Cjc,EAAG,qBAA7CuzF,OAAoB,IAAG,EAAAiI,GAAc,EAC5E,EAAyCx7F,EAAG,WAA5C4yF,OAAU,IAAG,EAAAS,EAAqB,GAAE,EAEtCt+C,EAAQ,CAEZsvB,gBAAiB,UAEjBuuB,WAAU,EAEVC,SAAU,yBAEVQ,qBAAoB,EAEpBE,qBAAoB,EAEpBR,mBAAoB,UAEpBE,qBAAsB,UAEtB0I,sBAAuB,UAEvBlI,gBAAiBgI,GAEjBrhG,WAAY,+JAMZmyF,oBAAqB8O,GAAa,IAElC/O,eAAgB,EAEhBsP,aAAc,KAGd9P,uBAAwBuP,GAAa,IAErCtP,sBAAuB,GAEvBC,wBAAyB,GAEzB6P,wBAAyB,SAEzBhQ,iBAAkB,GAElBI,6BAA8BqP,GAAa,IAG3CxO,wBAAyBuO,GAAa,IAEtCtO,mBAAoB,EAEpBF,mBAAoB,EAGpBiP,2BAA4BT,GAAa,IAEzCU,sBAAuB,EAEvBC,sBAAuB,EAGvB7P,mBAAoBkP,GAAa,IAEjCjP,kBAAmB,GAEnBC,oBAAqB,GAErB4P,oBAAqB,SAErB/P,gBAAiB,EAGjBO,oBAAqB4O,GAAa,IAElC3O,eAAgB,EAEhBE,iBAAkB,KAIlBsP,yBAA0Bb,GAAa,IAEvCc,wBAAyB,GAEzBC,0BAA2B,GAE3BC,0BAA2B,SAG3BlP,kBAAmBoO,GAAe,GAElCtO,oBAAqB,EAErBqP,iBAAkB,EAElBpP,uBAAwB,EAExBqP,uBAAwB,EAExBC,qBAAsB,EAGtBpP,wBAAyBiO,GAAa,IAEtChO,uBAAwB,GAExBC,yBAA0B,GAE1BC,yBAA0B,SAE1BS,kBAAmB,GAEnBC,uBAAwB,GAExBy4B,cAAe,GAEfx4B,cAAe,CAAC,EAAG,EAAG,EAAG,GAEzBoH,wBAAyB,CAAC,EAAG,EAAG,EAAG,GAEnCD,sBAAuB,CAAC,EAAG,EAAG,EAAG,GAIjC5H,8BAA+B,GAE/BC,2CAA4C2N,GAAa,IAEzD1N,6CAA8C,IAE9CC,mCAAoCyN,GAAa,IAEjDxN,qCAAsC,EAEtCC,iCAAkCuN,GAAa,IAE/CtN,gCAAiC,GAGjC2H,oBAAqB2F,GAAa,IAElCzF,iBAAkB,EAElBD,sBAAuB,KAEvBF,gBAAiB,IAEjBD,iBAAkB,GAGlBK,yBAA0BwF,GAAa,IAEvCvF,wBAAyB,GAEzBC,0BAA2B,GAE3B0G,0BAA2B,SAG3BxG,uBAAwBqF,GAAa,GAErCtF,mBAAoB,GAEpB0G,oBAAqB,GAErBC,oBAAqB,EAErBzG,yBAA0BoF,GAAa,IAIvChE,yBAA0B+D,GAAa,IAEvC9D,oBAAqB,EAGrBC,0BAA2B6D,GAAa,IAExC3D,qBAAsB,EAEtBD,mBAAoB,KAGpBE,wBAAyB0D,GAAa,IAEtCvD,uBAAwB,GAExB8E,yBAA0B,GAE1BC,yBAA0B,SAE1BjF,0BAA2B,KAE3BC,qBAAsB,EAGtBI,0BAA2BoD,GAAa,KAExCnD,4BAA6B,IAE7BH,uBAAwB,EAExBC,4BAA6B,KAG7BK,+BAAgC,GAIhC3B,6BAA8B2E,GAAa,IAE3C1E,wBAAyB,EAEzBmG,0BAA2B,KAG3BjG,0BAA2B,UAC3BC,4BAA6B,IAE7BC,uBAAwB,6BAExBC,6BAA8B,EAG9BC,qBAAsBoE,GAAa,IAEnCnE,oBAAqB,GAErBC,sBAAuB,GAEvB4F,sBAAuB,OAIvBhD,eAAgBsB,GAAa,IAC7BjB,mBAAoB,UACpBE,oBAAqB,UAErBN,cAAe,GAEfgD,gBAAiB,GAEjBC,gBAAiB,SAEjBhD,iBAAkB,KAElBC,YAAa,EAGbM,oBAAqBc,GAAa,KAElCb,mBAAoB,GAEpByC,qBAAsB,GAEtBC,qBAAsB,SAEtBzC,sBAAuB,KAEvBC,iBAAkB,EAGlBE,uBAAwBQ,GAAa,IACrCsrB,2BAA4B,UAC5BC,4BAA6B,UAE7B9rB,sBAAuB,GAEvBsC,wBAAyB,GAEzBC,wBAAyB,SAEzBtC,yBAA0BO,GAAa,KAEvCN,oBAAqB,EAGrBI,gBAAiB,EAEjBkC,qBAAsBjC,GAAa,IAInCkC,kBAAmB,GAEnB/E,2BAA4B,UAE5BC,6BAA8B,IAE9BC,2BAA4B,UAE5BC,6BAA8B,IAG9BE,qBAAsB,GAEtBD,oBAAqB,GAErBE,wBAAyB,UAEzBC,0BAA2B,EAE3BI,iCAAkC,OAElCH,0BAA2B,UAE3BC,qBAAsB,EAEtBC,2BAA4B,EAG5BE,qBAAsB,OAEtBC,uBAAwB,IAExBC,oBAAqB,GAErBC,sBAAuB,GAEvBC,sBAAuB,SAEvBC,uBAAwB,KAExBC,kBAAmB,EAInBE,wBAAyB,yBAEzBC,wBAAyB,mBAEzBC,iCAAkC,mBAIlCzL,eAAgBkN,GAAe,GAE/B7M,iBAAkB,IAElBJ,UAAW,EAEXE,YAAa,EAEbD,iBAAkB+M,GAAa,KAE/BkC,mBAAoB,EAGpB7O,uBAAwB0M,GAAa,KAGrCtM,oBAAqB,EAErBD,yBAA0BuM,GAAa,KAGvCrM,yBAA0B,GAE1BC,2BAA4B,GAG5BM,gBAAiB,EAEjBH,kBAAmB,EAEnBC,uBAAwBkM,GAAe,GAEvCjM,yBAA0B,IAC1BH,qBAAsBmM,GAAa,KAGnCmC,wBAAyB,EAEzBjO,6BAA8B6L,GAAa,KAE3C5L,+BAAgC,EAGhCC,0BAA2B,EAE3BC,+BAAgC0L,GAAa,KAE7CzL,iCAAkC,EAGlCC,iCAAkC,GAGlCqC,WAAY,EAEZD,gBAAiBsJ,GAAe,GAEhCpJ,kBAAmB,EAGnBG,iBAAkB,EAGlBC,mBAAoB,EAGpBC,0BAA2B,GAG3BzC,cAAewL,GAAe,GAE9BvL,gBAAiB,IAGjB0N,oBAAqBnC,GAAe,GACpCtL,sBAAuB,GAGvB0N,sBAAuBpC,GAAe,GACtCrL,wBAAyB,GAGzBC,wBAAyB,GAGzBE,sBAAuBkL,GAAe,GAEtCjL,iBAAkB,EAElBC,wBAAyB,EAGzBC,uBAAwB,EACxBoN,4BAA6BvC,GAAa,KAG1C5K,yBAA0B,EAC1BoN,8BAA+BxC,GAAa,KAG5C3K,gCAAiC,GAGjCC,kBAAmB4K,GAAe,GAElC3K,oBAAqB,IAGrBE,qBAAsB,EAEtBD,0BAA2BwK,GAAa,KACxCyC,4BAA6B,EAG7B9M,uBAAwB,EAExBD,4BAA6BsK,GAAa,KAE1C0C,8BAA+B,EAG/B7M,8BAA+B,GAE/BD,4BAA6B,GAG7BK,qBAAsB,EAEtBD,0BAA2BkK,GAAe,GAE1ChK,4BAA6B,EAC7BH,wBAAyBkK,GAAa,KAGtC7J,2BAA4B,EAE5BD,gCAAiC6J,GAAa,KAG9CzJ,6BAA8B,EAE9BD,kCAAmC0J,GAAa,KAEhDxJ,oCAAqC,EAGrCG,oCAAqC,IAGvC,OAAO,oBAAKj9C,GAAU/0C,EACxB,EAEa6mH,GAAWJ,K/OnjBlB,SAAUK,KACd,OAAOnxH,OAASA,OAAOoxH,iBAAmB,CAC5C,CASM,SAAUjxG,GAAS5T,EAAYG,EAAYD,EAAYG,GAC3D,IAAMg2B,EAAKr2B,EAAKE,EACVo2B,EAAKn2B,EAAKE,EAChB,OAAOrS,KAAKuU,KAAK8zB,EAAKA,EAAKC,EAAKA,EAClC,CAWM,SAAUwuF,GAAM3nG,EAAcG,EAAc1kB,EAAe2D,EAAgBkD,EAAGC,GAClF,OAAOD,GAAK0d,GAAQ1d,GAAK0d,EAAOvkB,GAAS8G,GAAK4d,GAAQ5d,GAAK4d,EAAO/gB,CACpE,CAEM,SAAUipF,GAAcl/C,EAAMC,GAClC,QAASA,EAAKppB,KAAOmpB,EAAKjpB,MAAQkpB,EAAKlpB,KAAOipB,EAAKnpB,MAAQopB,EAAKjpB,KAAOgpB,EAAK/oB,MAAQgpB,EAAKhpB,KAAO+oB,EAAKhpB,KACvG,CAGM,SAAUynG,GAAYC,EAASC,GACnC,OAAKD,GAAYC,EAGV,CACL9nG,KAAMnvB,KAAKE,IAAI82H,EAAQ7nG,KAAM8nG,EAAQ9nG,MACrCG,KAAMtvB,KAAKE,IAAI82H,EAAQ1nG,KAAM2nG,EAAQ3nG,MACrCD,KAAMrvB,KAAKC,IAAI+2H,EAAQ3nG,KAAM4nG,EAAQ5nG,MACrCE,KAAMvvB,KAAKC,IAAI+2H,EAAQznG,KAAM0nG,EAAQ1nG,OAN9BynG,GAAWC,CAQtB,CAOM,SAAUjiF,GAAYC,EAAQC,GAClC,OAAOD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,EACzD,CgPnDA,IAAMgM,GAAU,kCACVC,GAAU,gEACV+1E,GAAU,kCACV91E,GAAiB,8BAEvB,SAAS+1E,GAAQ72E,EAAOgC,GACtB,IAAMnlD,EAAgBmjD,EAAMj8C,MAAM+8C,IAClCjjD,EAAKhB,GAAK,SAAC1B,GACT,IAAMmnD,EAAUnnD,EAAK8G,MAAM,KAC3B+/C,EAAS80E,aAAax0E,EAAQ,GAAIA,EAAQ,GAC5C,GACF,CAQM,SAAUy0E,GAAkB3wH,EAAmCqa,EAAmBu2G,GACtF,IAII1kH,EACA2I,EALEpe,EAAM+jD,GAAQ99B,KAAKk0G,GACnB5jH,EAASzQ,WAAW9F,EAAI,IAAM,KAAQ6C,KAAK+D,GAAK,KAChDu8C,EAAQnjD,EAAI,GACZ4c,EAAMgH,EAAQ2O,UAIhBhc,GAAS,GAAKA,EAAS,GAAS1T,KAAK+D,IACvC6O,EAAQ,CACNnB,EAAGsI,EAAIoV,KACPzd,EAAGqI,EAAIuV,MAET/T,EAAM,CACJ9J,EAAGsI,EAAIsV,KACP3d,EAAGqI,EAAIwV,OAEC,GAASvvB,KAAK+D,IAAM2P,GAASA,EAAQ1T,KAAK+D,IACpD6O,EAAQ,CACNnB,EAAGsI,EAAIsV,KACP3d,EAAGqI,EAAIuV,MAET/T,EAAM,CACJ9J,EAAGsI,EAAIoV,KACPzd,EAAGqI,EAAIwV,OAEAvvB,KAAK+D,IAAM2P,GAASA,EAAS,IAAS1T,KAAK+D,IACpD6O,EAAQ,CACNnB,EAAGsI,EAAIsV,KACP3d,EAAGqI,EAAIwV,MAEThU,EAAM,CACJ9J,EAAGsI,EAAIoV,KACPzd,EAAGqI,EAAIuV,QAGT1c,EAAQ,CACNnB,EAAGsI,EAAIoV,KACPzd,EAAGqI,EAAIwV,MAEThU,EAAM,CACJ9J,EAAGsI,EAAIsV,KACP3d,EAAGqI,EAAIuV,OAIX,IAAMioG,EAAWv3H,KAAKmV,IAAIzB,GACpB8jH,EAAYD,EAAWA,EAEvB9lH,GAAK8J,EAAI9J,EAAImB,EAAMnB,EAAI8lH,GAAYh8G,EAAI7J,EAAIkB,EAAMlB,KAAO8lH,EAAY,GAAK5kH,EAAMnB,EAC/EC,EAAK6lH,GAAYh8G,EAAI9J,EAAImB,EAAMnB,EAAI8lH,GAAYh8G,EAAI7J,EAAIkB,EAAMlB,KAAQ8lH,EAAY,GAAK5kH,EAAMlB,EAC5F4wC,EAAW57C,EAAQ+wH,qBAAqB7kH,EAAMnB,EAAGmB,EAAMlB,EAAGD,EAAGC,GAEnE,OADAylH,GAAQ72E,EAAOgC,GACRA,CACT,CASM,SAAUo1E,GAAoBhxH,EAAmCqa,EAAmBu2G,GACxF,IAAMn6H,EAAMgkD,GAAQ/9B,KAAKk0G,GACnBK,EAAK10H,WAAW9F,EAAI,IACpBy6H,EAAK30H,WAAW9F,EAAI,IACpB06H,EAAK50H,WAAW9F,EAAI,IACpBmjD,EAAQnjD,EAAI,GAElB,GAAW,IAAP06H,EAAU,CACZ,IAAMr4F,EAAS8gB,EAAMj8C,MAAM+8C,IAC3B,OAAO5hB,EAAOA,EAAOzjC,OAAS,GAAGwG,MAAM,KAAK,E,CAE9C,IAAMwX,EAAMgH,EAAQ2O,UACd9kB,EAAQmP,EAAIsV,KAAOtV,EAAIoV,KACvB5gB,EAASwL,EAAIwV,KAAOxV,EAAIuV,KACxB9tB,EAAIxB,KAAKuU,KAAK3J,EAAQA,EAAQ2D,EAASA,GAAU,EACjD+zC,EAAW57C,EAAQoxH,qBACvB/9G,EAAIoV,KAAOvkB,EAAQ+sH,EACnB59G,EAAIuV,KAAO/gB,EAASqpH,EACpB,EACA79G,EAAIoV,KAAOvkB,EAAQ,EACnBmP,EAAIuV,KAAO/gB,EAAS,EACpBspH,EAAKr2H,GAGP,OADA21H,GAAQ72E,EAAOgC,GACRA,CACT,CAQM,SAAUy1E,GAAarxH,EAAmCqa,EAAmBi3G,GAEjF,GAAIj3G,EAAQ3Z,IAAI,kBAAoB2Z,EAAQ3Z,IAAI,mBAAqB4wH,EACnE,OAAOj3G,EAAQ3Z,IAAI,WAErB,IAAI6wH,EACAzyD,EACEroE,EAAM+5H,GAAQ9zG,KAAK40G,GACrBtsG,EAASvuB,EAAI,GACXihB,EAASjhB,EAAI,GAGnB,SAAS+6H,IAEPD,EAAUvxH,EAAQyxH,cAAc3yD,EAAK95C,GACrC3K,EAAQrf,IAAI,UAAWu2H,GACvBl3G,EAAQrf,IAAI,gBAAiBs2H,EAC/B,CAEA,OAAQtsG,GACN,IAAK,IACHA,EAAS,SACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,WACT,MACF,IAAK,IACHA,EAAS,YACT,MACF,QACEA,EAAS,YAmBb,OAhBA85C,EAAM,IAAI4yD,MAELh6G,EAAO/Z,MAAM,aAEhBmhE,EAAI6yD,YAAc,aAEpB7yD,EAAIh+D,IAAM4W,EAENonD,EAAI8yD,SACNJ,KAEA1yD,EAAI0yD,OAASA,EAEb1yD,EAAIh+D,IAAMg+D,EAAIh+D,KAGTywH,CACT,CAEM,SAAUM,GAAW7xH,EAAmCqa,EAAmBwc,GAC/E,IAAM1jB,EAAOkH,EAAQ2O,UACrB,GAAIpvB,MAAMuZ,EAAKpI,IAAMnR,MAAMuZ,EAAKnI,IAAMpR,MAAMuZ,EAAKjP,QAAUtK,MAAMuZ,EAAKtL,QACpE,OAAOgvB,EAGT,GAAIv1B,GAASu1B,GAAQ,CACnB,GAAiB,MAAbA,EAAM,IAA2B,MAAbA,EAAM,GAAY,CACxC,GAAiB,MAAbA,EAAM,GAER,OAAO85F,GAAkB3wH,EAASqa,EAASwc,GAE7C,GAAiB,MAAbA,EAAM,GAER,OAAOm6F,GAAoBhxH,EAASqa,EAASwc,GAE/C,GAAiB,MAAbA,EAAM,GAER,OAAOw6F,GAAarxH,EAASqa,EAASwc,E,CAG1C,OAAOA,C,CAGT,OAAGA,aAAiBi7F,cACXj7F,OADT,CAGF,CAEM,SAAUk7F,GAAYphE,GAC1B,IAAIr9C,EAAK,EACLC,EAAK,EACLy+G,EAAK,EACLC,EAAK,EAoBT,OAnBIz6H,EAAQm5D,GACY,IAAlBA,EAAOt7D,OACTie,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAAO,GACA,IAAlBA,EAAOt7D,QAChBie,EAAK0+G,EAAKrhE,EAAO,GACjBp9C,EAAK0+G,EAAKthE,EAAO,IACU,IAAlBA,EAAOt7D,QAChBie,EAAKq9C,EAAO,GACZp9C,EAAK0+G,EAAKthE,EAAO,GACjBqhE,EAAKrhE,EAAO,KAEZr9C,EAAKq9C,EAAO,GACZp9C,EAAKo9C,EAAO,GACZqhE,EAAKrhE,EAAO,GACZshE,EAAKthE,EAAO,IAGdr9C,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAEf,CAACr9C,EAAIC,EAAIy+G,EAAIC,EACtB,CChOA,SAAS9jF,GAAKx0C,GACZ,OAAOL,KAAKuU,KAAKlU,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAC1C,CAGA,SAASy0C,GAAO7jC,EAAG5Q,GAEjB,OAAOw0C,GAAK5jC,GAAK4jC,GAAKx0C,IAAM4Q,EAAE,GAAK5Q,EAAE,GAAK4Q,EAAE,GAAK5Q,EAAE,KAAOw0C,GAAK5jC,GAAK4jC,GAAKx0C,IAAM,CACjF,CAGA,SAAS00C,GAAO9jC,EAAG5Q,GACjB,OAAQ4Q,EAAE,GAAK5Q,EAAE,GAAK4Q,EAAE,GAAK5Q,EAAE,IAAM,EAAI,GAAKL,KAAKmmB,KAAK2uB,GAAO7jC,EAAG5Q,GACpE,CAGc,SAAU80C,GAAaC,EAAYhkC,GAC/C,IAAIQ,EAAKR,EAAO,GACZS,EAAKT,EAAO,GACV0+B,EAAYnsC,GAAIK,GAASoN,EAAO,IAAe,EAAVpR,KAAK+D,IAC1CsxC,EAAUjkC,EAAO,GACjBkkC,EAAYlkC,EAAO,GAEnBY,EAAKojC,EAAW,GAChBjjC,EAAKijC,EAAW,GAEhBljC,EAAKd,EAAO,GACZiB,EAAKjB,EAAO,GACZmkC,EAAMv1C,KAAKiS,IAAI69B,IAAc99B,EAAKE,GAAO,EAAOlS,KAAKoS,IAAI09B,IAAc39B,EAAKE,GAAO,EACnFmjC,GAAO,EAAIx1C,KAAKoS,IAAI09B,IAAc99B,EAAKE,GAAO,EAAOlS,KAAKiS,IAAI69B,IAAc39B,EAAKE,GAAO,EACxFojC,EAAUF,EAAKA,GAAO3jC,EAAKA,GAAO4jC,EAAKA,GAAO3jC,EAAKA,GAErD4jC,EAAS,IACX7jC,GAAM5R,KAAKuU,KAAKkhC,GAChB5jC,GAAM7R,KAAKuU,KAAKkhC,IAElB,IAAMh2B,EAAO7N,EAAKA,GAAM4jC,EAAKA,GAAM3jC,EAAKA,GAAM0jC,EAAKA,GAE/C1vC,EAAI4Z,EAAOzf,KAAKuU,MAAM3C,EAAKA,GAAMC,EAAKA,GAAM4N,GAAQA,GAAQ,EAE5D41B,IAAYC,IACdzvC,IAAM,GAEJvF,MAAMuF,KACRA,EAAI,GAIN,IAAM6vC,EAAM7jC,EAAMhM,EAAI+L,EAAK4jC,EAAM3jC,EAAK,EAChC8jC,EAAM/jC,EAAM/L,GAAKgM,EAAK0jC,EAAM3jC,EAAK,EAGjCqC,GAAMjC,EAAKE,GAAM,EAAMlS,KAAKiS,IAAI69B,GAAa4F,EAAM11C,KAAKoS,IAAI09B,GAAa6F,EACzEzhC,GAAM/B,EAAKE,GAAM,EAAMrS,KAAKoS,IAAI09B,GAAa4F,EAAM11C,KAAKiS,IAAI69B,GAAa6F,EAGzE1kC,EAAI,EAAEskC,EAAKG,GAAO9jC,GAAK4jC,EAAKG,GAAO9jC,GAEnCxR,EAAI,GAAG,EAAIk1C,EAAKG,GAAO9jC,IAAM,EAAI4jC,EAAKG,GAAO9jC,GAE7C+jC,EAAQb,GAAO,CAAC,EAAG,GAAI9jC,GAGzB4kC,EAASd,GAAO9jC,EAAG5Q,GAcvB,OAZIy0C,GAAO7jC,EAAG5Q,KAAO,IACnBw1C,EAAS71C,KAAK+D,IAEZ+wC,GAAO7jC,EAAG5Q,IAAM,IAClBw1C,EAAS,GAEO,IAAdP,GAAmBO,EAAS,IAC9BA,GAAkB,EAAI71C,KAAK+D,IAEX,IAAduxC,GAAmBO,EAAS,IAC9BA,GAAkB,EAAI71C,KAAK+D,IAEtB,CACLkQ,GAAE,EACFC,GAAE,EAEFtC,GAAIojC,GAAYI,EAAY,CAACljC,EAAIG,IAAO,EAAIT,EAC5CC,GAAImjC,GAAYI,EAAY,CAACljC,EAAIG,IAAO,EAAIR,EAC5Ck+B,WAAY6F,EACZ5F,SAAU4F,EAAQC,EAClB/F,UAAS,EACTuF,QAAO,EACPC,UAAS,EAEb,CC1FQ,OAAwBt1C,KAAI,IAAvBiS,GAAmBjS,KAAI,IAAlBsb,GAActb,KAAI,MAAX+D,GAAO/D,KAAI,GAEpC,SAAS44H,GAAiBj4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,EAAIwmH,GAC9C,MAAsB5/H,EAAK,OAAnB+/C,EAAc//C,EAAK,UAC7BwY,EAAIO,EAAKE,EACTR,EAAIS,EAAKE,EACTN,EAAMuJ,GAAM5J,EAAGD,GACfqnH,EAAa,IAAIC,GAAK,CAC1Bl7H,KAAM,OACN+sB,OAAQjK,EAAMvZ,IAAI,UAClB4xH,cAAc,EACd//H,MAAO,CAEL+P,KAAM,IAAI,GAAKiJ,GAAIlO,GAAK,GAAE,IAAI,GAAKqO,GAAIrO,GAAK,GAAE,UAAU,GAAKkO,GAAIlO,GAAK,GAAE,KAAK,GAAKqO,GAAIrO,GAAK,GAE3F81C,OAAM,EACNb,UAAS,KAGb8/E,EAAW1qG,UAAUlc,EAAIG,GACzBymH,EAAWG,cAAc/mH,EAAIG,EAAIN,GACjC4O,EAAMjf,IAAIm3H,EAAU,kBAAoB,gBAAiBC,EAC3D,CAOA,SAASI,GAAoBv4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,EAAIwmH,GACjD,MAA4C5/H,EAAK,WAArCkgI,EAAgClgI,EAAK,SAA3B4gD,EAAsB5gD,EAAK,OAAnB+/C,EAAc//C,EAAK,UACnDmgI,EAAaP,EAAUQ,EAAaF,EAClC,EAAqFC,EAAU,EAAtFE,EAA4EF,EAAU,KAAnEG,EAAyDH,EAAU,OAA3CI,EAAiCJ,EAAU,UAAxBK,GAAS,QAAKL,EAAvF,mCACA3nH,EAAIO,EAAKE,EACTR,EAAIS,EAAKE,EACTN,EAAMuJ,GAAM5J,EAAGD,GAEjBF,IACFW,GAAUD,GAAIF,GAAOR,EACrBc,GAAUD,GAAIL,GAAOR,GAGvB,IAAMunH,EAAa,IAAIC,GAAK,CAC1Bl7H,KAAM,OACN+sB,OAAQjK,EAAMvZ,IAAI,UAClB4xH,cAAc,EACd//H,OAAK,oBACAwgI,GAAS,CAEZ5/E,OAAQ0/E,GAAe1/E,EACvBb,UAAWwgF,GAAkBxgF,EAE7B6Z,KAAMymE,MAIVR,EAAW1qG,UAAUlc,EAAIG,GACzBymH,EAAWG,cAAc/mH,EAAIG,EAAIN,GACjC4O,EAAMjf,IAAIm3H,EAAU,kBAAoB,gBAAiBC,EAC3D,CAcM,SAAUY,GAAiB1nH,EAAIG,EAAID,EAAIG,EAAId,GAC/C,IAAMQ,EAAMuJ,GAAMjJ,EAAKF,EAAID,EAAKF,GAChC,MAAO,CACLq2B,GAAIp2B,GAAIF,GAAOR,EACf+2B,GAAIl2B,GAAIL,GAAOR,EAEnB,CAWM,SAAUooH,GAAch5G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GACtB,kBAArBpZ,EAAMogI,WACfH,GAAoBv4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GAAI,GACzCpZ,EAAMogI,WACfT,GAAiBj4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GAAI,GAE/CsO,EAAMjf,IAAI,kBAAmB,KAEjC,CAWM,SAAUk4H,GAAYj5G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GACtB,kBAAnBpZ,EAAMkgI,SACfD,GAAoBv4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GAAI,GACzCpZ,EAAMkgI,SACfP,GAAiBj4G,EAAO1nB,EAAO+Y,EAAIG,EAAID,EAAIG,GAAI,GAE/CsO,EAAMjf,IAAI,kBAAmB,KAEjC,CC/GA,IAAMm4H,GAAkB,CACtBhnE,KAAM,YACNhZ,OAAQ,cACRzwB,QAAS,eAGL,SAAU0wG,GAAoBpzH,EAAmCqa,GACrE,IAAM9nB,EAAQ8nB,EAAQyH,OACtB,IAAK,IAAM/pB,KAAKxF,EAAO,CACrB,IAAIoH,EAAIpH,EAAMwF,GAER0uB,EAAO0sG,GAAgBp7H,GAAKo7H,GAAgBp7H,GAAKA,EAC1C,WAAT0uB,GAAqB9sB,EAEvBqG,EAAQqgB,UAAU1mB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAChC,aAAT8sB,GAAuBzmB,EAAQqzH,YAExC77H,EAAQmC,IAAMqG,EAAQqzH,YAAY15H,IAErB,gBAAT8sB,GAAmC,cAATA,EAG5B9sB,EAAIk4H,GAAW7xH,EAASqa,EAAS1gB,GACf,gBAAT8sB,IAET9sB,GAAQqG,EAAQszH,aAElBtzH,EAAQymB,GAAQ9sB,E,CAGtB,CAEM,SAAU45H,GAAavzH,EAAmC0jB,EAAsB6vC,GACpF,IAAK,IAAI37D,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IAAK,CACxC,IAAMswB,EAAQxE,EAAS9rB,GACnBswB,EAAM9e,IAAIE,QACZ4e,EAAM6W,KAAK/+B,EAASuzD,GAEpBrrC,EAAMsrG,U,CAGZ,CAGM,SAAUC,GAAavvG,EAAQR,EAAsB6vC,GACzD,IAAMmgE,EAAkBxvG,EAAOxjB,IAAI,mBAEnCjJ,EAAKi8H,GAAiB,SAACh0F,GACrB,GAAIA,IAAOxb,EAAQ,CACjB,IAAI4d,EAASpC,EAAGt2B,IAAId,OACpB,MAAOw5B,GAAUA,IAAW5d,IAAW4d,EAAO14B,IAAIuqH,QAChD7xF,EAAO14B,IAAIuqH,SAAU,EACrB7xF,EAASA,EAAO14B,IAAId,M,CAG1B,IACIorH,EAAgB,KAAOxvG,EACzB0vG,GAAmBlwG,EAAU6vC,GAG7BsgE,GAAqBnwG,EAAU6vC,EAEnC,CAEM,SAAUsgE,GAAqBnwG,EAAsB6vC,GACzD,IAAK,IAAI37D,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IAAK,CACxC,IAAMswB,EAAQxE,EAAS9rB,GACvB,GAAIswB,EAAM9e,IAAIE,QAEZ,GAAI4e,EAAM9e,IAAI0qH,WAEZ5rG,EAAM9e,IAAIuqH,SAAU,EAChBzrG,EAAMxB,WACRktG,GAAmB1rG,EAAM9e,IAAIsa,SAAU6vC,QAEpC,GAAIrrC,EAAM9e,IAAIuqH,QAEfzrG,EAAMxB,WACRmtG,GAAqB3rG,EAAM9e,IAAIsa,SAAU6vC,OAEtC,CAEL,IAAMogE,EAAUI,GAAoB7rG,EAAOqrC,GAC3CrrC,EAAM9e,IAAIuqH,QAAUA,EAChBA,GAAWzrG,EAAMxB,WAEnBmtG,GAAqB3rG,EAAM9e,IAAIsa,SAAU6vC,E,EAKnD,CAIM,SAAUygE,GAAat8H,GAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAASrC,OAAQuC,IAAK,CACxC,IAAM8nC,EAAKhoC,EAASE,GACpB8nC,EAAGt2B,IAAI0qH,YAAa,EAEhBp0F,EAAGhZ,YAAcgZ,EAAG/1B,WACtBqqH,GAAat0F,EAAGt2B,IAAIsa,S,CAG1B,CAGA,SAASkwG,GAAmBlwG,EAAsB6vC,GAChD,IAAK,IAAI37D,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IAAK,CACxC,IAAMswB,EAAQxE,EAAS9rB,GAQvBswB,EAAM9e,IAAIuqH,SAAU,EAEhBzrG,EAAMxB,WACRktG,GAAmB1rG,EAAMxnB,IAAI,YAAa6yD,E,CAGhD,CAEA,SAASwgE,GAAoB95G,EAAiBs5C,GAC5C,IAAMpgD,EAAO8G,EAAM7Q,IAAI6qH,gBACjBC,EAAUj6G,EAAM7Q,IAAI+qH,UAAYhhH,GAAQ29E,GAAc39E,EAAMogD,GAClE,OAAO2gE,CACT,CAGM,SAAUE,GAASn6G,EAAOja,EAASzN,EAAO8hI,GACtC,MAA+B9hI,EAAK,KAA9BogI,EAAyBpgI,EAAK,WAAlBkgI,EAAalgI,EAAK,SAC5C,GAAK+P,EAAL,CAGA,IAAIgtC,EAAe,CAAC,EAAG,GACnBE,EAAiB,CAAC,EAAG,GACrBtwB,EAAW,CACbyiB,GAAI,EACJC,GAAI,GAEN5hC,EAAQs0H,YACR,IAAK,IAAI18H,EAAI,EAAGA,EAAI0K,EAAKjN,OAAQuC,IAAK,CACpC,IAAM8S,EAASpI,EAAK1K,GACd83C,EAAUhlC,EAAO,GACvB,GAAU,IAAN9S,GAAW+6H,GAAcA,EAAW9nH,EAAG,CACzC,IAAM0pH,EAAUt6G,EAAMu6G,kBACtBt1G,EAAWu1G,GAA2BF,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI5B,EAAW9nH,E,MACxG,GAAIjT,IAAM0K,EAAKjN,OAAS,GAAwB,MAAnBiN,EAAK1K,EAAI,GAAG,IAAc66H,GAAYA,EAAS5nH,EAAG,CAEpF,IAAM6pH,EAAWpyH,EAAK1K,EAAI,GAC1B,GAAoB,MAAhB88H,EAAS,GAAY,CACjBH,EAAUt6G,EAAM06G,gBACtBz1G,EAAWu1G,GAA2BF,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI9B,EAAS5nH,E,OAExG,GAAIjT,IAAM0K,EAAKjN,OAAS,GAAKo9H,GAAYA,EAAS5nH,GACvC,MAAZvI,EAAK,GAAY,CACbiyH,EAAUt6G,EAAM06G,gBACtBz1G,EAAWu1G,GAA2BF,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAI9B,EAAS5nH,E,CAIvG,MAAWqU,EAAQ,GAAf0iB,EAAO1iB,EAAQ,GAE3B,OAAQwwB,GACN,IAAK,IACH1vC,EAAQ40H,OAAOlqH,EAAO,GAAKi3B,EAAIj3B,EAAO,GAAKk3B,GAC3C4N,EAAiB,CAAC9kC,EAAO,GAAIA,EAAO,IACpC,MACF,IAAK,IACH1K,EAAQ60H,OAAOnqH,EAAO,GAAKi3B,EAAIj3B,EAAO,GAAKk3B,GAC3C,MACF,IAAK,IACH5hC,EAAQ80H,iBAAiBpqH,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAKi3B,EAAIj3B,EAAO,GAAKk3B,GAC3E,MACF,IAAK,IACH5hC,EAAQ+0H,cAAcrqH,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAKi3B,EAAIj3B,EAAO,GAAKk3B,GAC9F,MACF,IAAK,IACH,IAAIkO,OAAS,EAETukF,GACFvkF,EAAYukF,EAAez8H,GACtBk4C,IACHA,EAAYrB,GAAaa,EAAc5kC,GACvC2pH,EAAez8H,GAAKk4C,IAGtBA,EAAYrB,GAAaa,EAAc5kC,GAEjC,MAA+DolC,EAAS,GAApEtiC,EAA2DsiC,EAAS,GAAhE5kC,EAAuD4kC,EAAS,GAA5D3kC,EAAmD2kC,EAAS,GAAxDzG,EAA+CyG,EAAS,WAA5CxG,EAAmCwG,EAAS,SAAlC1G,EAAyB0G,EAAS,UAAvBlB,EAAckB,EAAS,UAEhF,GAAI9vC,EAAQqqC,QACVrqC,EAAQqqC,QAAQ98B,EAAIC,EAAItC,EAAIC,EAAIi+B,EAAWC,EAAYC,EAAU,EAAIsF,OAChE,CACL,IAAM9zC,EAAIoQ,EAAKC,EAAKD,EAAKC,EACnBkxC,EAASnxC,EAAKC,EAAK,EAAID,EAAKC,EAC5BmxC,EAASpxC,EAAKC,EAAKA,EAAKD,EAAK,EACnClL,EAAQ0nB,UAAUna,EAAIC,GACtBxN,EAAQ0N,OAAO07B,GACfppC,EAAQif,MAAMo9B,EAAQC,GACtBt8C,EAAQm+F,IAAI,EAAG,EAAGrjG,EAAGuuC,EAAYC,EAAU,EAAIsF,GAC/C5uC,EAAQif,MAAM,EAAIo9B,EAAQ,EAAIC,GAC9Bt8C,EAAQ0N,QAAQ07B,GAChBppC,EAAQ0nB,WAAWna,GAAKC,E,CAE1B,MAEF,IAAK,IACHxN,EAAQg1H,YACR,MACF,QACE,MAIJ,GAAgB,MAAZtlF,EACFJ,EAAeE,MACV,CACL,IAAM33C,EAAM6S,EAAOrV,OACnBi6C,EAAe,CAAC5kC,EAAO7S,EAAM,GAAI6S,EAAO7S,EAAM,G,GAGpD,CAGM,SAAUo9H,GAAe56G,EAASsI,GACtC,IAAMuB,EAAS7J,EAAQ3Z,IAAI,UAEvBwjB,IACiB,WAAfvB,IAIFtI,EAAQ66G,iBAAmB76G,EAAQ3Z,IAAI,oBAGpC2Z,EAAQ3Z,IAAI,gBAEf2Z,EAAQrf,IAAI,cAAc,GAQpBqf,EAAQjR,IAAId,QAAU+R,EAAQjR,IAAId,OAAO5H,IAAI,gBACjDwjB,EAAO+wG,eAAe56G,EAASsI,EAAYuB,GACvCA,EAAOxjB,IAAI,aACbwjB,EAAO6a,SAKjB,CAEM,SAAUo2F,GAAiB96G,GAC/B,IAAIk5C,EACJ,GAAKl5C,EAAQ1Q,UAeX4pD,EAASl5C,EAAQ,wBAfK,CACtB,IAAM+6G,EAAW/6G,EAAQ3Z,IAAI,mBACvB20H,EAAaD,MAAeA,EAASlxH,QAASkxH,EAASvtH,QACvDsL,EAAOkH,EAAQ4O,gBACfqsG,EAAYniH,MAAWA,EAAKjP,QAASiP,EAAKtL,QAE5CwtH,GAAcC,EAChB/hE,EAAS88D,GAAY+E,EAAUjiH,GACtBkiH,EACT9hE,EAAS6hE,EACAE,IACT/hE,EAASpgD,E,CAMb,OAAOogD,CACT,CAEM,SAAUgiE,GAAgB79H,GAC9B,IAAKA,EAASrC,OACZ,OAAO,KAET,IAAMmgI,EAAU,GACVC,EAAU,GACVC,EAAU,GACVC,EAAU,GAUhB,OATAl+H,EAAKC,GAAU,SAACgoC,GACd,IAAM6zB,EAAS4hE,GAAiBz1F,GAC5B6zB,IACFiiE,EAAQ1+H,KAAKy8D,EAAO9qC,MACpBgtG,EAAQ3+H,KAAKy8D,EAAO3qC,MACpB8sG,EAAQ5+H,KAAKy8D,EAAO5qC,MACpBgtG,EAAQ7+H,KAAKy8D,EAAO1qC,MAExB,IACO,CACLJ,KAAMjvB,EAAIg8H,GACV5sG,KAAMpvB,EAAIi8H,GACV9sG,KAAMpvB,EAAIm8H,GACV7sG,KAAMtvB,EAAIo8H,GAEd,CAEM,SAAUC,GAAUriE,EAAQsiE,GAChC,OAAKtiE,GAAWsiE,GAIX/kC,GAAcv9B,EAAQsiE,GAGpB,CACLptG,KAAMnvB,KAAKC,IAAIg6D,EAAO9qC,KAAMotG,EAAWptG,MACvCG,KAAMtvB,KAAKC,IAAIg6D,EAAO3qC,KAAMitG,EAAWjtG,MACvCD,KAAMrvB,KAAKE,IAAI+5D,EAAO5qC,KAAMktG,EAAWltG,MACvCE,KAAMvvB,KAAKE,IAAI+5D,EAAO1qC,KAAMgtG,EAAWhtG,OAVhC,IAYX,C9S9TA,gC,8CAwGA,QAxGoBtf,EAAAA,EAAAA,IAAAA,EAAAA,GAKlBusH,EAAAA,UAAAA,eAAA,SAAenzG,GACbsyG,GAAe,KAAMtyG,EACvB,EAEAmzG,EAAAA,UAAAA,aAAA,WACE,OAAOr5E,CACT,EAEAq5E,EAAAA,UAAAA,aAAA,WACE,OAAOA,CACT,EAGAA,EAAAA,UAAAA,WAAA,SAAW91H,EAASgjB,GACdA,IACFhjB,EAAQ+rC,OAERqnF,GAAoBpzH,EAASgjB,GAE7BA,EAAK+yG,WAAW/1H,GAChBA,EAAQmsC,UAERnsC,EAAQgjB,OACRA,EAAKgzG,aAET,EAIQF,EAAAA,UAAAA,gBAAR,WACE,IAAMpyG,EAAW,KAAKta,IAAIsa,SACpBoF,EAAO,GACPC,EAAO,GACbtxB,EAAKisB,GAAU,SAACwE,GACd,IAAM/U,EAAO+U,EAAM9e,IAAI6qH,gBAGnB9gH,GAAQ+U,EAAM9e,IAAI+qH,WACpBrrG,EAAKhyB,KAAKqc,EAAKsV,KAAMtV,EAAKwV,MAC1BI,EAAKjyB,KAAKqc,EAAKyV,KAAMzV,EAAK0V,MAE9B,IACA,IAAI1V,EAAO,KACX,GAAI2V,EAAKzzB,OAAQ,CACf,IAAMozB,EAAOjvB,EAAIsvB,GACXH,EAAOpvB,EAAIuvB,GACXF,EAAOpvB,EAAIuvB,GACXF,EAAOtvB,EAAIwvB,GACjB5V,EAAO,CACLsV,KAAI,EACJG,KAAI,EACJ7d,EAAG0d,EACHzd,EAAG4d,EACHD,KAAI,EACJE,KAAI,EACJ3kB,MAAOykB,EAAOF,EACd5gB,OAAQghB,EAAOD,GAEjB,IAAM1E,EAAS,KAAK9a,IAAI8a,OACxB,GAAIA,EAAQ,CACV,IAAM+xG,EAAY/xG,EAAOgyG,eAGzB,KAAKl7H,IAAI,WAAY81F,GAAc39E,EAAM8iH,G,OAG3C,KAAKj7H,IAAI,YAAY,GAGvB,KAAKA,IAAI,kBAAmBmY,EAC9B,EAEA2iH,EAAAA,UAAAA,KAAA,SAAK91H,EAAmCuzD,GACtC,IAAM7vC,EAAW,KAAKta,IAAIsa,SACpByyG,GAAY5iE,GAAS,KAAKnqD,IAAIuqH,QAIhCjwG,EAASruB,QAAU8gI,IACrBn2H,EAAQ+rC,OAGRqnF,GAAoBpzH,EAAS,MAC7B,KAAKo2H,WAAWp2H,EAAS,KAAKijB,WAC9BswG,GAAavzH,EAAS0jB,EAAU6vC,GAChCvzD,EAAQmsC,UACR,KAAK8nF,mBAIP,KAAK7qH,IAAIuqH,QAAU,KAEnB,KAAK34H,IAAI,cAAc,EACzB,EAEA86H,EAAAA,UAAAA,SAAA,WACE,KAAK96H,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,cAAc,EACzB,EACF,EAxGA,CAAoBwoC,IA0GpB,M+S3GA,4B,8CA8OA,QA9OwBj6B,EAAAA,EAAAA,IAAAA,EAAAA,GACtB8a,EAAAA,UAAAA,gBAAA,WACE,IAAM9xB,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WAEnC,2BACK9vB,GAAK,CACR+/C,UAAW,EACXkpD,gBAAiB,EACjBtd,cAAe,EACf2Z,YAAa,GAEjB,EAEAxzE,EAAAA,UAAAA,aAAA,WACE,OAAOo4B,CACT,EAEAp4B,EAAAA,UAAAA,aAAA,WACE,OAAOyxG,EACT,EAMAzxG,EAAAA,UAAAA,eAAA,SAAe1B,GACbsyG,GAAe,KAAMtyG,EACvB,EAEA0B,EAAAA,UAAAA,cAAA,WACE,IAAMltB,EAAO,KAAKuJ,IAAI,QAChB4xC,EAAY,KAAK+jF,kBAEjBC,EAAaC,GAAcp/H,GAC3Bkc,EAAMijH,EAAW,MACjBE,EAAgBlkF,EAAY,EAC5B7pB,EAAOpV,EAAItI,EAAIyrH,EACf5tG,EAAOvV,EAAIrI,EAAIwrH,EACf7tG,EAAOtV,EAAItI,EAAIsI,EAAInP,MAAQsyH,EAC3B3tG,EAAOxV,EAAIrI,EAAIqI,EAAIxL,OAAS2uH,EAClC,MAAO,CACLzrH,EAAG0d,EACHA,KAAI,EACJzd,EAAG4d,EACHA,KAAI,EACJ1kB,MAAOmP,EAAInP,MAAQouC,EACnBzqC,OAAQwL,EAAIxL,OAASyqC,EACrB3pB,KAAI,EACJE,KAAI,EAER,EAEAxE,EAAAA,UAAAA,OAAA,WACE,QAAS,KAAK9xB,MAAM,SAAW,KAAK+wB,aACtC,EAEAe,EAAAA,UAAAA,SAAA,WACE,QAAS,KAAK9xB,MAAM,SACtB,EAGA8xB,EAAAA,UAAAA,WAAA,SAAWrkB,EAASgjB,GACdA,IACFhjB,EAAQ+rC,OAERqnF,GAAoBpzH,EAASgjB,GAE7BA,EAAK+yG,WAAW/1H,GAChBA,EAAQmsC,UAERnsC,EAAQgjB,OACRA,EAAKgzG,aAET,EAGA3xG,EAAAA,UAAAA,KAAA,SAAKrkB,EAAmCuzD,GACtC,IAAMvwC,EAAO,KAAK5Z,IAAIgb,UAEtB,GAAImvC,EAAQ,CACV,IAAyB,IAArB,KAAKnqD,IAAIuqH,QAGX,YADA,KAAK34H,IAAI,cAAc,GAIzB,IAAMmY,EAAO,KAAK8V,gBAClB,IAAK6nE,GAAcv9B,EAAQpgD,GASzB,OAPA,KAAKnY,IAAI,cAAc,QAInB,KAAKoO,IAAI+qH,UACX,KAAK6B,a,CAKXh2H,EAAQ+rC,OAERqnF,GAAoBpzH,EAAS,MAC7B,KAAKo2H,WAAWp2H,EAASgjB,GACzB,KAAKoxG,SAASp0H,GACdA,EAAQmsC,UACR,KAAK6pF,YACP,EAEQ3xG,EAAAA,UAAAA,iBAAR,WACE,IAAMH,EAAS,KAAK9a,IAAI8a,OACxB,OAAIA,EAEKA,EAAOgyG,eAET,IACT,EAEA7xG,EAAAA,UAAAA,gBAAA,WACE,IAAMuf,EAAa,KAAK6yF,mBAExB,GAAI7yF,EAAY,CACd,IAAMzwB,EAAO,KAAK8V,gBACZkrG,EAAWrjC,GAAc39E,EAAMywB,GACrC,KAAK5oC,IAAI,WAAYm5H,GAIjBA,EACF,KAAKn5H,IAAI,kBAAmBmY,GAE5B,KAAKnY,IAAI,kBAAmB,K,CAGlC,EAEAqpB,EAAAA,UAAAA,WAAA,WACE,KAAK4vG,kBAEL,KAAKj5H,IAAI,cAAc,GACvB,KAAKA,IAAI,UAAW,KACtB,EAEAqpB,EAAAA,UAAAA,SAAA,WACE,KAAKrpB,IAAI,kBAAmB,MAC5B,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,cAAc,EACzB,EAMAqpB,EAAAA,UAAAA,SAAA,SAASrkB,GACP,KAAK+1H,WAAW/1H,GAChB,KAAK02H,cAAc12H,GACnB,KAAK22H,cAAc32H,EACrB,EAOAqkB,EAAAA,UAAAA,KAAA,SAAKrkB,GACHA,EAAQmsD,MACV,EAOA9nC,EAAAA,UAAAA,OAAA,SAAOrkB,GACLA,EAAQmzC,QACV,EAGA9uB,EAAAA,UAAAA,cAAA,SAAcrkB,GACN,MAAqD,KAAKzN,MAAxD+/C,EAAS,YAAE5vB,EAAO,UAAEw7D,EAAa,gBAAE2Z,EAAW,cAElD,KAAK+2B,WACFv3H,EAAMwgG,IAAgC,IAAhBA,EAKzB,KAAK1rC,KAAKnsD,IAJVA,EAAQszH,YAAcz7B,EACtB,KAAK1rC,KAAKnsD,GACVA,EAAQszH,YAAc5wG,IAMtB,KAAKisG,YACHr8E,EAAY,IACTj7C,EAAM6mF,IAAoC,IAAlBA,IAC3Bl+E,EAAQszH,YAAcp1C,GAExB,KAAK/qC,OAAOnzC,IAGhB,KAAK22H,cAAc32H,EACrB,EAOAqkB,EAAAA,UAAAA,WAAA,SAAWrkB,GAAoC,EAM/CqkB,EAAAA,UAAAA,cAAA,SAAcrkB,GAAoC,EAElDqkB,EAAAA,UAAAA,UAAA,SAAUvB,EAAcC,GAEtB,IAAM4rG,EAAW,KAAKA,WAChBC,EAAS,KAAKA,SACdt8E,EAAY,KAAK+jF,kBACvB,OAAO,KAAKO,iBAAiB9zG,EAAMC,EAAM4rG,EAAUC,EAAQt8E,EAC7D,EAGAjuB,EAAAA,UAAAA,iBAAA,SAAiBtZ,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,OAAO,CACT,EAMAjuB,EAAAA,UAAAA,gBAAA,WACE,IAAK,KAAKsqG,WACR,OAAO,EAET,IAAMp8H,EAAQ,KAAKA,MACnB,OAAOA,EAAM,aAAeA,EAAM,kBACpC,EACF,EA9OA,CAAwBkxC,IAgPxB,MCjPA,4B,8CAwCA,QAxCqBl6B,EAAAA,EAAAA,IAAAA,EAAAA,GACnBkjE,EAAAA,UAAAA,gBAAA,WACE,IAAMl6E,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACHlQ,EAAG,GAEP,EAEA2xE,EAAAA,UAAAA,iBAAA,SAAiB1hE,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,IAAM//C,EAAQ,KAAKuvB,OACbvU,EAAKhb,EAAMwY,EACXyC,EAAKjb,EAAMyY,EACXlQ,EAAIvI,EAAMuI,EACV07H,EAAgBlkF,EAAY,EAC5BukF,EAAc33G,GAAS3R,EAAIC,EAAIzC,EAAGC,GAExC,OAAI4jH,GAAUD,EACLkI,GAAe/7H,EAAI07H,EAExB5H,EACKiI,GAAe/7H,IAEpB6zH,IACKkI,GAAe/7H,EAAI07H,GAAiBK,GAAe/7H,EAAI07H,EAGlE,EAEA/pD,EAAAA,UAAAA,WAAA,SAAWzsE,GACT,IAAMzN,EAAQ,KAAKuvB,OACbvU,EAAKhb,EAAMwY,EACXyC,EAAKjb,EAAMyY,EACXlQ,EAAIvI,EAAMuI,EAChBkF,EAAQs0H,YACRt0H,EAAQm+F,IAAI5wF,EAAIC,EAAI1S,EAAG,EAAa,EAAVxB,KAAK+D,IAAQ,GACvC2C,EAAQg1H,WACV,EACF,EAxCA,CAAqB3wG,IA0CrB,MC1CA,SAASyyG,GAAgBC,EAASC,EAAS9rH,EAAIC,GAC7C,OAAO4rH,GAAW7rH,EAAKA,GAAM8rH,GAAW7rH,EAAKA,EAC/C,CAEA,gC,8CA2DA,QA3DsB5B,EAAAA,EAAAA,IAAAA,EAAAA,GACpB0tH,EAAAA,UAAAA,gBAAA,WACE,IAAM1kI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACHE,GAAI,EACJC,GAAI,GAER,EAEA8rH,EAAAA,UAAAA,iBAAA,SAAiBlsH,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,IAAM//C,EAAQ,KAAKuvB,OACbo1G,EAAe5kF,EAAY,EAC3B/kC,EAAKhb,EAAMwY,EACXyC,EAAKjb,EAAMyY,EACT,EAAWzY,EAAK,GAAZ4Y,EAAO5Y,EAAK,GAClBwkI,GAAWhsH,EAAIwC,IAAOxC,EAAIwC,GAC1BypH,GAAWhsH,EAAIwC,IAAOxC,EAAIwC,GAEhC,OAAIohH,GAAUD,EACLmI,GAAgBC,EAASC,EAAS9rH,EAAKgsH,EAAc/rH,EAAK+rH,IAAiB,EAEhFtI,EACKkI,GAAgBC,EAASC,EAAS9rH,EAAIC,IAAO,IAElDwjH,IAEAmI,GAAgBC,EAASC,EAAS9rH,EAAKgsH,EAAc/rH,EAAK+rH,IAAiB,GAC3EJ,GAAgBC,EAASC,EAAS9rH,EAAKgsH,EAAc/rH,EAAK+rH,IAAiB,EAIjF,EAEAD,EAAAA,UAAAA,WAAA,SAAWj3H,GACT,IAAMzN,EAAQ,KAAKuvB,OACbvU,EAAKhb,EAAMwY,EACXyC,EAAKjb,EAAMyY,EACXE,EAAK3Y,EAAM2Y,GACXC,EAAK5Y,EAAM4Y,GAGjB,GAFAnL,EAAQs0H,YAEJt0H,EAAQqqC,QACVrqC,EAAQqqC,QAAQ98B,EAAIC,EAAItC,EAAIC,EAAI,EAAG,EAAa,EAAV7R,KAAK+D,IAAQ,OAC9C,CAEL,IAAMvC,EAAIoQ,EAAKC,EAAKD,EAAKC,EACnBkxC,EAASnxC,EAAKC,EAAK,EAAID,EAAKC,EAC5BmxC,EAASpxC,EAAKC,EAAKA,EAAKD,EAAK,EACnClL,EAAQ+rC,OACR/rC,EAAQ0nB,UAAUna,EAAIC,GACtBxN,EAAQif,MAAMo9B,EAAQC,GACtBt8C,EAAQm+F,IAAI,EAAG,EAAGrjG,EAAG,EAAa,EAAVxB,KAAK+D,IAC7B2C,EAAQmsC,UACRnsC,EAAQg1H,W,CAEZ,EACF,EA3DA,CAAsB3wG,IA6DtB,MClEA,SAASnK,GAASjT,GAChB,OAAOA,aAAe6qF,aAAexwF,GAAS2F,EAAIkwH,WAA4C,WAA/BlwH,EAAIkwH,SAASp5H,aAC9E,CAEA,gC,8CAmHA,QAnHyBwL,EAAAA,EAAAA,IAAAA,EAAAA,GACvB6tH,EAAAA,UAAAA,gBAAA,WACE,IAAM7kI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH9G,MAAO,EACP2D,OAAQ,GAEZ,EAEAuvH,EAAAA,UAAAA,UAAA,SAAU7kI,GACR,KAAK8kI,UAAU9kI,EAAMusE,IACvB,EAGAs4D,EAAAA,UAAAA,SAAA,WACE,OAAO,CACT,EAIAA,EAAAA,UAAAA,aAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,cAAA,WACE,IAA2B,IAAvB,KAAK12H,IAAI,UAAoB,CAC/B,IAAMwjB,EAAS,KAAKxjB,IAAI,UACpBwjB,EAEFA,EAAO6a,OAGP,KAAKg3F,WAAW,KAAKr1H,IAAI,W,CAG/B,EAEA02H,EAAAA,UAAAA,UAAA,SAAUt4D,GAAV,WACQvsE,EAAQ,KAAKA,MACnB,GAAI+O,GAASw9D,GAAM,CACjB,IAAMw4D,EAAQ,IAAI5F,MAClB4F,EAAM9F,OAAS,WAEb,GAAItoH,EAAKS,UACP,OAAO,EAMTT,EAAK4Y,KAAK,MAAOw1G,GACjBpuH,EAAKlO,IAAI,WAAW,GACpBkO,EAAKquH,gBACL,IAAM5uH,EAAWO,EAAKxI,IAAI,YACtBiI,GACFA,EAASvR,KAAK8R,EAElB,EAEAouH,EAAM3F,YAAc,YAEpB2F,EAAMx2H,IAAMg+D,EAEZ,KAAK9jE,IAAI,WAAW,E,MACX8jE,aAAe4yD,OAEnBn/H,EAAM2R,QACT3R,EAAM2R,MAAQ46D,EAAI56D,OAEf3R,EAAMsV,SACTtV,EAAMsV,OAASi3D,EAAIj3D,SAEZqS,GAAS4kD,KAEbvsE,EAAM2R,QACT3R,EAAM2R,MAAQvH,OAAOmiE,EAAIlP,aAAa,WAGnCr9D,EAAMsV,SACTtV,EAAMsV,OAAQlL,OAAOmiE,EAAIlP,aAAa,YAG5C,EAEAwnE,EAAAA,UAAAA,aAAA,SAAarkI,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GAEnB,QAATpwB,GAEF,KAAKskI,UAAUpkI,EAEnB,EAEAmkI,EAAAA,UAAAA,WAAA,SAAWp3H,GAET,GAAI,KAAKU,IAAI,WAGX,OAFA,KAAK1F,IAAI,UAAU,QACnB,KAAKA,IAAI,UAAWgF,GAGtB,IAAMzN,EAAQ,KAAKuvB,OACX,EAAiDvvB,EAAK,EAAnDyY,EAA8CzY,EAAK,EAAhD2R,EAA2C3R,EAAK,MAAzCsV,EAAoCtV,EAAK,OAAjC85G,EAA4B95G,EAAK,GAA7B+5G,EAAwB/5G,EAAK,GAAzBilI,EAAoBjlI,EAAK,OAAjBklI,EAAYllI,EAAK,QAExDusE,EAAMvsE,EAAMusE,KACdA,aAAe4yD,OAASx3G,GAAS4kD,MAC9BznE,EAAMg1G,IAAQh1G,EAAMi1G,IAAQj1G,EAAMmgI,IAAYngI,EAAMogI,GAGvDz3H,EAAQ03H,UAAU54D,EAAK/zD,EAAGC,EAAG9G,EAAO2D,GAFpC7H,EAAQ03H,UAAU54D,EAAKutC,EAAIC,EAAIkrB,EAAQC,EAAS1sH,EAAGC,EAAG9G,EAAO2D,GAKnE,EACF,EAnHA,CAAyBwc,IAqHzB,MC9Hc,SAAUszG,GAAOrsH,EAAIG,EAAID,EAAIG,EAAI2mC,EAAWvnC,EAAGC,GAC3D,IAAMyd,EAAOnvB,KAAKE,IAAI8R,EAAIE,GACpBmd,EAAOrvB,KAAKC,IAAI+R,EAAIE,GACpBod,EAAOtvB,KAAKE,IAAIiS,EAAIE,GACpBkd,EAAOvvB,KAAKC,IAAIkS,EAAIE,GACpBmtE,EAAYxmC,EAAY,EAG9B,OAAMvnC,GAAK0d,EAAOqwD,GAAa/tE,GAAK4d,EAAOmwD,GAAa9tE,GAAK4d,EAAOkwD,GAAa9tE,GAAK6d,EAAOiwD,GAItF8+C,GAAAA,YAAqBtsH,EAAIG,EAAID,EAAIG,EAAIZ,EAAGC,IAAMsnC,EAAY,CACnE,CCNA,gC,8CAkGA,QAlGmB/oC,EAAAA,EAAAA,IAAAA,EAAAA,GACjBgiE,EAAAA,UAAAA,gBAAA,WACE,IAAMh5E,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACR+Y,GAAI,EACJG,GAAI,EACJD,GAAI,EACJG,GAAI,EACJgnH,YAAY,EACZF,UAAU,GAEd,EAEAlnD,EAAAA,UAAAA,UAAA,SAAUh5E,GACR,KAAKslI,UACP,EAGAtsD,EAAAA,UAAAA,aAAA,SAAax4E,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GAEhC,KAAK00G,UACP,EAEAtsD,EAAAA,UAAAA,SAAA,WACE,IAAMh5E,EAAQ,KAAKuvB,OACX,EAAyCvvB,EAAK,GAA1CkZ,EAAqClZ,EAAK,GAAtCiZ,EAAiCjZ,EAAK,GAAlCoZ,EAA6BpZ,EAAK,GAA9BogI,EAAyBpgI,EAAK,WAAlBkgI,EAAalgI,EAAK,SAClDogI,GACF8B,GAAwB,KAAMliI,EAAOiZ,EAAIG,EAAIL,EAAIG,GAE/CgnH,GACFgC,GAAsB,KAAMliI,EAAO+Y,EAAIG,EAAID,EAAIG,EAEnD,EAEA4/D,EAAAA,UAAAA,iBAAA,SAAiBxgE,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,IAAKq8E,IAAar8E,EAChB,OAAO,EAEH,MAAqB,KAAKxwB,OAAxBxW,EAAE,KAAEG,EAAE,KAAED,EAAE,KAAEG,EAAE,KACtB,OAAOgsH,GAAOrsH,EAAIG,EAAID,EAAIG,EAAI2mC,EAAWvnC,EAAGC,EAC9C,EAEAugE,EAAAA,UAAAA,WAAA,SAAWvrE,GACT,IAAMzN,EAAQ,KAAKuvB,OACX,EAAyCvvB,EAAK,GAA1CkZ,EAAqClZ,EAAK,GAAtCiZ,EAAiCjZ,EAAK,GAAlCoZ,EAA6BpZ,EAAK,GAA9BogI,EAAyBpgI,EAAK,WAAlBkgI,EAAalgI,EAAK,SAClDulI,EAAqB,CACvBn2F,GAAI,EACJC,GAAI,GAEFm2F,EAAmB,CACrBp2F,GAAI,EACJC,GAAI,GAGF+wF,GAAcA,EAAW9nH,IAC3BitH,EAAqBrD,GAA2BnpH,EAAIG,EAAID,EAAIG,EAAIpZ,EAAMogI,WAAW9nH,IAE/E4nH,GAAYA,EAAS5nH,IACvBktH,EAAmBtD,GAA2BnpH,EAAIG,EAAID,EAAIG,EAAIpZ,EAAMkgI,SAAS5nH,IAG/E7K,EAAQs0H,YAERt0H,EAAQ40H,OAAOtpH,EAAKwsH,EAAmBn2F,GAAIl2B,EAAKqsH,EAAmBl2F,IACnE5hC,EAAQ60H,OAAOrpH,EAAKusH,EAAiBp2F,GAAIh2B,EAAKosH,EAAiBn2F,GACjE,EAEA2pC,EAAAA,UAAAA,cAAA,SAAcvrE,GACZ,IAAM0kC,EAAkB,KAAKhkC,IAAI,mBAC3BikC,EAAgB,KAAKjkC,IAAI,iBAC3BgkC,GACFA,EAAgB3F,KAAK/+B,GAEnB2kC,GACFA,EAAc5F,KAAK/+B,EAEvB,EAMAurE,EAAAA,UAAAA,eAAA,WACQ,MAAqB,KAAKzpD,OAAxBxW,EAAE,KAAEG,EAAE,KAAED,EAAE,KAAEG,EAAE,KACtB,OAAOisH,GAAAA,OAAgBtsH,EAAIG,EAAID,EAAIG,EACrC,EAOA4/D,EAAAA,UAAAA,SAAA,SAAS1zD,GACD,MAAqB,KAAKiK,OAAxBxW,EAAE,KAAEG,EAAE,KAAED,EAAE,KAAEG,EAAE,KACtB,OAAOisH,GAAAA,QAAiBtsH,EAAIG,EAAID,EAAIG,EAAIkM,EAC1C,EACF,EAlGA,CAAmBwM,IAoGnB,M,YClGM2zG,GAAU,CAEd1kF,OAAM,SAACvoC,EAAGC,EAAGlQ,GACX,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GACb,CAAC,IAAKlQ,EAAGA,EAAG,EAAG,EAAG,EAAGiQ,EAAIjQ,EAAGkQ,GAC5B,CAAC,IAAKlQ,EAAGA,EAAG,EAAG,EAAG,EAAGiQ,EAAIjQ,EAAGkQ,GAEhC,EAEAyyF,OAAM,SAAC1yF,EAAGC,EAAGlQ,GACX,MAAO,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,KAC/F,EAEA6iG,QAAO,SAAC5yF,EAAGC,EAAGlQ,GACZ,MAAO,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GAAI,CAAC,IAAKD,EAAGC,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GAAI,CAAC,IAAKD,EAAGC,EAAIlQ,GAAI,CAAC,KAC/E,EAEA+iG,SAAQ,SAAC9yF,EAAGC,EAAGlQ,GACb,IAAMyxH,EAAQzxH,EAAIxB,KAAKoS,IAAK,EAAI,EAAKpS,KAAK+D,IAC1C,MAAO,CAAC,CAAC,IAAK0N,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAGC,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,KAClF,EAEA,gBAAe,SAACxhH,EAAGC,EAAGlQ,GACpB,IAAMyxH,EAAQzxH,EAAIxB,KAAKoS,IAAK,EAAI,EAAKpS,KAAK+D,IAC1C,MAAO,CAAC,CAAC,IAAK0N,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAGC,EAAIuhH,GAAQ,CAAC,KAClF,GAGF,4B,8CAkEA,QAlEqBhjH,EAAAA,EAAAA,IAAAA,EAAAA,GACnB0uH,EAAAA,UAAAA,UAAA,SAAU1lI,GACR,KAAK2lI,mBACP,EAGAD,EAAAA,UAAAA,kBAAA,WAGE,KAAKj9H,IAAI,cAAe,GAC1B,EAGAi9H,EAAAA,UAAAA,aAAA,SAAallI,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,IAC2B,IAAvD,CAAC,SAAU,IAAK,IAAK,IAAK,UAAUzsB,QAAQ3D,IAE9C,KAAKmlI,mBAET,EAIAD,EAAAA,UAAAA,aAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,MAAA,SAAM1lI,GAEJ,OAAO8E,EAAM9E,EAAMuI,GAAKvI,EAAMo+D,OAASp+D,EAAMuI,CAC/C,EAEAm9H,EAAAA,UAAAA,SAAA,WACE,IAIIn5H,EACAwD,EALE/P,EAAQ,KAAKuvB,OACX,EAASvvB,EAAK,EAAXyY,EAAMzY,EAAK,EAChBk/E,EAASl/E,EAAMk/E,QAAU,SACzB32E,EAAI,KAAKq9H,MAAM5lI,GAGrB,GAAI6F,EAAWq5E,GACb3yE,EAAS2yE,EACTnvE,EAAOxD,EAAOiM,EAAGC,EAAGlQ,GAEpBwH,EAAO81H,GAAc91H,OAChB,CAIL,GAFAxD,EAASm5H,EAAOD,QAAQvmD,IAEnB3yE,EAEH,OADAuwD,GAAQC,KAAQmiB,EAAM,6BACf,KAGTnvE,EAAOxD,EAAOiM,EAAGC,EAAGlQ,E,CAGtB,OAAOwH,CACT,EAEA21H,EAAAA,UAAAA,WAAA,SAAWj4H,GACT,IAAMsC,EAAO,KAAK+1H,WACZC,EAAc,KAAK53H,IAAI,eAC7B0zH,GAAS,KAAMp0H,EAAS,CAAEsC,KAAI,GAAIg2H,EACpC,EAEOL,EAAAA,QAAUD,GACnB,C,CAlEA,CAAqB3zG,IAoErB,MC1Gc,SAAUk0G,GAAct+G,EAAOlP,EAAGC,GAC9C,IAAM9I,EAAMspC,KAEZ,OADAvxB,EAAM87G,WAAW7zH,GACVA,EAAIq2H,cAAcxtH,EAAGC,EAC9B,CCAA,IAAM0lC,GAAY,KAElB,SAASC,GAAK5lC,GACZ,OAAIzR,KAAK0D,IAAI+N,GAAK2lC,GACT,EAGF3lC,EAAI,GAAK,EAAI,CACtB,CAGA,SAAS6lC,GAAU3/B,EAAI9B,EAAI/E,GACzB,OACGA,EAAE,GAAK6G,EAAG,KAAO9B,EAAG,GAAK8B,EAAG,OAAS9B,EAAG,GAAK8B,EAAG,KAAO7G,EAAE,GAAK6G,EAAG,KAClE3X,KAAKE,IAAIyX,EAAG,GAAI9B,EAAG,KAAO/E,EAAE,IAC5BA,EAAE,IAAM9Q,KAAKC,IAAI0X,EAAG,GAAI9B,EAAG,KAC3B7V,KAAKE,IAAIyX,EAAG,GAAI9B,EAAG,KAAO/E,EAAE,IAC5BA,EAAE,IAAM9Q,KAAKC,IAAI0X,EAAG,GAAI9B,EAAG,GAK/B,CAGc,SAAU0hC,GAAYn6B,EAAQ3L,EAAGC,GAC7C,IAAIkY,GAAQ,EACNhmB,EAAIwZ,EAAOrhB,OACjB,GAAI6H,GAAK,EAEP,OAAO,EAET,IAAK,IAAItF,EAAI,EAAGA,EAAIsF,EAAGtF,IAAK,CAC1B,IAAMqZ,EAAKyF,EAAO9e,GACZuX,EAAKuH,GAAQ9e,EAAI,GAAKsF,GAC5B,GAAI0zC,GAAU3/B,EAAI9B,EAAI,CAACpE,EAAGC,IAExB,OAAO,EAKP2lC,GAAK1/B,EAAG,GAAKjG,GAAK,IAAM2lC,GAAKxhC,EAAG,GAAKnE,GAAK,GAC1C2lC,GAAK5lC,GAAMC,EAAIiG,EAAG,KAAOA,EAAG,GAAK9B,EAAG,KAAQ8B,EAAG,GAAK9B,EAAG,IAAM8B,EAAG,IAAM,IAEtEiS,GAASA,E,CAGb,OAAOA,CACT,CCtDc,SAAUi7E,GAAI5wF,EAAIC,EAAI1S,EAAGuuC,EAAYC,EAAUgJ,EAAWvnC,EAAGC,GACzE,IAAMgC,GAAS1T,KAAKsb,MAAM5J,EAAIwC,EAAIzC,EAAIwC,GAAgB,EAAVjU,KAAK+D,KAAqB,EAAV/D,KAAK+D,IACjE,GAAI2P,EAAQq8B,GAAcr8B,EAAQs8B,EAChC,OAAO,EAET,IAAM7I,EAAQ,CACZ11B,EAAGwC,EAAKzS,EAAIxB,KAAKiS,IAAIyB,GACrBhC,EAAGwC,EAAK1S,EAAIxB,KAAKoS,IAAIsB,IAEvB,OAAOkS,GAASuhB,EAAM11B,EAAG01B,EAAMz1B,EAAGD,EAAGC,IAAMsnC,EAAY,CACzD,C/PEQ,OAAcnxB,GAEtB,SAASq3G,GAAOl2H,GAGd,IAFA,IAAIk2H,GAAS,EACPvhH,EAAQ3U,EAAKjN,OACVuC,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAM8S,EAASpI,EAAK1K,GACd0f,EAAM5M,EAAO,GACnB,GAAY,MAAR4M,GAAuB,MAARA,GAAuB,MAARA,EAAa,CAC7CkhH,GAAS,EACT,K,EAGJ,OAAOA,CACT,CAEA,SAASC,GAAgBvhH,EAAUo7B,EAAWvnC,EAAGC,EAAG3V,GAGlD,IAFA,IAAI6tB,GAAQ,EACN41D,EAAYxmC,EAAY,EACrB16C,EAAI,EAAGA,EAAIsf,EAAS7hB,OAAQuC,IAAK,CACxC,IAAMyf,EAAUH,EAAStf,GACjB,EAAwCyf,EAAO,aAAjC3M,EAA0B2M,EAAO,OAAzBs4B,EAAkBt4B,EAAO,SAAfhE,EAAQgE,EAAO,IAEvD,IAAIhE,GAAQ+8G,GAAM/8G,EAAItI,EAAI+tE,EAAWzlE,EAAIrI,EAAI8tE,EAAWzlE,EAAInP,MAAQouC,EAAWj/B,EAAIxL,OAASyqC,EAAWvnC,EAAGC,GAA1G,CAGA,OAAQqM,EAAQq4B,SAEd,IAAK,IACL,IAAK,IACHxsB,EAAQy0G,GAAOhoF,EAAS,GAAIA,EAAS,GAAIL,EAAa,GAAIA,EAAa,GAAIgD,EAAWvnC,EAAGC,GACzF,MACF,IAAK,IACH,IAAM0tH,EAAYlmF,GAAAA,cAChB7C,EAAS,GACTA,EAAS,GACTjlC,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPK,EACAC,GAEFkY,EAAQw1G,GAAapmF,EAAY,EACjC,MACF,IAAK,IACH,IAAMqmF,EAAYlmF,GAAAA,cAChB9C,EAAS,GACTA,EAAS,GACTjlC,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPK,EACAC,EACA3V,GAEF6tB,EAAQy1G,GAAarmF,EAAY,EACjC,MACF,IAAK,IAEH,IAAMxC,EAAYz4B,EAAQy4B,UAClB,EAAoDA,EAAS,GAAzDtiC,EAAgDsiC,EAAS,GAArD5kC,EAA4C4kC,EAAS,GAAjD3kC,EAAwC2kC,EAAS,GAA7CzG,EAAoCyG,EAAS,WAAjCxG,EAAwBwG,EAAS,SAAvB1G,EAAc0G,EAAS,UAC/D1tC,EAAI,CAAC2I,EAAGC,EAAG,GACXlQ,EAAIoQ,EAAKC,EAAKD,EAAKC,EACnBkxC,EAASnxC,EAAKC,EAAK,EAAID,EAAKC,EAC5BmxC,EAASpxC,EAAKC,EAAKA,EAAKD,EAAK,EAC7B/N,EAAIkjB,GAAU,KAAM,CACxB,CAAC,KAAM9S,GAAKC,GACZ,CAAC,KAAM47B,GACP,CAAC,IAAK,EAAIiT,EAAQ,EAAIC,KAExB+T,GAAmBjuD,EAAGA,EAAGjF,GACzB+lB,EAAQ01G,GAAM,EAAG,EAAG99H,EAAGuuC,EAAYC,EAAUgJ,EAAWlwC,EAAE,GAAIA,EAAE,IAChE,MACF,QACE,MAEJ,GAAI8gB,EACF,K,EAGJ,OAAOA,CACT,CAOA,SAAS21G,GAAgBv2H,GAKvB,IAJA,IAAM2U,EAAQ3U,EAAKjN,OACbyjI,EAAW,GACXC,EAAY,GACdriH,EAAS,GACJ9e,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAM8S,EAASpI,EAAK1K,GACd0f,EAAM5M,EAAO,GACP,MAAR4M,GAEEZ,EAAOrhB,SAET0jI,EAAUjiI,KAAK4f,GACfA,EAAS,IAEXA,EAAO5f,KAAK,CAAC4T,EAAO,GAAIA,EAAO,MACd,MAAR4M,EACLZ,EAAOrhB,SAETyjI,EAAShiI,KAAK4f,GACdA,EAAS,IAIXA,EAAO5f,KAAK,CAAC4T,EAAO,GAAIA,EAAO,I,CAQnC,OAHIgM,EAAOrhB,OAAS,GAClB0jI,EAAUjiI,KAAK4f,GAEV,CACLoiH,SAAQ,EACRC,UAAS,EAEb,CAEA,iBACEP,OAAM,GACNK,gBAAe,GACfJ,gBAAe,IACZ16F,GgQnIL,SAASi7F,GAAaF,EAAU/tH,EAAGC,GAEjC,IADA,IAAIkY,GAAQ,EACHtrB,EAAI,EAAGA,EAAIkhI,EAASzjI,OAAQuC,IAAK,CACxC,IAAM8e,EAASoiH,EAASlhI,GAExB,GADAsrB,EAAQ2tB,GAAYn6B,EAAQ3L,EAAGC,GAC3BkY,EACF,K,CAGJ,OAAOA,CACT,CAEA,gC,8CA2RA,QA3RmB3Z,EAAAA,EAAAA,IAAAA,EAAAA,GACjB8oH,EAAAA,UAAAA,gBAAA,WACE,IAAM9/H,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRogI,YAAY,EACZF,UAAU,GAEd,EAEAJ,EAAAA,UAAAA,UAAA,SAAU9/H,GACR,KAAK0mI,YAAY1mI,EAAM+P,MACvB,KAAKu1H,UACP,EAGAxF,EAAAA,UAAAA,aAAA,SAAat/H,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GACnB,SAATpwB,GACF,KAAKkmI,YAAYhmI,GAGnB,KAAK4kI,UACP,EAGAxF,EAAAA,UAAAA,YAAA,SAAY/vH,GAEV,KAAK/P,MAAM+P,KAAO81H,GAAc91H,GAChC,IAAMk2H,EAASz6F,GAAAA,OAAgBz7B,GAG/B,KAAKtH,IAAI,SAAUw9H,GACnB,KAAKx9H,IAAI,cAAe,IACxB,KAAKA,IAAI,WAAY,MACrB,KAAKA,IAAI,QAAS,MAClB,KAAKA,IAAI,SAAU,MACnB,KAAKA,IAAI,cAAe,KAC1B,EAEAq3H,EAAAA,UAAAA,YAAA,WACE,IAAIn7G,EAAW,KAAKxW,IAAI,aAKxB,OAJKwW,IACHA,EAAWk8B,GAAc,KAAKtxB,KAAK,SACnC,KAAK9mB,IAAI,WAAYkc,IAEhBA,CACT,EAEAm7G,EAAAA,UAAAA,SAAA,WACE,IAAM9/H,EAAQ,KAAKuvB,OACX,EAAyBvvB,EAAK,WAAlBkgI,EAAalgI,EAAK,SAEtC,GAAIogI,EAAY,CACd,IAAM4B,EAAU,KAAKC,kBACrBC,GAAwB,KAAMliI,EAAOgiI,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,G,CAE/F,GAAI9B,EAAU,CACN8B,EAAU,KAAKI,gBACrBF,GAAsB,KAAMliI,EAAOgiI,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,GAAIA,EAAQ,GAAG,G,CAE/F,EAEAlC,EAAAA,UAAAA,iBAAA,SAAiBtnH,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,IAAMp7B,EAAW,KAAKm4B,cAChBmpF,EAAS,KAAK93H,IAAI,UACpBwiB,GAAQ,EACZ,GAAIyrG,EAAU,CACZ,IAAMxlH,EAAS,KAAK+vH,iBACpBh2G,EAAQ6a,GAAAA,gBAAyB7mB,EAAUo7B,EAAWvnC,EAAGC,EAAG7B,E,CAE9D,IAAK+Z,GAAS0rG,EACZ,GAAI4J,EAEFt1G,EAAQq1G,GAAc,KAAMxtH,EAAGC,OAC1B,CACL,IAAM1I,EAAO,KAAKwf,KAAK,QACjBq3G,EAAgBp7F,GAAAA,gBAAyBz7B,GAE/C4gB,EAAQ81G,GAAaG,EAAcL,SAAU/tH,EAAGC,IAAMguH,GAAaG,EAAcJ,UAAWhuH,EAAGC,E,CAGnG,OAAOkY,CACT,EAEAmvG,EAAAA,UAAAA,WAAA,SAAWryH,GACT,IAAMzN,EAAQ,KAAKuvB,OACbw2G,EAAc,KAAK53H,IAAI,eAC7B0zH,GAAS,KAAMp0H,EAASzN,EAAO+lI,EACjC,EAEAjG,EAAAA,UAAAA,cAAA,SAAcryH,GACZ,IAAM0kC,EAAkB,KAAKhkC,IAAI,mBAC3BikC,EAAgB,KAAKjkC,IAAI,iBAC3BgkC,GACFA,EAAgB3F,KAAK/+B,GAEnB2kC,GACFA,EAAc5F,KAAK/+B,EAEvB,EAMAqyH,EAAAA,UAAAA,eAAA,WACE,IAAM/rF,EAAc,KAAK5lC,IAAI,eAC7B,OAAKrJ,EAAMivC,IAGX,KAAK8yF,kBACL,KAAKC,aACE,KAAK34H,IAAI,gBAJP4lC,CAKX,EAOA+rF,EAAAA,UAAAA,SAAA,SAASx6G,GACP,IAOIyhH,EACAtkI,EARAukI,EAAS,KAAK74H,IAAI,UACjB64H,IACH,KAAKH,kBACL,KAAKC,aACLE,EAAS,KAAK74H,IAAI,WAMpB,IAAM84H,EAAQ,KAAK94H,IAAI,SACvB,IAAK64H,GAA4B,IAAlBA,EAAOlkI,OACpB,OAAImkI,EACK,CACLzuH,EAAGyuH,EAAM,GAAG,GACZxuH,EAAGwuH,EAAM,GAAG,IAGT,KAET/hI,EAAK8hI,GAAQ,SAAC5/H,EAAG/B,GACXigB,GAASle,EAAE,IAAMke,GAASle,EAAE,KAC9B2/H,GAAQzhH,EAAQle,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC3E,EAAQ4C,EAEZ,IAEA,IAAM8Y,EAAM8oH,EAAMxkI,GAClB,GAAIqC,EAAMqZ,IAAQrZ,EAAMrC,GACtB,OAAO,KAET,IAAMgH,EAAI0U,EAAIrb,OACRokI,EAAUD,EAAMxkI,EAAQ,GAC9B,OAAOy9C,GAAAA,QACL/hC,EAAI1U,EAAI,GACR0U,EAAI1U,EAAI,GACRy9H,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRH,EAEJ,EAEAjH,EAAAA,UAAAA,gBAAA,WACU,MAAS,KAAKvwG,OAAM,KAC5B,KAAK9mB,IAAI,QAAS+iC,GAAAA,YAAqBz7B,GACzC,EAEA+vH,EAAAA,UAAAA,WAAA,WACE,IAIIqH,EACAC,EACAC,EACA59H,EAPAsqC,EAAc,EACduzF,EAAa,EAEXN,EAAS,GAKTC,EAAQ,KAAK94H,IAAI,SAElB84H,IAIL/hI,EAAK+hI,GAAO,SAACniH,EAASzf,GACpBgiI,EAAWJ,EAAM5hI,EAAI,GACrBoE,EAAIqb,EAAQhiB,OACRukI,IACFtzF,GACEmM,GAAAA,OACEp7B,EAAQrb,EAAI,GACZqb,EAAQrb,EAAI,GACZ49H,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,KACN,EAEX,IACA,KAAK5+H,IAAI,cAAesrC,GAEJ,IAAhBA,GAKJ7uC,EAAK+hI,GAAO,SAACniH,EAASzf,GACpBgiI,EAAWJ,EAAM5hI,EAAI,GACrBoE,EAAIqb,EAAQhiB,OACRukI,IACFF,EAAW,GACXA,EAAS,GAAKG,EAAavzF,EAC3BqzF,EAAWlnF,GAAAA,OACTp7B,EAAQrb,EAAI,GACZqb,EAAQrb,EAAI,GACZ49H,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,GACTA,EAAS,IAGXC,GAAcF,GAAY,EAC1BD,EAAS,GAAKG,EAAavzF,EAC3BizF,EAAOziI,KAAK4iI,GAEhB,IACA,KAAK1+H,IAAI,SAAUu+H,IA1BjB,KAAKv+H,IAAI,SAAU,IA2BvB,EAMAq3H,EAAAA,UAAAA,gBAAA,WACE,IACIx7H,EADEqgB,EAAW,KAAKm4B,cAEtB,GAAIn4B,EAAS7hB,OAAS,EAAG,CACvB,IAAMq5C,EAAax3B,EAAS,GAAGo4B,aACzBgvB,EAAWpnD,EAAS,GAAGo4B,aACvBilF,EAAUr9G,EAAS,GAAG04B,aAC5B/4C,EAAS,GACL09H,GACF19H,EAAOC,KAAK,CAAC43C,EAAW,GAAK6lF,EAAQ,GAAI7lF,EAAW,GAAK6lF,EAAQ,KACjE19H,EAAOC,KAAK,CAAC43C,EAAW,GAAIA,EAAW,OAEvC73C,EAAOC,KAAK,CAACwnE,EAAS,GAAIA,EAAS,KACnCznE,EAAOC,KAAK,CAAC43C,EAAW,GAAIA,EAAW,K,CAG3C,OAAO73C,CACT,EAMAw7H,EAAAA,UAAAA,cAAA,WACE,IAEIx7H,EAFEqgB,EAAW,KAAKm4B,cAChBh6C,EAAS6hB,EAAS7hB,OAExB,GAAIA,EAAS,EAAG,CACd,IAAMq5C,EAAax3B,EAAS7hB,EAAS,GAAGi6C,aAClCgvB,EAAWpnD,EAAS7hB,EAAS,GAAGi6C,aAChCilF,EAAUr9G,EAAS7hB,EAAS,GAAGw6C,WACrCh5C,EAAS,GACL09H,GACF19H,EAAOC,KAAK,CAACwnE,EAAS,GAAKi2D,EAAQ,GAAIj2D,EAAS,GAAKi2D,EAAQ,KAC7D19H,EAAOC,KAAK,CAACwnE,EAAS,GAAIA,EAAS,OAEnCznE,EAAOC,KAAK,CAAC43C,EAAW,GAAIA,EAAW,KACvC73C,EAAOC,KAAK,CAACwnE,EAAS,GAAIA,EAAS,K,CAGvC,OAAOznE,CACT,EACF,EA3RA,CAAmBwtB,IA6RnB,MCvTc,SAAUy1G,GAAWpjH,EAAe47B,EAAmBvnC,EAAWC,EAAW+uH,GACzF,IAAM9iH,EAAQP,EAAOrhB,OACrB,GAAI4hB,EAAQ,EACV,OAAO,EAET,IAAK,IAAIrf,EAAI,EAAGA,EAAIqf,EAAQ,EAAGrf,IAAK,CAClC,IAAM0T,EAAKoL,EAAO9e,GAAG,GACf6T,EAAKiL,EAAO9e,GAAG,GACf4T,EAAKkL,EAAO9e,EAAI,GAAG,GACnB+T,EAAK+K,EAAO9e,EAAI,GAAG,GAEzB,GAAI+/H,GAAOrsH,EAAIG,EAAID,EAAIG,EAAI2mC,EAAWvnC,EAAGC,GACvC,OAAO,C,CAKX,GAAI+uH,EAAS,CACX,IAAMjsF,EAAQp3B,EAAO,GACfrc,EAAOqc,EAAOO,EAAQ,GAC5B,GAAI0gH,GAAO7pF,EAAM,GAAIA,EAAM,GAAIzzC,EAAK,GAAIA,EAAK,GAAIi4C,EAAWvnC,EAAGC,GAC7D,OAAO,C,CAIX,OAAO,CACT,CCnBA,gC,8CA8BA,QA9BsBzB,EAAAA,EAAAA,IAAAA,EAAAA,GACpBywH,EAAAA,UAAAA,iBAAA,SAAiBjvH,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GAC/B,MAAW,KAAKxwB,OAAM,OAC1BoB,GAAQ,EAOZ,OANIyrG,IACFzrG,EAAQ42G,GAAWpjH,EAAQ47B,EAAWvnC,EAAGC,GAAG,KAEzCkY,GAAS0rG,IACZ1rG,EAAQ2tB,GAAYn6B,EAAQ3L,EAAGC,IAE1BkY,CACT,EAEA82G,EAAAA,UAAAA,WAAA,SAAWh6H,GACT,IAAMzN,EAAQ,KAAKuvB,OACbpL,EAASnkB,EAAMmkB,OACrB,KAAIA,EAAOrhB,OAAS,GAApB,CAGA2K,EAAQs0H,YACR,IAAK,IAAI18H,EAAI,EAAGA,EAAI8e,EAAOrhB,OAAQuC,IAAK,CACtC,IAAM6oC,EAAQ/pB,EAAO9e,GACX,IAANA,EACFoI,EAAQ40H,OAAOn0F,EAAM,GAAIA,EAAM,IAE/BzgC,EAAQ60H,OAAOp0F,EAAM,GAAIA,EAAM,G,CAGnCzgC,EAAQg1H,W,CACV,EACF,EA9BA,CAAsB3wG,IAgCtB,MC7BA,4B,8CAuMA,QAvMuB9a,EAAAA,EAAAA,IAAAA,EAAAA,GACrB0wH,EAAAA,UAAAA,gBAAA,WACE,IAAM1nI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRogI,YAAY,EACZF,UAAU,GAEd,EAEAwH,EAAAA,UAAAA,UAAA,SAAU1nI,GACR,KAAKslI,UACP,EAGAoC,EAAAA,UAAAA,aAAA,SAAalnI,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GAChC,KAAK00G,YAC6B,IAA9B,CAAC,UAAUnhI,QAAQ3D,IACrB,KAAKmnI,aAET,EAEAD,EAAAA,UAAAA,YAAA,WACE,KAAKj/H,IAAI,cAAe,MACxB,KAAKA,IAAI,SAAU,KACrB,EAEAi/H,EAAAA,UAAAA,SAAA,WACE,IAAM1nI,EAAQ,KAAKuvB,OACb,EAAmC,KAAKvvB,MAAtCmkB,EAAM,SAAEi8G,EAAU,aAAEF,EAAQ,WAC9Bp9H,EAASqhB,EAAOrhB,OAChBiW,EAAKoL,EAAO,GAAG,GACfjL,EAAKiL,EAAO,GAAG,GACflL,EAAKkL,EAAOrhB,EAAS,GAAG,GACxBsW,EAAK+K,EAAOrhB,EAAS,GAAG,GAE1Bs9H,GACF8B,GAAwB,KAAMliI,EAAOmkB,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAIpL,EAAIG,GAEnEgnH,GACFgC,GAAsB,KAAMliI,EAAOmkB,EAAOrhB,EAAS,GAAG,GAAIqhB,EAAOrhB,EAAS,GAAG,GAAImW,EAAIG,EAEzF,EAGAsuH,EAAAA,UAAAA,OAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,iBAAA,SAAiBlvH,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GAEvC,IAAKq8E,IAAar8E,EAChB,OAAO,EAED,MAAW,KAAKxwB,OAAM,OAC9B,OAAOg4G,GAAWpjH,EAAQ47B,EAAWvnC,EAAGC,GAAG,EAC7C,EAGAivH,EAAAA,UAAAA,SAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,WAAA,SAAWj6H,GACH,MAAmC,KAAK8hB,OAAtCpL,EAAM,SAAEi8G,EAAU,aAAEF,EAAQ,WAC9Bp9H,EAASqhB,EAAOrhB,OACtB,KAAIqhB,EAAOrhB,OAAS,GAApB,CAGA,IAAIiW,EAAKoL,EAAO,GAAG,GACfjL,EAAKiL,EAAO,GAAG,GACflL,EAAKkL,EAAOrhB,EAAS,GAAG,GACxBsW,EAAK+K,EAAOrhB,EAAS,GAAG,GAE5B,GAAIs9H,GAAcA,EAAW9nH,EAAG,CAC9B,IAAMqU,EAAWu1G,GAA2BnpH,EAAIG,EAAIiL,EAAO,GAAG,GAAIA,EAAO,GAAG,GAAIi8G,EAAW9nH,GAC3FS,GAAM4T,EAASyiB,GACfl2B,GAAMyT,EAAS0iB,E,CAEjB,GAAI6wF,GAAYA,EAAS5nH,EAAG,CACpBqU,EAAWu1G,GAA2B/9G,EAAOrhB,EAAS,GAAG,GAAIqhB,EAAOrhB,EAAS,GAAG,GAAImW,EAAIG,EAAI8mH,EAAS5nH,GAC3GW,GAAM0T,EAASyiB,GACfh2B,GAAMuT,EAAS0iB,E,CAGjB5hC,EAAQs0H,YACRt0H,EAAQ40H,OAAOtpH,EAAIG,GACnB,IAAK,IAAI7T,EAAI,EAAGA,EAAIvC,EAAS,EAAGuC,IAAK,CACnC,IAAM6oC,EAAQ/pB,EAAO9e,GACrBoI,EAAQ60H,OAAOp0F,EAAM,GAAIA,EAAM,G,CAEjCzgC,EAAQ60H,OAAOrpH,EAAIG,E,CACrB,EAEAsuH,EAAAA,UAAAA,cAAA,SAAcj6H,GACZ,IAAM0kC,EAAkB,KAAKhkC,IAAI,mBAC3BikC,EAAgB,KAAKjkC,IAAI,iBAC3BgkC,GACFA,EAAgB3F,KAAK/+B,GAEnB2kC,GACFA,EAAc5F,KAAK/+B,EAEvB,EAMAi6H,EAAAA,UAAAA,eAAA,WACU,MAAW,KAAKn4G,OAAM,OAExBwkB,EAAc,KAAK5lC,IAAI,eAC7B,OAAKrJ,EAAMivC,IAGX,KAAKtrC,IAAI,cAAem/H,GAAAA,OAAoBzjH,IACrC,KAAKhW,IAAI,gBAHP4lC,CAIX,EAOA2zF,EAAAA,UAAAA,SAAA,SAASpiH,GACC,IAQJyhH,EACAtkI,EATI,EAAW,KAAK8sB,OAAM,OAE1By3G,EAAS,KAAK74H,IAAI,UActB,OAbK64H,IACH,KAAKF,aACLE,EAAS,KAAK74H,IAAI,WAKpBjJ,EAAK8hI,GAAQ,SAAC5/H,EAAG/B,GACXigB,GAASle,EAAE,IAAMke,GAASle,EAAE,KAC9B2/H,GAAQzhH,EAAQle,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC3E,EAAQ4C,EAEZ,IACOggI,GAAAA,QAAiBlhH,EAAO1hB,GAAO,GAAI0hB,EAAO1hB,GAAO,GAAI0hB,EAAO1hB,EAAQ,GAAG,GAAI0hB,EAAO1hB,EAAQ,GAAG,GAAIskI,EAC1G,EAEAW,EAAAA,UAAAA,WAAA,WACU,MAAW,KAAKn4G,OAAM,OAC9B,GAAKpL,GAA4B,IAAlBA,EAAOrhB,OAAtB,CAIA,IAAMixC,EAAc,KAAK4yF,iBACzB,KAAI5yF,GAAe,GAAnB,CAIA,IAEIozF,EACAC,EAHAE,EAAa,EACXN,EAAS,GAIf9hI,EAAKif,GAAQ,SAACtU,EAAGxK,GACX8e,EAAO9e,EAAI,KACb8hI,EAAW,GACXA,EAAS,GAAKG,EAAavzF,EAC3BqzF,EAAW/B,GAAAA,OAAgBx1H,EAAE,GAAIA,EAAE,GAAIsU,EAAO9e,EAAI,GAAG,GAAI8e,EAAO9e,EAAI,GAAG,IACvEiiI,GAAcF,EACdD,EAAS,GAAKG,EAAavzF,EAC3BizF,EAAOziI,KAAK4iI,GAEhB,IACA,KAAK1+H,IAAI,SAAUu+H,E,EACrB,EAMAU,EAAAA,UAAAA,gBAAA,WACU,MAAW,KAAKn4G,OAAM,OACxBjrB,EAAS,GAGf,OAFAA,EAAOC,KAAK,CAAC4f,EAAO,GAAG,GAAIA,EAAO,GAAG,KACrC7f,EAAOC,KAAK,CAAC4f,EAAO,GAAG,GAAIA,EAAO,GAAG,KAC9B7f,CACT,EAMAojI,EAAAA,UAAAA,cAAA,WACU,MAAW,KAAKn4G,OAAM,OACxB9lB,EAAI0a,EAAOrhB,OAAS,EACpBwB,EAAS,GAGf,OAFAA,EAAOC,KAAK,CAAC4f,EAAO1a,EAAI,GAAG,GAAI0a,EAAO1a,EAAI,GAAG,KAC7CnF,EAAOC,KAAK,CAAC4f,EAAO1a,GAAG,GAAI0a,EAAO1a,GAAG,KAC9BnF,CACT,EACF,EAvMA,CAAuBwtB,IAyMvB,MCnNc,SAAU+1G,GAAO3xG,EAAMG,EAAM1kB,EAAO2D,EAAQyqC,EAAWvnC,EAAGC,GACtE,IAAM8tE,EAAYxmC,EAAY,EAE9B,OACE89E,GAAM3nG,EAAOqwD,EAAWlwD,EAAOkwD,EAAW50E,EAAOouC,EAAWvnC,EAAGC,IAC/DolH,GAAM3nG,EAAOvkB,EAAQ40E,EAAWlwD,EAAOkwD,EAAWxmC,EAAWzqC,EAAQkD,EAAGC,IACxEolH,GAAM3nG,EAAOqwD,EAAWlwD,EAAO/gB,EAASixE,EAAW50E,EAAOouC,EAAWvnC,EAAGC,IACxEolH,GAAM3nG,EAAOqwD,EAAWlwD,EAAOkwD,EAAWxmC,EAAWzqC,EAAQkD,EAAGC,EAEpE,CCRc,SAAUqvH,GAAe5xG,EAAMG,EAAM1kB,EAAO2D,EAAQ8oD,EAAQre,EAAWvnC,EAAGC,GAEtF,OACE2sH,GAAOlvG,EAAOkoC,EAAQ/nC,EAAMH,EAAOvkB,EAAQysD,EAAQ/nC,EAAM0pB,EAAWvnC,EAAGC,IACvE2sH,GAAOlvG,EAAOvkB,EAAO0kB,EAAO+nC,EAAQloC,EAAOvkB,EAAO0kB,EAAO/gB,EAAS8oD,EAAQre,EAAWvnC,EAAGC,IACxF2sH,GAAOlvG,EAAOvkB,EAAQysD,EAAQ/nC,EAAO/gB,EAAQ4gB,EAAOkoC,EAAQ/nC,EAAO/gB,EAAQyqC,EAAWvnC,EAAGC,IACzF2sH,GAAOlvG,EAAMG,EAAO/gB,EAAS8oD,EAAQloC,EAAMG,EAAO+nC,EAAQre,EAAWvnC,EAAGC,IACxE4tH,GAAMnwG,EAAOvkB,EAAQysD,EAAQ/nC,EAAO+nC,EAAQA,EAAQ,IAAMr3D,KAAK+D,GAAI,EAAI/D,KAAK+D,GAAIi1C,EAAWvnC,EAAGC,IAC9F4tH,GAAMnwG,EAAOvkB,EAAQysD,EAAQ/nC,EAAO/gB,EAAS8oD,EAAQA,EAAQ,EAAG,GAAMr3D,KAAK+D,GAAIi1C,EAAWvnC,EAAGC,IAC7F4tH,GAAMnwG,EAAOkoC,EAAQ/nC,EAAO/gB,EAAS8oD,EAAQA,EAAQ,GAAMr3D,KAAK+D,GAAI/D,KAAK+D,GAAIi1C,EAAWvnC,EAAGC,IAC3F4tH,GAAMnwG,EAAOkoC,EAAQ/nC,EAAO+nC,EAAQA,EAAQr3D,KAAK+D,GAAI,IAAM/D,KAAK+D,GAAIi1C,EAAWvnC,EAAGC,EAEtF,CCHA,gC,8CA0EA,QA1EmBzB,EAAAA,EAAAA,IAAAA,EAAAA,GACjB+wH,EAAAA,UAAAA,gBAAA,WACE,IAAM/nI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH9G,MAAO,EACP2D,OAAQ,EACR8oD,OAAQ,GAEZ,EAEA2pE,EAAAA,UAAAA,iBAAA,SAAiBvvH,EAAGC,EAAG2jH,EAAUC,EAAQt8E,GACvC,IAAM//C,EAAQ,KAAKuvB,OACb2G,EAAOl2B,EAAMwY,EACb6d,EAAOr2B,EAAMyY,EACb9G,EAAQ3R,EAAM2R,MACd2D,EAAStV,EAAMsV,OACf8oD,EAASp+D,EAAMo+D,OAErB,GAAKA,EAaE,CACL,IAAIztC,GAAQ,EASZ,OARIyrG,IACFzrG,EAAQq3G,GAAiB9xG,EAAMG,EAAM1kB,EAAO2D,EAAQ8oD,EAAQre,EAAWvnC,EAAGC,KAIvEkY,GAAS0rG,IACZ1rG,EAAQq1G,GAAc,KAAMxtH,EAAGC,IAE1BkY,C,CAtBP,IAAM41D,EAAYxmC,EAAY,EAE9B,OAAIs8E,GAAUD,EACLyB,GAAM3nG,EAAOqwD,EAAWlwD,EAAOkwD,EAAW50E,EAAQ40E,EAAWjxE,EAASixE,EAAW/tE,EAAGC,GAGzF4jH,EACKwB,GAAM3nG,EAAMG,EAAM1kB,EAAO2D,EAAQkD,EAAGC,GAEzC2jH,EACKyL,GAAO3xG,EAAMG,EAAM1kB,EAAO2D,EAAQyqC,EAAWvnC,EAAGC,QADzD,CAeJ,EAEAsvH,EAAAA,UAAAA,WAAA,SAAWt6H,GACT,IAAMzN,EAAQ,KAAKuvB,OACb/W,EAAIxY,EAAMwY,EACVC,EAAIzY,EAAMyY,EACV9G,EAAQ3R,EAAM2R,MACd2D,EAAStV,EAAMsV,OACf8oD,EAASp+D,EAAMo+D,OAGrB,GADA3wD,EAAQs0H,YACO,IAAX3jE,EAEF3wD,EAAQqzC,KAAKtoC,EAAGC,EAAG9G,EAAO2D,OACrB,CACC,MAAmBkqH,GAAYphE,GAA9Br9C,EAAE,KAAEC,EAAE,KAAEy+G,EAAE,KAAEC,EAAE,KACrBjyH,EAAQ40H,OAAO7pH,EAAIuI,EAAItI,GACvBhL,EAAQ60H,OAAO9pH,EAAI7G,EAAQqP,EAAIvI,GACxB,IAAPuI,GAAYvT,EAAQm+F,IAAIpzF,EAAI7G,EAAQqP,EAAIvI,EAAIuI,EAAIA,GAAKja,KAAK+D,GAAK,EAAG,GAClE2C,EAAQ60H,OAAO9pH,EAAI7G,EAAO8G,EAAInD,EAASmqH,GAChC,IAAPA,GAAYhyH,EAAQm+F,IAAIpzF,EAAI7G,EAAQ8tH,EAAIhnH,EAAInD,EAASmqH,EAAIA,EAAI,EAAG14H,KAAK+D,GAAK,GAC1E2C,EAAQ60H,OAAO9pH,EAAIknH,EAAIjnH,EAAInD,GACpB,IAAPoqH,GAAYjyH,EAAQm+F,IAAIpzF,EAAIknH,EAAIjnH,EAAInD,EAASoqH,EAAIA,EAAI34H,KAAK+D,GAAK,EAAG/D,KAAK+D,IACvE2C,EAAQ60H,OAAO9pH,EAAGC,EAAIsI,GACf,IAAPA,GAAYtT,EAAQm+F,IAAIpzF,EAAIuI,EAAItI,EAAIsI,EAAIA,EAAIha,KAAK+D,GAAc,IAAV/D,KAAK+D,IAC1D2C,EAAQg1H,W,CAEZ,EACF,EA1EA,CAAmB3wG,IA4EnB,MChFA,4B,8CAqJA,QArJmB9a,EAAAA,EAAAA,IAAAA,EAAAA,GAEjBixH,EAAAA,UAAAA,gBAAA,WACE,IAAMjoI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH1H,KAAM,KACNS,SAAU,GACVP,WAAY,aACZE,UAAW,SACXD,WAAY,SACZE,YAAa,SACb2oC,UAAW,QACXD,aAAc,UAElB,EAGAmuF,EAAAA,UAAAA,aAAA,WACE,OAAO,CACT,EAGAA,EAAAA,UAAAA,UAAA,SAAUjoI,GACR,KAAKkoI,gBACDloI,EAAM+Q,MACR,KAAKo3H,SAASnoI,EAAM+Q,KAExB,EAEAk3H,EAAAA,UAAAA,cAAA,WACE,IAAMjoI,EAAQ,KAAKA,MACnBA,EAAMgR,KAAO6oC,GAAa75C,EAC5B,EAGAioI,EAAAA,UAAAA,SAAA,SAASl3H,GACP,IAAI0oC,EAAU,KACV1qC,GAASgC,KAAiC,IAAxBA,EAAK5M,QAAQ,QACjCs1C,EAAU1oC,EAAKzH,MAAM,OAEvB,KAAKb,IAAI,UAAWgxC,EACtB,EAGAwuF,EAAAA,UAAAA,aAAA,SAAaznI,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,GAC5BpwB,EAAK85H,WAAW,SAClB,KAAK4N,gBAEM,SAAT1nI,GACF,KAAK2nI,SAASznI,EAElB,EAQAunI,EAAAA,UAAAA,cAAA,WACE,IAAMjoI,EAAQ,KAAKA,MACbm5C,EAAan5C,EAAMm5C,WACnB3nC,EAA4B,EAAjBxR,EAAMwR,SACvB,OAAO2nC,EAAaA,EAAa3nC,EAAsB,IAAXA,CAC9C,EAGAy2H,EAAAA,UAAAA,aAAA,SAAax6H,EAASgsC,EAAS4iF,GAC7B,IAOI+L,EAPEpoI,EAAQ,KAAKA,MACb85C,EAAe95C,EAAM85C,aACrBthC,EAAIxY,EAAMwY,EACVC,EAAIzY,EAAMyY,EACVjH,EAA4B,EAAjBxR,EAAMwR,SACjB6nC,EAAY,KAAKgvF,gBACjB/yH,EAAS4jC,GAAcl5C,EAAM+Q,KAAM/Q,EAAMwR,SAAUxR,EAAMm5C,YAE/Dj0C,EAAKu0C,GAAS,SAACC,EAASj3C,GACtB2lI,EAAO3vH,EAAIhW,GAAS42C,EAAY7nC,GAAY8D,EAAS9D,EAChC,WAAjBsoC,IAA2BsuF,GAAQ9yH,EAAS9D,GAAY8D,EAAS9D,GAAY,GAC5D,QAAjBsoC,IAAwBsuF,GAAQ9yH,EAAS9D,GACxC1M,EAAM40C,KACL2iF,EACF5uH,EAAQ66H,SAAS5uF,EAASlhC,EAAG4vH,GAE7B36H,EAAQ86H,WAAW7uF,EAASlhC,EAAG4vH,GAGrC,GACF,EAGAH,EAAAA,UAAAA,UAAA,SAAUx6H,EAAS4uH,GACjB,IAAMr8H,EAAQ,KAAKuvB,OACb/W,EAAIxY,EAAMwY,EACVC,EAAIzY,EAAMyY,EACVghC,EAAU,KAAKtrC,IAAI,WACzB,GAAIsrC,EACF,KAAK+uF,aAAa/6H,EAASgsC,EAAS4iF,OAC/B,CACL,IAAMtrH,EAAO/Q,EAAM+Q,KACdjM,EAAMiM,KACLsrH,EACF5uH,EAAQ66H,SAASv3H,EAAMyH,EAAGC,GAE1BhL,EAAQ86H,WAAWx3H,EAAMyH,EAAGC,G,CAIpC,EAGAwvH,EAAAA,UAAAA,cAAA,SAAcx6H,GACN,MAAqD,KAAKzN,MAAxD+/C,EAAS,YAAE5vB,EAAO,UAAEw7D,EAAa,gBAAE2Z,EAAW,cAElD,KAAK82B,YACHr8E,EAAY,IACTj7C,EAAM6mF,IAAoC,IAAlBA,IAC3Bl+E,EAAQszH,YAAc5wG,GAExB,KAAKywB,OAAOnzC,IAIZ,KAAK4uH,WACFv3H,EAAMwgG,IAAgC,IAAhBA,EAKzB,KAAK1rC,KAAKnsD,IAJVA,EAAQszH,YAAcz7B,EACtB,KAAK1rC,KAAKnsD,GACVA,EAAQszH,YAAc5wG,IAM1B,KAAKi0G,cAAc32H,EACrB,EAGAw6H,EAAAA,UAAAA,KAAA,SAAKx6H,GACH,KAAKg7H,UAAUh7H,GAAS,EAC1B,EAGAw6H,EAAAA,UAAAA,OAAA,SAAOx6H,GACL,KAAKg7H,UAAUh7H,GAAS,EAC1B,EACF,EArJA,CAAmBqkB,IAuJnB,MC7JA,SAASwF,GAAiBlwB,EAAa4mB,GACrC,GAAIA,EAAQ,CACV,IAAMyD,EAAe9G,GAAOqD,GAC5B,OAAOW,GAAa8C,EAAcrqB,E,CAEpC,OAAOA,CACT,CAEA,SAASshI,GAAS5gH,EAAmBtP,EAAWC,GAE9C,IAAM6Y,EAAcxJ,EAAQ6O,iBAC5B,GAAIrF,EAAa,CACT,MAAegG,GAAiB,CAAC9e,EAAGC,EAAG,GAAI6Y,GAA1Cf,EAAI,KAAEC,EAAI,KACjB,MAAO,CAACD,EAAMC,E,CAEhB,MAAO,CAAChY,EAAGC,EACb,CAGA,SAASkwH,GAAQ7gH,EAAmBtP,EAAWC,GAE7C,GAAIqP,EAAQH,UAAYG,EAAQH,WAC9B,OAAO,EAIT,IAAKE,GAAeC,KAAqC,IAAzBA,EAAQjR,IAAI+qH,SAC1C,OAAO,EAGT,GAAI95G,EAAQjR,IAAIgb,UAAW,CAEnB,MAAe62G,GAAS5gH,EAAStP,EAAGC,GAAnC8X,EAAI,KAAEC,EAAI,KACjB,GAAI1I,EAAQyP,UAAUhH,EAAMC,GAC1B,OAAO,C,CAIX,IAAM5P,EAAOkH,EAAQjR,IAAI6qH,iBAAmB55G,EAAQ4O,gBAQpD,OAAMle,GAAKoI,EAAKsV,MAAQ1d,GAAKoI,EAAKwV,MAAQ3d,GAAKmI,EAAKyV,MAAQ5d,GAAKmI,EAAK0V,IAIxE,CAGM,SAAUkB,GAAShjB,EAAuBgE,EAAWC,GAEzD,IAAKkwH,GAAQn0H,EAAWgE,EAAGC,GACzB,OAAO,KAKT,IAHA,IAAIiP,EAAQ,KACNyJ,EAAW3c,EAAU4c,cACrB1M,EAAQyM,EAASruB,OACduC,EAAIqf,EAAQ,EAAGrf,GAAK,EAAGA,IAAK,CACnC,IAAMswB,EAAQxE,EAAS9rB,GACvB,GAAIswB,EAAMxB,UACRzM,EAAQ8P,GAAS7B,EAAiBnd,EAAGC,QAChC,GAAIkwH,GAAQhzG,EAAOnd,EAAGC,GAAI,CAC/B,IAAMmwH,EAAWjzG,EACX,EAAe+yG,GAAS/yG,EAAOnd,EAAGC,GAAjC8X,EAAI,KAAEC,EAAI,KAEbo4G,EAASp2F,UAAUjiB,EAAMC,KAC3B9I,EAAQiO,E,CAGZ,GAAIjO,EACF,K,CAGJ,OAAOA,CACT,CCvEA,gC,8CAwOA,QAxOqB1Q,EAAAA,EAAAA,IAAAA,EAAAA,GACnBg5B,EAAAA,UAAAA,cAAA,WACE,IAAMn5B,EAAMC,EAAAA,UAAMmR,cAAa,WAY/B,OAVApR,EAAI,YAAc,SAElBA,EAAI,aAAc,EAElBA,EAAI,iBAAkB,EACtBA,EAAI,mBAAqB,GAEzBA,EAAI,aAAc,EAElBA,EAAI,aAAc,EACXA,CACT,EAMAm5B,EAAAA,UAAAA,eAAA,SAAe5f,GAOM,SAAfA,GAAwC,SAAfA,GAAwC,eAAfA,IACpD,KAAK3nB,IAAI,kBAAmB,CAAC,OAC7B,KAAK+jC,OAET,EAEAwD,EAAAA,UAAAA,aAAA,WACE,OAAOka,CACT,EAEAla,EAAAA,UAAAA,aAAA,WACE,OAAOuzF,EACT,EAIAvzF,EAAAA,UAAAA,cAAA,WACE,IAAMo1E,EAAa,KAAKj3G,IAAI,eAAiBwvH,KAE7C,OAAOvY,GAAc,EAAIr+G,KAAKswD,KAAK+tD,GAAc,CACnD,EAEAp1E,EAAAA,UAAAA,aAAA,WACE,MAAO,CACL9Z,KAAM,EACNG,KAAM,EACND,KAAM,KAAKvf,IAAIlF,MACf2kB,KAAM,KAAKzf,IAAIvB,OAEnB,EAGA06B,EAAAA,UAAAA,UAAA,WACE,IAAMloB,EAAUzW,SAASC,cAAc,UACjC7D,EAAUqa,EAAQvW,WAAW,MAGnC,OADA,KAAK9I,IAAI,UAAWgF,GACbqa,CACT,EACAkoB,EAAAA,UAAAA,WAAA,SAAWr+B,EAAe2D,GACxBwB,EAAAA,UAAMq5B,WAAU,UAACx+B,EAAO2D,GACxB,IAAM7H,EAAU,KAAKU,IAAI,WACnBg/B,EAAK,KAAKh/B,IAAI,MACdi3G,EAAa,KAAKuY,gBACxBxwF,EAAGx7B,MAAQyzG,EAAazzG,EACxBw7B,EAAG73B,OAAS8vG,EAAa9vG,EAErB8vG,EAAa,GACf33G,EAAQif,MAAM04F,EAAYA,EAE9B,EAEAp1E,EAAAA,UAAAA,MAAA,WACEl5B,EAAAA,UAAM6gB,MAAK,WACX,KAAKkxG,cACL,IAAMp7H,EAAU,KAAKU,IAAI,WACnB2Z,EAAU,KAAK3Z,IAAI,MACzBV,EAAQq7H,UAAU,EAAG,EAAGhhH,EAAQnW,MAAOmW,EAAQxS,OACjD,EAEA06B,EAAAA,UAAAA,SAAA,SAASx3B,EAAWC,GAClB,IAAIiP,EAMJ,OAJEA,EADE,KAAKvZ,IAAI,YACHqpB,GAAS,KAAMhf,EAAGC,GAElB3B,EAAAA,UAAM0gB,SAAQ,UAAChf,EAAGC,EAAG,MAExBiP,CACT,EAEAsoB,EAAAA,UAAAA,kBAAA,WACE,IAEIgxB,EAFE77D,EAAW,KAAKgJ,IAAI,mBACpBm1H,EAAa,KAAKK,eAGxB,GAAIx+H,EAASrC,QAAUqC,EAAS,KAAO,KACrC67D,EAASsiE,OAGT,GADAtiE,EAASgiE,GAAgB79H,GACrB67D,EAAQ,CACVA,EAAO9qC,KAAOnvB,KAAKye,MAAMw7C,EAAO9qC,MAChC8qC,EAAO3qC,KAAOtvB,KAAKye,MAAMw7C,EAAO3qC,MAChC2qC,EAAO5qC,KAAOrvB,KAAKswD,KAAK2J,EAAO5qC,MAC/B4qC,EAAO1qC,KAAOvvB,KAAKswD,KAAK2J,EAAO1qC,MAC/B0qC,EAAO1qC,MAAQ,EACf,IAAMyyG,EAAW,KAAK56H,IAAI,YAEtB46H,IACF/nE,EAASqiE,GAAUriE,EAAQsiE,G,CAIjC,OAAOtiE,CACT,EAMAhxB,EAAAA,UAAAA,eAAA,SAAeloB,GACb,IAAMq5G,EAAkB,KAAKhzH,IAAI,mBACjCgzH,EAAgB58H,KAAKujB,EAIvB,EAEAkoB,EAAAA,UAAAA,YAAA,WACE,IAAMg5F,EAAY,KAAK76H,IAAI,aACvB66H,IAEFC,GAAoBD,GACpB,KAAKvgI,IAAI,YAAa,MACtB,KAAKA,IAAI,kBAAmB,IAEhC,EAGAunC,EAAAA,UAAAA,KAAA,WACE,IAAMg5F,EAAY,KAAK76H,IAAI,aACvB,KAAKA,IAAI,aAAe66H,GAG5B,KAAKE,YACP,EAEAl5F,EAAAA,UAAAA,SAAA,WACE,IAAMviC,EAAU,KAAKU,IAAI,WACnB2Z,EAAU,KAAK3Z,IAAI,MACnBgjB,EAAW,KAAKC,cACtB3jB,EAAQq7H,UAAU,EAAG,EAAGhhH,EAAQnW,MAAOmW,EAAQxS,QAC/CurH,GAAoBpzH,EAAS,MAC7BuzH,GAAavzH,EAAS0jB,GAEtB,KAAK1oB,IAAI,kBAAmB,GAC9B,EAEAunC,EAAAA,UAAAA,YAAA,WACE,IAAMviC,EAAU,KAAKU,IAAI,WACnBgzH,EAAkB,KAAKhzH,IAAI,mBAC3BgjB,EAAW,KAAKC,cAChB4vC,EAAS,KAAKmoE,oBAGhBnoE,GAEFvzD,EAAQq7H,UAAU9nE,EAAO9qC,KAAM8qC,EAAO3qC,KAAM2qC,EAAO5qC,KAAO4qC,EAAO9qC,KAAM8qC,EAAO1qC,KAAO0qC,EAAO3qC,MAE5F5oB,EAAQ+rC,OACR/rC,EAAQs0H,YACRt0H,EAAQqzC,KAAKkgB,EAAO9qC,KAAM8qC,EAAO3qC,KAAM2qC,EAAO5qC,KAAO4qC,EAAO9qC,KAAM8qC,EAAO1qC,KAAO0qC,EAAO3qC,MACvF5oB,EAAQgjB,OACRowG,GAAoBpzH,EAAS,MAE7ByzH,GAAa,KAAM/vG,EAAU6vC,GAE7BggE,GAAavzH,EAAS0jB,EAAU6vC,GAChCvzD,EAAQmsC,WACCunF,EAAgBr+H,QAMzB2+H,GAAaN,GAEfj8H,EAAKi8H,GAAiB,SAACr5G,GACjBA,EAAQ3Z,IAAI,eAGd2Z,EAAQrf,IAAI,cAAc,EAE9B,IACA,KAAKA,IAAI,kBAAmB,GAC9B,EAGAunC,EAAAA,UAAAA,WAAA,sBACMg5F,EAAY,KAAK76H,IAAI,aACpB66H,IACHA,EAAY18H,IAAsB,WAC5BqK,EAAKxI,IAAI,gBACXwI,EAAKyyH,cAELzyH,EAAK0yH,WAEP1yH,EAAKlO,IAAI,YAAa,KACxB,IACA,KAAKA,IAAI,YAAaugI,GAE1B,EAEAh5F,EAAAA,UAAAA,SAAA,WAAY,EAEZA,EAAAA,UAAAA,UAAA,WACE,IAAM7C,EAAK,KAAKh/B,IAAI,MAKpBg/B,EAAGx7B,MAAQ,EACXw7B,EAAG73B,OAAS,EACZ63B,EAAGn3B,WAAWpB,YAAYu4B,EAC5B,EACF,EAxOA,CAAqBm8F,IA0OrB,M3Q1Oa9gH,GAAU,SPTV+gH,GAAgB,CAC3BzoF,KAAM,OACNC,OAAQ,SACRpM,KAAM,OACN5kC,KAAM,OACN4tE,OAAQ,OACR5sE,KAAM,OACNiwC,SAAU,WACVC,QAAS,UACT+tD,MAAO,QACPl3D,QAAS,UACTpjC,IAAK,iBAGM80H,GAAe,CAC1Br5G,QAAS,UACT69C,UAAW,OACXpU,KAAM,OACN0rC,YAAa,eACbr3B,YAAa,SACb0d,cAAe,iBACf/qC,OAAQ,SACRpoC,EAAG,IACHC,EAAG,IACHlQ,EAAG,IACHoQ,GAAI,KACJC,GAAI,KACJjH,MAAO,QACP2D,OAAQ,SACRyD,GAAI,KACJE,GAAI,KACJC,GAAI,KACJE,GAAI,KACJ82E,QAAS,iBACTgZ,SAAU,kBACVnpD,UAAW,eACXyjD,SAAU,mBACVimC,eAAgB,oBAChBC,WAAY,oBACZ14H,KAAM,OACNQ,SAAU,YACVL,UAAW,aACXC,YAAa,eACbF,WAAY,cACZD,WAAY,cACZmvH,WAAY,eACZF,SAAU,aACVnwH,KAAM,IACN45H,MAAO,QACPz2G,GAAI,KACJne,MAAO,QACP60H,oBAAqB,uBM3CjB,SAAUC,GAAiBjlI,GAC/B,OAAOyM,SAASy4H,gBAAgB,6BAA8BllI,EAChE,CAOM,SAAUwP,GAAUsT,GACxB,IAAM9iB,EAAO2kI,GAAc7hH,EAAM9iB,MAC3BmR,EAAS2R,EAAME,YACrB,IAAKhjB,EACH,MAAM,IAAI8O,MAAM,YAAYgU,EAAM9iB,KAAI,4BAExC,IAAMkjB,EAAU+hH,GAAiBjlI,GAOjC,GANI8iB,EAAMvZ,IAAI,QACZ2Z,EAAQoL,GAAKxL,EAAMvZ,IAAI,OAEzBuZ,EAAMjf,IAAI,KAAMqf,GAChBJ,EAAMjf,IAAI,QAAS,IAEfsN,EAAQ,CACV,IAAIC,EAAaD,EAAO5H,IAAI,MACxB6H,IAIFA,EAAcD,EAAkB3B,YAChC2B,EAAOtN,IAAI,KAAMuN,IAJjBA,EAAWk6B,YAAYpoB,E,CAQ3B,OAAOA,CACT,CAOM,SAAUiiH,GAAQjiH,EAAmBkiH,GACzC,IAAM78F,EAAKrlB,EAAQ3Z,IAAI,MACjB87H,EAAYC,GAAQ/8F,EAAGhc,UAAUD,KAAK84G,GAEtCG,EAAW94H,SAAS+4H,yBAC1BH,EAAU56H,SAAQ,SAACsmB,GACjBw0G,EAASj6F,YAAYva,EACvB,IACAwX,EAAG+C,YAAYi6F,EACjB,CAOM,SAAU9H,GAAOv6G,EAAqBuiH,GAC1C,IAAMr0H,EAAa8R,EAAQ9R,WACrBkxD,EAAWliE,MAAMojB,KAAKpS,EAAWrB,YAAYvQ,QAEjD,SAACqmF,GAAe,OAAkB,IAAlB,EAAK6/C,UAAkD,SAAhC7/C,EAAKm6C,SAAS15H,aAArC,IAGZhJ,EAASglE,EAASmjE,GAClBE,EAAerjE,EAAS/iE,QAAQ2jB,GAEtC,GAAI5lB,GAEF,GAAIqoI,EAAeF,EACjBr0H,EAAWw0H,aAAa1iH,EAAS5lB,QAC5B,GAAIqoI,EAAeF,EAAa,CAGrC,IAAMI,EAAavjE,EAASmjE,EAAc,GAEtCI,EACFz0H,EAAWw0H,aAAa1iH,EAAS2iH,GAGjCz0H,EAAWk6B,YAAYpoB,E,OAI3B9R,EAAWk6B,YAAYpoB,EAE3B,C,gB6Q5FM,SAAU4iH,GAAUrsC,EAAO5wF,GAC/B,IAAM0/B,EAAKkxD,EAAMxnF,IAAIs2B,GACfntC,EAAQq+F,EAAM9uE,OACd1Y,EAAM,CACVu4B,GAAIpvC,EAAM6xC,cACVxC,GAAIrvC,EAAM8xC,cACV64F,KAAM3qI,EAAM4xC,WACZtN,MAAOtkC,EAAM2xC,aAEf,GAAK96B,EAAIu4B,IAAOv4B,EAAIw4B,IAAOx4B,EAAI8zH,MAAS9zH,EAAIytB,MAErC,CACL,IAAIpR,EAAKzlB,EAAQrH,KAAK,SAAUyQ,GAC3Bqc,IACHA,EAAKzlB,EAAQm9H,UAAU/zH,IAEzBs2B,EAAG4iC,aAAa,SAAU,QAAQ78C,EAAE,I,MANpCia,EAAG44E,gBAAgB,SAQvB,CAEM,SAAU8kB,GAAaxsC,GACnB,MAAWA,EAAM9uE,OAAM,OAC/B,GAAIvB,EAAQ,CAGV,IAFA,IAAMmf,EAAKkxD,EAAMxnF,IAAIs2B,GACjBrf,EAAiB,GACZzoB,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1ByoB,EAAUvpB,KAAQypB,EAAO3oB,GAAE,IAAI2oB,EAAO3oB,EAAI,IAE5CyoB,EAAYA,EAAUrc,KAAK,MACO,IAA9Bqc,EAAU3pB,QAAQ,OACpBgpC,EAAG4iC,aAAa,YAAa,UAAUjiD,EAAS,KAEhDgvC,GAAQC,KAAK,kBAAmB/uC,E,CAGtC,CAEM,SAAUw0C,GAAQ67B,EAAO5wF,GAC7B,IAAMgjB,EAAO4tE,EAAM3tE,UACbyc,EAAKkxD,EAAMlwF,IAAI,MACrB,GAAKsiB,GAEE,GAAIA,IAAS0c,EAAG29F,aAAa,aAAc,CAChD12H,GAAUqc,GACVA,EAAK+yG,WAAW/1H,GAChB,IAAMylB,EAAKzlB,EAAQs9H,QAAQt6G,GAC3B0c,EAAG4iC,aAAa,YAAa,QAAQ78C,EAAE,I,OALvCia,EAAG44E,gBAAgB,YAOvB,CrB5CM,SAAUib,GAAavzH,EAAe0jB,GAC1CA,EAAS9hB,SAAQ,SAACsmB,GAChBA,EAAM6W,KAAK/+B,EACb,GACF,CAOM,SAAUi1H,GAAe56G,EAAmBsI,GAEhD,IAAMuB,EAAS7J,EAAQ3Z,IAAI,UAE3B,GAAIwjB,GAAUA,EAAOxjB,IAAI,YAAa,CACpC,IAAMV,EAAUkkB,EAAOxjB,IAAI,WACrBohC,EAASznB,EAAQF,YACjBojH,EAAiBz7F,EAASA,EAAOne,cAAgB,CAACO,GAClDwb,EAAKrlB,EAAQ3Z,IAAI,MACvB,GAAmB,WAAfiiB,EAAyB,CAC3B,IAAMW,EAAcjJ,EAAQ3Z,IAAI,eAEhC,GAAI4iB,EAAa,CACf,IAAMk6G,EAAa99F,GAAMA,EAAGn3B,WACtBk1H,EAASD,GAAcA,EAAWj1H,WACpCi1H,GAAcC,GAChBA,EAAOt2H,YAAYq2H,E,MAEZ99F,GAAMA,EAAGn3B,YAClBm3B,EAAGn3B,WAAWpB,YAAYu4B,E,MAEvB,GAAmB,SAAf/c,EACT+c,EAAG4iC,aAAa,aAAc,gBACzB,GAAmB,SAAf3/C,EACT+c,EAAG4iC,aAAa,aAAc,eACzB,GAAmB,WAAf3/C,EACTiyG,GAAOl1F,EAAI69F,EAAe7mI,QAAQ2jB,SAC7B,GAAmB,SAAfsI,EAAuB,CAChC,IAAM+6G,EAAWrjH,EAAQ3Z,IAAI,YACzBg9H,GAAYA,EAASroI,QACvBinI,GAAQjiH,GAAS,SAACvhB,EAAagE,GAC7B,OAAO4gI,EAAShnI,QAAQoC,GAAK4kI,EAAShnI,QAAQoG,GAAK,EAAI,CACzD,G,KAEsB,UAAf6lB,EAEL+c,IACFA,EAAG14B,UAAY,IAEO,WAAf2b,EACTy6G,GAAa/iH,GACW,SAAfsI,EACToyC,GAAQ16C,EAASra,GACO,SAAf2iB,GAEe,QAAfA,GACTtI,EAAQ0kB,KAAK/+B,E,CAGnB,C9SvDA,gC,8CAqFA,QArFoBuJ,EAAAA,EAAAA,IAAAA,EAAAA,GAElBusH,EAAAA,UAAAA,cAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,UAAA,WACE,IAAMz7G,EAAU+hH,GAAiB,KACjC,KAAKphI,IAAI,KAAMqf,GACf,IAAM/R,EAAS,KAAK6R,YACpB,GAAI7R,EAAQ,CACV,IAAIC,EAAaD,EAAO5H,IAAI,MACxB6H,IAIFA,EAAcD,EAAkB3B,YAChC2B,EAAOtN,IAAI,KAAMuN,IAJjBA,EAAWk6B,YAAYpoB,E,CAQ3B,OAAOA,CACT,EAGAy7G,EAAAA,UAAAA,iBAAA,SAAiBzyG,GACfha,EAAAA,UAAMwZ,iBAAgB,UAACQ,GACvB,IAAMa,EAAS,KAAKxjB,IAAI,UAExB,GAAIwjB,GAAUA,EAAOxjB,IAAI,YAAa,CACpC,IAAMV,EAAUkkB,EAAOxjB,IAAI,WAC3B,KAAKq1H,WAAW/1H,EAASqjB,E,CAE7B,EAMAyyG,EAAAA,UAAAA,eAAA,SAAenzG,GACbsyG,GAAe,KAAMtyG,EACvB,EAEAmzG,EAAAA,UAAAA,aAAA,WACE,OAAOr5E,CACT,EAEAq5E,EAAAA,UAAAA,aAAA,WACE,OAAOA,CACT,EAEAA,EAAAA,UAAAA,KAAA,SAAK91H,GACH,IAAM0jB,EAAW,KAAKC,cAChB+b,EAAK,KAAKh/B,IAAI,MAChB,KAAKA,IAAI,aACPg/B,GACFA,EAAGn3B,WAAWpB,YAAYu4B,IAGvBA,GACH,KAAK/4B,YAEPouD,GAAQ,KAAM/0D,GACd,KAAK+1H,WAAW/1H,GACZ0jB,EAASruB,QACXk+H,GAAavzH,EAAS0jB,GAG5B,EAOAoyG,EAAAA,UAAAA,WAAA,SAAW91H,EAAeqjB,GACxB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GAC7Bi6G,GAAaj6G,IACf4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,IACAmqI,GAAa,KACf,EACF,EArFA,CAAoB55F,IAuFpB,M+StFA,0E,OACEt6B,EAAAA,KAAe,MACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAoOvB,QAvOwBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKtB8a,EAAAA,UAAAA,gBAAA,WACE,IAAM9xB,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WAEnC,2BACK9vB,GAAK,CACR+/C,UAAW,EACXkpD,gBAAiB,EACjBtd,cAAe,EACf2Z,YAAa,GAEjB,EAGAxzE,EAAAA,UAAAA,iBAAA,SAAiBhB,GACfha,EAAAA,UAAMwZ,iBAAgB,UAACQ,GACvB,IAAMa,EAAS,KAAKxjB,IAAI,UAExB,GAAIwjB,GAAUA,EAAOxjB,IAAI,YAAa,CACpC,IAAMV,EAAUkkB,EAAOxjB,IAAI,WAC3B,KAAKq+B,KAAK/+B,EAASqjB,E,CAEvB,EAEAgB,EAAAA,UAAAA,aAAA,WACE,OAAOo4B,CACT,EAEAp4B,EAAAA,UAAAA,aAAA,WACE,OAAOyxG,EACT,EAMAzxG,EAAAA,UAAAA,eAAA,SAAe1B,GACbsyG,GAAe,KAAMtyG,EACvB,EAEA0B,EAAAA,UAAAA,cAAA,WACE,IAAMqb,EAAK,KAAKh/B,IAAI,MAChByS,EAAO,KAEX,GAAIusB,EACFvsB,EAAOusB,EAAG1W,cACL,CACL,IAAMstG,EAAaC,GAAc,KAAK71H,IAAI,SACtC41H,IACFnjH,EAAOmjH,EAAW,M,CAGtB,GAAInjH,EAAM,CACA,MAAwBA,EAAI,EAAzBnI,EAAqBmI,EAAI,EAAtBjP,EAAkBiP,EAAI,MAAftL,EAAWsL,EAAI,OAC9Bm/B,EAAY,KAAK+jF,kBACjBv9C,EAAYxmC,EAAY,EACxB7pB,EAAO1d,EAAI+tE,EACXlwD,EAAO5d,EAAI8tE,EACXnwD,EAAO5d,EAAI7G,EAAQ40E,EACnBjwD,EAAO7d,EAAInD,EAASixE,EAC1B,MAAO,CACL/tE,EAAG0d,EACHzd,EAAG4d,EACHH,KAAI,EACJG,KAAI,EACJD,KAAI,EACJE,KAAI,EACJ3kB,MAAOA,EAAQouC,EACfzqC,OAAQA,EAASyqC,E,CAGrB,MAAO,CACLvnC,EAAG,EACHC,EAAG,EACHyd,KAAM,EACNG,KAAM,EACND,KAAM,EACNE,KAAM,EACN3kB,MAAO,EACP2D,OAAQ,EAEZ,EAEAwc,EAAAA,UAAAA,OAAA,WACQ,MAAsB,KAAKvC,OAAzBqqC,EAAI,OAAEoU,EAAS,YACvB,OAAQpU,GAAQoU,GAAa,KAAKj9C,gBAAkB,KAAKq6G,OAC3D,EAEAt5G,EAAAA,UAAAA,SAAA,WACQ,MAA0B,KAAKvC,OAA7BqxB,EAAM,SAAEqtB,EAAW,cAC3B,OAAQrtB,GAAUqtB,IAAgB,KAAKo9D,SACzC,EAEAv5G,EAAAA,UAAAA,KAAA,SAAKrkB,EAASqjB,GACZ,IAAMqc,EAAK,KAAKh/B,IAAI,MAChB,KAAKA,IAAI,aACPg/B,GACFA,EAAGn3B,WAAWpB,YAAYu4B,IAGvBA,GACH/4B,GAAU,MAEZouD,GAAQ,KAAM/0D,GACd,KAAK+1H,WAAW/1H,EAASqjB,GACzB,KAAKw6G,OAAO79H,EAASqjB,GACrB,KAAKqzG,cAAc12H,EAASqjB,GAC5B,KAAKhD,UAAUgD,GAEnB,EAQAgB,EAAAA,UAAAA,WAAA,SAAWrkB,EAAeqjB,GAA2B,EAGrDgB,EAAAA,UAAAA,cAAA,SAAcrkB,EAASqjB,GACrB,IAAM9wB,EAAQ8wB,GAAe,KAAKvB,OAC1B,EAAgFvvB,EAAK,KAA/EguE,EAA0EhuE,EAAK,UAApE4gD,EAA+D5gD,EAAK,OAA5DiuE,EAAuDjuE,EAAK,YAA/CslG,EAA0CtlG,EAAK,YAAlC2rF,EAA6B3rF,EAAK,cAAnB+/C,EAAc//C,EAAK,UACvFmtC,EAAK,KAAKh/B,IAAI,MAEhB,KAAKi9H,UAEFt6G,EAEM,SAAU9wB,EACnB,KAAKurI,UAAU99H,EAAS,OAAQmsD,GACvB,cAAe55D,GAExB,KAAKurI,UAAU99H,EAAS,OAAQugE,GALhC,KAAKu9D,UAAU99H,EAAS,OAAQmsD,GAAQoU,GAOtCs3B,GACFn4D,EAAG4iC,aAAay5D,GAAAA,YAA6BlkC,IAI7C,KAAK+lC,WAAatrF,EAAY,IAC3BjvB,EAEM,WAAY9wB,EACrB,KAAKurI,UAAU99H,EAAS,SAAUmzC,GACzB,gBAAiB5gD,GAE1B,KAAKurI,UAAU99H,EAAS,SAAUwgE,GALlC,KAAKs9D,UAAU99H,EAAS,SAAUmzC,GAAUqtB,GAO1C0d,GACFx+C,EAAG4iC,aAAay5D,GAAAA,cAA+B79C,GAE7C5rC,GACF5S,EAAG4iC,aAAay5D,GAAAA,UAA2BzpF,GAGjD,EAEAjuB,EAAAA,UAAAA,UAAA,SAAUrkB,EAAS8hB,EAAM7uB,GACvB,IAAMysC,EAAK,KAAKh/B,IAAI,MACpB,GAAKzN,EAML,GADAA,EAAQA,EAAM8jC,OACV,uBAAuBnwB,KAAK3T,GAAQ,CACtC,IAAIwyB,EAAKzlB,EAAQrH,KAAK,WAAY1F,GAC7BwyB,IACHA,EAAKzlB,EAAQ+9H,YAAY9qI,IAE3BysC,EAAG4iC,aAAay5D,GAAaj6G,GAAO,QAAQ2D,EAAE,I,MACzC,GAAI,mBAAmB7e,KAAK3T,GAAQ,CACrCwyB,EAAKzlB,EAAQrH,KAAK,UAAW1F,GAC5BwyB,IACHA,EAAKzlB,EAAQg+H,WAAW/qI,IAE1BysC,EAAG4iC,aAAay5D,GAAaj6G,GAAO,QAAQ2D,EAAE,I,MAE9Cia,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,QAjBpCysC,EAAG4iC,aAAay5D,GAAaj6G,GAAO,OAmBxC,EAEAuC,EAAAA,UAAAA,OAAA,SAAOrkB,EAASqjB,GACd,IAAM9wB,EAAQ,KAAKuvB,OACb,EAA4DuB,GAAe9wB,EAAzE6xC,EAAa,gBAAEC,EAAa,gBAAEF,EAAU,aAAED,EAAW,eACzDE,GAAiBC,GAAiBF,GAAcD,IAClD+4F,GAAU,KAAMj9H,EAEpB,EAEAqkB,EAAAA,UAAAA,UAAA,SAAUhB,GACR,IAAM9wB,EAAQ,KAAKuvB,OACX,GAAW,GAAevvB,GAAK,OACnCguB,GACF68G,GAAa,KAEjB,EAEA/4G,EAAAA,UAAAA,UAAA,SAAUvB,EAAcC,GACtB,OAAO,KAAKw1G,cAAcz1G,EAAMC,EAClC,EAEAsB,EAAAA,UAAAA,cAAA,SAAcvB,EAAcC,GAC1B,IAAM2c,EAAK,KAAKh/B,IAAI,MACdwjB,EAAS,KAAKxjB,IAAI,UAClByS,EAAO+Q,EAAOxjB,IAAI,MAAM2iC,wBACxB3C,EAAU5d,EAAO3P,EAAKwD,KACtBgqB,EAAU5d,EAAO5P,EAAKmwB,IACtBjpB,EAAUzW,SAASq6H,iBAAiBv9F,EAASC,GACnD,SAAItmB,IAAWA,EAAQ6jH,YAAYx+F,GAIrC,EAMArb,EAAAA,UAAAA,gBAAA,WACQ,MAAiC,KAAK9xB,MAApC+/C,EAAS,YAAEkpD,EAAe,kBAClC,OAAI,KAAKmzB,WACAr8E,EAAYkpD,EAEd,CACT,EACF,EAvOA,CAAwB/3D,IAyOxB,MC5OA,0E,OACEv6B,EAAAA,KAAe,SACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAwBvB,QA3BqBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKnBkjE,EAAAA,UAAAA,gBAAA,WACE,IAAMl6E,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACHlQ,EAAG,GAEP,EAEA2xE,EAAAA,UAAAA,WAAA,SAAWzsE,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GAEpB,MAATA,GAAyB,MAATA,EAClB4d,EAAG4iC,aAAa,IAAIxgD,EAAQ7uB,GACnB8oI,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EACF,EA3BA,CAAqBoxB,IA6BrB,MoB7BA,0E,OACEnb,EAAAA,KAAe,MACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAyBvB,QA5BkBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKhB40H,EAAAA,UAAAA,WAAA,SAAWn+H,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MAMpB,GALAjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GAC7Bi6G,GAAaj6G,IACf4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,IAC6B,oBAAlBV,EAAM,QAAwB,CACvC,IAAM8nB,EAAU9nB,EAAM,QAAQ6E,KAAK,KAAM7E,GACzC,GAAI8nB,aAAmB1b,SAAW0b,aAAmBzb,aAAc,CAEjE,IADA,IAAM8kB,EAAWgc,EAAGx4B,WACXtP,EAAI8rB,EAASruB,OAAS,EAAGuC,GAAK,EAAGA,IACxC8nC,EAAGv4B,YAAYuc,EAAS9rB,IAE1B8nC,EAAG+C,YAAYpoB,E,MAEfqlB,EAAG14B,UAAYqT,C,MAGjBqlB,EAAG14B,UAAYzU,EAAM,OAEzB,EACF,EA5BA,CAAkB8xB,IA8BlB,MnB9BA,0E,OACEnb,EAAAA,KAAe,UACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAyBvB,QA5BsBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKpB0tH,EAAAA,UAAAA,gBAAA,WACE,IAAM1kI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACHE,GAAI,EACJC,GAAI,GAER,EAEA8rH,EAAAA,UAAAA,WAAA,SAAWj3H,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GAEpB,MAATA,GAAyB,MAATA,EAClB4d,EAAG4iC,aAAa,IAAIxgD,EAAQ7uB,GACnB8oI,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EACF,EA5BA,CAAsBoxB,IA8BtB,MC9BA,0E,OACEnb,EAAAA,KAAe,QACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAkEvB,QArEoBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKlBmoH,EAAAA,UAAAA,gBAAA,WACE,IAAMn/H,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH9G,MAAO,EACP2D,OAAQ,GAEZ,EAEA6pH,EAAAA,UAAAA,WAAA,SAAW1xH,EAASqjB,GAApB,WACQ9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACpB,QAATA,EACF5Y,EAAKmuH,UAAU9kI,EAAMusE,KACZi9D,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EAEAy+H,EAAAA,UAAAA,QAAA,SAAQ3+H,EAAcE,GACpB,KAAKV,MAAMQ,GAAQE,EACN,QAATF,GACF,KAAKskI,UAAUpkI,EAEnB,EAEAy+H,EAAAA,UAAAA,UAAA,SAAU5yD,GACR,IAAMvsE,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpB,GAAIY,GAASw9D,GACXp/B,EAAG4iC,aAAa,OAAQxD,QACnB,GAAIA,aAAgB//D,OAAe2yH,MACnCn/H,EAAM2R,QACTw7B,EAAG4iC,aAAa,QAASxD,EAAI56D,OAC7B,KAAK4d,KAAK,QAASg9C,EAAI56D,QAEpB3R,EAAMsV,SACT63B,EAAG4iC,aAAa,SAAUxD,EAAIj3D,QAC9B,KAAKia,KAAK,SAAUg9C,EAAIj3D,SAE1B63B,EAAG4iC,aAAa,OAAQxD,EAAIh+D,UACvB,GAAIg+D,aAAegzB,aAAexwF,GAASw9D,EAAIq4D,WAA4C,WAA/Br4D,EAAIq4D,SAASp5H,cAE9E2hC,EAAG4iC,aAAa,OAAQxD,EAAIs/D,kBACvB,GAAIt/D,aAAeu/D,UAAW,CACnC,IAAMn6G,EAAStgB,SAASC,cAAc,UACtCqgB,EAAOo+C,aAAa,QAAS,GAAGxD,EAAI56D,OACpCggB,EAAOo+C,aAAa,SAAU,GAAGxD,EAAIj3D,QACrCqc,EAAOpgB,WAAW,MAAMw6H,aAAax/D,EAAK,EAAG,GACxCvsE,EAAM2R,QACTw7B,EAAG4iC,aAAa,QAAS,GAAGxD,EAAI56D,OAChC,KAAK4d,KAAK,QAASg9C,EAAI56D,QAEpB3R,EAAMsV,SACT63B,EAAG4iC,aAAa,SAAU,GAAGxD,EAAIj3D,QACjC,KAAKia,KAAK,SAAUg9C,EAAIj3D,SAE1B63B,EAAG4iC,aAAa,OAAQp+C,EAAOk6G,Y,CAEnC,EACF,EArEA,CAAoB/5G,IAuEpB,MEvEA,0E,OACEnb,EAAAA,KAAe,OACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAoDvB,QAvDmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKjBgiE,EAAAA,UAAAA,gBAAA,WACE,IAAMh5E,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACR+Y,GAAI,EACJG,GAAI,EACJD,GAAI,EACJG,GAAI,EACJgnH,YAAY,EACZF,UAAU,GAEd,EAEAlnD,EAAAA,UAAAA,WAAA,SAAWvrE,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACjC,GAAa,eAATA,GAAkC,aAATA,EAC3B,GAAI7uB,EAAO,CACT,IAAMwyB,EAAK3tB,EAAS7E,GAChB+M,EAAQu+H,SAAShsI,EAAOwpI,GAAaj6G,IACrC9hB,EAAQw+H,gBAAgBjsI,EAAOwpI,GAAaj6G,IAChD4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO,QAAQ2D,EAAE,I,MAE9Cia,EAAG44E,gBAAgByjB,GAAaj6G,SAEzBi6G,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EAMAs4E,EAAAA,UAAAA,eAAA,WACQ,MAAqB,KAAKzpD,OAAxBxW,EAAE,KAAEG,EAAE,KAAED,EAAE,KAAEG,EAAE,KACtB,OAAOisH,GAAAA,OAAgBtsH,EAAIG,EAAID,EAAIG,EACrC,EAOA4/D,EAAAA,UAAAA,SAAA,SAAS1zD,GACD,MAAqB,KAAKiK,OAAxBxW,EAAE,KAAEG,EAAE,KAAED,EAAE,KAAEG,EAAE,KACtB,OAAOisH,GAAAA,QAAiBtsH,EAAIG,EAAID,EAAIG,EAAIkM,EAC1C,EACF,EAvDA,CAAmBwM,IAyDnB,MiBlEM2zG,GAAU,CAEd1kF,OAAA,SAAOvoC,EAAWC,EAAWlQ,GAC3B,MAAO,CACL,CAAC,IAAKiQ,EAAGC,GACT,CAAC,KAAMlQ,EAAG,GACV,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAC5B,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,GAEjC,EAEA2iG,OAAA,SAAO1yF,EAAWC,EAAWlQ,GAC3B,MAAO,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAIlQ,GAAI,CAAC,KAC/F,EAEA6iG,QAAA,SAAQ5yF,EAAWC,EAAWlQ,GAC5B,MAAO,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GAAI,CAAC,IAAKD,EAAGC,EAAIlQ,GAAI,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,GAAI,CAAC,IAAKD,EAAGC,EAAIlQ,GAAI,CAAC,KAC/E,EAEA+iG,SAAA,SAAS9yF,EAAWC,EAAWlQ,GAC7B,IAAMyxH,EAAQzxH,EAAIxB,KAAKoS,IAAK,EAAI,EAAKpS,KAAK+D,IAC1C,MAAO,CAAC,CAAC,IAAK0N,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAGC,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,KAClF,EAEAkS,aAAA,SAAa1zH,EAAWC,EAAWlQ,GACjC,IAAMyxH,EAAQzxH,EAAIxB,KAAKoS,IAAK,EAAI,EAAKpS,KAAK+D,IAC1C,MAAO,CAAC,CAAC,IAAK0N,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAIjQ,EAAGkQ,EAAIuhH,GAAQ,CAAC,IAAKxhH,EAAGC,EAAIuhH,GAAQ,CAAC,KAClF,GAKF,IACE7rH,IAAA,SAAIvJ,GACF,OAAO6gI,GAAQ7gI,EACjB,EAEA6tC,SAAA,SAAS7tC,EAAcP,GACrBohI,GAAQ7gI,GAAQP,CAClB,EAEA6D,OAAA,SAAOtD,UACE6gI,GAAQ7gI,EACjB,EAEAunI,OAAM,WACJ,OAAO1G,EACT,G,YCtCF,0E,OACE9uH,EAAAA,KAAe,SACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAyCvB,QA5CqBK,EAAAA,EAAAA,IAAAA,EAAAA,GAQnB0uH,EAAAA,UAAAA,WAAA,SAAWj4H,GACT,IAAM0/B,EAAK,KAAKh/B,IAAI,MACpBg/B,EAAG4iC,aAAa,IAAK,KAAKq8D,kBAC5B,EAEA1G,EAAAA,UAAAA,gBAAA,WACE,IAAMptH,EAAI,KAAKwtH,WACf,OAAI7gI,EAAQqT,GACHA,EACJpJ,KAAI,SAACa,GACJ,OAAOA,EAAK0B,KAAK,IACnB,IACCA,KAAK,IAEH6G,CACT,EAEAotH,EAAAA,UAAAA,SAAA,WACE,IAKIn5H,EALEvM,EAAQ,KAAKuvB,OACX,EAASvvB,EAAK,EAAXyY,EAAMzY,EAAK,EAEhBuI,EAAIvI,EAAMuI,GAAKvI,EAAMo+D,OACrB8gB,EAASl/E,EAAMk/E,QAAU,SAQ/B,OALE3yE,EADE1G,EAAWq5E,GACJA,EAEAmtD,GAAAA,IAAmBntD,GAGzB3yE,EAIEA,EAAOiM,EAAGC,EAAGlQ,IAHlBu0D,GAAQC,KAAQxwD,EAAM,yBACf,KAGX,EArCcm5H,EAAAA,eAAiB2G,GAsCjC,C,CA5CA,CAAqBv6G,IA8CrB,Mb9CA,0E,OACEnb,EAAAA,KAAe,OACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CA2EvB,QA9EmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKjB8oH,EAAAA,UAAAA,gBAAA,WACE,IAAM9/H,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRogI,YAAY,EACZF,UAAU,GAEd,EAEAJ,EAAAA,UAAAA,WAAA,SAAWryH,EAASqjB,GAApB,WACQ9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACjC,GAAa,SAATA,GAAmBtqB,EAAQvE,GAC7BysC,EAAG4iC,aAAa,IAAKp5D,EAAK21H,YAAY5rI,SACjC,GAAa,eAAT6uB,GAAkC,aAATA,EAClC,GAAI7uB,EAAO,CACT,IAAMwyB,EAAK3tB,EAAS7E,GAChB+M,EAAQu+H,SAAShsI,EAAOwpI,GAAaj6G,IACrC9hB,EAAQw+H,gBAAgBjsI,EAAOwpI,GAAaj6G,IAChD4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO,QAAQ2D,EAAE,I,MAE9Cia,EAAG44E,gBAAgByjB,GAAaj6G,SAEzBi6G,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EAEAo/H,EAAAA,UAAAA,YAAA,SAAYp/H,GACV,IAAMqwF,EAAWrwF,EACdwO,KAAI,SAACa,GACJ,OAAOA,EAAK0B,KAAK,IACnB,IACCA,KAAK,IACR,OAAKs/E,EAAS5sF,QAAQ,OACb,GAEF4sF,CACT,EAQA+uC,EAAAA,UAAAA,eAAA,WACE,IAAM3yF,EAAK,KAAKh/B,IAAI,MACpB,OAAOg/B,EAAKA,EAAGw5F,iBAAmB,IACpC,EAOA7G,EAAAA,UAAAA,SAAA,SAASx6G,GACP,IAAM6nB,EAAK,KAAKh/B,IAAI,MACd4lC,EAAc,KAAK4yF,iBAEzB,GAAoB,IAAhB5yF,EACF,OAAO,KAET,IAAM7F,EAAQf,EAAKA,EAAGo/F,iBAAiBjnH,EAAQyuB,GAAe,KAC9D,OAAO7F,EACH,CACE11B,EAAG01B,EAAM11B,EACTC,EAAGy1B,EAAMz1B,GAEX,IACN,EACF,EA9EA,CAAmBqZ,IAgFnB,MEjFA,0E,OACEnb,EAAAA,KAAe,UACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAavB,QAhBsBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKpBywH,EAAAA,UAAAA,WAAA,SAAWh6H,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACpB,WAATA,GAAqBtqB,EAAQvE,IAAUA,EAAMoC,QAAU,EACzDqqC,EAAG4iC,aAAa,SAAUrvE,EAAMwO,KAAI,SAACg/B,GAAU,OAAGA,EAAM,GAAE,IAAIA,EAAM,EAArB,IAA2Bz8B,KAAK,MACtE+3H,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EACF,EAhBA,CAAsBoxB,IAkBtB,MCfA,0E,OACEnb,EAAAA,KAAe,WACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAiIvB,QApIuBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKrBw1H,EAAAA,UAAAA,gBAAA,WACE,IAAMxsI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRogI,YAAY,EACZF,UAAU,GAEd,EAGAsM,EAAAA,UAAAA,aAAA,SAAahsI,EAAcE,EAAYkwB,GACrC9Z,EAAAA,UAAM+Z,aAAY,UAACrwB,EAAME,EAAOkwB,IACE,IAA9B,CAAC,UAAUzsB,QAAQ3D,IACrB,KAAKmnI,aAET,EAEA6E,EAAAA,UAAAA,YAAA,WACE,KAAK/jI,IAAI,cAAe,MACxB,KAAKA,IAAI,SAAU,KACrB,EAEA+jI,EAAAA,UAAAA,WAAA,SAAW/+H,EAASqjB,GAClB,IAAM9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpBjJ,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACpB,WAATA,GAAqBtqB,EAAQvE,IAAUA,EAAMoC,QAAU,EACzDqqC,EAAG4iC,aAAa,SAAUrvE,EAAMwO,KAAI,SAACg/B,GAAU,OAAGA,EAAM,GAAE,IAAIA,EAAM,EAArB,IAA2Bz8B,KAAK,MACtE+3H,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,GACF,EAMA8rI,EAAAA,UAAAA,eAAA,WACU,MAAW,KAAKj9G,OAAM,OAExBwkB,EAAc,KAAK5lC,IAAI,eAC7B,OAAKrJ,EAAMivC,IAGX,KAAKtrC,IAAI,cAAem/H,GAAAA,OAAoBzjH,IACrC,KAAKhW,IAAI,gBAHP4lC,CAIX,EAOAy4F,EAAAA,UAAAA,SAAA,SAASlnH,GACC,IAQJyhH,EACAtkI,EATI,EAAW,KAAK8sB,OAAM,OAE1By3G,EAAS,KAAK74H,IAAI,UActB,OAbK64H,IACH,KAAKF,aACLE,EAAS,KAAK74H,IAAI,WAKpBjJ,EAAK8hI,GAAQ,SAAC5/H,EAAG/B,GACXigB,GAASle,EAAE,IAAMke,GAASle,EAAE,KAC9B2/H,GAAQzhH,EAAQle,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAClC3E,EAAQ4C,EAEZ,IACOggI,GAAAA,QAAiBlhH,EAAO1hB,GAAO,GAAI0hB,EAAO1hB,GAAO,GAAI0hB,EAAO1hB,EAAQ,GAAG,GAAI0hB,EAAO1hB,EAAQ,GAAG,GAAIskI,EAC1G,EAEAyF,EAAAA,UAAAA,WAAA,WACU,MAAW,KAAKj9G,OAAM,OAC9B,GAAKpL,GAA4B,IAAlBA,EAAOrhB,OAAtB,CAIA,IAAMixC,EAAc,KAAK4yF,iBACzB,KAAI5yF,GAAe,GAAnB,CAIA,IAEIozF,EACAC,EAHAE,EAAa,EACXN,EAAS,GAIf9hI,EAAKif,GAAQ,SAACtU,EAAGxK,GACX8e,EAAO9e,EAAI,KACb8hI,EAAW,GACXA,EAAS,GAAKG,EAAavzF,EAC3BqzF,EAAW/B,GAAAA,OAAgBx1H,EAAE,GAAIA,EAAE,GAAIsU,EAAO9e,EAAI,GAAG,GAAI8e,EAAO9e,EAAI,GAAG,IACvEiiI,GAAcF,EACdD,EAAS,GAAKG,EAAavzF,EAC3BizF,EAAOziI,KAAK4iI,GAEhB,IACA,KAAK1+H,IAAI,SAAUu+H,E,EACrB,EAMAwF,EAAAA,UAAAA,gBAAA,WACU,MAAW,KAAKj9G,OAAM,OACxBjrB,EAAS,GAGf,OAFAA,EAAOC,KAAK,CAAC4f,EAAO,GAAG,GAAIA,EAAO,GAAG,KACrC7f,EAAOC,KAAK,CAAC4f,EAAO,GAAG,GAAIA,EAAO,GAAG,KAC9B7f,CACT,EAMAkoI,EAAAA,UAAAA,cAAA,WACU,MAAW,KAAKj9G,OAAM,OACxB9lB,EAAI0a,EAAOrhB,OAAS,EACpBwB,EAAS,GAGf,OAFAA,EAAOC,KAAK,CAAC4f,EAAO1a,EAAI,GAAG,GAAI0a,EAAO1a,EAAI,GAAG,KAC7CnF,EAAOC,KAAK,CAAC4f,EAAO1a,GAAG,GAAI0a,EAAO1a,GAAG,KAC9BnF,CACT,EACF,EApIA,CAAuBwtB,IAsIvB,MW5IM,SAAU0tG,GAAYphE,GAC1B,IAAIr9C,EAAK,EACLC,EAAK,EACLy+G,EAAK,EACLC,EAAK,EAoBT,OAnBIz6H,EAAQm5D,GACY,IAAlBA,EAAOt7D,OACTie,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAAO,GACA,IAAlBA,EAAOt7D,QAChBie,EAAK0+G,EAAKrhE,EAAO,GACjBp9C,EAAK0+G,EAAKthE,EAAO,IACU,IAAlBA,EAAOt7D,QAChBie,EAAKq9C,EAAO,GACZp9C,EAAK0+G,EAAKthE,EAAO,GACjBqhE,EAAKrhE,EAAO,KAEZr9C,EAAKq9C,EAAO,GACZp9C,EAAKo9C,EAAO,GACZqhE,EAAKrhE,EAAO,GACZshE,EAAKthE,EAAO,IAGdr9C,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAEf,CACLr9C,GAAE,EACFC,GAAE,EACFy+G,GAAE,EACFC,GAAE,EAEN,CRzBA,8E,OACE/oH,EAAAA,KAAe,OACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CA2EvB,QA9EmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKjB+wH,EAAAA,UAAAA,gBAAA,WACE,IAAM/nI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH9G,MAAO,EACP2D,OAAQ,EACR8oD,OAAQ,GAEZ,EAEA2pE,EAAAA,UAAAA,WAAA,SAAWt6H,EAASqjB,GAApB,WACQ9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MAEhBs+H,GAAY,EAEVC,EAAmB,CAAC,IAAK,IAAK,QAAS,SAAU,UACvDxnI,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,IACO,IAApCm9G,EAAiBvoI,QAAQorB,IAAiBk9G,GAGC,IAApCC,EAAiBvoI,QAAQorB,IAAgBi6G,GAAaj6G,IAC/D4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,IAHpCysC,EAAG4iC,aAAa,IAAKp5D,EAAKg2H,cAAc3sI,IACxCysI,GAAY,EAIhB,GACF,EAEA1E,EAAAA,UAAAA,cAAA,SAAc/nI,GACZ,IAAMwY,EAAIxY,EAAMwY,EACVC,EAAIzY,EAAMyY,EACV7C,EAAI5V,EAAM2R,MACVkE,EAAI7V,EAAMsV,OACV8oD,EAASp+D,EAAMo+D,OAErB,IAAKA,EACH,MAAO,KAAK5lD,EAAC,IAAIC,EAAC,MAAM7C,EAAC,UAAUC,EAAC,MAAMD,EAAC,OAE7C,IAAMrN,EAAIi3H,GAAYphE,GAClBn5D,EAAQm5D,GACY,IAAlBA,EAAOt7D,OACTyF,EAAEwY,GAAKxY,EAAEyY,GAAKzY,EAAEk3H,GAAKl3H,EAAEm3H,GAAKthE,EAAO,GACR,IAAlBA,EAAOt7D,QAChByF,EAAEwY,GAAKxY,EAAEk3H,GAAKrhE,EAAO,GACrB71D,EAAEyY,GAAKzY,EAAEm3H,GAAKthE,EAAO,IACM,IAAlBA,EAAOt7D,QAChByF,EAAEwY,GAAKq9C,EAAO,GACd71D,EAAEyY,GAAKzY,EAAEm3H,GAAKthE,EAAO,GACrB71D,EAAEk3H,GAAKrhE,EAAO,KAEd71D,EAAEwY,GAAKq9C,EAAO,GACd71D,EAAEyY,GAAKo9C,EAAO,GACd71D,EAAEk3H,GAAKrhE,EAAO,GACd71D,EAAEm3H,GAAKthE,EAAO,IAGhB71D,EAAEwY,GAAKxY,EAAEyY,GAAKzY,EAAEk3H,GAAKl3H,EAAEm3H,GAAKthE,EAE9B,IAAM9lD,EAAI,CACR,CAAC,MAAKE,EAAIjQ,EAAEwY,IAAE,IAAItI,GAClB,CAAC,MAAK7C,EAAIrN,EAAEwY,GAAKxY,EAAEyY,IAAE,MACrB,CAAC,KAAKzY,EAAEyY,GAAE,IAAIzY,EAAEyY,GAAE,UAAUzY,EAAEyY,GAAE,IAAIzY,EAAEyY,IACtC,CAAC,QAAOnL,EAAItN,EAAEyY,GAAKzY,EAAEk3H,KACrB,CAAC,KAAKl3H,EAAEk3H,GAAE,IAAIl3H,EAAEk3H,GAAE,WAAWl3H,EAAEk3H,GAAE,IAAIl3H,EAAEk3H,IACvC,CAAC,MAAKl3H,EAAEk3H,GAAKl3H,EAAEm3H,GAAK9pH,GAAC,MACrB,CAAC,KAAKrN,EAAEm3H,GAAE,IAAIn3H,EAAEm3H,GAAE,WAAWn3H,EAAEm3H,GAAE,KAAKn3H,EAAEm3H,IACxC,CAAC,QAAOn3H,EAAEm3H,GAAKn3H,EAAEwY,GAAKlL,IACtB,CAAC,KAAKtN,EAAEwY,GAAE,IAAIxY,EAAEwY,GAAE,UAAUxY,EAAEwY,GAAE,KAAKxY,EAAEwY,IACvC,CAAC,MAEH,OAAOzI,EAAE7G,KAAK,IAChB,EACF,EA9EA,CAAmBqgB,IAgFnB,MC/EM86G,GAAiB,GAEjBC,GAAe,CACnB97F,IAAK,cACL+7F,OAAQ,UACRnsE,OAAQ,aACRosE,WAAY,WACZC,QAAS,WAILC,GAA2B,CAC/Bl8F,IAAK,mBACL+7F,OAAQ,UACRnsE,OAAQ,kBACRosE,WAAY,aACZC,QAAS,WAGLE,GAAa,CACjB9oH,KAAM,OACNzK,MAAO,OACPkjC,OAAQ,SACRx4B,MAAO,MACP/B,IAAK,OAGP,0E,OACE3L,EAAAA,KAAe,OACfA,EAAAA,SAAmB,EACnBA,EAAAA,WAAqB,E,CAkFvB,QArFmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKjBixH,EAAAA,UAAAA,gBAAA,WACE,IAAMjoI,EAAQ8W,EAAAA,UAAMgZ,gBAAe,WACnC,2BACK9vB,GAAK,CACRwY,EAAG,EACHC,EAAG,EACH1H,KAAM,KACNS,SAAU,GACVP,WAAY,aACZE,UAAW,SACXD,WAAY,SACZE,YAAa,SACb2oC,UAAW,QACXD,aAAc,UAElB,EAEAmuF,EAAAA,UAAAA,WAAA,SAAWx6H,EAASqjB,GAApB,WACQ9wB,EAAQ,KAAKuvB,OACb4d,EAAK,KAAKh/B,IAAI,MACpB,KAAKg/H,WACLjoI,EAAK4rB,GAAe9wB,GAAO,SAACU,EAAO6uB,GACpB,SAATA,EACF5Y,EAAKwxH,SAAS,GAAGznI,GACC,WAAT6uB,GAAqB7uB,EAC9BmqI,GAAal0H,GACJ6yH,GAAaj6G,IACtB4d,EAAG4iC,aAAay5D,GAAaj6G,GAAO7uB,EAExC,IACAysC,EAAG4iC,aAAa,cAAe,UAC/B5iC,EAAG4iC,aAAa,QAAS,8CAC3B,EAEAk4D,EAAAA,UAAAA,SAAA,WACE,IAAM96F,EAAK,KAAKh/B,IAAI,MACd,EAA8B,KAAKohB,OAAjCuqB,EAAY,eAAEC,EAAS,YAEzB/vB,EAAUV,KACZU,GAA4B,YAAjBA,EAAQxpB,KAErB2sC,EAAG4iC,aAAa,oBAAqBk9D,GAAyBnzF,IAAiB,cAE/E3M,EAAG4iC,aAAa,qBAAsB88D,GAAa/yF,IAAiB,YAGtE3M,EAAG4iC,aAAa,cAAem9D,GAAWnzF,IAAc,OAC1D,EAEAkuF,EAAAA,UAAAA,SAAA,SAASl3H,GACP,IAAMo8B,EAAK,KAAKh/B,IAAI,MACd,EAA2C,KAAKohB,OAA9C/W,EAAC,IAAEsa,EAAAA,EAAAA,aAAcs6G,OAAQ,MAAG,SAAQ,EAC5C,GAAKr8H,EAEE,IAAKA,EAAK5M,QAAQ,MAAO,CAC9B,IAAMs1C,EAAU1oC,EAAKzH,MAAM,MACrB+jI,EAAU5zF,EAAQ32C,OAAS,EAC7BwqI,EAAM,GACVpoI,EAAKu0C,GAAS,SAAC30B,EAASzf,GACZ,IAANA,EACe,eAAb+nI,EACFE,GAAO,aAAa90H,EAAC,UAAU60H,EAAO,OAAOvoH,EAAO,WAC9B,QAAbsoH,EACTE,GAAO,aAAa90H,EAAC,gBAAgBsM,EAAO,WACtB,WAAbsoH,EACTE,GAAO,aAAa90H,EAAC,WAAW60H,EAAU,GAAK,EAAC,OAAOvoH,EAAO,WACxC,WAAbsoH,EACTE,GAAO,aAAa90H,EAAC,WAAU60H,EAAUT,IAAc,OAAO9nH,EAAO,WAC/C,YAAbsoH,IACTE,GAAO,aAAa90H,EAAC,YAAW60H,EAAU,GAAKT,IAAc,OAAO9nH,EAAO,YAG7EwoH,GAAO,aAAa90H,EAAC,cAAcsM,EAAO,UAE9C,IACAqoB,EAAG14B,UAAY64H,C,MAEfngG,EAAG14B,UAAY1D,OAxBfo8B,EAAG14B,UAAY,EA0BnB,EACF,EArFA,CAAmBqd,IAuFnB,MQrHMm2B,GAAU,kCACVC,GAAU,gEACVC,GAAiB,6BAEvB,SAAS+1E,GAAQ72E,GACf,IAAMnjD,EAAMmjD,EAAMj8C,MAAM+8C,IACxB,IAAKjkD,EACH,MAAO,GAET,IAAIqpI,EAAQ,GAUZ,OATArpI,EAAIgtB,MAAK,SAAC3qB,EAAGgE,GAGX,OAFAhE,EAAIA,EAAE+C,MAAM,KACZiB,EAAIA,EAAEjB,MAAM,KACLc,OAAO7D,EAAE,IAAM6D,OAAOG,EAAE,GACjC,IACArF,EAAKhB,GAAK,SAAC1B,GACTA,EAAOA,EAAK8G,MAAM,KAClBikI,GAAS,iBAAiB/qI,EAAK,GAAE,iBAAiBA,EAAK,GAAE,WAC3D,IACO+qI,CACT,CAEA,SAASnP,GAAkB95F,EAAO6I,GAChC,IAGIxzB,EACA2I,EAJEpe,EAAM+jD,GAAQ99B,KAAKma,GACnB7pB,EAAQ/P,GAAIK,GAASf,WAAW9F,EAAI,KAAgB,EAAV6C,KAAK+D,IAC/Cu8C,EAAQnjD,EAAI,GAIduW,GAAS,GAAKA,EAAQ,GAAM1T,KAAK+D,IACnC6O,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,IAEI,GAAM1R,KAAK+D,IAAM2P,GAASA,EAAQ1T,KAAK+D,IAChD6O,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,IAEI1R,KAAK+D,IAAM2P,GAASA,EAAQ,IAAM1T,KAAK+D,IAChD6O,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,KAGLkB,EAAQ,CACNnB,EAAG,EACHC,EAAG,GAEL6J,EAAM,CACJ9J,EAAG,EACHC,EAAG,IAIP,IAAM6lH,EAAWv3H,KAAKmV,IAAIzB,GACpB8jH,EAAYD,EAAWA,EAEvB9lH,GAAK8J,EAAI9J,EAAImB,EAAMnB,EAAI8lH,GAAYh8G,EAAI7J,EAAIkB,EAAMlB,KAAO8lH,EAAY,GAAK5kH,EAAMnB,EAC/EC,EAAK6lH,GAAYh8G,EAAI9J,EAAImB,EAAMnB,EAAI8lH,GAAYh8G,EAAI7J,EAAIkB,EAAMlB,KAAQ8lH,EAAY,GAAK5kH,EAAMlB,EAClG00B,EAAG4iC,aAAa,KAAMp2D,EAAMnB,GAC5B20B,EAAG4iC,aAAa,KAAMp2D,EAAMlB,GAC5B00B,EAAG4iC,aAAa,KAAMv3D,GACtB20B,EAAG4iC,aAAa,KAAMt3D,GACtB00B,EAAG14B,UAAYypH,GAAQ72E,EACzB,CAEA,SAASo3E,GAAoBn6F,EAAO0uC,GAClC,IAAM9uE,EAAMgkD,GAAQ/9B,KAAKma,GACnBtpB,EAAKhR,WAAW9F,EAAI,IACpB+W,EAAKjR,WAAW9F,EAAI,IACpBqE,EAAIyB,WAAW9F,EAAI,IACnBmjD,EAAQnjD,EAAI,GAClB8uE,EAAKjD,aAAa,KAAM/0D,GACxBg4D,EAAKjD,aAAa,KAAM90D,GACxB+3D,EAAKjD,aAAa,IAAKxnE,GACvByqE,EAAKv+D,UAAYypH,GAAQ72E,EAC3B,CAEA,kBAOE,WAAYxwC,GAJZ,SAEI,GAGF,IAAIs2B,EAAK,KACHja,EAAKC,GAAS,aAYpB,MAX6B,MAAzBtc,EAAI3L,cAAc,IACpBiiC,EAAK08F,GAAiB,kBACtBzL,GAAkBvnH,EAAKs2B,KAEvBA,EAAK08F,GAAiB,kBACtBpL,GAAoB5nH,EAAKs2B,IAE3BA,EAAG4iC,aAAa,KAAM78C,GACtB,KAAKia,GAAKA,EACV,KAAKja,GAAKA,EACV,KAAKrc,IAAMA,EACJ,IACT,CAKF,OAHE22H,EAAAA,UAAAA,MAAA,SAAM5oI,EAAM2qB,GACV,OAAO,KAAK1Y,MAAQ0Y,CACtB,EACF,EA3BA,GA6BA,MCxHMk+G,GAAW,CACf97F,YAAa,QACb+7F,cAAe,UACf97F,WAAY,OACZC,cAAe,KACfC,cAAe,MAGX67F,GAAmB,CACvBn1H,EAAG,OACHC,EAAG,OACH9G,MAAO,OACP2D,OAAQ,QAGV,cAQE,WAAYuB,GAPZ,UAAe,SAGf,SAEI,GAGF,KAAKjS,KAAO,SACZ,IAAMuoC,EAAK08F,GAAiB,UAU5B,OARA3kI,EAAKyoI,IAAkB,SAACvmI,EAAG5B,GACzB2nC,EAAG4iC,aAAavqE,EAAG4B,EACrB,IACA,KAAK+lC,GAAKA,EACV,KAAKja,GAAKC,GAAS,WACnB,KAAKga,GAAGja,GAAK,KAAKA,GAClB,KAAKrc,IAAMA,EACX,KAAK+2H,aAAa/2H,EAAKs2B,GAChB,IACT,CAkCF,OAhCE0gG,EAAAA,UAAAA,MAAA,SAAMjpI,EAAMiS,GACV,GAAI,KAAKjS,OAASA,EAChB,OAAO,EAET,IAAIk3F,GAAO,EACLgyC,EAAS,KAAKj3H,IAOpB,OANA3R,EAAKS,OAAOD,KAAKooI,IAAS,SAACv+G,GACzB,GAAIu+G,EAAOv+G,KAAU1Y,EAAI0Y,GAEvB,OADAusE,GAAO,GACA,CAEX,IACOA,CACT,EAEA+xC,EAAAA,UAAAA,OAAA,SAAOrtI,EAAME,GACX,IAAMotI,EAAS,KAAKj3H,IAGpB,OAFAi3H,EAAOL,GAASjtI,IAASE,EACzB,KAAKktI,aAAaE,EAAQ,KAAK3gG,IACxB,IACT,EAEA0gG,EAAAA,UAAAA,aAAA,SAAaC,EAAQ3gG,GACnB,IAAMxX,EAAQ,6BACNm4G,EAAO1+F,IAAM,GAAC,iBACd0+F,EAAOz+F,IAAM,GAAC,2BACJy+F,EAAOnD,KAAOmD,EAAOnD,KAAO,GAAK,GAAC,0BACnCmD,EAAOxpG,MAAQwpG,EAAOxpG,MAAQ,QAAM,4BAClCwpG,EAAO39G,QAAU29G,EAAO39G,QAAU,GAAC,cAEtDgd,EAAG14B,UAAYkhB,CACjB,EACF,EAvDA,GAyDA,MCxEA,cASE,WAAY31B,EAAO4E,GAJnB,SAEI,GAGF,IAAMuoC,EAAK08F,GAAiB,UACtB32G,EAAKC,GAAS,WACpBga,EAAG4iC,aAAa,KAAM78C,GACtB,IAAMxL,EAAQmiH,GAAiB,QAC/BniH,EAAMqoD,aAAa,SAAU/vE,EAAM4gD,QAAU,QAC7Cl5B,EAAMqoD,aAAa,OAAQ/vE,EAAM45D,MAAQ,QACzCzsB,EAAG+C,YAAYxoB,GACfylB,EAAG4iC,aAAa,WAAY,WAC5B5iC,EAAG4iC,aAAa,SAAU,sBAC1B,KAAK5iC,GAAKA,EACV,KAAKxX,MAAQjO,EACb,KAAKwL,GAAKA,EACV,IAAMrc,EAAM7W,EAAe,iBAAT4E,EAA0B,aAAe,YAQ3D,OAPA,KAAKg8C,OAAS5gD,EAAM4gD,QAAU,QAClB,IAAR/pC,EACF,KAAKk3H,gBAAgBnpI,EAAM8iB,IAE3B,KAAK7Q,IAAMA,EACX,KAAKm3H,WAAWhuI,EAAM+/C,UAAWr4B,IAE5B,IACT,CAyCF,OAvCEumH,EAAAA,UAAAA,MAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,gBAAA,SAAgBrpI,EAAMuoC,GACpB,IAAMp3B,EAAS,KAAKo3B,GAEpBA,EAAG4iC,aAAa,IAAK,SAAS,GAAKhpE,KAAKiS,IAAIjS,KAAK+D,GAAK,GAAE,YACxDiL,EAAOg6D,aAAa,OAAQ,GAAG,GAAKhpE,KAAKiS,IAAIjS,KAAK+D,GAAK,IACvDiL,EAAOg6D,aAAa,OAAQ,IAC9B,EAEAk+D,EAAAA,UAAAA,WAAA,SAAW1lI,EAAG4kC,GACZ,IAAMp3B,EAAS,KAAKo3B,GAChBp9B,EAAO,KAAK8G,IAAI9G,KACduI,EAAI,KAAKzB,IAAIyB,EAEfrT,EAAQ8K,KACVA,EAAOA,EACJb,KAAI,SAAC4V,GACJ,OAAOA,EAAQrT,KAAK,IACtB,IACCA,KAAK,KAEV07B,EAAG4iC,aAAa,IAAKhgE,GACrBgG,EAAOm6B,YAAY/C,GACf70B,GACFvC,EAAOg6D,aAAa,OAAQ,GAAGz3D,EAAI/P,EAEvC,EAEA0lI,EAAAA,UAAAA,OAAA,SAAOr0E,GACL,IAAMjkC,EAAQ,KAAKA,MACfA,EAAMpG,KACRoG,EAAMpG,KAAK,OAAQqqC,GAEnBjkC,EAAMo6C,aAAa,OAAQnW,EAE/B,EACF,EAxEA,GA0EA,MC1EA,cAQE,WAAY/iD,GAPZ,UAAe,OAGf,SAEI,GAGF,IAAMs2B,EAAK08F,GAAiB,YAC5B,KAAK18F,GAAKA,EACV,KAAKja,GAAKC,GAAS,SACnBga,EAAGja,GAAK,KAAKA,GACb,IAAMg7G,EAAUr3H,EAAIA,IAAIs2B,GAGxB,OAFAA,EAAG+C,YAAYg+F,GACf,KAAKr3H,IAAMA,EACJ,IACT,CAUF,OAREs3H,EAAAA,UAAAA,MAAA,WACE,OAAO,CACT,EAEAA,EAAAA,UAAAA,OAAA,WACE,IAAMhhG,EAAK,KAAKA,GAChBA,EAAGn3B,WAAWpB,YAAYu4B,EAC5B,EACF,EA3BA,GA6BA,MC7BM8wF,GAAU,kCAEhB,cAOE,WAAYpnH,GAJZ,SAEI,GAGF,IAAMs2B,EAAK08F,GAAiB,WAC5B18F,EAAG4iC,aAAa,eAAgB,kBAChC,IAAMp6C,EAAQk0G,GAAiB,SAC/B18F,EAAG+C,YAAYva,GACf,IAAMzC,EAAKC,GAAS,YACpBga,EAAGja,GAAKA,EACR,KAAKia,GAAKA,EACV,KAAKja,GAAKA,EACV,KAAKrc,IAAMA,EACX,IAAM3S,EAAM+5H,GAAQ9zG,KAAKtT,GACnBsO,EAASjhB,EAAI,GACnByxB,EAAMo6C,aAAa,OAAQ5qD,GAC3B,IAAMonD,EAAM,IAAI4yD,MAKhB,SAASF,IACP9xF,EAAG4iC,aAAa,QAAS,GAAGxD,EAAI56D,OAChCw7B,EAAG4iC,aAAa,SAAU,GAAGxD,EAAIj3D,OACnC,CASA,OAhBK6P,EAAO/Z,MAAM,aAChBmhE,EAAI6yD,YAAc,aAEpB7yD,EAAIh+D,IAAM4W,EAKNonD,EAAI8yD,SACNJ,KAEA1yD,EAAI0yD,OAASA,EAEb1yD,EAAIh+D,IAAMg+D,EAAIh+D,KAGT,IACT,CAKF,OAHE6/H,EAAAA,UAAAA,MAAA,SAAMxpI,EAAM2qB,GACV,OAAO,KAAK1Y,MAAQ0Y,CACtB,EACF,EA3CA,GA6CA,MC1CA,cAOE,WAAYoC,GACV,IAAMwb,EAAK08F,GAAiB,QACtB32G,EAAKC,GAAS,SACpBga,EAAGja,GAAKA,EACRvB,EAAOue,YAAY/C,GACnB,KAAKhc,SAAW,GAChB,KAAKk9G,aAAe,GACpB,KAAKlhG,GAAKA,EACV,KAAKxb,OAASA,CAChB,CA8EF,OA5EE28G,EAAAA,UAAAA,KAAA,SAAK1pI,EAAM2qB,GAGT,IAFA,IAAM4B,EAAW,KAAKA,SAClB7sB,EAAS,KACJe,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IACnC,GAAI8rB,EAAS9rB,GAAG+F,MAAMxG,EAAM2qB,GAAO,CACjCjrB,EAAS6sB,EAAS9rB,GAAG6tB,GACrB,K,CAGJ,OAAO5uB,CACT,EAEAgqI,EAAAA,UAAAA,SAAA,SAASp7G,GAGP,IAFA,IAAM/B,EAAW,KAAKA,SAClB2qE,EAAO,KACFz2F,EAAI,EAAGA,EAAI8rB,EAASruB,OAAQuC,IACnC,GAAI8rB,EAAS9rB,GAAG6tB,KAAOA,EAAI,CACzB4oE,EAAO3qE,EAAS9rB,GAChB,K,CAGJ,OAAOy2F,CACT,EAEAwyC,EAAAA,UAAAA,IAAA,SAAI9rI,GACF,KAAK2uB,SAAS5sB,KAAK/B,GACnBA,EAAKmvB,OAAS,KAAKA,OACnBnvB,EAAKuT,OAAS,IAChB,EAEAu4H,EAAAA,UAAAA,gBAAA,SAAgBtuI,EAAOQ,GACrB,IAAMogD,EAAS5gD,EAAM4gD,QAAU5gD,EAAMiuE,YACrC,GAAI,KAAKogE,aAAaztF,GACpB,OAAO,KAAKytF,aAAaztF,GAAQ1tB,GAEnC,IAAM4vD,EAAQ,IAAImrD,GAAMjuI,EAAOQ,GAI/B,OAHA,KAAK6tI,aAAaztF,GAAUkiC,EAC5B,KAAK31C,GAAG+C,YAAY4yC,EAAM31C,IAC1B,KAAKpnB,IAAI+8D,GACFA,EAAM5vD,EACf,EAEAo7G,EAAAA,UAAAA,YAAA,SAAYz3H,GACV,IAAMwyC,EAAW,IAAImkF,GAAS32H,GAG9B,OAFA,KAAKs2B,GAAG+C,YAAYmZ,EAASlc,IAC7B,KAAKpnB,IAAIsjC,GACFA,EAASn2B,EAClB,EAEAo7G,EAAAA,UAAAA,SAAA,SAAStuI,EAAOQ,GACd,IAAMsiF,EAAQ,IAAImrD,GAAMjuI,EAAOQ,GAG/B,OAFA,KAAK2sC,GAAG+C,YAAY4yC,EAAM31C,IAC1B,KAAKpnB,IAAI+8D,GACFA,EAAM5vD,EACf,EAEAo7G,EAAAA,UAAAA,UAAA,SAAUz3H,GACR,IAAMy0H,EAAS,IAAIuC,GAAOh3H,GAG1B,OAFA,KAAKs2B,GAAG+C,YAAYo7F,EAAOn+F,IAC3B,KAAKpnB,IAAIulH,GACFA,EAAOp4G,EAChB,EAEAo7G,EAAAA,UAAAA,WAAA,SAAWz3H,GACT,IAAMmoH,EAAU,IAAIoP,GAAQv3H,GAG5B,OAFA,KAAKs2B,GAAG+C,YAAY8uF,EAAQ7xF,IAC5B,KAAKpnB,IAAIi5G,GACFA,EAAQ9rG,EACjB,EAEAo7G,EAAAA,UAAAA,QAAA,SAAQz3H,GACN,IAAM4Z,EAAO,IAAI09G,GAAKt3H,GAGtB,OAFA,KAAKs2B,GAAG+C,YAAYzf,EAAK0c,IACzB,KAAKpnB,IAAI0K,GACFA,EAAKyC,EACd,EACF,EA9FA,GAgGA,MXlGA,eACE,WAAYrc,G,OACVC,EAAAA,KAAAA,MAAAA,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,IAAAA,CAAAA,EACKD,GAAG,CACN01B,UAAU,EAEV44E,SAAU,UACV,IACJ,CA8EF,OAtFqBnuG,EAAAA,EAAAA,IAAAA,EAAAA,GAUnBg5B,EAAAA,UAAAA,aAAA,WACE,OAAOka,CACT,EAEAla,EAAAA,UAAAA,aAAA,WACE,OAAOuzF,EACT,EAGAvzF,EAAAA,UAAAA,SAAA,SAASx3B,EAAWC,EAAW2e,GAC7B,IAAIl1B,EAAkBk1B,EAAGl1B,QAAmBk1B,EAAGm3G,WAC/C,IAAKhF,GAAcrnI,EAAOssI,SAAU,CAClC,IAAIj/F,EAAkBrtC,EAAO8T,WAC7B,MAAOu5B,IAAWg6F,GAAch6F,EAAOi/F,SACrCj/F,EAAkBA,EAAOv5B,WAE3B9T,EAASqtC,C,CAEX,OAAO,KAAKnpC,MAAK,SAACuvB,GAAU,SAAMxnB,IAAI,QAAUjM,CAApB,GAC9B,EAGA8tC,EAAAA,UAAAA,UAAA,WACE,IAAMloB,EAAU+hH,GAAiB,OAC3Bp8H,EAAU,IAAI6gI,GAAKxmH,GAKzB,OAJAA,EAAQioD,aAAa,QAAS,GAAG,KAAK5hE,IAAI,UAC1C2Z,EAAQioD,aAAa,SAAU,GAAG,KAAK5hE,IAAI,WAE3C,KAAK1F,IAAI,UAAWgF,GACbqa,CACT,EAMAkoB,EAAAA,UAAAA,eAAA,SAAe5f,GACb,IAAM3iB,EAAU,KAAKU,IAAI,WACnBg/B,EAAK,KAAKh/B,IAAI,MACpB,GAAmB,SAAfiiB,EAAuB,CACzB,IAAM+6G,EAAW,KAAKh9H,IAAI,YACtBg9H,GAAYA,EAASroI,QACvBinI,GAAQ,MAAM,SAACxjI,EAAagE,GAC1B,OAAO4gI,EAAShnI,QAAQoC,GAAK4kI,EAAShnI,QAAQoG,GAAK,EAAI,CACzD,G,MAEG,GAAmB,UAAf6lB,GAET,GAAI+c,EAAI,CAENA,EAAG14B,UAAY,GACf,IAAMy2H,EAASz9H,EAAQ0/B,GAEvB+9F,EAAOz2H,UAAY,GAEnB04B,EAAG+C,YAAYg7F,E,MAEO,WAAf96G,EACTy6G,GAAa,MACW,SAAfz6G,EACToyC,GAAQ,KAAM/0D,GACU,eAAf2iB,IACT+c,EAAG4iC,aAAa,QAAS,GAAG,KAAK5hE,IAAI,UACrCg/B,EAAG4iC,aAAa,SAAU,GAAG,KAAK5hE,IAAI,WAE1C,EAGA6hC,EAAAA,UAAAA,KAAA,WACE,IAAMviC,EAAU,KAAKU,IAAI,WACnBgjB,EAAW,KAAKC,cACtBoxC,GAAQ,KAAM/0D,GACV0jB,EAASruB,QACXk+H,GAAavzH,EAAS0jB,EAE1B,EACF,EAtFA,CAAqBm4G,IAwFrB,M3Q3Fa9gH,GAAU,QuRavB,eAQE,WAAY3R,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KARIF,EAAAA,KAAe,OACfA,EAAAA,UAAoB,OAS1B,MAAiDE,EAAG,aAApD8kH,OAAY,IAAG,GAAK,EAAE7oG,EAA2Bjc,EAAG,gBAA9B+kH,OAAe,IAAG,GAAI,E,OACpDjlH,EAAKglH,aAAeA,EACpBhlH,EAAKilH,gBAAkBA,E,CACzB,CAwGF,OAtHkC5kH,EAAAA,EAAAA,IAAAA,EAAAA,GAsBtB8oH,EAAAA,UAAAA,eAAV,SAAyBxN,EAAoCzU,G,qBAAA,IAAAA,IAAAA,GAAAA,GAO3D,IALA,IAAM4wB,EAAU,IAAInmI,IACdkqH,EAAW,IAAIlqH,IACf5C,EAAiB,GAEnBjD,EAAQ,EACH4C,EAAI,EAAGA,EAAIitH,EAAiBxvH,OAAQuC,IAAK,CAChD,IAAM6yG,EAAcoa,EAAiBjtH,GAC/B3C,EAAM9C,KAAKglE,aAAaszC,GAC9BxyG,EAAKnB,KAAK7B,GACV+rI,EAAQhmI,IAAI/F,EAAKw1G,GACjBsa,EAAS/pH,IAAI/F,EAAKD,GAClBA,G,CAGF7C,KAAKuF,SAAW,IAAIH,MAAMvC,GAEpB,MAA8B+jB,GAAK5mB,KAAKowH,gBAAiBtqH,GAAvD0oH,EAAK,QAAEC,EAAO,UAAEC,EAAO,U,IAE/B,IAAkB,eAAAF,GAAK,8BAAE,CAAd1rH,EAAG,QACNw1G,EAAcu2B,EAAQtgI,IAAIzL,GAD7B,IAEGynH,EAAevqH,KAAKguH,kBACpBmE,EAAWnyH,KAAK8uI,aAAax2B,GAE7BpwF,GADAziB,EAAImtH,EAASrkH,IAAIzL,GACP,IAAI0J,GAAQ,CAC1B+9G,aAAY,EACZ31G,UAAW5U,KAAK4U,UAChB41G,eAAgBxqH,KAAK6qH,oBACrBJ,aAAchlH,KAEhByiB,EAAQ2iF,SAAW7qG,KACnBkoB,EAAQm7C,QAAUrjE,KAAKujE,cACvBr7C,EAAQ0kB,KAAKulF,EAAUlU,GACvBj+G,KAAK24G,YAAY71G,GAAOolB,EACxBloB,KAAKuF,SAASE,GAAKyiB,C,uGAGrB,IAAkB,eAAAumG,GAAO,8BAAE,CAAhB3rH,EAAG,QACNw1G,EAAcu2B,EAAQtgI,IAAIzL,GAC1BolB,EAAUloB,KAAKowH,gBAAgBttH,GAC/B2C,EAAImtH,EAASrkH,IAAIzL,GACjBqvH,EAAWnyH,KAAK8uI,aAAax2B,GAJhC,IAKGya,EAAc7qG,EAAQw2E,YACxB1+F,KAAK0+G,qBAAuByP,GAAc4E,EAAaZ,MACzDjqG,EAAQm7C,QAAUrjE,KAAKujE,cAEvBr7C,EAAQikB,OAAOgmF,IAEjBnyH,KAAK24G,YAAY71G,GAAOolB,EACxBloB,KAAKuF,SAASE,GAAKyiB,C,uGAGrB,IAAkB,eAAAwmG,GAAO,8BAAE,CAAhB5rH,EAAG,QACNolB,EAAUloB,KAAKowH,gBAAgBttH,GAErColB,EAAQm7C,QAAUrjE,KAAKujE,cACvBr7C,EAAQuJ,S,mGAEZ,EAMUyuG,EAAAA,UAAAA,iBAAV,SAA2B5nB,GAIzB,IAHA,IAAM/zF,EAAS,GACT1d,EAAO,GAEJpB,EAAI,EAAGC,EAAM4yG,EAAYp1G,OAAQuC,EAAIC,EAAKD,IAAK,CACtD,IAAMO,EAAMsyG,EAAY7yG,GACxB8e,EAAO5f,KAAK,CACViU,EAAG5S,EAAI4S,EACPC,EAAG7S,EAAI6S,IAEThS,EAAKlC,KAAKqB,EAAIuN,I,CAGhB,MAAO,CACLgR,OAAM,EACN1d,KAAI,EAER,EAEQq5H,EAAAA,UAAAA,aAAR,SAAqB5nB,GACnB,IAAM6Z,EAAWnyH,KAAKoyH,WAAW9Z,EAAY,IACvC,EAAmBt4G,KAAK+uI,iBAAiBz2B,GAAvC/zF,EAAM,SAAE1d,EAAI,OAQpB,OAPAsrH,EAAS7Z,YAAcA,EACvB6Z,EAAStrH,KAAOA,EAChBsrH,EAAS6K,UAAYh9H,KAAK4iD,UAAU,SACpCuvE,EAAS5tG,OAASA,EAClB4tG,EAAS4J,aAAe/7H,KAAK+7H,aAC7B5J,EAAS6J,gBAAkBh8H,KAAKg8H,gBAEzB7J,CACT,EACF,EAtHA,CAAkCpD,I,MCblC,SAASoO,GACP54G,EACAm3E,EACAjhD,EACAu0F,EACAr0F,GAEA,IAAIxqC,EAAO,GAEX,GAAIoU,EAAOrhB,OAAQ,CAGjB,IAFA,IAAM+rI,EAAgB,GAClBC,EAAmB,GACdzpI,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAAK,CACjD,IAAM6oC,EAAQ/pB,EAAO9e,GACrBwpI,EAActqI,KAAK2pC,EAAM,IACzB4gG,EAAiBvqI,KAAK2pC,EAAM,G,CAE9B4gG,EAAmBA,EAAiBtqH,UAEpCtf,EAAK,CAAC2pI,EAAeC,IAAmB,SAACC,EAAYtsI,GACnD,IAAIw5F,EAAU,GACR+yC,EAAeJ,EAAgBvhB,YAAY0hB,GAC3CrwH,EAAKswH,EAAa,GAEK,IAAzBH,EAAc/rI,QAA4C,IAA5BgsI,EAAiBhsI,OAEjDm5F,EACY,IAAVx5F,EACI,CACE,CAAC,IAAKic,EAAGlG,EAAI,GAAKkG,EAAGjG,GACrB,CAAC,IAAKiG,EAAGlG,EAAI,GAAKkG,EAAGjG,IAEvB,CACE,CAAC,IAAKiG,EAAGlG,EAAI,GAAKkG,EAAGjG,GACrB,CAAC,IAAKiG,EAAGlG,EAAI,GAAKkG,EAAGjG,KAGzB6iF,GACF0zC,EAAazqI,KAAK,CAAEiU,EAAGkG,EAAGlG,EAAGC,EAAGiG,EAAGjG,IAGnCwjF,EADE5hD,EACQ8hD,GAAc6yC,GAAc,EAAOz0F,GAEnC64B,GAAY47D,GAAc,GAElCvsI,EAAQ,IACVw5F,EAAQ,GAAG,GAAK,MAIpBlsF,EAAOA,EAAKpJ,OAAOs1F,EACrB,IAEAlsF,EAAKxL,KAAK,CAAC,K,CAGb,OAAOwL,CACT,CAYM,SAAU+8D,GACdj2D,EACAulH,EACA/hF,EACAu0F,EACAr0F,GAOA,IALA,IAAMv6C,EAAQmuE,GAASt3D,EAAKulH,GAAWA,EAAU,aACzCT,EAAsD9kH,EAAG,aAA3CykF,EAAwCzkF,EAAG,WAA/BsN,EAA4BtN,EAAG,OAAvB+kH,EAAoB/kH,EAAG,gBAC3Do4H,EAAavT,GAAcv3G,EAAQw3G,EAAcC,GAEnD7rH,EAAO,GACF1K,EAAI,EAAGC,EAAM2pI,EAAWnsI,OAAQuC,EAAIC,EAAKD,IAAK,CACrD,IAAM6pI,EAAaD,EAAW5pI,GAC9B0K,EAAOA,EAAKpJ,OAAOo2H,GAAQmS,EAAY5zC,EAAYjhD,EAAQu0F,EAAiBr0F,G,CAI9E,OAFAv6C,EAAM+P,KAAOA,EAEN/P,CACT,CAQM,SAAUmvI,GAAc57C,GACpB,IAAA55E,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IACjC,MAAO,CACL,CAAC55E,EAAMnB,EAAG8J,EAAI7J,GACd,CAAC6J,EAAI9J,EAAGmB,EAAMlB,GAElB,CCxGyB80G,GAAqB,OAAQ,CACpDhC,iBAAkB,OAClBwB,iBAAgB,SAACz/E,GAEP,IAAA90B,EAAU80B,EAAS,EAAhBxtB,EAAOwtB,EAAS,GACrB70B,EAAIxT,EAAQqoC,EAAU70B,GAAK60B,EAAU70B,EAAI,CAACqH,EAAIwtB,EAAU70B,GAE9D,OAAOA,EAAEvJ,KAAI,SAACkgI,GACZ,MAAO,CACL52H,EAAGA,EACHC,EAAG22H,EAEP,GACF,IAIF1hB,GAAc,OAAQ,OAAQ,CAC5BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQ8sE,GAAcj2D,GAAK,GAAO,EAAOjX,MACzC8nB,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,SAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,YAD6B,IAAAA,IAAAA,EAAAA,KACtB,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,KAC/F,EACA1D,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,EACNghE,YAAa,GAGnB,IAGF,IC5BA,eAcE,WAAYzuF,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAdIF,EAAAA,KAAe,OACfA,EAAAA,UAAoB,OAEpBA,EAAAA,gBAA0B,EAQ1BA,EAAAA,aAAuB,EAK7B,MAAkEE,EAAG,YAArEw4H,OAAW,IAAG,GAAI,EAAEv8G,EAA8Cjc,EAAG,SAAjD23G,OAAQ,IAAG,GAAK,EAAE3uH,EAA4BgX,EAAG,gBAA/B+kH,OAAe,IAAG,GAAK,E,OACrEjlH,EAAK04H,YAAcA,EACnB14H,EAAK63G,SAAWA,EAChB73G,EAAKilH,gBAAkBA,E,CACzB,CAiCF,OAtDkC5kH,EAAAA,EAAAA,IAAAA,EAAAA,GA2BtBs4H,EAAAA,UAAAA,iBAAV,SAA2Bp3B,GAIzB,IAHA,IAAM/zF,EAAS,GACT1d,EAAO,GAEJpB,EAAI,EAAGC,EAAM4yG,EAAYp1G,OAAQuC,EAAIC,EAAKD,IAAK,CACtD,IAAMO,EAAMsyG,EAAY7yG,GACxB8e,EAAO5f,KAAKqB,EAAIue,QAChB1d,EAAKlC,KAAKqB,EAAIuN,I,CAGhB,MAAO,CACLgR,OAAM,EACN1d,KAAI,EAER,EAMU6oI,EAAAA,UAAAA,aAAV,WACE,GAAI1vI,KAAKyvI,YACP,OAAOv4H,EAAAA,UAAMq5G,aAAY,WAE3B,IAAMxa,EAAS/1G,KAAKg2G,YACpB,OAAOD,EAAO1uG,GAChB,EACF,EAtDA,CAAkC64H,I,MCbTvS,GAAqB,OAAQ,CACpDhC,iBAAkB,OAClBwB,iBAAgB,SAACz/E,GACf,OAAOkvF,GAAYlvF,EACrB,IAGFogF,GAAc,OAAQ,OAAQ,CAC5BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,EAAO,aACnC9G,EAAOqjE,GAAYxzE,KAAKytH,YAAYx2G,EAAIsN,QAASvkB,KAAK2zF,WAAWoB,SACvE,OAAOngF,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACR,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAM0mB,EAAUh8C,OAGtB,IAGF,IC1BA,0E,OACkB3tB,EAAAA,KAAe,OACfA,EAAAA,UAAoB,OAC1BA,EAAAA,gBAA0B,E,CACtC,QAJkCK,EAAAA,EAAAA,IAAAA,EAAAA,GAIlC,EAJA,CAAkC23G,I,MCDlC,0E,OACkBh4G,EAAAA,KAAe,UAEvBA,EAAAA,aAAuC,CAAC,E,CAiNlD,QApNqCK,EAAAA,EAAAA,IAAAA,EAAAA,GAQzBu4H,EAAAA,UAAAA,eAAV,SAAyBjd,EAAoCzU,QAAA,IAAAA,IAAAA,GAAAA,GAC3D,IAAK,IAAIx4G,EAAI,EAAGA,EAAIitH,EAAiBxvH,OAAQuC,IAAK,CAChD,IAAM6yG,EAAcoa,EAAiBjtH,GAC/Bi/C,EAAQ1kD,KAAK4vI,aAAat3B,GAC1B95C,EAASx+D,KAAK6vI,cAEhBC,EAAOvhI,GAAIvO,KAAKuvH,YAAa,CAAC,MAAO,eACpCjlH,GAASwlI,KACZA,EAAOtxE,EAAS,GAGlBx+D,KAAK+vI,8BAA8BvxE,EAAQsxE,GAC3C9vI,KAAKgwI,cAAc13B,EAAa5zD,EAAO8Z,EAAQsxE,E,CAEnD,EAGOH,EAAAA,UAAAA,MAAP,SAAa9nF,EAAiC5wC,GAG5C,OAFAjX,KAAKkvH,iBAAiB,QAASrnE,EAAsB,oBAAR5wC,EAAqBA,EAAM,IAEjEjX,IACT,EAKO2vI,EAAAA,UAAAA,MAAP,WACEz4H,EAAAA,UAAM6gB,MAAK,WACX/3B,KAAKiwI,uBACLjwI,KAAKkwI,aAAe,CAAC,CACvB,EAEQP,EAAAA,UAAAA,aAAR,SAAqB9oI,GACnB,IAAMspI,EAAYnwI,KAAKy9D,aAAa,SAC9B2yE,EAAaD,EAAU55B,YAAY,GAErClvG,EAAMkvB,IACNnvB,GAAOmvB,IAeX,OAdA1vB,EAAK4I,SAAQ,SAAC9F,GACZ,IAAM7I,EAAQ6I,EAAI4J,IAAc68H,GAC5BtvI,EAAQsG,IACVA,EAAMtG,GAEJA,EAAQuG,IACVA,EAAMvG,EAEV,IAEIuG,IAAQD,IACVC,EAAMD,EAAM,GAGP,CAACC,EAAKD,EACf,EAEQuoI,EAAAA,UAAAA,YAAR,WACE,IAAInxE,EAASx+D,KAAK2zH,gBAAgB,QAKlC,OAJKrpH,GAASk0D,KACZA,EAASx+D,KAAKqwI,kBAGT7xE,CACT,EAEQmxE,EAAAA,UAAAA,8BAAR,SAAsCnxE,EAAgBusE,GACpD,IAAMuF,EAAyBtwI,KAAKuwI,4BAC9BnvH,EAAKo9C,EAASusE,EACdh7H,EAAMugI,EAAuB3+H,WAAW,MAC9C2+H,EAAuBv+H,MAAQu+H,EAAuB56H,OAAc,EAAL0L,EAC/DrR,EAAIm5H,UAAU,EAAG,EAAGoH,EAAuBv+H,MAAOu+H,EAAuB56H,QACzE3F,EAAIkiC,cAAgBliC,EAAImiC,cAAqB,EAAL9wB,EACxCrR,EAAIiiC,WAAa+4F,EACjBh7H,EAAIgiC,YAAc,QAElBhiC,EAAIoyH,YACJpyH,EAAIi8F,KAAK5qF,GAAKA,EAAIo9C,EAAQ,EAAa,EAAVr3D,KAAK+D,IAAQ,GAC1C6E,EAAI8yH,YACJ9yH,EAAIiqD,MACN,EAEQ21E,EAAAA,UAAAA,cAAR,SAAsB9oI,EAAsB69C,EAAiB8Z,EAAgBusE,G,QAErE,EAAiB/qI,KAAK2zF,WAApB55E,EAAK,QAAE2I,EAAG,MACZ3Q,EAAQ/R,KAAK2zF,WAAWhlB,WACxBj5D,EAAS1V,KAAK2zF,WAAWnlB,YAGzB2hE,EAAYnwI,KAAKy9D,aAAa,SAC9B+yE,EAAaL,EAAU55B,YAAY,GAGzCv2G,KAAKiwI,uBACL,IAAMlgI,EAAM/P,KAAKywI,qBAEb/rF,IACF79C,EAAOA,EAAKrC,QAAO,SAACmF,GAClB,OAAOA,EAAI4J,IAAci9H,IAAe9rF,EAAM,IAAM/6C,EAAI4J,IAAci9H,IAAe9rF,EAAM,EAC7F,KAIF,IAAM53B,EAAQ9sB,KAAKunD,OAAOipF,G,IAC1B,IAAkB,eAAA3pI,GAAI,8BAAE,CAAnB,IAAMb,EAAG,QACN,EAAWhG,KAAKoyH,WAAWpsH,GAAzB4S,EAAC,IAAEC,EAAC,IACN2J,EAAQsK,EAAMA,MAAM9mB,EAAIuN,IAAci9H,IAC5CxwI,KAAK0wI,2BAA4B93H,EAAemB,EAAMnB,EAAIC,EAAe6J,EAAI7J,EAAG2lD,EAASusE,EAAMvoH,EAAOzS,E,mGAIxG,IAAM4gI,EAAU5gI,EAAI6gI,aAAa,EAAG,EAAG7+H,EAAO2D,GAC9C1V,KAAKiwI,uBACLjwI,KAAK6wI,SAASF,GACd5gI,EAAIo8H,aAAawE,EAAS,EAAG,GAC7B,IAAMG,EAAa9wI,KAAK+wI,gBACxBD,EAAWnhH,KAAK,IAAK5V,EAAMnB,GAC3Bk4H,EAAWnhH,KAAK,IAAKjN,EAAI7J,GACzBi4H,EAAWnhH,KAAK,QAAS5d,GACzB++H,EAAWnhH,KAAK,SAAUja,GAC1Bo7H,EAAWnhH,KAAK,MAAO5f,EAAIgiB,QAC3B++G,EAAWjoI,IAAI,SAAU7I,KAAK8uI,aAAajoI,GAC7C,EAEQ8oI,EAAAA,UAAAA,eAAR,WACE,IAAM5qF,EAAW/kD,KAAKy9D,aAAa,YAC7Bk2B,EAAa3zF,KAAK2zF,WACxB,OAAOxsF,KAAKE,IACVssF,EAAWhlB,YAAgD,EAAlC5pB,EAASwC,OAAO,GAAGsD,MAAM3nD,QAClDywF,EAAWnlB,aAAiD,EAAlCzpB,EAASwC,OAAO,GAAGsD,MAAM3nD,QAEvD,EAEQysI,EAAAA,UAAAA,qBAAR,WACE,IAAM5/H,EAAM/P,KAAKywI,qBACjB1gI,EAAIm5H,UAAU,EAAG,EAAGn5H,EAAIgiB,OAAOhgB,MAAOhC,EAAIgiB,OAAOrc,OACnD,EAEQi6H,EAAAA,UAAAA,mBAAR,WACE,IAAI59G,EAAS/xB,KAAKgxI,aAOlB,OANKj/G,IACHA,EAAStgB,SAASC,cAAc,UAChC1R,KAAKgxI,aAAej/G,GAEtBA,EAAOhgB,MAAQ/R,KAAK2zF,WAAWhlB,WAC/B58C,EAAOrc,OAAS1V,KAAK2zF,WAAWnlB,YACzBz8C,EAAOpgB,WAAW,KAC3B,EAEQg+H,EAAAA,UAAAA,0BAAR,WAKE,OAJK3vI,KAAKswI,yBACRtwI,KAAKswI,uBAAyB7+H,SAASC,cAAc,WAGhD1R,KAAKswI,sBACd,EAEQX,EAAAA,UAAAA,2BAAR,SAAmC/2H,EAAWC,EAAWlQ,EAAW6Z,EAAezS,GACjF,IAAMugI,EAAyBtwI,KAAKuwI,4BACpCxgI,EAAIoxH,YAAc3+G,EAClBzS,EAAIw1H,UAAU+K,EAAwB13H,EAAIjQ,EAAGkQ,EAAIlQ,EACnD,EAEQgnI,EAAAA,UAAAA,SAAR,SAAiBhjE,GAIf,IAHA,IAAMwjE,EAAYnwI,KAAKy9D,aAAa,SAC9BwzE,EAAStkE,EAAI9lE,KACbqpI,EAAelwI,KAAKkwI,aACjBzqI,EAAI,EAAGA,EAAIwrI,EAAO/tI,OAAQuC,GAAK,EAAG,CACzC,IAAM+c,EAAQyuH,EAAOxrI,GACrB,GAAI6E,GAASkY,GAAQ,CACnB,IAAM0uH,EAAUhB,EAAa1tH,GAAS0tH,EAAa1tH,GAAS2uH,GAAAA,QAAkBhB,EAAU1mF,SAASjnC,EAAQ,MACzGyuH,EAAOxrI,EAAI,GAAKyrI,EAAQ,GACxBD,EAAOxrI,EAAI,GAAKyrI,EAAQ,GACxBD,EAAOxrI,EAAI,GAAKyrI,EAAQ,GACxBD,EAAOxrI,GAAK+c,C,EAGlB,EAEQmtH,EAAAA,UAAAA,cAAR,WACE,IAAImB,EAAa9wI,KAAK8wI,WACtB,GAAIA,EACF,OAAOA,EAET,IAAMl8H,EAAY5U,KAAK4U,UAMvB,OALAk8H,EAAal8H,EAAU0xD,SAAS,CAC9BthE,KAAM,QACN5E,MAAO,CAAC,IAEVJ,KAAK8wI,WAAaA,EACXA,CACT,EAEQnB,EAAAA,UAAAA,aAAR,SAAqBr3B,GACnB,IAAM6Z,EAAWnyH,KAAKoyH,WAAW9Z,EAAY,IAEvCzxG,EAAOyxG,EAAYhpG,KAAI,SAACtJ,GAC5B,OAAOA,EAAIuN,GACb,IAEA,OAAO,oBACF4+G,GAAQ,CACX7Z,YAAW,EACXzxG,KAAI,GAER,EACF,EApNA,CAAqCkoH,I,MCG/B,SAAUqiB,GAAc1jG,G,QAOxB2jG,EACAC,EAQAC,EACAC,EAhBI54H,EAAmB80B,EAAS,EAAzB70B,EAAgB60B,EAAS,EAAtBxtB,EAAawtB,EAAS,GAAlB1+B,EAAS0+B,EAAS,KAQhCroC,EAAQwT,IACVsR,GAAAA,EAAAA,EAAAA,IAAetR,EAAC,GAAfw4H,EAAI,KAAEC,EAAI,OAEXD,EAAOnxH,EACPoxH,EAAOz4H,GAKLxT,EAAQuT,IACVsa,GAAAA,EAAAA,EAAAA,IAAeta,EAAC,GAAf24H,EAAI,KAAEC,EAAI,OAEXD,EAAO34H,EAAI5J,EAAO,EAClBwiI,EAAO54H,EAAI5J,EAAO,GAGpB,IAAMuV,EAAS,CACb,CAAE3L,EAAG24H,EAAM14H,EAAGw4H,GACd,CAAEz4H,EAAG24H,EAAM14H,EAAGy4H,IAShB,OAFA/sH,EAAO5f,KAAK,CAAEiU,EAAG44H,EAAM34H,EAAGy4H,GAAQ,CAAE14H,EAAG44H,EAAM34H,EAAGw4H,IAEzC9sH,CACT,CASM,SAAUktH,GAAYltH,EAAiBmtH,QAAA,IAAAA,IAAAA,GAAAA,GAC3C,IAAMvhI,EAAO,GACPitE,EAAa74D,EAAO,GAC1BpU,EAAKxL,KAAK,CAAC,IAAKy4E,EAAWxkE,EAAGwkE,EAAWvkE,IACzC,IAAK,IAAIpT,EAAI,EAAGC,EAAM6e,EAAOrhB,OAAQuC,EAAIC,EAAKD,IAC5C0K,EAAKxL,KAAK,CAAC,IAAK4f,EAAO9e,GAAGmT,EAAG2L,EAAO9e,GAAGoT,IAOzC,OAJI64H,IACFvhI,EAAKxL,KAAK,CAAC,IAAKy4E,EAAWxkE,EAAGwkE,EAAWvkE,IACzC1I,EAAKxL,KAAK,CAAC,OAENwL,CACT,CAMM,SAAUyvH,GAAYphE,EAA2BmzE,GACrD,IAAIxwH,EAAK,EACLC,EAAK,EACLy+G,EAAK,EACLC,EAAK,EAgCT,OA/BIz6H,EAAQm5D,GACY,IAAlBA,EAAOt7D,OACTie,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAAO,GACA,IAAlBA,EAAOt7D,QAChBie,EAAK0+G,EAAKrhE,EAAO,GACjBp9C,EAAK0+G,EAAKthE,EAAO,IACU,IAAlBA,EAAOt7D,QAChBie,EAAKq9C,EAAO,GACZp9C,EAAK0+G,EAAKthE,EAAO,GACjBqhE,EAAKrhE,EAAO,KAEZr9C,EAAKq9C,EAAO,GACZp9C,EAAKo9C,EAAO,GACZqhE,EAAKrhE,EAAO,GACZshE,EAAKthE,EAAO,IAGdr9C,EAAKC,EAAKy+G,EAAKC,EAAKthE,EAIlBr9C,EAAKC,EAAKuwH,IACZxwH,EAAKA,EAAKwwH,GAAa,EAAIvwH,EAAKD,GAAM,EACtCC,EAAKuwH,EAAYxwH,GAGf0+G,EAAKC,EAAK6R,IACZ9R,EAAKA,EAAK8R,GAAa,EAAI7R,EAAKD,GAAM,EACtCC,EAAK6R,EAAY9R,GAGZ,CAAC1+G,GAAM,EAAGC,GAAM,EAAGy+G,GAAM,EAAGC,GAAM,EAC3C,CASM,SAAU8R,GAAsB36H,EAAgBsN,EAAiBovE,GACrE,IAAIxjF,EAAO,GACX,GAAIwjF,EAAWwD,OAAQ,CACrB,IAAM5iD,EAAKo/C,EAAW91B,aAClB,CAAEjlD,EAAG+6E,EAAW55E,MAAMnB,EAAGC,EAAG0L,EAAO,GAAG1L,GACtC,CAAED,EAAG2L,EAAO,GAAG3L,EAAGC,EAAG86E,EAAW55E,MAAMlB,GACpCiG,EAAK60E,EAAW91B,aAClB,CAAEjlD,EAAG+6E,EAAWjxE,IAAI9J,EAAGC,EAAG0L,EAAO,GAAG1L,GACpC,CAAED,EAAG2L,EAAO,GAAG3L,EAAGC,EAAG86E,EAAWjxE,IAAI7J,GAGlC2lD,EAASjwD,GAAI0I,EAAK,CAAC,aAAc,QAAS,WAChD,GAAIunD,EAAQ,CACV,IAAMzsD,EAAQ4hF,EAAW91B,aAAe12D,KAAK0D,IAAI0Z,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,GAAK0L,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,EAChGlD,EAASi+E,EAAW91B,aAAe81B,EAAWhlB,WAAaglB,EAAWnlB,YACtE,WAAmBoxD,GAAYphE,EAAQr3D,KAAKE,IAAI0K,EAAO2D,IAAQ,GAA9DyL,EAAE,KAAEC,EAAE,KAAEy+G,EAAE,KAAEC,EAAE,KAGf+R,EAAwBl+C,EAAW91B,cAAgB81B,EAAW11B,UAAU,KACxE6zE,EAAOD,EAAuB,EAAI,EAClCE,EAAW,SAACppI,GAAc,UAAwBA,EAAIA,CAA5B,EAEhCwH,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAGkG,EAAGjG,EAAIk5H,EAAS5wH,KAC/B,IAAPA,GAAYhR,EAAKxL,KAAK,CAAC,IAAKwc,EAAIA,EAAI,EAAG,EAAG2wH,EAAMv9F,EAAG37B,EAAIuI,EAAIrC,EAAGjG,IAC9D1I,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAIwI,EAAItC,EAAGjG,IACvB,IAAPuI,GAAYjR,EAAKxL,KAAK,CAAC,IAAKyc,EAAIA,EAAI,EAAG,EAAG0wH,EAAMhzH,EAAGlG,EAAGkG,EAAGjG,EAAIk5H,EAAS3wH,KACtEjR,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAG27B,EAAG17B,EAAIk5H,EAASlS,KAC/B,IAAPA,GAAY1vH,EAAKxL,KAAK,CAAC,IAAKk7H,EAAIA,EAAI,EAAG,EAAGiS,EAAMhzH,EAAGlG,EAAIinH,EAAItrF,EAAG17B,IAC9D1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAIknH,EAAIvrF,EAAG17B,IACvB,IAAPinH,GAAY3vH,EAAKxL,KAAK,CAAC,IAAKm7H,EAAIA,EAAI,EAAG,EAAGgS,EAAMv9F,EAAG37B,EAAG27B,EAAG17B,EAAIk5H,EAASjS,I,MAEtE3vH,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAG27B,EAAG17B,IACzB1I,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAG27B,EAAG17B,IACzB1I,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAGkG,EAAGjG,IACzB1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAGkG,EAAGjG,IACzB1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAG27B,EAAG17B,IAG3B1I,EAAKxL,KAAK,CAAC,K,CAGb,GAAIgvF,EAAWoB,QAAS,CACtB,IAAM93C,EAAS02C,EAAWl0B,YACpB,EAA2BjoB,GAASvgC,EAAK08E,GAAvCz8C,EAAU,aAAEC,EAAQ,WAC5B,GAAwB,UAApBw8C,EAAW3uF,MAAqB2uF,EAAW91B,aAGxC,CACL,IAAMx7C,EAAM,SAAC7a,GAAM,OAAAL,KAAKkb,IAAI7a,EAAG,EAAZ,EACb2Z,EAAKha,KAAKuU,KAAK2G,EAAI46B,EAAOrkC,EAAI2L,EAAO,GAAG3L,GAAKyJ,EAAI46B,EAAOpkC,EAAI0L,EAAO,GAAG1L,IACtEuI,EAAKja,KAAKuU,KAAK2G,EAAI46B,EAAOrkC,EAAI2L,EAAO,GAAG3L,GAAKyJ,EAAI46B,EAAOpkC,EAAI0L,EAAO,GAAG1L,IAE5E1I,EAAO8iF,GAAch2C,EAAOrkC,EAAGqkC,EAAOpkC,EAAGsI,EAAIwyE,EAAWz8C,WAAYy8C,EAAWx8C,SAAU/1B,E,MANzFjR,EAAO8iF,GAAch2C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG86E,EAAWqB,YAAa99C,EAAYC,E,CASjF,OAAOhnC,CACT,CAUM,SAAU6hI,GAAoBztH,EAAiB+rE,EAAwB2hD,GAC3E,IAAMlgI,EAAQkgI,EAAKtjE,WACbj5D,EAASu8H,EAAKzjE,YACd2oB,EAAuB,SAAd86C,EAAKjtI,KAChBmL,EAAO,GACLxH,GAAK4b,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GAAK,EAClCI,EAAKi5H,EAAKp0E,aAAgBl1D,EAAI+M,EAAU3D,EAASpJ,EAAIoJ,EAAS2D,EAmBpE,MAlBgB,UAAZ46E,GACE6G,GACFhnF,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAIG,IAC3C7I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAIG,IAC3C7I,EAAKxL,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAG,EAAG,EAAG4b,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAIG,IAC1D7I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAIG,IAC3C7I,EAAKxL,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAG,EAAG,EAAG4b,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAIG,MAE1D7I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAG,EAAG,EAAG4b,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACtD1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAKgE,EAAGA,EAAG,EAAG,EAAG,EAAG4b,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,KAExD1I,EAAKxL,KAAK,CAAC,OAEXwL,EAAOshI,GAAYltH,GAEdpU,CACT,CAUM,SAAU+hI,GAAc3tH,EAAiBkuG,EAAqB0f,GAClE,IAAMhiI,EAAO,GA4Bb,OA3BKjL,EAAMutH,GAQA0f,EAEThiI,EAAKxL,KACH,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,KAAM0L,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GAAK,GAAI2L,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,GAAK,GACrE,CAAC,MAIH1I,EAAKxL,KACH,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,MAtBH1I,EAAKxL,KACH,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK45G,EAAW,GAAG75G,EAAG65G,EAAW,GAAG55G,GACrC,CAAC,IAAK45G,EAAW,GAAG75G,EAAG65G,EAAW,GAAG55G,GACrC,CAAC,MAqBE1I,CACT,CAKA,SAASiiI,GAAQ79F,EAAOz1B,GACtB,MAAO,CAACA,EAAIy1B,EACd,CAMM,SAAU89F,GAAwB9tH,EAAiBovE,EAAwBn1B,G,kBAE3E,gCAAuBj6C,IAAM,MAA5BgwB,EAAE,KAAEz1B,EAAE,KAAE9B,EAAE,KAAE+B,EAAE,KACf,WAAqC,kBAAXy/C,EAAsBp5D,MAAM,GAAG40D,KAAKwE,GAAUA,EAAM,GAA7Er9C,EAAE,KAAEC,EAAE,KAAEy+G,EAAE,KAAEC,EAAE,KAEfnsC,EAAW91B,eACb1zC,GAAAA,EAAAA,EAAAA,IAAWioH,GAAKtzH,EAAIC,GAAG,GAAtBD,EAAE,KAAEC,EAAE,MAML40E,EAAW11B,UAAU,OACvB/qC,GAAAA,EAAAA,EAAAA,IAAWk/G,GAAK79F,EAAIz1B,GAAG,GAAtBy1B,EAAE,KAAEz1B,EAAE,KACP7e,GAAAA,EAAAA,EAAAA,IAAWmyI,GAAKp1H,EAAI+B,GAAG,GAAtB/B,EAAE,KAAE+B,EAAE,MAEL40E,EAAW11B,UAAU,OACvBngB,GAAAA,EAAAA,EAAAA,IAAWs0F,GAAK79F,EAAIx1B,GAAG,GAAtBw1B,EAAE,KAAEx1B,EAAE,KACPg/B,GAAAA,EAAAA,EAAAA,IAAWq0F,GAAKtzH,EAAI9B,GAAG,GAAtB8B,EAAE,KAAE9B,EAAE,MAGT,IAAM7M,EAAO,GAcPtF,EAAM,SAAArD,GAAK,OAAAL,KAAK0D,IAAIrD,EAAT,EA0CjB,OAzCAw2C,GAAAA,EAAAA,EAAAA,IAAmB4hF,GAAY,CAACz+G,EAAIC,EAAIy+G,EAAIC,GAAK34H,KAAKE,IAAIwD,EAAIkU,EAAGnG,EAAI27B,EAAG37B,GAAI/N,EAAIiU,EAAGjG,EAAI07B,EAAG17B,KAAKvJ,KAAI,SAAAoJ,GAAK,OAAA7N,EAAI6N,EAAJ,IAAO,GAA9GyI,EAAE,KAAEC,EAAE,KAAEy+G,EAAE,KAAEC,EAAE,KAEXnsC,EAAW91B,eACb5f,GAAAA,EAAAA,EAAAA,IAAmB,CAAC6hF,EAAI3+G,EAAIC,EAAIy+G,GAAG,GAAlC1+G,EAAE,KAAEC,EAAE,KAAEy+G,EAAE,KAAEC,EAAE,MAGbvrF,EAAG17B,EAAIiG,EAAGjG,GACZ1I,EAAKxL,KAAK,CAAC,IAAKoa,EAAGnG,EAAGmG,EAAGlG,EAAIgnH,IACtB,IAAPA,GAAY1vH,EAAKxL,KAAK,CAAC,IAAKk7H,EAAIA,EAAI,EAAG,EAAG,EAAG9gH,EAAGnG,EAAIinH,EAAI9gH,EAAGlG,IAC3D1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAIknH,EAAIvrF,EAAG17B,IACvB,IAAPinH,GAAY3vH,EAAKxL,KAAK,CAAC,IAAKm7H,EAAIA,EAAI,EAAG,EAAG,EAAGvrF,EAAG37B,EAAG27B,EAAG17B,EAAIinH,IAC1D3vH,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAGkG,EAAGjG,EAAIsI,IACtB,IAAPA,GAAYhR,EAAKxL,KAAK,CAAC,IAAKwc,EAAIA,EAAI,EAAG,EAAG,EAAarC,EAAGlG,EAAIuI,EAAIrC,EAAGjG,IACrE1I,EAAKxL,KAAK,CAAC,IAAKqY,EAAGpE,EAAIwI,EAAIpE,EAAGnE,IACvB,IAAPuI,GAAYjR,EAAKxL,KAAK,CAAC,IAAKyc,EAAIA,EAAI,EAAG,EAAG,EAAGpE,EAAGpE,EAAGoE,EAAGnE,EAAIuI,IAC1DjR,EAAKxL,KAAK,CAAC,IAAKoa,EAAGnG,EAAGmG,EAAGlG,EAAIgnH,IAC7B1vH,EAAKxL,KAAK,CAAC,OACFoa,EAAGnG,EAAI27B,EAAG37B,GACnBzI,EAAKxL,KAAK,CAAC,IAAKqY,EAAGpE,EAAIwI,EAAIpE,EAAGnE,IACvB,IAAPuI,GAAYjR,EAAKxL,KAAK,CAAC,IAAKyc,EAAIA,EAAI,EAAG,EAAG,EAAGpE,EAAGpE,EAAGoE,EAAGnE,EAAIuI,IAC1DjR,EAAKxL,KAAK,CAAC,IAAKoa,EAAGnG,EAAGmG,EAAGlG,EAAIgnH,IACtB,IAAPA,GAAY1vH,EAAKxL,KAAK,CAAC,IAAKk7H,EAAIA,EAAI,EAAG,EAAG,EAAG9gH,EAAGnG,EAAIinH,EAAI9gH,EAAGlG,IAC3D1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAIknH,EAAIvrF,EAAG17B,IACvB,IAAPinH,GAAY3vH,EAAKxL,KAAK,CAAC,IAAKm7H,EAAIA,EAAI,EAAG,EAAG,EAAGvrF,EAAG37B,EAAG27B,EAAG17B,EAAIinH,IAC1D3vH,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAGkG,EAAGjG,EAAIsI,IACtB,IAAPA,GAAYhR,EAAKxL,KAAK,CAAC,IAAKwc,EAAIA,EAAI,EAAG,EAAG,EAAGrC,EAAGlG,EAAIuI,EAAIrC,EAAGjG,IAC3D1I,EAAKxL,KAAK,CAAC,IAAKqY,EAAGpE,EAAIwI,EAAIpE,EAAGnE,IAC9B1I,EAAKxL,KAAK,CAAC,QAEXwL,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAGkG,EAAGjG,EAAIsI,IACtB,IAAPA,GAAYhR,EAAKxL,KAAK,CAAC,IAAKwc,EAAIA,EAAI,EAAG,EAAG,EAAGrC,EAAGlG,EAAIuI,EAAIrC,EAAGjG,IAC3D1I,EAAKxL,KAAK,CAAC,IAAKqY,EAAGpE,EAAIwI,EAAIpE,EAAGnE,IACvB,IAAPuI,GAAYjR,EAAKxL,KAAK,CAAC,IAAKyc,EAAIA,EAAI,EAAG,EAAG,EAAGpE,EAAGpE,EAAGoE,EAAGnE,EAAIuI,IAC1DjR,EAAKxL,KAAK,CAAC,IAAKoa,EAAGnG,EAAGmG,EAAGlG,EAAIgnH,IACtB,IAAPA,GAAY1vH,EAAKxL,KAAK,CAAC,IAAKk7H,EAAIA,EAAI,EAAG,EAAG,EAAG9gH,EAAGnG,EAAIinH,EAAI9gH,EAAGlG,IAC3D1I,EAAKxL,KAAK,CAAC,IAAK4vC,EAAG37B,EAAIknH,EAAIvrF,EAAG17B,IACvB,IAAPinH,GAAY3vH,EAAKxL,KAAK,CAAC,IAAKm7H,EAAIA,EAAI,EAAG,EAAG,EAAGvrF,EAAG37B,EAAG27B,EAAG17B,EAAIinH,IAC1D3vH,EAAKxL,KAAK,CAAC,IAAKma,EAAGlG,EAAGkG,EAAGjG,EAAIsI,IAC7BhR,EAAKxL,KAAK,CAAC,OAGNwL,CACT,CClV6Bw9G,GAAqB,WAAY,CAC5DhC,iBAAkB,OAClBwB,iBAAgB,SAACz/E,GACf,OAAO0jG,GAAc1jG,EACvB,IAIFogF,GAAc,WAAY,OAAQ,CAChClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAoBIzE,EApBEgF,EAAQo5D,GAASt3D,GAAK,GAAO,GAC/BkgB,EAAQviB,EAEN09H,EAAmB,OAAHr7H,QAAG,IAAHA,OAAG,EAAHA,EAAKszD,WAC3B,GAAI+nE,EAAe,CACjBn7G,EAAQviB,EAAUmxD,SAAS,CACzBnlE,KAAM,mBAER,IAAM8pE,EAAkBiyD,GAAuB1lH,GACzCs7H,EAAiBX,GAAsB36H,EAAKjX,KAAKytH,YAAYx2G,EAAIsN,QAAoBvkB,KAAK2zF,YAChGx8D,EAAMmvC,SAAS,OAAQ,CACrBlmE,OAAO,oBACFsqE,GAAe,CAClBv6D,KAAMoiI,IAERliH,QAAS,EACTzvB,KAAM0pH,I,CAMRn6G,EADEgF,EAAMqpD,QAAUx+D,KAAK2zF,WAAWwD,OAC3Bk7C,GAAwBryI,KAAKytH,YAAYx2G,EAAIsN,QAASvkB,KAAK2zF,WAAYx+E,EAAMqpD,QAE7Ex+D,KAAKs6C,UAAU03F,GAAoB/6H,EAAIsN,OAAmBpP,EAAMm7E,QAAStwF,KAAK2zF,aAGvF,IAAM7rE,EAAQqP,EAAMmvC,SAAS,OAAQ,CACnClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,IAENvP,KAAM,aAGR,OAAO0xI,EAAgBn7G,EAAQrP,CACjC,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAqBg8C,EAAS,MAAvB66C,EAAc76C,EAAS,UACtC,OAAI66C,EACK,CACLj8C,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAMt1B,IAKL,CACL46C,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,ICvEF,SAAS8tG,GAAgBluI,EAAKwoB,GAC5B,IAAMhI,EAAQxgB,EAAIpB,OACduvI,EAAYnuI,EACZ6K,GAASsjI,EAAU,MAErBA,EAAYnuI,EAAIgL,KAAI,SAAC9H,GACnB,OAAOslB,EAAMyI,UAAU/tB,EACzB,KAGF,IADA,IAAIulB,EAAW0lH,EAAU,GAAKA,EAAU,GAC/BhtI,EAAI,EAAGA,EAAIqf,EAAOrf,IAAK,CAC9B,IAAMiC,EAAM+qI,EAAUhtI,GAAKgtI,EAAUhtI,EAAI,GACrCsnB,EAAWrlB,IACbqlB,EAAWrlB,E,CAGf,OAAOqlB,CACT,CAEA,SAAS2lH,GAAcnwF,EAAWe,GAChC,GAAIA,EAAS,CACX,IAAMa,EAAYr9C,EAAQy7C,GACpB19C,EAASyxF,GAAYnyC,EAAWb,GACtC,OAAOz+C,EAAO3B,M,CAGhB,OAAOq/C,EAAUr/C,MACnB,CAGM,SAAUmtI,GAAexlC,GAC7B,IAAMp4B,EAAQo4B,EAASp4B,MACjBkhB,EAAakX,EAASlX,WACtBiiB,EAAS/K,EAASgL,YAClB88B,EAAU/8B,EAAO/wG,OACjB09C,EAAYsoD,EAASolB,kBACvBnrG,EAAgB6tH,EAAQzvI,OACtBugD,EAAmBqxC,GAAoB+V,EAASlX,YAE9CpwC,EAAkCsnD,EAAQ,gBAAzBrnD,EAAiBqnD,EAAQ,aAE5CjnD,EAAiBinD,EAASjnD,gBAAkB6uB,EAAM7uB,eAClDC,EAAiBgnD,EAAShnD,gBAAkB4uB,EAAM5uB,eAClDC,EAAmB+mD,EAAS/mD,kBAAoB2uB,EAAM3uB,iBACtDsmD,EAAwBS,EAAST,uBAAyB33B,EAAM23B,sBAChED,EAAiBU,EAASV,gBAAkB13B,EAAM03B,eAGxD,GAAIyL,EAAOztD,UAAYwqF,EAAQzvI,OAAS,EAAG,CAEzCyvI,EAAQrhH,OACR,IAAM+G,EAAWm6G,GAAgBG,EAAS/8B,GAC1C9wF,GAAS8wF,EAAOxuG,IAAMwuG,EAAOvuG,KAAOgxB,EAChCs6G,EAAQzvI,OAAS4hB,IACnBA,EAAQ6tH,EAAQzvI,O,CAIpB,IAAMwhD,EAAQkxD,EAAOlxD,MACjBkuF,EAAiB,EAAI9tH,EACrB+tH,EAAK,EAkBT,GAjBIl/C,EAAWoB,QAIX89C,EAFEl/C,EAAW91B,cAAgB/4C,EAAQ,EAEhCslF,EAEAD,GAIHyL,EAAOztD,WACTyqF,GAAkBluF,EAAM,GAAKA,EAAM,IAErCmuF,EAAK/uF,IAIF5+C,EAAMq+C,IAAoBA,GAAmB,EAAG,CAEnD,IAAM+B,EAA4B/B,EAAkBE,EACpDmvF,GAAkB,GAAK9tH,EAAQ,GAAKwgC,GAA6BxgC,C,MAGjE8tH,GAAkBC,EAGpB,GAAIhoC,EAASjoD,UAAU,SAAU,CAC/B,IAAMyuE,EAAcxmB,EAASjoD,UAAU,SACjCU,EAAU+tE,EAAY/tE,QACtBwvF,EAAaJ,GAAcnwF,EAAWe,GAC5C,IAAKp+C,EAAMs+C,IAAiBA,GAAgB,EAAG,CAE7C,IAAM+B,EAAyB/B,EAAeC,EAC9CmvF,GAAkBA,EAAiBrtF,GAA0ButF,EAAa,IAAMA,C,MACtE5tI,EAAMq+C,IAAoBA,GAAmB,GAEvDqvF,GAAkBC,EAClBD,GAAkCE,GAGlCF,GAAkCE,EAEpCF,EAAiBA,GAAkB,EAAIA,EAAiB,C,CAI1D,IAAK1tI,EAAM0+C,IAAmBA,GAAkB,EAAG,CACjD,IAAMmvF,EAA2BnvF,EAAiBH,EAC9CmvF,EAAiBG,IACnBH,EAAiBG,E,CAKrB,IAAK7tI,EAAM2+C,IAAmBA,GAAkB,EAAG,CACjD,IAAMmvF,EAA2BnvF,EAAiBJ,EAC9CmvF,EAAiBI,IACnBJ,EAAiBI,E,CAIrB,OAAOJ,CACT,CC3GA,mBAOE,WAAY37H,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAPIF,EAAAA,KAAe,WACfA,EAAAA,UAAoB,WAG1BA,EAAAA,gBAA0B,EAK1B,IAAAwzD,EAAetzD,EAAG,W,OAC1BF,EAAKwzD,WAAaA,E,CACpB,CA4EF,OAxFsCnzD,EAAAA,EAAAA,IAAAA,EAAAA,GAmB1B67H,EAAAA,UAAAA,qBAAV,SAA+BjtI,GAC7B,IAGIgJ,EAHEiI,EAAMC,EAAAA,UAAMq9G,qBAAoB,UAACvuH,GAIjC0tH,EAAW1zH,KAAKy9D,aAAa,QACnC,GAAIi2D,EAAU,CACZ1kH,EAAOhP,KAAKw0H,mBAAmBd,EAAU1tH,GAAK,GAE9C,IAAM2tF,EAAa3zF,KAAK2zF,WAClBu/C,EAAkBp+C,GAAoBnB,GAC5C3kF,GAAckkI,C,MAETlzI,KAAK2jD,cACR3jD,KAAK2jD,YAAc0sF,GAAerwI,OAEpCgP,EAAOhP,KAAK2jD,YAId,OAFA1sC,EAAIjI,KAAOA,EAEJiI,CACT,EAMUg8H,EAAAA,UAAAA,YAAV,WACE/7H,EAAAA,UAAM64G,YAAW,WACjB,IAAMha,EAAS/1G,KAAKg2G,YAEpB,GAA6B,UAAzBh2G,KAAK2zF,WAAW3uF,KAClB+wG,EAAOrf,OAAO,CACZhiC,MAAM,EACNrtD,IAAK,EAELD,IAAK2vF,GAAYgf,SAEd,CAEL,IAAMkB,EAAYj3G,KAAKi3G,UACfpvD,EAA0BkuD,EAAM,MAAzB1uG,EAAmB0uG,EAAM,IAApB3uG,EAAc2uG,EAAM,IAAf/wG,EAAS+wG,EAAM,KAC3B,SAAT/wG,IAGEqC,EAAM,IAAMkH,GAAI0oG,EAAW,CAACpvD,EAAO,SACrCkuD,EAAOrf,OAAO,CACZrvF,IAAK,IAILD,GAAO,IAAMmH,GAAI0oG,EAAW,CAACpvD,EAAO,SACtCkuD,EAAOrf,OAAO,CACZtvF,IAAK,I,CAKf,EAKU6rI,EAAAA,UAAAA,WAAV,SAAqB36B,GACnB,IAAM6Z,EAAWj7G,EAAAA,UAAMk7G,WAAU,UAAC9Z,GAGlC,OAFA6Z,EAAS5nD,WAAavqE,KAAKuqE,WAEpB4nD,CACT,EACF,EAxFA,CAAsCpD,I,MCZtC,eAGE,WAAY93G,GAAZ,MACEC,EAAAA,KAAAA,KAAMD,IAAI,KAHLF,EAAAA,KAAe,OAKZ,MAAqBE,EAAG,SAAxB23G,OAAQ,IAAG,GAAK,E,OACxB73G,EAAK63G,SAAWA,E,CAClB,CACF,OATkCx3G,EAAAA,EAAAA,IAAAA,EAAAA,GASlC,EATA,CAAkC8oH,I,MCHrBiT,GAAS,CAAC,SAAU,SAAU,SAAU,UAAW,UAAW,WAAY,iBAC1EC,GAAgB,CAAC,QAAS,OAAQ,OAAQ,SAAU,QAY3D,SAAUC,GACdvrH,EACA7Q,EACArC,EACAo8G,EACAwL,G,QAEMrnH,EAAQo5D,GAASt3D,EAAKulH,GAAWA,EAAU,KAC3Cj4G,EAASuD,EAAM2lG,YAAYx2G,EAAIsN,QACjC+uH,EAAgB/uH,EAAO,GAC3B,GAAItN,EAAI+lH,QACNsW,EAAgB/uH,EAAO,QAClB,GAAIA,EAAOrhB,OAAS,EAAG,CAC5B,IAAMi0B,EAAQviB,EAAUmxD,W,IACxB,IAAoB,eAAAxhD,GAAM,8BAAE,CAAvB,IAAM+pB,EAAK,QACdnX,EAAMmvC,SAAS,CACbthE,KAAM,SACN5E,OAAO,6BACF+U,GAAK,CACRmqE,OAAQ46C,GAAclJ,IAAcA,IACjC1iF,I,mGAIT,OAAOnX,C,CAGT,OAAOviB,EAAU0xD,SAAS,CACxBthE,KAAM,SACN5E,OAAO,6BACF+U,GAAK,CACRmqE,OAAQ46C,GAAclJ,IAAcA,IACjCsiB,IAGT,CC5C0B3lB,GAAqB,QAAS,CACtDhC,iBAAkB,gBAClBwB,iBAAgB,SAACz/E,GACf,OAAOkvF,GAAYlvF,EACrB,IAGFpoC,EAAK6tI,IAAQ,SAACniB,GAEZlD,GAAc,QAAS,iBAAUkD,GAAa,CAC5CpkF,KAAI,SAAC31B,EAAgBrC,GACnB,OAAOy+H,GAAWrzI,KAAMiX,EAAKrC,EAAWo8G,GAAW,EACrD,EACA1D,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ46C,GAAclJ,IAAcA,EACpC77G,MAAO,CACLxM,EAAG,IACHq4C,OAAQtc,EACRs1B,KAAM,MAGZ,GAEJ,IAEA,IC3BA,0E,OACkBjjD,EAAAA,KAAe,QACfA,EAAAA,UAAoB,QAC1BA,EAAAA,gBAA0B,E,CAetC,QAlBmCK,EAAAA,EAAAA,IAAAA,EAAAA,GAUvBm8H,EAAAA,UAAAA,WAAV,SAAqBrhB,GACnB,IAAMC,EAAWj7G,EAAAA,UAAMk7G,WAAU,UAACF,GAElC,OAAO,oBACFC,GAAQ,CACX6K,UAAWh9H,KAAK4iD,UAAU,UAE9B,EACF,EAlBA,CAAmCmsE,I,MCFnC,SAASoO,GAAQ54G,GACf,IAAI23E,EAAY33E,EAAO,GACnB9e,EAAI,EAEF0K,EAAO,CAAC,CAAC,IAAK+rF,EAAKtjF,EAAGsjF,EAAKrjF,IAEjC,MAAOpT,EAAI8e,EAAOrhB,OAAQ,CACxB,IAAM8U,EAASuM,EAAO9e,GAClBuS,EAAEY,IAAM2L,EAAO9e,EAAI,GAAGmT,GAAKZ,EAAEa,IAAM0L,EAAO9e,EAAI,GAAGoT,IACnD1I,EAAKxL,KAAK,CAAC,IAAKqT,EAAEY,EAAGZ,EAAEa,IACnBb,EAAEY,IAAMsjF,EAAKtjF,GAAKZ,EAAEa,IAAMqjF,EAAKrjF,GAAKpT,EAAI8e,EAAOrhB,OAAS,IAC1Dg5F,EAAO33E,EAAO9e,EAAI,GAClB0K,EAAKxL,KAAK,CAAC,MACXwL,EAAKxL,KAAK,CAAC,IAAKu3F,EAAKtjF,EAAGsjF,EAAKrjF,IAC7BpT,MAGJA,G,CASF,OANKwJ,GAAQ/G,GAAKiI,GAAO+rF,IACvB/rF,EAAKxL,KAAK,CAAC,IAAKu3F,EAAKtjF,EAAGsjF,EAAKrjF,IAG/B1I,EAAKxL,KAAK,CAAC,MAEJwL,CACT,CAE4Bw9G,GAAqB,UAAW,CAC1DhC,iBAAkB,UAClBwB,iBAAgB,SAACz/E,GACf,IAAMnpB,EAAS,GAQf,OAPAjf,EAAKooC,EAAU90B,GAAe,SAAC46H,EAAM3wI,GACnC,IAAM2lI,EAAO96F,EAAU70B,EAAEhW,GACzB0hB,EAAO5f,KAAK,CACViU,EAAG46H,EACH36H,EAAG2vH,GAEP,IACOjkH,CACT,IAGFupG,GAAc,UAAW,UAAW,CAClClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAK7F,GAAQkI,EAAIsN,QAAS,CACxB,IAAM04G,EAAa1uD,GAASt3D,GAAK,GAAM,GACjC9G,EAAOnQ,KAAKs6C,UAAU6iF,GAAQlmH,EAAIsN,SACxC,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF68H,GAAU,CACb9sH,KAAI,IAENvP,KAAM,W,CAGZ,EACA0sH,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,IAGF,ICnEA,0E,OACkB3tB,EAAAA,KAAe,UACfA,EAAAA,UAAoB,UAC1BA,EAAAA,gBAA0B,E,CAyCtC,QA5CqCK,EAAAA,EAAAA,IAAAA,EAAAA,GAUzBywH,EAAAA,UAAAA,qBAAV,SAA+B7hI,GAC7B,IAGIqf,EAHEpO,EAAWC,EAAAA,UAAMq9G,qBAAoB,UAACvuH,GACxC4S,EAAI3B,EAAI2B,EACRC,EAAI5B,EAAI4B,EAGZ,IAAMxT,EAAQuT,KAAMvT,EAAQwT,GAAK,CAC/B,IAAM+8F,EAAS51G,KAAK61G,YACdE,EAAS/1G,KAAKg2G,YACdy9B,EAAS79B,EAAO/wG,OAAO3B,OACvBwwI,EAAS39B,EAAOlxG,OAAO3B,OACvBywI,EAAW,GAAWF,EACtBG,EAAW,GAAWF,EAExB99B,EAAO3tD,YAAc8tD,EAAO9tD,YAE9BrvC,EAAI,CAACA,EAAI+6H,EAAS/6H,EAAI+6H,EAAS/6H,EAAI+6H,EAAS/6H,EAAI+6H,GAChD96H,EAAI,CAACA,EAAI+6H,EAAS/6H,EAAI+6H,EAAS/6H,EAAI+6H,EAAS/6H,EAAI+6H,IACvCvuI,EAAQuT,IAEjByM,EAAOzM,EACPA,EAAI,CAACyM,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACrCxM,EAAI,CAACA,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,IAC7DvuI,EAAQwT,KAEjBwM,EAAOxM,EACPA,EAAI,CAACwM,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACrCzM,EAAI,CAACA,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,EAAG/6H,EAAI+6H,EAAU,IAExE18H,EAAI2B,EAAIA,EACR3B,EAAI4B,EAAIA,C,CAEV,OAAO5B,CACT,EACF,EA5CA,CAAqC83G,I,MCArC,ICR2BpB,GAAqB,SAAU,CACxDhC,iBAAkB,KDOpB,uE,OACkB50G,EAAAA,KAAe,SACfA,EAAAA,UAAoB,SAC1BA,EAAAA,gBAA0B,E,CA6BtC,QAhCoCK,EAAAA,EAAAA,IAAAA,EAAAA,GAUxBy8H,EAAAA,UAAAA,qBAAV,SAA+BpxF,GAC7B,IAGIzzC,EAHEiI,EAAMC,EAAAA,UAAMq9G,qBAAoB,UAAC9xE,GAIjCixE,EAAW1zH,KAAKy9D,aAAa,QACnC,GAAIi2D,EAAU,CACZ1kH,EAAOhP,KAAKw0H,mBAAmBd,EAAUjxE,GAAQ,GAEjD,IAAMkxC,EAAa3zF,KAAK2zF,WAClBu/C,EAAkBp+C,GAAoBnB,GAC5C3kF,GAAckkI,C,MAETlzI,KAAK2jD,cACR3jD,KAAK2jD,YAAc0sF,GAAerwI,OAEpCgP,EAAOhP,KAAK2jD,YAId,OAFA1sC,EAAIjI,KAAOA,EAEJiI,CACT,EACF,EAhCA,CAAoC83G,K,MEHpC,SAAS+kB,GAAcxvI,GACrB,IAAKe,EAAQf,GACX,MAAO,GAET,IAAMsgF,EAAWx9E,EAAI9C,GACrB,OAAOgL,GAAIhL,GAAK,SAACyvI,GAAQ,OAAAA,EAAMnvD,CAAN,GAC3B,CAE2B+oC,GAAqB,SAAU,CACxDhC,iBAAkB,SAClBwB,iBAAgB,SAACz/E,GACf,IAAM8wB,EAAS9wB,EAAU1+B,KAAO,EAC1BuV,EAAS,GACTyvH,EAAUF,GAAcpmG,EAAUumG,OAmBxC,OAjBA3uI,EAAKooC,EAAU70B,GAAe,SAACA,EAAGhW,GAChC,IAAMoiD,EAAS+uF,EAAQnxI,GAAS27D,EAC1B01E,EAAkB,IAAVrxI,EACRsxI,EAAQtxI,IAAW6qC,EAAU70B,EAAe3V,OAAS,EAC3DqhB,EAAO5f,KAAK,CACVuvI,MAAK,EACLC,MAAK,EACLv7H,EAAI80B,EAAU90B,EAAeqsC,EAC7BpsC,EAAC,IAEH0L,EAAOuB,QAAQ,CACbouH,MAAK,EACLC,MAAK,EACLv7H,EAAI80B,EAAU90B,EAAeqsC,EAC7BpsC,EAAC,GAEL,IACO0L,CACT,IAGFupG,GAAc,SAAU,SAAU,CAChClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMqoH,EAAa1uD,GAASt3D,GAAK,GAAM,GACjC9G,EAAOnQ,KAAKs6C,UAAU4hF,GAAcjlH,EAAIsN,SAC9C,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF68H,GAAU,CACb9sH,KAAI,IAENvP,KAAM,UAEV,EACA0sH,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAE3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,IAGF,ICvDA,0E,OACkB3tB,EAAAA,KAAe,SACfA,EAAAA,UAAoB,SAC1BA,EAAAA,gBAA0B,E,CA+CtC,QAlDoCK,EAAAA,EAAAA,IAAAA,EAAAA,GAYxBg9H,EAAAA,UAAAA,qBAAV,SAA+B3xF,GAC7B,IAGIzzC,EAHEiI,EAAMC,EAAAA,UAAMq9G,qBAAoB,UAAC9xE,GAIjCixE,EAAW1zH,KAAKy9D,aAAa,QACnC,GAAIi2D,EAAU,CACZ1kH,EAAOhP,KAAKw0H,mBAAmBd,EAAUjxE,GAAQ,GAEjD,IAAMkxC,EAAa3zF,KAAK2zF,WAClBu/C,EAAkBp+C,GAAoBnB,GAC5C3kF,GAAckkI,C,MAETlzI,KAAK2jD,cACR3jD,KAAK2jD,YAAc0sF,GAAerwI,OAEpCgP,EAAOhP,KAAK2jD,YAId,OAFA1sC,EAAIjI,KAAOA,EACXiI,EAAIg9H,MAAQ1lI,GAAIk0C,EAAOlvC,IAAe,CAACvT,KAAKq0I,aACrCp9H,CACT,EAKUm9H,EAAAA,UAAAA,eAAV,WACU,IAAAnlB,EAAoBjvH,KAAI,gBAC1Bs0I,EAAYrlB,EAAgBjgH,KAC9BigH,EAAgBjgH,KAAKo1D,OAAO,GAC5BpkE,KAAKq0I,WACLr0I,KAAKq0I,WACL,OACJr0I,KAAKq0I,WAAaC,SAEXrlB,EAAgBjgH,KACvBkI,EAAAA,UAAM24G,eAAc,UACtB,EACF,EAlDA,CAAoCd,I,MCH9B,SAAUwlB,GAAS/rH,EAAaD,GACpC,MAAO,CAAC,IAAe,EAATC,EAAK5P,EAAS,EAAY,EAAP2P,EAAG3P,EAAS,EAAG4P,EAAK3P,EAAa,EAAT2P,EAAK5P,EAAS,EAAY,EAAP2P,EAAG3P,EAAS,EAAG2P,EAAG1P,EAAG0P,EAAG3P,EAAG2P,EAAG1P,EAC5G,CASM,SAAU27H,GAASjsH,EAAW00B,GAClC,IAAM14B,EAAS,GACfA,EAAO5f,KAAK,CACViU,EAAGqkC,EAAOrkC,EACVC,EAAGokC,EAAOpkC,IAEZ0L,EAAO5f,KAAK4jB,GAEZ,IAAMiF,EAAM,CAAC,KAKb,OAJAloB,EAAKif,GAAQ,SAAC+pB,GACZ9gB,EAAI7oB,KAAK2pC,EAAM11B,EAAG01B,EAAMz1B,EAC1B,IAEO2U,CACT,CC3BA,SAASinH,GAAgBjsH,EAAaD,EAAW00B,GAC/C,IAAMzvB,EAAMgnH,GAASjsH,EAAI00B,GACnB9sC,EAAO,CAAC,CAAC,IAAKqY,EAAK5P,EAAG4P,EAAK3P,IAEjC,OADA1I,EAAKxL,KAAK6oB,GACHrd,CACT,CAEA,SAASukI,GAAsBnwH,EAAiB04B,GAC9C,IAAM03F,EAAOH,GAASjwH,EAAO,GAAI04B,GAC3B23F,EAAOJ,GAASjwH,EAAO,GAAI04B,GAC3B9sC,EAAO,CAAC,CAAC,IAAKoU,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IAQ3C,OAPA1I,EAAKxL,KAAKiwI,GACVzkI,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAKgwI,GACVxkI,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,MACJwL,CACT,CCpBA,SAAS0kI,GAAcrsH,EAAaD,GAClC,IAAMiF,EAAM+mH,GAAS/rH,EAAMD,GACrBpY,EAAO,CAAC,CAAC,IAAKqY,EAAK5P,EAAG4P,EAAK3P,IAGjC,OADA1I,EAAKxL,KAAK6oB,GACHrd,CACT,CCLA29G,GAAc,OAAQ,OAAQ,CAC5BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQ8sE,GAAcj2D,GAAK,GAAM,EAAOjX,MACxC8nB,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,SAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,YAD6B,IAAAA,IAAAA,EAAAA,KACtB,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,KAC/F,EACA1D,MAAO,CACLxM,EAAG,EACHq4C,OAAQtc,EACRs1B,KAAM,MAGZ,ICtBF8zD,GAAc,OAAQ,SAAU,CAC9BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAM++E,EAAa3zF,KAAK2zF,WAClBvzF,EAAQ8sE,GAAcj2D,GAAK,GAAO,EAAMjX,KAAMuvI,GAAc57C,IAC5D7rE,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,SAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,YAD6B,IAAAA,IAAAA,EAAAA,KACtB,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,KAC/F,EACA1D,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,EACNghE,YAAa,GAGnB,IC1BFooB,GAAc,OAAQ,cAAe,CACnClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAM++E,EAAa3zF,KAAK2zF,WAClBvzF,EAAQ8sE,GAAcj2D,GAAK,GAAM,EAAMjX,KAAMuvI,GAAc57C,IAC3D7rE,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,SAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,YAD6B,IAAAA,IAAAA,EAAAA,KACtB,CAAC,CAAC,IAAKiQ,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,IAAKD,EAAIjQ,EAAGkQ,EAAI,GAAI,CAAC,KAC/F,EACA1D,MAAO,CACLxM,EAAG,EACHq4C,OAAQtc,EACRs1B,KAAM,MAGZ,IJDF8zD,GAAc,OAAQ,MAAO,CAC3BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAIIzE,EAJEgF,EAAQo5D,GAASt3D,GAAK,GAAM,EAAO,aAErCsN,EAAStN,EAAIsN,OACXvf,EAAOuf,EAAOrhB,OAAS,EAAI,SAAW,SAE5C,GAAI+T,EAAIykF,WAAY,CAClB,IAAMz+C,EAAS,CAAErkC,EAAG,EAAGC,EAAG,GAS1B,MARa,WAAT7T,EACFmL,EAAOskI,GAAgBlwH,EAAO,GAAIA,EAAO,GAAI04B,IAE7C9nC,EAAM6kD,KAAO7kD,EAAM6rC,OACnB7wC,EAAOukI,GAAsBnwH,EAAQ04B,IAEvC9sC,EAAOnQ,KAAKs6C,UAAUnqC,GAEfyE,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,K,CAIR,GAAa,WAATnL,EASF,OARAuf,EAASvkB,KAAKytH,YAAYlpG,GAC1BpU,EAAOm8D,IACJ/nD,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GAAK,EAC9B2L,EAAO,GAAG1L,EACV1R,KAAK0D,IAAI0Z,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GAAK,EACtCzR,KAAK+D,GACK,EAAV/D,KAAK+D,IAEA0J,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,MAIR,IAAM+L,EAAKq4H,GAAShwH,EAAO,GAAIA,EAAO,IAChCnI,EAAKm4H,GAAShwH,EAAO,GAAIA,EAAO,IActC,OAZApU,EAAO,CACL,CAAC,IAAKoU,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7BqD,EACA,CAAC,IAAKqI,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7BuD,EACA,CAAC,MAEHjM,EAAOnQ,KAAKs6C,UAAUnqC,GACtBgF,EAAM6kD,KAAO7kD,EAAM6rC,OAEZpsC,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,KAKd,EACAm9G,UAAS,SAAC5sC,GACR,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAM0mB,EAAUh8C,OAGtB,ICvFFopF,GAAc,OAAQ,SAAU,CAC9BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,EAAO,aACnCsN,EAAStN,EAAIsN,OACbpU,EAAOnQ,KAAKs6C,UAAUu6F,GAActwH,EAAO,GAAaA,EAAO,KACrE,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACR,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAM0mB,EAAUh8C,OAGtB,II5BF,IAAMowG,GAAiB,EAAI,EAE3B,SAASC,GAAWvsH,EAAaD,GAC/B,IAAMhE,EAAS,GACfA,EAAO5f,KAAK,CACViU,EAAG4P,EAAK5P,EACRC,EAAG2P,EAAK3P,GAAK,EAAIi8H,IAAkBvsH,EAAG1P,EAAIi8H,KAE5CvwH,EAAO5f,KAAK,CACViU,EAAG2P,EAAG3P,EACNC,EAAG2P,EAAK3P,GAAK,EAAIi8H,IAAkBvsH,EAAG1P,EAAIi8H,KAE5CvwH,EAAO5f,KAAK4jB,GAEZ,IAAMpY,EAAO,CAAC,CAAC,IAAKqY,EAAK5P,EAAG4P,EAAK3P,IAKjC,OAJAvT,EAAKif,GAAQ,SAAC+pB,GACZn+B,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GACjC,IAEO1I,CACT,CCjBA,SAAS6kI,GAActnG,GACb,IAAA90B,EAAa80B,EAAS,EAAnB70B,EAAU60B,EAAS,EAAhBxtB,EAAOwtB,EAAS,GAE9B,OAAIroC,EAAQwT,GACHA,EAAEvJ,KAAI,SAACkgI,EAAOp/H,GACnB,MAAO,CACLwI,EAAGvT,EAAQuT,GAAKA,EAAExI,GAAOwI,EACzBC,EAAG22H,EAEP,IAIK,CACL,CAAE52H,EAAGA,EAAaC,EAAGqH,GACrB,CAAEtH,EAAGA,EAAaC,EAAC,GAEvB,CCnBA,SAASo8H,GAAcvnG,G,MAEjB2jG,EACAC,EAFI14H,EAAmB80B,EAAS,EAAzB70B,EAAgB60B,EAAS,EAAtBxtB,EAAawtB,EAAS,GAAlB1+B,EAAS0+B,EAAS,KAGhCroC,EAAQwT,IACVsR,GAAAA,EAAAA,EAAAA,IAAetR,EAAC,GAAfw4H,EAAI,KAAEC,EAAI,OAEXD,EAAOnxH,EACPoxH,EAAOz4H,GAGT,IAAM24H,EAAQ54H,EAAe5J,EAAO,EAC9BuiI,EAAQ34H,EAAe5J,EAAO,EAMpC,MAAO,CACL,CAAE4J,EAAGA,EAAaC,EAAGw4H,GACrB,CAAEz4H,EAAGA,EAAaC,EAAGy4H,GACrB,CAAE14H,EAAG24H,EAAM14H,EAAGw4H,GACd,CAAEz4H,EAAG44H,EAAM34H,EAAGw4H,GACd,CAAEz4H,EAAG24H,EAAM14H,EAAGy4H,GACd,CAAE14H,EAAG44H,EAAM34H,EAAGy4H,GAElB,CAGA,SAAS4D,GAAY3wH,GACnB,MAAO,CACL,CAAC,IAAKA,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAEjC,CFjBAi1G,GAAc,OAAQ,MAAO,CAC3BlhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,EAAO,aACnCsN,EAAStN,EAAIsN,OACbpU,EAAOnQ,KAAKs6C,UAAUy6F,GAAWxwH,EAAO,GAAaA,EAAO,KAClE,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACR,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAM0mB,EAAUh8C,OAGtB,IGzCFopF,GAAc,WAAY,SAAU,CAClCZ,UAAS,SAACD,GAER,OADAA,EAAWj+G,KAAyB,EAAlBi+G,EAAWj+G,KACtBoiI,GAAcnkB,EACvB,EACArgF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAO,GAC7B9G,EAAOnQ,KAAKs6C,UAAU43F,GAAcj7H,EAAIsN,OAAmBtN,EAAIw7G,YAAuB,IACtF3qG,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,IAENvP,KAAM,aAER,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,ICzBFopF,GAAc,WAAY,cAAe,CACvClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,GAC9BkgB,EAAQviB,EACN09H,EAAmB,OAAHr7H,QAAG,IAAHA,OAAG,EAAHA,EAAKszD,WAC3B,GAAI+nE,EAAe,CACjBn7G,EAAQviB,EAAUmxD,WAClB,IAAM2E,EAAkBiyD,GAAuB1lH,GACzCs7H,EAAiBX,GAAsB36H,EAAKjX,KAAKytH,YAAYx2G,EAAIsN,QAAoBvkB,KAAK2zF,YAChGx8D,EAAMmvC,SAAS,OAAQ,CACrBlmE,OAAO,oBACFsqE,GAAe,CAClBv6D,KAAMoiI,IAERliH,QAAS,EACTzvB,KAAM0pH,I,CAIV,IAAMn6G,EAAOnQ,KAAKs6C,UAAUm3F,GAAYx6H,EAAIsN,SACtCuD,EAAQqP,EAAMmvC,SAAS,OAAQ,CACnClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,IAENvP,KAAM,aAGR,OAAO0xI,EAAgBn7G,EAAQrP,CACjC,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAqBg8C,EAAS,MAAvB66C,EAAc76C,EAAS,UACtC,OAAI66C,EACK,CACLj8C,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHq4C,OAAQtc,EACRs1B,KAAM,OAKL,CACLslB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHq4C,OAAQtc,EACRs1B,KAAM,MAGZ,IH/BF8zD,GAAc,WAAY,OAAQ,CAChCZ,UAAS,SAACD,GACR,OAAO+nB,GAAc/nB,EACvB,EACArgF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,EAAO,aACnC0+D,EAAW2e,IAAK,WAAKn/E,GAAS,CAAC,SAC/BhF,EAAOnQ,KAAKs6C,UAAUm3F,GAAYx6H,EAAIsN,QAAmB,IACzDuD,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACFu1E,GAAQ,CACXxlE,KAAI,IAENvP,KAAM,aAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,MAAO,CACL,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAGC,EAAIlQ,GAEjB,EACAwM,MAAO,CACLxM,EAAG,EACHq4C,OAAQtc,GAGd,IIrDFopF,GAAc,WAAY,UAAW,CACnCZ,UAAS,SAACD,GAER,OADAA,EAAWj+G,KAAyB,EAAlBi+G,EAAWj+G,KACtBoiI,GAAcnkB,EACvB,EACArgF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAO,GAC7B9G,EAAOnQ,KAAKs6C,UAAU43F,GAAcj7H,EAAIsN,OAAmBtN,EAAIw7G,YAAuB,IACtF3qG,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,IAENvP,KAAM,aAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,IHcFopF,GAAc,WAAY,OAAQ,CAChCZ,UAAS,SAACD,GACR,OAAOgoB,GAAchoB,EACvB,EACArgF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAU46F,GAAYj+H,EAAIsN,SACtCuD,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,IAENvP,KAAM,aAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SAAC1mE,EAAWC,EAAWlQ,GAC7B,MAAO,CACL,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAGC,EAAIlQ,GACb,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GACrB,CAAC,IAAKiQ,EAAIjQ,EAAI,EAAGkQ,EAAIlQ,GAEzB,EACAwM,MAAO,CACLxM,EAAG,EACHq4C,OAAQtc,GAGd,II3EF,IAAMywG,GAAsB,SAAC7mG,EAAcuK,EAAkBzmB,GAC3D,IAII1tB,EAJEkU,EAAI01B,EAAM11B,EACVC,EAAIy1B,EAAMz1B,EACVu7B,EAAQyE,EAAUjgC,EAClBy7B,EAAQwE,EAAUhgC,EAGxB,OAAQuZ,GACN,IAAK,KACH1tB,EAAS,CAAC,CAAEkU,EAAGw7B,EAAOv7B,EAAC,IACvB,MACF,IAAK,KACHnU,EAAS,CAAC,CAAEkU,EAAC,EAAEC,EAAGw7B,IAClB,MACF,IAAK,MACH,IAAM+gG,GAAWhhG,EAAQx7B,GAAK,EAC9BlU,EAAS,CACP,CAAEkU,EAAGw8H,EAASv8H,EAAC,GACf,CAAED,EAAGw8H,EAASv8H,EAAGw7B,IAEnB,MACF,IAAK,MACH,IAAMghG,GAAWx8H,EAAIw7B,GAAS,EAC9B3vC,EAAS,CACP,CAAEkU,EAAC,EAAEC,EAAGw8H,GACR,CAAEz8H,EAAGw7B,EAAOv7B,EAAGw8H,IAEjB,MACF,QACE,MAGJ,OAAO3wI,CACT,EAEA,SAAS4wI,GAAqB/wH,EAAiB6N,GAC7C,IAAI1tB,EAAS,GASb,OARAY,EAAKif,GAAQ,SAAC+pB,EAAczrC,GAC1B,IAAMg2C,EAAYt0B,EAAO1hB,EAAQ,GAEjC,GADA6B,EAAOC,KAAK2pC,GACRuK,EAAW,CACb,IAAM08F,EAAmBJ,GAAoB7mG,EAAOuK,EAAWzmB,GAC/D1tB,EAASA,EAAOqC,OAAOwuI,E,CAE3B,IACO7wI,CACT,CAGA,SAAS8wI,GAAmBjxH,GAC1B,OAAOA,EAAOjV,KAAI,SAACg/B,EAAOzrC,GACxB,OAAiB,IAAVA,EAAc,CAAC,IAAKyrC,EAAM11B,EAAG01B,EAAMz1B,GAAK,CAAC,IAAKy1B,EAAM11B,EAAG01B,EAAMz1B,EACtE,GACF,CAGA,SAAS48H,GAAyBx+H,EAAgBmb,GAChD,IAAM7N,EAASu3G,GAAc7kH,EAAIsN,OAAQtN,EAAI8kH,aAAc9kH,EAAI+kH,iBAC3D7rH,EAAO,GAMX,OALA7K,EAAKif,GAAQ,SAAC24G,GACZ,IAAMwY,EAAoBJ,GAAqBpY,EAAgB9qG,GAC/DjiB,EAAOA,EAAKpJ,OAAOyuI,GAAmBE,GACxC,KAEO,oBACFnnE,GAASt3D,GAAK,GAAM,EAAO,cAAY,CAC1C9G,KAAI,GAER,CCtEA,SAASwlI,GAAW70I,GAClB,IAAMiJ,EAAS1E,EAAQvE,GAAmBA,EAAV,CAACA,GAE3BuG,EAAM0C,EAAM,GACZ3C,EAAM2C,EAAMA,EAAM7G,OAAS,GAC3B0yI,EAAO7rI,EAAM7G,OAAS,EAAI6G,EAAM,GAAK1C,EACrCwuI,EAAO9rI,EAAM7G,OAAS,EAAI6G,EAAM,GAAK3C,EACrC0uI,EAAS/rI,EAAM7G,OAAS,EAAI6G,EAAM,GAAK6rI,EAE7C,MAAO,CACLvuI,IAAG,EACHD,IAAG,EACHwuI,KAAI,EACJC,KAAI,EACJC,OAAM,EAEV,CAEA,SAASC,GAAan9H,EAAsBC,EAAsB7J,GAChE,IACIgnI,EADEC,EAAWjnI,EAAO,EAExB,GAAI3J,EAAQwT,GAAI,CAER,MAAmC88H,GAAW98H,GAA5CxR,EAAG,MAAED,EAAG,MAAE0uI,EAAM,SAAEF,EAAI,OAAEC,EAAI,OAC9Bv/G,EAAQ1d,EAAeq9H,EACvBz/G,EAAQ5d,EAAeq9H,EAC7BD,EAAc,CACZ,CAAC1/G,EAAMlvB,GACP,CAACovB,EAAMpvB,GACP,CAACwR,EAAaxR,GACd,CAACwR,EAAai9H,GACd,CAACv/G,EAAMs/G,GACP,CAACt/G,EAAMu/G,GACP,CAACr/G,EAAMq/G,GACP,CAACr/G,EAAMo/G,GACP,CAACh9H,EAAag9H,GACd,CAACh9H,EAAavR,GACd,CAACivB,EAAMjvB,GACP,CAACmvB,EAAMnvB,GACP,CAACivB,EAAMw/G,GACP,CAACt/G,EAAMs/G,G,KAEJ,CAELj9H,EAAI3T,EAAM2T,GAAK,GAAMA,EACf,MAAmC88H,GAAW/8H,GAC9C6d,GADEpvB,EAAG,MAAED,EAAG,MAAE0uI,EAAM,SAAEF,EAAI,OAAEC,EAAI,OACvBh9H,EAAIo9H,GACXv/G,EAAO7d,EAAIo9H,EACjBD,EAAc,CACZ,CAAC3uI,EAAKovB,GACN,CAACpvB,EAAKqvB,GACN,CAACrvB,EAAKwR,GACN,CAAC+8H,EAAM/8H,GACP,CAAC+8H,EAAMn/G,GACP,CAACm/G,EAAMl/G,GACP,CAACm/G,EAAMn/G,GACP,CAACm/G,EAAMp/G,GACP,CAACo/G,EAAMh9H,GACP,CAACzR,EAAKyR,GACN,CAACzR,EAAKqvB,GACN,CAACrvB,EAAKsvB,GACN,CAACo/G,EAAQr/G,GACT,CAACq/G,EAAQp/G,G,CAIb,OAAOs/G,EAAY1mI,KAAI,SAAChL,GACtB,MAAO,CACLsU,EAAGtU,EAAI,GACPuU,EAAGvU,EAAI,GAEX,GACF,CAEA,SAAS4xI,GAAW3xH,GAClB,MAAO,CACL,CAAC,IAAKA,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,KACD,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAC/B,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAC/B,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAC/B,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAEnC,CC5FA,SAASs9H,GAAiBr1I,GACxB,IAAMiJ,EAAS1E,EAAQvE,GAAmBA,EAAV,CAACA,GAE3Bu6D,EAAStxD,EAAMunB,MAAK,SAAC3qB,EAAGgE,GAAM,OAAAA,EAAIhE,CAAJ,IACpC,OAAOutF,GAAO74B,EAAQ,EAAGA,EAAOA,EAAOn4D,OAAS,GAClD,CAGA,SAASkzI,GAAgBx9H,EAAWC,EAAa7J,GAC/C,IAAMqnI,EAAUF,GAAiBt9H,GACjC,MAAO,CACL,CAAED,EAAC,EAAEC,EAAGw9H,EAAQ,IAChB,CAAEz9H,EAAC,EAAEC,EAAGw9H,EAAQ,IAChB,CAAEz9H,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGw9H,EAAQ,IAC9B,CAAEz9H,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGw9H,EAAQ,IAC9B,CAAEz9H,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGw9H,EAAQ,IAC9B,CAAEz9H,EAAGA,EAAI5J,EAAO,EAAG6J,EAAGw9H,EAAQ,IAC9B,CAAEz9H,EAAC,EAAEC,EAAGw9H,EAAQ,IAChB,CAAEz9H,EAAC,EAAEC,EAAGw9H,EAAQ,IAEpB,CAEA,SAASC,GAAc/xH,GACrB,MAAO,CACL,CAAC,IAAKA,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,KACD,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAEjC,CCnCA,SAAS09H,GAAahyH,EAAevV,GACnC,IAAM+C,EAAQ5K,KAAK0D,IAAI0Z,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GACzClD,EAASvO,KAAK0D,IAAI0Z,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,GAE5CnT,EAAMyB,KAAKE,IAAI0K,EAAO2D,GACtB1G,IACFtJ,EAAMsE,GAAMgF,EAAM,EAAG7H,KAAKE,IAAI0K,EAAO2D,KAEvChQ,GAAY,EACZ,IAAMitF,GAAWpuE,EAAO,GAAG3L,EAAI2L,EAAO,GAAG3L,GAAK,EACxCg6E,GAAWruE,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,GAAK,EAE9C,MAAO,CACLD,EAAG+5E,EAAUjtF,EACbmT,EAAG+5E,EAAUltF,EACbqM,MAAa,EAANrM,EACPgQ,OAAc,EAANhQ,EAEZ,CHuDAJ,EAAK,CAAC,KAAM,KAAM,MAAO,QAAQ,SAAC8sB,GAChC07F,GAAc,OAAQ17F,EAAW,CAC/Bwa,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQq1I,GAAyBx+H,EAAKmb,GACtCtK,EAAQlT,EAAU0xD,SAAS,CAC/BthE,KAAM,OACN5E,MAAK,EACLQ,KAAM,SAGR,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACR,OAAOq8C,GAAcr8C,EAAWtuD,EAClC,GAEJ,IIvFA9sB,EAAK8tI,IAAe,SAACpiB,GACnBlD,GAAc,QAASkD,EAAW,CAChCpkF,KAAI,SAAC31B,EAAgBrC,GACnB,OAAOy+H,GAAWrzI,KAAMiX,EAAKrC,EAAWo8G,GAAW,EACrD,EACA1D,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ46C,GAAclJ,GACtB77G,MAAO,CACLxM,EAAG,IACHq4C,OAAQtc,EACRs1B,KAAM,MAGZ,GAEJ,ICpBA8zD,GAAc,QAAS,QAAS,CAC9BlhF,KAAI,SAAC31B,EAAgBrC,G,QACR5F,EAASu/D,GAASt3D,GAAK,GAAO,EAAO,KAAI,EAC9CsN,EAASvkB,KAAKytH,YAAYx2G,EAAIsN,QAChC+uH,EAAgB/uH,EAAO,GAC3B,GAAItN,EAAI+lH,QACNsW,EAAgB/uH,EAAO,QAClB,GAAIA,EAAOrhB,OAAS,EAAG,CAC5B,IAAMi0B,EAAQviB,EAAUmxD,W,IACxB,IAAoB,eAAAxhD,GAAM,8BAAE,CAAvB,IAAM+pB,EAAK,QACdnX,EAAMmvC,SAAS,QAAS,CACtBlmE,MAAO,CACLwY,EAAI01B,EAAM11B,EAAe5J,EAAO,EAChC6J,EAAIy1B,EAAMz1B,EAAe7J,EACzB+C,MAAO/C,EACP0G,OAAQ1G,EACR29D,IAAK11D,EAAI6Q,MAAM,K,mGAKrB,OAAOqP,C,CAGT,OAAOviB,EAAU0xD,SAAS,QAAS,CACjClmE,MAAO,CACLwY,EAAI06H,EAAc16H,EAAe5J,EAAO,EACxC6J,EAAIy6H,EAAcz6H,EAAe7J,EACjC+C,MAAO/C,EACP0G,OAAQ1G,EACR29D,IAAK11D,EAAI6Q,MAAM,KAGrB,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,IACHqxD,KAAMt1B,GAGZ,ICxCFp/B,EAAK6tI,IAAQ,SAACniB,GACZlD,GAAc,QAASkD,EAAW,CAChCpkF,KAAI,SAAC31B,EAAgBrC,GACnB,OAAOy+H,GAAWrzI,KAAMiX,EAAKrC,EAAWo8G,GAAW,EACrD,EACA1D,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ46C,GAAclJ,IAAcA,EACpC77G,MAAO,CACLxM,EAAG,IACHqxD,KAAMt1B,GAGZ,GAEJ,IL8EAopF,GAAc,SAAU,MAAO,CAC7BZ,UAAS,SAACD,GACA,IAAAr0G,EAAeq0G,EAAU,EAAtBp0G,EAAYo0G,EAAU,EAAnBj+G,EAASi+G,EAAU,KACjC,OAAO8oB,GAAan9H,EAAaC,EAAe7J,EAClD,EACA49B,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAU47F,GAAWj/H,EAAIsN,SACrCuD,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,EACJvP,KAAM,aAIV,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAM,SAAC1mE,EAAWC,EAAWlQ,GAC3B,IAAM0tI,EAAU,CAACx9H,EAAI,EAAGA,EAAI,EAAGA,EAAGA,EAAI,EAAGA,EAAI,GACvC0L,EAASwxH,GAAan9H,EAAGy9H,EAAS1tI,GACxC,MAAO,CACL,CAAC,IAAK4b,EAAO,GAAG3L,EAAI,EAAG2L,EAAO,GAAG1L,GACjC,CAAC,IAAK0L,EAAO,GAAG3L,EAAI,EAAG2L,EAAO,GAAG1L,GACjC,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,KACD,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,IAAI3L,EAAI,EAAG2L,EAAO,IAAI1L,GACnC,CAAC,IAAK0L,EAAO,IAAI3L,EAAI,EAAG2L,EAAO,IAAI1L,GACnC,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAC/B,CAAC,IAAK0L,EAAO,IAAI3L,EAAG2L,EAAO,IAAI1L,GAEnC,EACA1D,MAAO,CACLxM,EAAG,EACHw3C,UAAW,EACXa,OAAQtc,GAGd,IC3GFopF,GAAc,SAAU,SAAU,CAChCZ,UAAS,SAACD,GACA,IAAAr0G,EAAeq0G,EAAU,EAAtBp0G,EAAYo0G,EAAU,EAAnBj+G,EAASi+G,EAAU,KACjC,OAAOmpB,GAAgBx9H,EAAaC,EAAe7J,EACrD,EACA49B,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMO,EAAQo5D,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAUg8F,GAAcr/H,EAAIsN,SACxCuD,EAAQlT,EAAU0xD,SAAS,OAAQ,CACvClmE,OAAO,oBACF+U,GAAK,CACRhF,KAAI,EACJvP,KAAM,aAIV,OAAOknB,CACT,EACAwlG,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAM,SAAC1mE,EAAWC,EAAWlQ,GAC3B,IAAM0tI,EAAU,CAACx9H,EAAI,IAAKA,EAAI,EAAGA,EAAI,EAAGA,EAAI,KACtC0L,EAAS6xH,GAAgBx9H,EAAGy9H,EAAS1tI,GAC3C,MAAO,CACL,CAAC,IAAK4b,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,KACD,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAC7B,CAAC,IAAK0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,GAEjC,EACA1D,MAAO,CACLgrC,UAAW,EACXa,OAAQtc,EACRs1B,KAAMt1B,EACN/7B,EAAG,GAGT,IC7DFmlH,GAAc,UAAW,SAAU,CACjClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAK7F,GAAQkI,EAAIsN,QAAS,CACxB,IAAM04G,EAAa1uD,GAASt3D,GAAK,GAAM,GACjCsN,EAASvkB,KAAKytH,YAAYx2G,EAAIsN,QACpC,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACF68H,GACAsZ,GAAahyH,EAAQtN,EAAIjI,OAE9BpO,KAAM,W,CAGZ,EACA0sH,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAMt1B,GAGZ,IIzCFopF,GAAc,SAAU,SAAU,CAChClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQmuE,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAU6hF,GAAoBllH,EAAIsN,SACpD,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACFA,GAAK,CACR+P,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACL6rC,OAAQ,KACRr4C,EAAG,EACHqxD,KAAMt1B,GAGZ,ICrBFopF,GAAc,SAAU,SAAU,CAChClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQmuE,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAU4hF,GAAcjlH,EAAIsN,SAC9C,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACFA,GAAK,CACR+P,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAM,KACNhZ,OAAQtc,GAGd,IAMFopF,GAAc,SAAU,gBAAiB,CACvClhF,KAAI,SAAC31B,EAAgBrC,GACnB,IAAMxU,EAAQmuE,GAASt3D,GAAK,GAAM,GAC5B9G,EAAOnQ,KAAKs6C,UAAU6hF,GAAoBllH,EAAIsN,SACpD,OAAO3P,EAAU0xD,SAAS,OAAQ,CAChClmE,OAAO,oBACFA,GAAK,CACR+P,KAAI,KAGV,EACAm9G,UAAS,SAAC5sC,GACA,IAAAh8C,EAAUg8C,EAAS,MAC3B,MAAO,CACLpB,OAAQ,SACRnqE,MAAO,CACLxM,EAAG,EACHqxD,KAAM,KACNhZ,OAAQtc,GAGd,IChDF,gC,8CAsJA,QAtJ2CttB,EAAAA,EAAAA,IAAAA,EAAAA,GAKjCo/H,EAAAA,UAAAA,iBAAR,SAAyBl+B,GAEvB,IAAMv2D,EAAM,IACJx9B,EAAW+zF,EAAW,OAE9B,OAAO/zF,EAAO,GAAGw9B,IAAQx9B,EAAO,GAAGw9B,GAAO,GAAK,CACjD,EAQUy0F,EAAAA,UAAAA,oBAAV,SAA8BphE,EAAoBvyE,EAAeu1H,EAAerzE,G,MAC1EzW,EAAQp3B,EAAAA,UAAMmiH,oBAAmB,UAACjkD,EAAUvyE,EAAOu1H,GACjDzkC,EAAa3zF,KAAKggE,gBAClB48B,EAAajJ,EAAW91B,aACxB9b,EAAM66C,EAAa,IAAM,IACzB65C,EAAMz2I,KAAK02I,iBAAiBthE,EAASkjC,aAgB3C,OAfAhqE,GAAQ,oBAAKA,IAAK,OAAGyT,GAAMzT,EAAMyT,GAAO00F,EAAG,IAEvC9iD,EAAW11B,UAAU,OACvB3vB,GAAQ,oBACHA,GAAK,CACR11B,GAAc,EAAX01B,EAAM11B,KAGT+6E,EAAW11B,UAAU,OACvB3vB,GAAQ,oBACHA,GAAK,CACRz1B,GAAc,EAAXy1B,EAAMz1B,KAINy1B,CACT,EAMUkoG,EAAAA,UAAAA,kBAAV,SAA4BphE,GAC1B,IAAMy1B,EAAW7qG,KAAK6qG,SAChB8tB,EAAkB34H,KAAK44H,qBACrBnmD,EAAUo4B,EAAQ,MAG1B,OAAO/7F,GAAQ,CAAC,EAAG6pH,EAAiBlmD,EAAM1J,OAA8B,WAAtBqM,EAASrwB,SAAwB,CAAEE,OAAQ,GAAM,CAAC,EAAGmwB,EACzG,EAEUohE,EAAAA,UAAAA,iBAAV,SACE3d,EACAvgB,EACAz1G,EACAkiD,GAEA,IAOI5T,EACA1sB,EACAs8C,EACAv8C,EAVEmvE,EAAa3zF,KAAKggE,gBAClB48B,EAAajJ,EAAW91B,aACxBihC,EAAcwZ,EAAY/zF,OAC1BoyH,EAAShjD,EAAWsB,QAAQ6J,EAAY,IACxCziD,EAASs3C,EAAWsB,QAAQ6J,EAAY,IACxC23C,EAAMz2I,KAAK02I,iBAAiBp+B,GAO5BxwF,EAAQziB,EAAQizG,EAAYxwF,OAASwwF,EAAYxwF,MAAM,GAAKwwF,EAAYxwF,MAC9E,GAAc,WAAVA,GAAgC,YAAVA,EAAqB,CAE7C,IAAM2qG,EAAalkH,GAAI+pG,EAAa,cAC9B/zF,EAAShW,GAAI+pG,EAAa,UAChC,GAAIma,EAAY,CAEd,IAAMl+E,EAAKo/C,EAAWsB,QAAQ1wE,EAAO,IAC/BzF,EAAK60E,EAAWsB,QAAQ1wE,EAAO,IAC/BqyH,EAASjjD,EAAWsB,QAAQw9B,EAAW,IACvCokB,EAASljD,EAAWsB,QAAQw9B,EAAW,IAGzC71B,GACFzrD,EAAMhqC,KAAKE,IAAIuvI,EAAO/9H,EAAG07B,EAAG17B,GAC5BkoD,EAAS55D,KAAKC,IAAIwvI,EAAO/9H,EAAG07B,EAAG17B,GAC/B4L,GAAS3F,EAAGlG,EAAIi+H,EAAOj+H,GAAK,EAC5B4L,GAAQ+vB,EAAG37B,EAAIg+H,EAAOh+H,GAAK,IAE3Bu4B,EAAMhqC,KAAKE,KAAKyX,EAAGjG,EAAIg+H,EAAOh+H,GAAK,GAAI07B,EAAG17B,EAAI+9H,EAAO/9H,GAAK,GAC1DkoD,EAAS55D,KAAKC,KAAK0X,EAAGjG,EAAIg+H,EAAOh+H,GAAK,GAAI07B,EAAG17B,EAAI+9H,EAAO/9H,GAAK,GAC7D4L,EAAQoyH,EAAOj+H,EACf4L,EAAO+vB,EAAG37B,E,MAGZu4B,EAAMhqC,KAAKE,IAAIg1C,EAAOxjC,EAAG89H,EAAO99H,GAChCkoD,EAAS55D,KAAKC,IAAIi1C,EAAOxjC,EAAG89H,EAAO99H,GACnC4L,EAAQ43B,EAAOzjC,EACf4L,EAAOmyH,EAAO/9H,C,MAGhBu4B,EAAMhqC,KAAKE,IAAIg1C,EAAOxjC,EAAG89H,EAAO99H,GAChCkoD,EAAS55D,KAAKC,IAAIi1C,EAAOxjC,EAAG89H,EAAO99H,GACnC4L,EAAQ43B,EAAOzjC,EACf4L,EAAOmyH,EAAO/9H,EAGhB,OAAQmsC,GACN,IAAK,QACH8zE,EAAcjgH,EAAI6L,EAClBo0G,EAAchgH,GAAKs4B,EAAM4vB,GAAU,EACnC83D,EAAc1+E,UAAY5rC,GAAIsqH,EAAe,YAAa4d,EAAM,EAAI,OAAS,SAC7E,MACF,IAAK,OACH5d,EAAcjgH,EAAI4L,EAClBq0G,EAAchgH,GAAKs4B,EAAM4vB,GAAU,EACnC83D,EAAc1+E,UAAY5rC,GAAIsqH,EAAe,YAAa4d,EAAM,EAAI,OAAS,SAC7E,MACF,IAAK,SACC75C,IACFi8B,EAAcjgH,GAAK6L,EAAQD,GAAQ,GAErCq0G,EAAchgH,EAAIkoD,EAClB83D,EAAc1+E,UAAY5rC,GAAIsqH,EAAe,YAAa,UAC1DA,EAAc3+E,aAAe3rC,GAAIsqH,EAAe,eAAgB4d,EAAM,EAAI,SAAW,OACrF,MACF,IAAK,SACC75C,IACFi8B,EAAcjgH,GAAK6L,EAAQD,GAAQ,GAErCq0G,EAAchgH,GAAKs4B,EAAM4vB,GAAU,EACnC83D,EAAc1+E,UAAY5rC,GAAIsqH,EAAe,YAAa,UAC1DA,EAAc3+E,aAAe3rC,GAAIsqH,EAAe,eAAgB,UAChE,MACF,IAAK,MACCj8B,IACFi8B,EAAcjgH,GAAK6L,EAAQD,GAAQ,GAErCq0G,EAAchgH,EAAIs4B,EAClB0nF,EAAc1+E,UAAY5rC,GAAIsqH,EAAe,YAAa,UAC1DA,EAAc3+E,aAAe3rC,GAAIsqH,EAAe,eAAgB4d,EAAM,EAAI,SAAW,OACrF,MACF,QACE,MAEN,EACF,EAtJA,CAA2C1e,I,MCFrC+e,GAAU3vI,KAAK+D,GAAK,EAK1B,4B,8CAoNA,QApNwCkM,EAAAA,EAAAA,IAAAA,EAAAA,GAM5B2/H,EAAAA,UAAAA,eAAV,SAAyB9xF,GACvB,IAAM0uC,EAAa3zF,KAAKggE,gBACpB+5D,EAAe,EACnB,GAAIzvH,GAAS26C,GACX80E,EAAe90E,OACV,GAAI91C,GAAS81C,KAAoC,IAAzBA,EAAO1gD,QAAQ,KAAa,CACzD,IAAIoE,EAAIgrF,EAAWqB,YACfrB,EAAW/0B,YAAc,IAC3Bj2D,GAAS,EAAIgrF,EAAW/0B,aAE1Bm7D,EAAoC,IAArB3vH,WAAW66C,GAAiBt8C,C,CAG7C,OAAOoxH,CACT,EAOOgd,EAAAA,UAAAA,cAAP,SAAqB/e,GACnB,IAAMnlD,EAAQ37D,EAAAA,UAAMqhH,cAAa,UAACP,GAC5BjiB,EAAS/1G,KAAK6qG,SAASmL,YAE7B,OAAO1mG,GAAIujE,GAAO,SAACjwE,GACjB,GAAIA,GAAQmzG,EAAQ,CAClB,IAAMvuD,EAAUuuD,EAAOjpF,MAAMve,GAAI3L,EAAKiE,KAAMkvG,EAAOluD,QACnD,OAAO,oBAAKjlD,GAAI,CAAE4kD,QAAO,G,CAE3B,OAAO5kD,CACT,GACF,EAMUm0I,EAAAA,UAAAA,cAAV,SAAwBzoG,GACtB,IACIglC,EADEqgB,EAAa3zF,KAAKggE,gBAExB,GAAI1xB,EAAM0oG,UACR1jE,EAAQhlC,EAAMzzB,OAAS1T,KAAK+D,GAAK,GAAKojC,EAAMzzB,QAAU1T,KAAK+D,GAAK,EAAI,OAAS,aACxE,GAAKyoF,EAAW91B,aAEhB,CACL,IAAM5gB,EAAS02C,EAAWl0B,YACpBxa,EAAS3W,EAAM2W,OAEnBquB,EADEnsE,KAAK0D,IAAIyjC,EAAM11B,EAAIqkC,EAAOrkC,GAAK,EACzB,SACC01B,EAAMzzB,MAAQ1T,KAAK+D,IAAMojC,EAAMzzB,OAAS,EACzCoqC,EAAS,EAAI,OAAS,QAEtBA,EAAS,EAAI,QAAU,M,MATjCquB,EAAQ,SAYV,OAAOA,CACT,EASUyjE,EAAAA,UAAAA,cAAV,SAAwB3hE,EAAoBkjC,EAA2Bz1G,GACrE,IACIo0I,EADA7hF,EAAS,EAEP+U,EAAUiL,EAASjL,QAAQtnE,GAC7B7C,KAAKk3I,WAAW5+B,GAClB2+B,EAAWj3I,KAAKm3I,eAAe7+B,EAAY/zF,SAEX,IAA5B6wD,EAASjL,QAAQjnE,QAA0B,IAAVL,EACnCA,EAAQ,EACW,IAAVA,IACTuyD,GAAU,GAEZ6hF,EAAWj3I,KAAKo3I,YAAY9+B,EAAaz1G,IAG3C,IAAMoiD,EAASmwB,EAASnwB,OAASmQ,EAC3B01C,EAAc9qG,KAAKq3I,cAAcJ,GACjCK,EAAcliE,EAAS4hE,UACvBO,EAA6Cv3I,KAAKwhE,eAAespC,EAAa7lD,EAAQgyF,EAAUK,GAiBtG,OAhB2B,IAAvBC,EAAiB5uI,EAEnB4uI,EAAiBptE,QAAU,IAE3BotE,EAAiBptE,QAAUA,EAC3BotE,EAAiB18H,MAAQiwF,EACzBysC,EAAiB7yG,MAAQ4zE,EAAY5zE,OAGvC6yG,EAAiBh8H,OAAS65D,EAAS5J,WAC/BxrE,KAAKw3I,eAAe1sC,EAAa7lD,EAAQqyF,GACzCliE,EAAS75D,OACbg8H,EAAiBx9H,MAAQ,CACvBnB,EAAGq+H,EAASr+H,EACZC,EAAGo+H,EAASp+H,GAEP0+H,CACT,EAKUR,EAAAA,UAAAA,YAAV,SAAsBz+B,EAA2Bz1G,GAC/C,YAD+C,IAAAA,IAAAA,EAAAA,GAC1CwC,EAAQizG,EAAY1/F,IAAOvT,EAAQizG,EAAYz/F,GAO7C,CACLD,EAAGvT,EAAQizG,EAAY1/F,GAAK0/F,EAAY1/F,EAAE/V,GAASy1G,EAAY1/F,EAC/DC,EAAGxT,EAAQizG,EAAYz/F,GAAKy/F,EAAYz/F,EAAEhW,GAASy1G,EAAYz/F,GARxD,CACLD,EAAG0/F,EAAY1/F,EACfC,EAAGy/F,EAAYz/F,EAQrB,EAMUk+H,EAAAA,UAAAA,cAAV,SAAwBzoG,GACtB,OAAO+mD,GAAgBr1F,KAAKggE,gBAAiB1xB,EAC/C,EASUyoG,EAAAA,UAAAA,eAAV,SAAyBl8H,EAAeoqC,EAAgB3W,EAAcgpG,GACpE,IAAM3jD,EAAa3zF,KAAKggE,gBAClB/iB,EAAS02C,EAAWl0B,YACtB92D,EAAIwsF,GAAoBxB,EAAYrlD,GACxC,GAAU,IAAN3lC,EACF,OAAO,oBACFs0C,GAAM,CACTt0C,EAAC,IAIL,IAAI8uI,EAAa58H,EACjB,GAAI84E,EAAW91B,cAAgBl1D,EAAIs8C,IAAWqyF,EAAa,CACzD,IAAMI,EAAcvwI,KAAK0U,KAAKopC,GAAU,EAAIt8C,IAC5C8uI,EAAa58H,EAAsB,EAAd68H,C,MAErB/uI,GAAQs8C,EAGV,MAAO,CACLrsC,EAAGqkC,EAAOrkC,EAAIjQ,EAAIxB,KAAKiS,IAAIq+H,GAC3B5+H,EAAGokC,EAAOpkC,EAAIlQ,EAAIxB,KAAKoS,IAAIk+H,GAC3B9uI,EAAC,EAEL,EAQUouI,EAAAA,UAAAA,eAAV,SAAyBl8H,EAAeoqC,EAAgBqyF,GACtD,IAAI/7H,EAASV,EAAQi8H,GAWrB,OAVIQ,IACF/7H,GAAUu7H,IAERv7H,IACEA,EAASu7H,GACXv7H,GAAkBpU,KAAK+D,GACdqQ,GAAUu7H,KACnBv7H,GAAkBpU,KAAK+D,KAGpBqQ,CACT,EAGQw7H,EAAAA,UAAAA,eAAR,SAAuBxyH,GACrB,IAAMovE,EAAa3zF,KAAKggE,gBAClBl7C,EAAQP,EAAOrhB,OACjBmpE,EAAc,CAChBzzD,EAAG,EACHC,EAAG,GAUL,OARAvT,EAAKif,GAAQ,SAAC+pB,GACZ+9B,EAAYzzD,GAAK01B,EAAM11B,EACvByzD,EAAYxzD,GAAKy1B,EAAMz1B,CACzB,IACAwzD,EAAYzzD,GAAKkM,EACjBunD,EAAYxzD,GAAKiM,EAEjBunD,EAAcsnB,EAAWsB,QAAQ5oB,GAC1BA,CACT,EAGQ0qE,EAAAA,UAAAA,WAAR,SAAmBz+B,GACjB,OAAQA,EAAY1/F,EAAe1V,OAAS,CAC9C,EACF,EApNA,CAAwC60H,I,MCHxC,0E,OACShhH,EAAAA,cAAgB,a,CAsFzB,QAvFsCK,EAAAA,EAAAA,IAAAA,EAAAA,GAG1BugI,EAAAA,UAAAA,mBAAV,SAA6B1yF,EAAiBF,GAC5C,IAAM9tC,EAAMC,EAAAA,UAAM0hH,mBAAkB,UAAC3zE,EAAQF,GAC7C,OAAOj2C,GAAQ,CAAC,EAAGmI,EAAK1I,GAAIvO,KAAK6qG,SAASp4B,MAAO,YAAa,CAAC,GACjE,EAGUklE,EAAAA,UAAAA,eAAV,SAAyB1yF,GACvB,OAAO/tC,EAAAA,UAAM0iH,eAAc,UAAC30E,IAAW,CACzC,EAEU0yF,EAAAA,UAAAA,eAAV,SAAyB98H,EAAeoqC,EAAgB2yF,GACtD,IAAIr8H,EAUJ,OATI0pC,EAAS,IACX1pC,EAASV,EACLU,EAASpU,KAAK+D,GAAK,IACrBqQ,GAAkBpU,KAAK+D,IAErBqQ,GAAUpU,KAAK+D,GAAK,IACtBqQ,GAAkBpU,KAAK+D,KAGpBqQ,CACT,EAEUo8H,EAAAA,UAAAA,cAAV,SAAwBrpG,GACtB,IAGIglC,EAHEqgB,EAAa3zF,KAAKggE,gBAClB/iB,EAAS02C,EAAWl0B,YAe1B,OAXE6T,EADEhlC,EAAMzzB,OAAS1T,KAAK+D,GAAK,GAAKojC,EAAM11B,GAAKqkC,EAAOrkC,EAC1C,OAEA,QAEN01B,EAAM2W,QAAU,IAEhBquB,EADY,UAAVA,EACM,OAEA,SAGLA,CACT,EAEUqkE,EAAAA,UAAAA,YAAV,SAAsBrpG,GACpB,OAAOA,CACT,EAEUqpG,EAAAA,UAAAA,cAAV,SAAwBrpG,GACtB,IASIzzB,EATE84E,EAAa3zF,KAAKggE,gBAClBzjB,EAAa,CACjB3jC,EAAGvT,EAAQipC,EAAM11B,GAAK01B,EAAM11B,EAAE,GAAK01B,EAAM11B,EACzCC,EAAGy1B,EAAMz1B,EAAE,IAEPszD,EAAW,CACfvzD,EAAGvT,EAAQipC,EAAM11B,GAAK01B,EAAM11B,EAAE,GAAK01B,EAAM11B,EACzCC,EAAGy1B,EAAMz1B,EAAE,IAGPq+B,EAAam+C,GAAgB1B,EAAYp3C,GAC/C,GAAIjO,EAAM/pB,QAAU+pB,EAAM/pB,OAAO,GAAG1L,IAAMy1B,EAAM/pB,OAAO,GAAG1L,EACxDgC,EAAQq8B,MACH,CACL,IAAIC,EAAWk+C,GAAgB1B,EAAYxnB,GACvCj1B,GAAcC,IAEhBA,GAAgC,EAAVhwC,KAAK+D,IAE7B2P,EAAQq8B,GAAcC,EAAWD,GAAc,C,CAEjD,OAAOr8B,CACT,EAGU88H,EAAAA,UAAAA,eAAV,SAAyB98H,EAAeoqC,GACtC,IAAM0uC,EAAa3zF,KAAKggE,gBAClB/iB,EAAS02C,EAAWl0B,YACpB92D,EAAIgrF,EAAWqB,YAAc/vC,EACnC,OAAO,oBACF8tC,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAGlQ,EAAGkS,IAAM,CACjDA,MAAK,EACLlS,EAAC,GAEL,EACF,EAvFA,CAAsCouI,I,MCAhCc,GAAS,EAEf,SAASC,GAAcpgB,EAAa3uD,EAAQxvB,EAAYw+F,EAAW96F,EAAQ+6F,G,QAOrEvyI,EALAwyI,GAAc,EACZl+H,EAAQg+H,EAAUh+H,MAClB2I,EAAMq1H,EAAUr1H,IAChB4zD,EAASnvE,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,GACjCq/H,EAAc/wI,KAAK0D,IAAIkP,EAAMlB,EAAI6J,EAAI7J,GAGrC6d,EAAO,EACPD,EAAOjsB,OAAO2tI,UACZC,EAAQrvE,EAAOz5D,KAAI,SAAC25D,GAOxB,OANIA,EAAMpwD,EAAI6d,IACZA,EAAOuyC,EAAMpwD,GAEXowD,EAAMpwD,EAAI4d,IACZA,EAAOwyC,EAAMpwD,GAER,CACL7J,KAAMuqC,EACN8+F,QAAS,CAACpvE,EAAMpwD,EAAIy9D,GAExB,IACA7/C,GAAQ6/C,EACJ5/C,EAAO4/C,EAAS4hE,IAClBA,EAAcxhH,EAAO4/C,GAGvB,MAAO2hE,EAAa,CAElBG,EAAM3oI,SAAQ,SAACyR,GACb,IAAM5e,GAAU6E,KAAKE,IAAI4G,MAAMwoB,EAAMvV,EAAIm3H,SAAWlxI,KAAKC,IAAI6G,MAAMwoB,EAAMvV,EAAIm3H,UAAY,EACzFn3H,EAAIo3H,IAAMnxI,KAAKE,IAAIF,KAAKC,IAAIqvB,EAAMn0B,EAAS4e,EAAIlS,KAAO,GAAIkpI,EAAch3H,EAAIlS,KAE9E,IAGAipI,GAAc,EACdxyI,EAAI2yI,EAAMl1I,OACV,MAAOuC,IACL,GAAIA,EAAI,EAAG,CACT,IAAM8yI,EAAcH,EAAM3yI,EAAI,GACxByb,EAAMk3H,EAAM3yI,GACd8yI,EAAYD,IAAMC,EAAYvpI,KAAOkS,EAAIo3H,MAE3CC,EAAYvpI,MAAQkS,EAAIlS,KACxBupI,EAAYF,QAAUE,EAAYF,QAAQtxI,OAAOma,EAAIm3H,SAGjDE,EAAYD,IAAMC,EAAYvpI,KAAOkpI,IACvCK,EAAYD,IAAMJ,EAAcK,EAAYvpI,MAE9CopI,EAAMrwI,OAAOtC,EAAG,GAChBwyI,GAAc,E,EAMtBxyI,EAAI,EAEJ2yI,EAAM3oI,SAAQ,SAAC9E,GACb,IAAI6tI,EAAoBliE,EAAS/8B,EAAa,EAC9C5uC,EAAE0tI,QAAQ5oI,SAAQ,WAChBs5D,EAAOtjE,GAAGoT,EAAIlO,EAAE2tI,IAAME,EACtBA,GAAqBj/F,EACrB9zC,GACF,GACF,IAEA,IAAM0vH,EAAY,CAAC,E,IACnB,IAAyB,eAAAuC,GAAW,8BAAE,CAAjC,IAAM3gD,EAAU,QACnBo+C,EAAUp+C,EAAWxoE,IAAI,OAASwoE,C,mGAIpChO,EAAOt5D,SAAQ,SAACw5D,GACd,IAAMwvE,EAAQxvE,EAAMtgE,EAAIsgE,EAAMtgE,EACxB+vI,EAASvxI,KAAKkb,IAAIlb,KAAK0D,IAAIo+D,EAAMpwD,EAAIokC,EAAOpkC,GAAI,GACtD,GAAI4/H,EAAQC,EACVzvE,EAAMrwD,EAAIqkC,EAAOrkC,MACZ,CACL,IAAM42B,EAAKroC,KAAKuU,KAAK+8H,EAAQC,GAM3BzvE,EAAMrwD,EALHo/H,EAKO/6F,EAAOrkC,EAAI42B,EAHXyN,EAAOrkC,EAAI42B,C,CAQzB,IAAMunC,EAAao+C,EAAUlsD,EAAM31C,IACnCyjD,EAAWpnD,KAAK,IAAKs5C,EAAMrwD,GAC3Bm+D,EAAWpnD,KAAK,IAAKs5C,EAAMpwD,GAG3B,IAAMy0D,EAAY9mE,EAAKuwE,EAAWvlD,eAAe,SAACnc,GAAQ,MAAoB,SAApBA,EAAI9G,IAAI,OAAR,IAEtD++D,IACFA,EAAU39C,KAAK,IAAKs5C,EAAMpwD,GAC1By0D,EAAU39C,KAAK,IAAKs5C,EAAMrwD,GAE9B,GACF,CAEM,SAAU+/H,GAAW9lE,EAAoB9J,EAAkB4hC,EAA6BvpC,GAC5F,GAAKyR,EAAM3vE,QAAW6lE,EAAO7lE,OAA7B,CAGA,IAAM+hD,EAAS4tB,EAAM,GAAKA,EAAM,GAAG5tB,OAAS,EACtC0uC,EAAa5qB,EAAO,GAAGx6D,IAAI,cAC3BiwD,EAASm1B,EAAWqB,YACpB/3C,EAAS02C,EAAWl0B,YAE1B,GAAIxa,EAAS,EAAG,CAEd,IAAM2zF,EAAa,GACbC,EAASr6E,EAASvZ,EAClB6zF,EAAuB,EAATD,EAA0B,EAAbD,EAC3BG,EAAY,CAChBh/H,MAAO45E,EAAW55E,MAClB2I,IAAKixE,EAAWjxE,KAIZs2H,EAAS,CACb,GACA,IAEFnmE,EAAMpjE,SAAQ,SAACqmH,GACRA,IAGuB,UAAxBA,EAAU37E,UAEZ6+F,EAAO,GAAGr0I,KAAKmxH,GAGfkjB,EAAO,GAAGr0I,KAAKmxH,GAEnB,IAEAkjB,EAAOvpI,SAAQ,SAACkqD,EAAM92D,GAEpB,IAAMo2I,EAA2BH,EAAcF,EAC3Cj/E,EAAKz2D,OAAS+1I,IAChBt/E,EAAKroC,MAAK,SAAC3qB,EAAGgE,GAEZ,OAAOA,EAAE,aAAehE,EAAE,YAC5B,IACAgzD,EAAK5xD,OAAOkxI,EAA0Bt/E,EAAKz2D,OAAS+1I,IAItDt/E,EAAKroC,MAAK,SAAC3qB,EAAGgE,GAEZ,OAAOhE,EAAEkS,EAAIlO,EAAEkO,CACjB,IAEAi/H,GAAc/uE,EAAQpP,EAAMi/E,EAAYG,EAAW97F,EAAQp6C,EAC7D,G,CAIFyC,EAAKutE,GAAO,SAACjwE,GACX,GAAIA,GAAQA,EAAKwvG,UAAW,CAC1B,IAAMrlF,EAAWnqB,EAAKqiD,OAChBpqC,EAAQjY,EAAKiY,MAEb0hC,EAAaw2C,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQ3jD,GAC1Dq+H,EAAanmD,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAASzxC,EAAW,EAAGlS,GACzEs+H,EAAQv2I,EAAKgW,EAAIrK,GAAI3L,EAAM,UAAW,GACtCw2I,EAAQx2I,EAAKiW,EAAItK,GAAI3L,EAAM,UAAW,GACtCupE,EAAW,CACfvzD,EAAGugI,EAAQhyI,KAAKiS,IAAIyB,GAASg9H,GAC7Bh/H,EAAGugI,EAAQjyI,KAAKoS,IAAIsB,GAASg9H,IAE1BlyI,EAAS/C,EAAKwvG,aAEjBxvG,EAAKwvG,UAAY,CAAC,GAEpBxvG,EAAKwvG,UAAUjiG,KAAO,CACpB,YAAKosC,EAAW3jC,GAChB,UAAG2jC,EAAW1jC,EAAC,aAAKqgI,EAAWtgI,GAC/B,UAAGsgI,EAAWrgI,EAAC,YAAIszD,EAASvzD,GAC5BuzD,EAAStzD,GACThH,KAAK,I,CAEX,G,CACF,CCrMM,SAAUimI,GACdjlE,EACAs/B,EACA4lC,GAEA,IAAMhvE,EAAS8J,EAAMruE,QAAO,SAAC5B,GAAS,OAACA,EAAKy2I,SAAN,IAGtCtwE,EAAOz3C,MAAK,SAAC3qB,EAAGgE,GAAM,OAAAhE,EAAEkS,EAAIlO,EAAEkO,CAAR,IAEtB,IAIIpT,EAJAwyI,GAAc,EACZ3hE,EAASyhE,EAAUthH,KACnB6iH,EAAOvB,EAAUrhH,KACnBwhH,EAAc/wI,KAAK0D,IAAIyrE,EAASgjE,GAGhC5iH,EAAO,EACPD,EAAOjsB,OAAO2tI,UACZC,EAAQrvE,EAAOz5D,KAAI,SAAC25D,GAOxB,OANIA,EAAMpwD,EAAI6d,IACZA,EAAOuyC,EAAMpwD,GAEXowD,EAAMpwD,EAAI4d,IACZA,EAAOwyC,EAAMpwD,GAER,CACLsxD,QAASlB,EAAMkB,QACfn7D,KAAMmjG,EACNkmC,QAAS,CAACpvE,EAAMpwD,EAAIy9D,GACpBgiE,IAAK,KAET,IAEA7hH,GAAQ6/C,EACJ5/C,EAAO4/C,EAAS4hE,IAClBA,EAAcxhH,EAAO4/C,GAGvB,MAAO2hE,EAAa,CAElBG,EAAM3oI,SAAQ,SAACyR,GACb,IAAM5e,GAAU6E,KAAKE,IAAI4G,MAAMwoB,EAAMvV,EAAIm3H,SAAWlxI,KAAKC,IAAI6G,MAAMwoB,EAAMvV,EAAIm3H,UAAY,EACzFn3H,EAAIo3H,IAAMnxI,KAAKE,IAAIF,KAAKC,IAAIqvB,EAAMn0B,EAAS4e,EAAIlS,KAAO,GAAIkpI,EAAch3H,EAAIlS,MAC5EkS,EAAIo3H,IAAMnxI,KAAKC,IAAI,EAAG8Z,EAAIo3H,IAC5B,IAGAL,GAAc,EACdxyI,EAAI2yI,EAAMl1I,OACV,MAAOuC,IACL,GAAIA,EAAI,EAAG,CACT,IAAM8yI,EAAcH,EAAM3yI,EAAI,GACxByb,EAAMk3H,EAAM3yI,GACd8yI,EAAYD,IAAMC,EAAYvpI,KAAOkS,EAAIo3H,MAE3CC,EAAYvpI,MAAQkS,EAAIlS,KACxBupI,EAAYF,QAAUE,EAAYF,QAAQtxI,OAAOma,EAAIm3H,SAGjDE,EAAYD,IAAMC,EAAYvpI,KAAOkpI,IACvCK,EAAYD,IAAMJ,EAAcK,EAAYvpI,MAE9CopI,EAAMrwI,OAAOtC,EAAG,GAChBwyI,GAAc,E,EAMtBxyI,EAAI,EAEJ2yI,EAAM3oI,SAAQ,SAAC9E,GACb,IAAI6tI,EAAoBliE,EAAS67B,EAAc,EAC/CxnG,EAAE0tI,QAAQ5oI,SAAQ,WAChBs5D,EAAOtjE,GAAGoT,EAAIlO,EAAE2tI,IAAME,EACtBA,GAAqBrmC,EACrB1sG,GACF,GACF,GACF,CC5EA,IAAMoyI,GAAS,EAMf,SAAS0B,GAAc32I,EAAiC+wF,GAEtD,IAAM12C,EAAS02C,EAAWl0B,YAEpBjB,EAASm1B,EAAWqB,YAE1B,GAAIpyF,GAAQA,EAAKwvG,UAAW,CAClB,IAAAv3F,EAA+BjY,EAAI,MAApB+2E,EAAgB/2E,EAAI,OAErC25C,EAAaw2C,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQ3jD,GAC1Ds+H,EAAQv2I,EAAKgW,EAAIrK,GAAI3L,EAAM,UAAW,IAAMuE,KAAKiS,IAAIyB,GAAS,EAAI,GAAK,GACvEu+H,EAAQx2I,EAAKiW,EAAItK,GAAI3L,EAAM,UAAW,IAAMuE,KAAKoS,IAAIsB,GAAS,EAAI,GAAK,GAEvEsxD,EAAW,CACfvzD,EAAGugI,EAAQhyI,KAAKiS,IAAIyB,GAASg9H,GAC7Bh/H,EAAGugI,EAAQjyI,KAAKoS,IAAIsB,GAASg9H,IAGzB2B,EAAkB52I,EAAKwvG,UAAU33D,OACjCtqC,EAAO,GACPq/B,EAAK28B,EAASvzD,EAAIqkC,EAAOrkC,EACzB62B,EAAK08B,EAAStzD,EAAIokC,EAAOpkC,EAC3Bs+B,EAAWhwC,KAAKkwC,KAAK5H,EAAKD,GAO9B,GALIA,EAAK,IACP2H,GAAYhwC,KAAK+D,KAIK,IAApBsuI,EAA2B,CACxB7zI,EAAS/C,EAAKwvG,aAEjBxvG,EAAKwvG,UAAY,CAAC,GAIpB,IAAI31D,EAAY,GAGX5hC,EAAQ,GAAKA,GAAS1T,KAAK+D,GAAK,GAAM2P,EAAkB,IAAV1T,KAAK+D,KAClDihE,EAAStzD,EAAI0jC,EAAW1jC,IAC1B4jC,EAAY,GAKZ5hC,GAAS,GAAKA,EAAQ1T,KAAK+D,GAAK,GAC9BihE,EAAStzD,EAAI0jC,EAAW1jC,IAC1B4jC,EAAY,GAKZ5hC,GAAS1T,KAAK+D,GAAK,GAAK2P,EAAQ1T,KAAK+D,IACnCqxC,EAAW1jC,EAAIszD,EAAStzD,IAC1B4jC,EAAY,IAKZ5hC,GAAS1T,KAAK+D,GAAK,GAAM2P,GAAS1T,KAAK+D,IAAM2P,EAAkB,IAAV1T,KAAK+D,KACxDqxC,EAAW1jC,EAAIszD,EAAStzD,IAC1B4jC,EAAY,GAIhB,IAAM1vB,EAAW4sD,EAAc,EAAI,EAAI,EAAIxyE,KAAKC,IAAIuyE,EAAc,EAAI,EAAG,GACnE8/D,EAAa1mD,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAASzxC,EAAUlS,GAErE6+H,EAAc3mD,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAASmb,EAAc,EAAGxiC,GAU7EwiG,EAAe,EAErBxpI,EAAKxL,KAAK,YAAK43C,EAAW3jC,EAAC,YAAI2jC,EAAW1jC,IAE1C1I,EAAKxL,KAAK,YAAK80I,EAAW7gI,EAAC,YAAI6gI,EAAW5gI,IAE1C1I,EAAKxL,KAAK,YAAKs4C,EAAOrkC,EAAC,YAAIqkC,EAAOpkC,EAAC,cAAM8gI,EAAY,YAAIl9F,EAAS,YAAIi9F,EAAY9gI,EAAC,YAAI8gI,EAAY7gI,IAEnG1I,EAAKxL,KAAK,YAAKwnE,EAASvzD,EAAC,YAAIuzD,EAAStzD,G,KACjC,CACC4gI,EAAa1mD,GACjB91C,EAAOrkC,EACPqkC,EAAOpkC,EACP2lD,GAAUmb,EAAc,EAAI,EAAI,EAAIxyE,KAAKC,IAAIuyE,EAAc,EAAI,EAAG,IAClE9+D,GAJF,IAQM++H,EAAQr9F,EAAW3jC,EAAIqkC,EAAOrkC,EAAI,GAAK,EAE7CzI,EAAKxL,KAAK,YAAKwnE,EAASvzD,EAAC,YAAIuzD,EAAStzD,IACtC,IAAMghI,GAAUt9F,EAAW1jC,EAAIokC,EAAOpkC,IAAM0jC,EAAW3jC,EAAIqkC,EAAOrkC,GAC5DkhI,GAAU3tE,EAAStzD,EAAIokC,EAAOpkC,IAAMszD,EAASvzD,EAAIqkC,EAAOrkC,GAC1DzR,KAAK0D,IAAIgvI,EAASC,GAAU3yI,KAAKkb,IAAIlb,KAAK03C,GAAI,KAEhD1uC,EAAKxL,KAAI,MAATwL,EACK,CACD,IACAg8D,EAASvzD,EAAY,EAARghI,EACbztE,EAAStzD,EACT,EAAI4gI,EAAW7gI,EAAI2jC,EAAW3jC,EAC9B,EAAI6gI,EAAW5gI,EAAI0jC,EAAW1jC,EAC9B0jC,EAAW3jC,EACX2jC,EAAW1jC,IAKjB1I,EAAKxL,KAAK,YAAK43C,EAAW3jC,EAAC,YAAI2jC,EAAW1jC,G,CAE5CjW,EAAKwvG,UAAUjiG,KAAOA,EAAK0B,KAAK,I,CAEpC,CAKM,SAAUkoI,GACdzwB,EACAvgD,EACA4hC,EACAvpC,G,QAEMyR,EAAQruE,EAAO8kH,GAAe,SAAC1mH,GAAS,OAACsC,EAAMtC,EAAP,IAExC+wF,EAAa5qB,EAAO,IAAMA,EAAO,GAAGx6D,IAAI,cAC9C,GAAKolF,EAAL,CAKA,IAAM12C,EAAS02C,EAAWl0B,YAEpBjB,EAASm1B,EAAWqB,YAEpBmgC,EAA8C,CAAC,E,IACrD,IAAyB,eAAApsD,GAAM,8BAAE,CAA5B,IAAMgO,EAAU,QACnBo+C,EAAUp+C,EAAWxoE,IAAI,OAASwoE,C,mGAIpC,IAAMo7B,EAAsB5jG,GAAIskE,EAAM,GAAI,cAAe,IACnD8G,EAAsBprE,GAAIskE,EAAM,GAAI,SAAU,GAEpD,KAAI8G,GAAe,GAAnB,CAIA,IAAMqgE,EAAgB,OAChBC,EAAiB,QAEjBC,EAAiB7wI,GAAQwpE,GAAO,SAACjwE,GAAS,OAACA,EAAKgW,EAAIqkC,EAAOrkC,EAAIohI,EAAgBC,CAArC,IAExClgI,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAE3BukD,EAAc/wI,KAAKE,IAA2C,GAAtCm3D,EAASmb,EAAcw4B,GAAkBxe,EAAWnlB,aAC5EqqE,EAASX,EAAc,EAGvBiC,EAAuB,CAC3B7jH,KAAMvc,EAAMnB,EACZ4d,KAAM9T,EAAI9J,EACV6d,KAAMwmB,EAAOpkC,EAAIggI,EACjBniH,KAAMumB,EAAOpkC,EAAIggI,GAInBvzI,EAAK40I,GAAgB,SAACvgF,EAAM72D,GAC1B,IAAMm2I,EAA2B9xI,KAAKye,MAAMsyH,EAAc/lC,GACtDx4C,EAAKz2D,OAAS+1I,IAChBt/E,EAAKroC,MAAK,SAAC3qB,EAAGgE,GAEZ,OAAOA,EAAE68C,QAAU7gD,EAAE6gD,OACvB,IAEAliD,EAAKq0D,GAAM,SAACm8D,EAA2B1lH,GACjCA,EAAM,EAAI6oI,IACZ9jB,EAAUW,EAAUxiG,IAAIzqB,IAAI,WAAW,GACvCitH,EAAUujB,WAAY,EAE1B,KAEFvB,GAAcn+E,EAAMw4C,EAAagoC,EACnC,IAEA70I,EAAK40I,GAAgB,SAACvgF,EAAwB72D,GAC5CwC,EAAKq0D,GAAM,SAAC/2D,GACV,IAAMo1I,EAAUl1I,IAAQm3I,EAClBljE,EAAao+C,EAAUvyH,EAAK0wB,IAG5B62C,EAAU4M,EAAW/+C,gBAAgB,GAG3C,GAAImyC,EAAS,CACX,IAAMxhE,EAAI61D,EAASmb,EAEblqC,EAAK7sC,EAAKiW,EAAIokC,EAAOpkC,EAErB4/H,EAAQtxI,KAAKkb,IAAI1Z,EAAG,GACpB+vI,EAASvxI,KAAKkb,IAAIotB,EAAI,GACtB2qG,EAAS3B,EAAQC,EAAS,EAAID,EAAQC,EAAS,EAC/ClpG,EAAKroC,KAAKuU,KAAK0+H,GAEfC,EAAYlzI,KAAK0D,IAAI1D,KAAKiS,IAAIxW,EAAKiY,OAASlS,GAMhD/F,EAAKgW,EALFo/H,EAKM/6F,EAAOrkC,EAAIzR,KAAKC,IAAIooC,EAAI6qG,GAHxBp9F,EAAOrkC,EAAIzR,KAAKC,IAAIooC,EAAI6qG,E,CAQjClwE,IACFA,EAAQx6C,KAAK,IAAK/sB,EAAKiW,GACvBsxD,EAAQx6C,KAAK,IAAK/sB,EAAKgW,IAGzB2gI,GAAc32I,EAAM+wF,EACtB,GACF,G,EACF,CC7OA,IAAM2mD,GAAoB,EAEpBC,GAAiB,EAEjBC,GAAyB,EAE/B,SAASjB,GAAc32I,EAAsB+wF,EAAwB8mD,GAEnE,IAAMx9F,EAAS02C,EAAWl0B,YAEpBjB,EAASm1B,EAAWqB,YACpBz4C,EAAa,CACjB3jC,EAAGhW,EAAKgW,GAAK6hI,EAAUD,IAA0BA,IACjD3hI,EAAGjW,EAAKiW,GAEJ6hI,EAAkB3nD,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAS87E,GAAmB13I,EAAKiY,OACxFiE,EAAK,CAAElG,EAAG2jC,EAAW3jC,EAAGC,EAAG0jC,EAAW1jC,GACtCmE,EAAK,CAAEpE,EAAG8hI,EAAgB9hI,EAAGC,EAAG6hI,EAAgB7hI,GAEhDszD,EAAW4mB,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQ57D,EAAKiY,OAC/D1K,EAAO,GAGX,GAAIosC,EAAW1jC,IAAM6hI,EAAgB7hI,EAAG,CACtC,IAAMosC,EAASw1F,EAAU,GAAK,EAC9B37H,EAAGjG,EAAI0jC,EAAW1jC,EAGdjW,EAAKiY,MAAQ,GAAKjY,EAAKiY,QAAU1T,KAAK+D,GAAK,IAC7C4T,EAAGlG,EAAIzR,KAAKC,IAAIszI,EAAgB9hI,EAAG2jC,EAAW3jC,EAAIqsC,GAC9C1I,EAAW1jC,EAAI6hI,EAAgB7hI,EACjCmE,EAAGnE,EAAIiG,EAAGjG,GAEVmE,EAAGnE,EAAI6hI,EAAgB7hI,EACvBmE,EAAGpE,EAAIzR,KAAKC,IAAI4V,EAAGpE,EAAGkG,EAAGlG,EAAIqsC,KAI7BriD,EAAKiY,MAAQ,GAAKjY,EAAKiY,MAAQ1T,KAAK+D,GAAK,IAC3C4T,EAAGlG,EAAIzR,KAAKC,IAAIszI,EAAgB9hI,EAAG2jC,EAAW3jC,EAAIqsC,GAC9C1I,EAAW1jC,EAAI6hI,EAAgB7hI,EACjCmE,EAAGnE,EAAIiG,EAAGjG,GAEVmE,EAAGnE,EAAI6hI,EAAgB7hI,EACvBmE,EAAGpE,EAAIzR,KAAKC,IAAI4V,EAAGpE,EAAGkG,EAAGlG,EAAIqsC,KAI7BriD,EAAKiY,MAAQ1T,KAAK+D,GAAK,IACzB4T,EAAGlG,EAAIzR,KAAKE,IAAIqzI,EAAgB9hI,EAAG2jC,EAAW3jC,EAAIqsC,GAC9C1I,EAAW1jC,EAAI6hI,EAAgB7hI,EACjCmE,EAAGnE,EAAIiG,EAAGjG,GAEVmE,EAAGnE,EAAI6hI,EAAgB7hI,EACvBmE,EAAGpE,EAAIzR,KAAKE,IAAI2V,EAAGpE,EAAGkG,EAAGlG,EAAIqsC,KAI7BriD,EAAKiY,OAAS1T,KAAK+D,GAAK,IAC1B4T,EAAGlG,EAAIzR,KAAKE,IAAIqzI,EAAgB9hI,EAAG2jC,EAAW3jC,EAAIqsC,GAC9C1I,EAAW1jC,EAAI6hI,EAAgB7hI,EACjCmE,EAAGnE,EAAIiG,EAAGjG,GAEVmE,EAAGnE,EAAI6hI,EAAgB7hI,EACvBmE,EAAGpE,EAAIzR,KAAKE,IAAI2V,EAAGpE,EAAGkG,EAAGlG,EAAIqsC,I,CAKnC90C,EAAO,CACL,YAAKosC,EAAW3jC,EAAC,YAAI2jC,EAAW1jC,GAChC,YAAKiG,EAAGlG,EAAC,YAAIkG,EAAGjG,GAChB,YAAKmE,EAAGpE,EAAC,YAAIoE,EAAGnE,GAChB,YAAK6hI,EAAgB9hI,EAAC,YAAI8hI,EAAgB7hI,GAC1C,YAAKszD,EAASvzD,EAAC,YAAIuzD,EAAStzD,IAC5BhH,KAAK,KACPjP,EAAKwvG,UAAYtjG,GAAQ,CAAC,EAAGlM,EAAKwvG,UAAW,CAAEjiG,KAAI,GACrD,CAMM,SAAUwqI,GAAqB9nE,EAAoB9J,EAAkB4hC,EAA6BvpC,G,QAEhGuyB,EAAa5qB,EAAO,IAAMA,EAAO,GAAGx6D,IAAI,cAC9C,GAAKolF,EAAL,CAKA,IAAM12C,EAAS02C,EAAWl0B,YAEpBjB,EAASm1B,EAAWqB,YAEpBmgC,EAA8C,CAAC,E,IACrD,IAAyB,eAAApsD,GAAM,8BAAE,CAA5B,IAAMgO,EAAU,QACnBo+C,EAAUp+C,EAAWxoE,IAAI,OAASwoE,C,mGAGpC,IAAMo7B,EAAsB5jG,GAAIskE,EAAM,GAAI,cAAe,IACnD8G,EAAsBxyE,KAAKC,IAAImH,GAAIskE,EAAM,GAAI,SAAU,GAAIynE,IAGjEh1I,EAAKutE,GAAO,SAACjwE,GACX,GAAKA,EAAL,CACA,IAAMqmE,EAAQ16D,GAAI4mH,EAAW,CAACvyH,EAAK0wB,KACnC,GAAK21C,EAAL,CAEA,IAAMwxE,EAAU73I,EAAKgW,EAAIqkC,EAAOrkC,GAAMhW,EAAKgW,IAAMqkC,EAAOrkC,GAAKhW,EAAKiW,EAAIokC,EAAOpkC,EACvE83B,EAAWzrC,EAAMtC,EAAK+tC,SAA0B4pG,GAAf33I,EAAK+tC,QACtC+pG,EAAkB3nD,GAAiB91C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAS87E,GAAmB13I,EAAKiY,OAExF+/H,EAAcjhE,EAAchpC,EAClC/tC,EAAKgW,EAAIqkC,EAAOrkC,GAAK6hI,EAAU,GAAK,IAAMj8E,EAASo8E,GACnDh4I,EAAKiW,EAAI6hI,EAAgB7hI,CARP,CAFD,CAWnB,IAEQ,IAAAkB,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAC3BqmD,EAAgB,OAChBC,EAAiB,QAEjBC,EAAiB7wI,GAAQwpE,GAAO,SAACjwE,GAAS,OAACA,EAAKgW,EAAIqkC,EAAOrkC,EAAIohI,EAAgBC,CAArC,IAG5C/B,EAAuC,GAAxB15E,EAASmb,GAAmBw4B,EAE/C7sG,EAAK40I,GAAgB,SAACvgF,GACpB,IAAMkhF,EAAalhF,EAAKz2D,OAASivG,EAC7B0oC,EAAa3C,IACfA,EAAc/wI,KAAKE,IAAIwzI,EAAY1zI,KAAK0D,IAAIkP,EAAMlB,EAAI6J,EAAI7J,IAE9D,IAGA,IAAMshI,EAAuB,CAC3B7jH,KAAMvc,EAAMnB,EACZ4d,KAAM9T,EAAI9J,EACV6d,KAAMwmB,EAAOpkC,EAAIq/H,EAAc,EAC/BxhH,KAAMumB,EAAOpkC,EAAIq/H,EAAc,GAIjC5yI,EAAK40I,GAAgB,SAACvgF,EAAM72D,GAC1B,IAAMm2I,EAA2Bf,EAAc/lC,EAC3Cx4C,EAAKz2D,OAAS+1I,IAChBt/E,EAAKroC,MAAK,SAAC3qB,EAAGgE,GAEZ,OAAOA,EAAE68C,QAAU7gD,EAAE6gD,OACvB,IAEAliD,EAAKq0D,GAAM,SAACm8D,EAA2B1lH,GACjCA,EAAM6oI,IACR9jB,EAAUW,EAAUxiG,IAAIzqB,IAAI,WAAW,GACvCitH,EAAUujB,WAAY,EAE1B,KAEFvB,GAAcn+E,EAAMw4C,EAAagoC,EACnC,IAEA,IAAM7jE,EAAS6jE,EAAqB1jH,KAC9B6iH,EAAOa,EAAqBzjH,KAGlCpxB,EAAK40I,GAAgB,SAACvgF,EAAM72D,GAC1B,IAAM23I,EAAU33I,IAAQm3I,EAExB30I,EAAKq0D,GAAM,SAAC/2D,GACV,IAAMqmE,EAAgB16D,GAAI4mH,EAAWvyH,GAAQ,CAACA,EAAK0wB,KACnD,GAAK21C,EAIL,GAAIrmE,EAAKiW,EAAIy9D,GAAU1zE,EAAKiW,EAAIygI,EAC9BrwE,EAAMpgE,IAAI,WAAW,OADvB,CAKA,IAAMsvH,EAAelvD,EAAMjxC,gBAAgB,GACrC9W,EAAMi3G,EAAarhG,gBACnBgkH,EAAc,CAAEliI,EAAG6hI,EAAUv5H,EAAItI,EAAIsI,EAAIsV,KAAM3d,EAAGqI,EAAIrI,EAAIqI,EAAIxL,OAAS,GAE7E6f,GAAU4iG,EAAqBv1H,EAAKgW,EAAIkiI,EAAYliI,EAA6BhW,EAAKiW,EAAIiiI,EAAYjiI,GAGlGjW,EAAKwvG,WACPmnC,GAAc32I,EAAM+wF,EAAY8mD,E,CAEpC,GACF,G,CACF,CC7LM,SAAUM,GAAcloE,EAAoB9J,EAAkB4hC,EAA6BvpC,GAC/F97D,EAAKyjE,GAAQ,SAACE,GACJ,IAAM+xE,EAAqE55E,EAAM,KAAzD65E,EAAmD75E,EAAM,KAAvC85E,EAAiC95E,EAAM,KAArB+5E,EAAe/5E,EAAM,KACnF,EAAkD6H,EAAMnyC,gBAAtDR,EAAI,OAAEG,EAAI,OAAED,EAAI,OAAEE,EAAI,OAAE9d,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SAE/C0lI,EAASxiI,EACTyiI,EAASxiI,GACTyd,EAAO0kH,GAAcxkH,EAAOwkH,KAE9BI,EAASJ,IAEPvkH,EAAOwkH,GAAcvkH,EAAOukH,KAE9BI,EAASJ,GAGP3kH,EAAO4kH,EAETE,EAASF,EAAanpI,EACbykB,EAAO0kH,IAEhBE,GAAmB5kH,EAAO0kH,GAGxBzkH,EAAO0kH,EAETE,EAASF,EAAazlI,EACbghB,EAAOykH,IAEhBE,GAAmB3kH,EAAOykH,GAGxBC,IAAWxiI,GAAKyiI,IAAWxiI,GAC7B0c,GAAU0zC,EAAOmyE,EAASxiI,EAAGyiI,EAASxiI,EAE1C,GACF,CCvCM,SAAUyiI,GAAazoE,EAAoB9J,EAAkB4hC,EAA6BvpC,GAC9F97D,EAAKyjE,GAAQ,SAACE,EAAOpmE,GACnB,IAAM4oH,EAAYxiD,EAAMnyC,gBAClB8nE,EAAY+L,EAAO9nG,GAAOg0B,WAE9B40F,EAAUn1F,KAAOsoE,EAAUtoE,MAC3Bm1F,EAAUh1F,KAAOmoE,EAAUnoE,MAC3Bg1F,EAAUj1F,KAAOooE,EAAUpoE,MAC3Bi1F,EAAU/0F,KAAOkoE,EAAUloE,OAE3BuyC,EAAM3gE,QAAO,EAEjB,GACF,CCjBA,IAAMizI,GAAY,IAmBlB,cAOE,WAAYtkI,QAAA,IAAAA,IAAAA,EAAAA,CAAAA,GAFJ,KAAAukI,OAAiB,CAAC,EAGhB,MAAuBvkI,EAAG,KAA1BwkI,OAAI,IAAG,IAAC,EAAEvoH,EAAajc,EAAG,KAAhBykI,OAAI,IAAG,IAAC,EAC1B17I,KAAKy7I,KAAOA,EACZz7I,KAAK07I,KAAOA,CACd,CAsEF,OApESC,EAAAA,UAAAA,OAAP,SAAc36H,GAOZ,IANA,IAAI46H,GAAS,EACPJ,EAASx7I,KAAKw7I,OACdllH,EAAOnvB,KAAKgD,MAAM6W,EAAKsV,MACvBE,EAAOrvB,KAAKgD,MAAM6W,EAAKwV,MACvBC,EAAOtvB,KAAKgD,MAAM6W,EAAKyV,MACvBC,EAAOvvB,KAAKgD,MAAM6W,EAAK0V,MACpBjxB,EAAI6wB,EAAM7wB,GAAK+wB,EAAM/wB,GAAK,EACjC,GAAK+1I,EAAO/1I,IAIZ,GAAIA,IAAM6wB,GAAQ7wB,IAAM+wB,GACtB,IAAK,IAAIztB,EAAI0tB,EAAM1tB,GAAK2tB,EAAM3tB,IAC5B,GAAIyyI,EAAO/1I,GAAGsD,GAAI,CAChB6yI,GAAS,EACT,K,OAIJ,GAAIJ,EAAO/1I,GAAGgxB,IAAS+kH,EAAO/1I,GAAGixB,GAAO,CACtCklH,GAAS,EACT,K,OAbFJ,EAAO/1I,GAAK,CAAC,EAiBjB,OAAOm2I,CACT,EAEOD,EAAAA,UAAAA,QAAP,SAAe36H,GAOb,IANA,IAAMw6H,EAASx7I,KAAKw7I,OACdllH,EAAOnvB,KAAKgD,MAAM6W,EAAKsV,MACvBE,EAAOrvB,KAAKgD,MAAM6W,EAAKwV,MACvBC,EAAOtvB,KAAKgD,MAAM6W,EAAKyV,MACvBC,EAAOvvB,KAAKgD,MAAM6W,EAAK0V,MAEpBjxB,EAAI6wB,EAAM7wB,GAAK+wB,EAAM/wB,GAAK,EAC5B+1I,EAAO/1I,KACV+1I,EAAO/1I,GAAK,CAAC,GAGjB,IAASA,EAAI6wB,EAAM7wB,GAAK+wB,EAAM/wB,GAAKzF,KAAKy7I,KAAM,CAC5C,IAAK,IAAI1yI,EAAI0tB,EAAM1tB,GAAK2tB,EAAM3tB,GAAK/I,KAAK07I,KACtCF,EAAO/1I,GAAGsD,IAAK,EAEjByyI,EAAO/1I,GAAGixB,IAAQ,C,CAIpB,GAAkB,IAAd12B,KAAK07I,KACP,IAASj2I,EAAIgxB,EAAMhxB,GAAKixB,EAAMjxB,GAAK,EACjC+1I,EAAOllH,GAAM7wB,IAAK,EAClB+1I,EAAOhlH,GAAM/wB,IAAK,EAKtB,GAAkB,IAAdzF,KAAKy7I,KACP,IAASh2I,EAAI6wB,EAAM7wB,GAAK+wB,EAAM/wB,GAAK,EACjC+1I,EAAO/1I,GAAGgxB,IAAQ,EAClB+kH,EAAO/1I,GAAGixB,IAAQ,CAGxB,EAEOilH,EAAAA,UAAAA,QAAP,WACE37I,KAAKw7I,OAAS,CAAC,CACjB,EACF,EAjFA,GAmFA,SAASK,GAAW5yE,EAAe6yE,EAAgBC,QAAA,IAAAA,IAAAA,EAAAA,IACjD,IAIIC,EAJEC,GAAM,EACN,EAAWhzE,EAAMt5C,OAAf/W,EAAC,IAAEC,EAAC,IACNmI,EAAOioD,EAAMnyC,gBACbolH,EAAW/0I,KAAKuU,KAAKsF,EAAKjP,MAAQiP,EAAKjP,MAAQiP,EAAKtL,OAASsL,EAAKtL,QAEpEyC,GAAK8jI,EACLzsG,EAAK,EACLC,EAAK,EACHziC,EAAI,SAACq6C,GACT,IAAM80F,EAAa,GAAR90F,EACX,MAAO,CAAC80F,EAAKh1I,KAAKiS,IAAI+iI,GAAKA,EAAKh1I,KAAKoS,IAAI4iI,GAC3C,EAEA,GAAIL,EAAOF,OAAO56H,GAEhB,OADA86H,EAAOM,QAAQp7H,IACR,EAET,IAAIwqH,GAAU,EACV6Q,EAAQ,EACNC,EAAgB,CAAC,EACvB,MAAOn1I,KAAKE,IAAIF,KAAK0D,IAAI2kC,GAAKroC,KAAK0D,IAAI4kC,IAAOysG,GAAYG,EAAQN,EAIhE,GAHAC,EAAOhvI,EAAGmL,GAAK8jI,GACfzsG,IAAOwsG,EAAK,GACZvsG,IAAOusG,EAAK,IACNxsG,GAAOC,KAAO6sG,EAAc,UAAG9sG,EAAE,YAAIC,MAG3Cw5B,EAAMt5C,KAAK,CAAE/W,EAAGA,EAAI42B,EAAI32B,EAAGA,EAAI42B,IAC3BD,EAAKC,EAAK,GACZw5B,EAAMt5C,KAAK,YAAa,SAE1B0sH,IACIP,EAAOF,OAAO3yE,EAAMnyC,kBAAkB,CACxCglH,EAAOM,QAAQnzE,EAAMnyC,iBACrB00G,GAAU,EACV8Q,EAAc,UAAG9sG,EAAE,YAAIC,KAAQ,EAC/B,K,CAGJ,OAAO+7F,CACT,CAYA,SAAS+Q,GAAoBtzE,EAAerwD,EAAWC,EAAWhW,GAC1D,MAAoBomE,EAAMnyC,gBAAxB/kB,EAAK,QAAE2D,EAAM,SACftV,EAAQ,CACZwY,EAAC,EACDC,EAAC,EACDshC,UAAW,UAEb,OAAQt3C,GACN,KAAK,EACHzC,EAAMyY,GAAKnD,EAAS,EACpBtV,EAAMwY,GAAK,EACXxY,EAAM+5C,UAAY,OAClB,MACF,KAAK,EACH/5C,EAAMyY,GAAKnD,EAAS,EACpBtV,EAAMwY,GAAK,EACXxY,EAAM+5C,UAAY,QAClB,MACF,KAAK,EACH/5C,EAAMyY,GAAKnD,EAAS,EACpBtV,EAAMwY,GAAK,EACXxY,EAAM+5C,UAAY,QAClB,MACF,KAAK,EACH/5C,EAAMyY,GAAKnD,EAAS,EACpBtV,EAAMwY,GAAK,EACXxY,EAAM+5C,UAAY,OAClB,MACF,KAAK,EACH/5C,EAAMyY,GAAc,EAATnD,EAAa,EACxB,MACF,KAAK,EACHtV,EAAMyY,GAAc,EAATnD,EAAa,EACxB,MACF,KAAK,EACHtV,EAAMwY,GAAK7G,EAAQ,EACnB3R,EAAM+5C,UAAY,OAClB,MACF,KAAK,EACH/5C,EAAMwY,GAAK7G,EAAQ,EACnB3R,EAAM+5C,UAAY,QAClB,MACF,QACE,MAGJ,OADA8uB,EAAMt5C,KAAKvvB,GACJ6oE,EAAMnyC,eACf,CAQM,SAAU0lH,GAAa3pE,EAAoB9J,EAAkB4hC,EAA6BvpC,GAC9F,IAAM06E,EAAS,IAAIH,GACnBr2I,EAAKyjE,GAAQ,SAACE,GACZ,IAAM8N,EAAa9N,EAAMziE,MAAK,SAACshB,GAAU,MAAsB,SAAtBA,EAAMvZ,IAAI,OAAV,IACpCstI,GAAW9kE,EAAY+kE,IAC1B7yE,EAAM3gE,QAAO,EAEjB,IACAwzI,EAAOrqH,SACT,CAOM,SAAUqmD,GAAQjF,EAAoB9J,EAAkB4hC,EAA6BvpC,GACzF,IAAM06E,EAAS,IAAIH,GACnBr2I,EAAKyjE,GAAQ,SAACE,GAIZ,IAHA,IAAM8N,EAAa9N,EAAMziE,MAAK,SAACshB,GAAU,MAAsB,SAAtBA,EAAMvZ,IAAI,OAAV,IACnC,EAAWwoE,EAAWpnD,OAApB/W,EAAC,IAAEC,EAAC,IACR2yH,GAAU,EACL/lI,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAMub,EAAOu7H,GAAoBxlE,EAAYn+D,EAAGC,EAAGpT,GACnD,GAAIq2I,EAAOF,OAAO56H,GAAO,CACvB86H,EAAOM,QAAQp7H,GACfwqH,GAAU,EACV,K,EAGCA,GACHviE,EAAM3gE,QAAO,EAEjB,IAEAwzI,EAAOrqH,SACT,CCxOA,SAASvE,GAAIvmB,EAAGgE,GACd,OAAQhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,IAAMhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,IAAMhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,EACxF,CAMA,SAAS8xI,GAAQl4H,GAEf,GAAIA,EAAOrhB,OAAS,EAClB,MAAO,GAGT,IAAMi1C,EAAS,SAACp+B,EAAc2I,GAC5B,MAAO,CAACA,EAAI9J,EAAImB,EAAMnB,EAAG8J,EAAI7J,EAAIkB,EAAMlB,EACzC,EAGM6jI,EAAKvkG,EAAO5zB,EAAO,GAAIA,EAAO,IAC9Bo4H,EAAKxkG,EAAO5zB,EAAO,GAAIA,EAAO,IAEpC,MAAO,CAACm4H,EAAIC,EACd,CAOA,SAASvc,GAAc9xF,EAAcsuG,EAAS7xB,QAAT,IAAA6xB,IAAAA,EAAM,QAAG,IAAA7xB,IAAAA,EAAS,CAAEnyG,EAAG,EAAGC,EAAG,IACxD,IAAAD,EAAS01B,EAAK,EAAXz1B,EAAMy1B,EAAK,EACtB,MAAO,CACL11B,GAAIA,EAAImyG,EAAOnyG,GAAKzR,KAAKiS,KAAKwjI,IAAQ/jI,EAAIkyG,EAAOlyG,GAAK1R,KAAKoS,KAAKqjI,GAAO7xB,EAAOnyG,EAC9EC,GAAIkyG,EAAOnyG,EAAIA,GAAKzR,KAAKoS,KAAKqjI,IAAQ/jI,EAAIkyG,EAAOlyG,GAAK1R,KAAKiS,KAAKwjI,GAAO7xB,EAAOlyG,EAElF,CAQA,SAASu4H,GAAclwH,GACrB,IAAMqD,EAAS,CACb,CAAE3L,EAAGsI,EAAItI,EAAGC,EAAGqI,EAAIrI,GACnB,CAAED,EAAGsI,EAAItI,EAAIsI,EAAInP,MAAO8G,EAAGqI,EAAIrI,GAC/B,CAAED,EAAGsI,EAAItI,EAAIsI,EAAInP,MAAO8G,EAAGqI,EAAIrI,EAAIqI,EAAIxL,QACvC,CAAEkD,EAAGsI,EAAItI,EAAGC,EAAGqI,EAAIrI,EAAIqI,EAAIxL,SAGvBsgH,EAAW90G,EAAI80G,SACrB,OAAIA,EACK,CACLoK,GAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,GAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,GAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,GAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,KAIvCA,CACT,CASA,SAASs4H,GAAct4H,EAAgC4nF,GAErD,GAAI5nF,EAAOrhB,OAAS,EAClB,MAAO,CAAEmE,IAAK,EAAGD,IAAK,GAGxB,IAAM01I,EAAU,GAKhB,OAJAv4H,EAAO9U,SAAQ,SAAC6+B,GACdwuG,EAAQn4I,KAAKuoB,GAAI,CAACohB,EAAM11B,EAAG01B,EAAMz1B,GAAIszF,GACvC,IAEO,CAAE9kG,IAAKF,KAAKE,IAAG,MAARF,MAAI,oBAAQ21I,IAAU,IAAA11I,IAAKD,KAAKC,IAAG,MAARD,MAAI,oBAAQ21I,IAAO,IAC9D,CAEA,SAASC,GAAoBC,EAAyBC,GACpD,OAAOD,EAAY51I,IAAM61I,EAAY51I,KAAO21I,EAAY31I,IAAM41I,EAAY71I,GAC5E,CAEA,SAAS81I,GAAcxkI,GACrB,MAAoB,kBAANA,IAAmBlO,OAAO/C,MAAMiR,IAAMA,IAAM6d,KAAY7d,KAAO6d,GAC/E,CAEA,SAAS4mH,GAAWj8H,GAClB,MAAO,CAAC,IAAK,IAAK,QAAS,UAAU/X,OAAM,SAAAwmB,GAAQ,OAAAutH,GAAch8H,EAAIyO,GAAlB,GACrD,CAKM,SAAUytH,GAAgB39F,EAAYC,EAAY2F,GACtD,YADsD,IAAAA,IAAAA,EAAAA,KAEpD3F,EAAK9mC,EAAI6mC,EAAK7mC,EAAI6mC,EAAK1tC,MAAQszC,GAC/B3F,EAAK9mC,EAAI8mC,EAAK3tC,MAAQ0tC,EAAK7mC,EAAIysC,GAC/B3F,EAAK7mC,EAAI4mC,EAAK5mC,EAAI4mC,EAAK/pC,OAAS2vC,GAChC3F,EAAK7mC,EAAI6mC,EAAKhqC,OAAS+pC,EAAK5mC,EAAIwsC,EAEpC,CAQM,SAAU5kC,GAAUg/B,EAAYC,EAAY2F,GAEhD,QAFgD,IAAAA,IAAAA,EAAAA,IAE3C83F,GAAW19F,KAAU09F,GAAWz9F,GAAO,OAAO,EAGnD,IAAKD,EAAKu2E,WAAat2E,EAAKs2E,SAC1B,OAAOonB,GAAgB39F,EAAMC,EAAM2F,GAUrC,IANA,IAAMg4F,EAAcjM,GAAc3xF,GAC5B69F,EAAclM,GAAc1xF,GAG5Bo4C,EAAO2kD,GAAQY,GAAat2I,OAAO01I,GAAQa,IAExC73I,EAAI,EAAGA,EAAIqyF,EAAK50F,OAAQuC,IAAK,CACpC,IAAM0mG,EAAOrU,EAAKryF,GACZu3I,EAAcH,GAAcQ,EAAalxC,GACzC8wC,EAAcJ,GAAcS,EAAanxC,GAG/C,IAAK4wC,GAAoBC,EAAaC,GACpC,OAAO,C,CAIX,OAAO,CACT,C,gBChKA,cAIE,WAAYM,GAAZ,WAHA,KAAAC,MAAe,GAIbx9I,KAAKy9I,OAAS,IAAIC,OAAOH,GACzBv9I,KAAKy9I,OAAOE,UAAY,SAACtkH,G,MACL,QAAlB,IAAKmkH,MAAMv/H,eAAO,SAAE2/H,QAAQvkH,EAC9B,EACAr5B,KAAKy9I,OAAOI,eAAiB,SAACxkH,G,MAC5B6jC,GAAQC,KAAK,yCACK,QAAlB,IAAKqgF,MAAMv/H,eAAO,SAAE6/H,OAAOzkH,EAC7B,CACF,CAiBF,OAfE0kH,EAAAA,UAAAA,KAAA,SAAKxlI,EAAQylI,GAAb,WACE,OAAO,IAAIxmB,SAAQ,SAAComB,EAASE,GAC3B/mI,EAAKymI,MAAM74I,KAAK,CAAEi5I,QAAO,EAAEE,OAAM,IACjC,IACE/mI,EAAK0mI,OAAOQ,YAAY1lI,E,CACxB,MAAO8gB,GACP6jC,GAAQC,KAAK,yCACbl3D,EAAW+3I,IAAYA,G,CAE3B,GACF,EAEAD,EAAAA,UAAAA,QAAA,WACE/9I,KAAKy9I,OAAOS,WACd,EACF,EA9BA,GAgCM,SAAUC,GAAanxI,GAC3B,GAAsB,qBAAXJ,OAAX,CAEA,IAAIwxI,EACJ,IACEA,EAAO,IAAIC,KAAK,CAACrxI,EAAElI,YAAa,CAAEE,KAAM,0B,CACxC,MAAOq0B,GAEP+kH,EAAO,IAAIxxI,OAAO0xI,YAClBF,EAAKG,OAAOvxI,EAAElI,YACds5I,EAAOA,EAAKI,S,CAGd,OAAO,IAAIT,GAASU,IAAIC,gBAAgBN,GAZC,CAa3C,CChDA,IAAMT,GAAY,SAAUtkH,GAW1B,SAASslH,IAUP,SAASzxH,EAAIvmB,EAAGgE,GACd,OAAQhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,IAAMhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,IAAMhE,EAAE,IAAM,IAAMgE,EAAE,IAAM,EACxF,CAIA,SAAS8xI,EAAQl4H,GAEf,GAAIA,EAAOrhB,OAAS,EAClB,MAAO,GAGT,IAAMi1C,EAAS,SAACp+B,EAAc2I,GAC5B,MAAO,CAACA,EAAI9J,EAAImB,EAAMnB,EAAG8J,EAAI7J,EAAIkB,EAAMlB,EACzC,EAGM6jI,EAAKvkG,EAAO5zB,EAAO,GAAIA,EAAO,IAC9Bo4H,EAAKxkG,EAAO5zB,EAAO,GAAIA,EAAO,IAEpC,MAAO,CAACm4H,EAAIC,EACd,CAMA,SAASvc,EAAc9xF,EAAcsuG,EAAS7xB,QAAT,IAAA6xB,IAAAA,EAAM,QAAG,IAAA7xB,IAAAA,EAAS,CAAEnyG,EAAG,EAAGC,EAAG,IACxD,IAAAD,EAAS01B,EAAK,EAAXz1B,EAAMy1B,EAAK,EACtB,MAAO,CACL11B,GAAIA,EAAImyG,EAAOnyG,GAAKzR,KAAKiS,KAAKwjI,IAAQ/jI,EAAIkyG,EAAOlyG,GAAK1R,KAAKoS,KAAKqjI,GAAO7xB,EAAOnyG,EAC9EC,GAAIkyG,EAAOnyG,EAAIA,GAAKzR,KAAKoS,KAAKqjI,IAAQ/jI,EAAIkyG,EAAOlyG,GAAK1R,KAAKiS,KAAKwjI,GAAO7xB,EAAOlyG,EAElF,CAQA,SAASu4H,EAAclwH,GACrB,IAAMqD,EAAS,CACb,CAAE3L,EAAGsI,EAAItI,EAAGC,EAAGqI,EAAIrI,GACnB,CAAED,EAAGsI,EAAItI,EAAIsI,EAAInP,MAAO8G,EAAGqI,EAAIrI,GAC/B,CAAED,EAAGsI,EAAItI,EAAIsI,EAAInP,MAAO8G,EAAGqI,EAAIrI,EAAIqI,EAAIxL,QACvC,CAAEkD,EAAGsI,EAAItI,EAAGC,EAAGqI,EAAIrI,EAAIqI,EAAIxL,SAGvBsgH,EAAW90G,EAAI80G,SACrB,OAAIA,EACK,CACLoK,EAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,EAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,EAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,IAC1C67G,EAAc77G,EAAO,GAAIyxG,EAAUzxG,EAAO,KAIvCA,CACT,CAQA,SAASs4H,EAAct4H,EAAgC4nF,GAErD,GAAI5nF,EAAOrhB,OAAS,EAClB,MAAO,CAAEmE,IAAK,EAAGD,IAAK,GAGxB,IAAM01I,EAAU,GAKhB,OAJAv4H,EAAO9U,SAAQ,SAAC6+B,GACdwuG,EAAQn4I,KAAKuoB,EAAI,CAACohB,EAAM11B,EAAG01B,EAAMz1B,GAAIszF,GACvC,IAEO,CAAE9kG,IAAKF,KAAKE,IAAI4G,MAAM,KAAM6uI,GAAU11I,IAAKD,KAAKC,IAAI6G,MAAM,KAAM6uI,GACzE,CAEA,SAASC,EAAoBC,EAAyBC,GACpD,OAAOD,EAAY51I,IAAM61I,EAAY51I,KAAO21I,EAAY31I,IAAM41I,EAAY71I,GAC5E,CAEA,SAAS81I,EAAcxkI,GACrB,MAAoB,kBAANA,IAAmBlO,OAAO/C,MAAMiR,IAAMA,IAAM6d,KAAY7d,KAAO6d,GAC/E,CAEA,SAAS4mH,EAAWj8H,GAClB,MAAO,CAAC,IAAK,IAAK,QAAS,UAAU/X,OAAM,SAAAwmB,GAAQ,OAAAutH,EAAch8H,EAAIyO,GAAlB,GACrD,CAEA,SAASytH,EAAgB39F,EAAYC,EAAY2F,GAC/C,YAD+C,IAAAA,IAAAA,EAAAA,KAE7C3F,EAAK9mC,EAAI6mC,EAAK7mC,EAAI6mC,EAAK1tC,MAAQszC,GAC/B3F,EAAK9mC,EAAI8mC,EAAK3tC,MAAQ0tC,EAAK7mC,EAAIysC,GAC/B3F,EAAK7mC,EAAI4mC,EAAK5mC,EAAI4mC,EAAK/pC,OAAS2vC,GAChC3F,EAAK7mC,EAAI6mC,EAAKhqC,OAAS+pC,EAAK5mC,EAAIwsC,EAEpC,CACA,SAAS5kC,EAAUg/B,EAAYC,EAAY2F,GACzC,QADyC,IAAAA,IAAAA,EAAAA,IACpC83F,EAAW19F,KAAU09F,EAAWz9F,GAAO,OAAO,EAGnD,IAAKD,EAAKu2E,WAAat2E,EAAKs2E,SAC1B,OAAOonB,EAAgB39F,EAAMC,EAAM2F,GAUrC,IANA,IAAMg4F,EAAcjM,EAAc3xF,GAC5B69F,EAAclM,EAAc1xF,GAG5Bo4C,EAAO2kD,EAAQY,GAAat2I,OAAO01I,EAAQa,IAExC73I,EAAI,EAAGA,EAAIqyF,EAAK50F,OAAQuC,IAAK,CACpC,IAAM0mG,EAAOrU,EAAKryF,GACZu3I,EAAcH,EAAcQ,EAAalxC,GACzC8wC,EAAcJ,EAAcS,EAAanxC,GAE/C,IAAK4wC,EAAoBC,EAAaC,GAAc,OAAO,C,CAG7D,OAAO,CACT,CACA,MAAO,CAAEx8H,UAAS,EACpB,CACQ,IAAAA,EAAck+H,IAAe,UAGrC,SAASC,EAAY/rE,GAEnB,IADA,IAAMulE,EAAQvlE,EAAMnnE,QACXjG,EAAI,EAAGA,EAAI2yI,EAAMl1I,OAAQuC,IAAK,CACrC,IAAMg6C,EAAO24F,EAAM3yI,GACnB,GAAIg6C,EAAKtoC,QACP,IAAK,IAAIpO,EAAItD,EAAI,EAAGsD,EAAIqvI,EAAMl1I,OAAQ6F,IAAK,CACzC,IAAM22C,EAAO04F,EAAMrvI,GACf02C,IAASC,GAAQA,EAAKvoC,SACpBsJ,EAAUg/B,EAAMC,KAClBA,EAAKvoC,SAAU,E,EAMzB,OAAOihI,CACT,CAEA,IAAMyG,EAAU,CACd,eAAgBD,GAIlB,IACE,IAAME,EAAYC,KAAKxtF,MAAMl4B,EAAExyB,MAC/B,IAAKi4I,IAAcA,EAAU95I,OAAS65I,EAAQC,EAAU95I,MAAO,OAEvD,IAAAA,EAAgB85I,EAAS,KAAnBjsE,EAAUisE,EAAS,MAC3Bp6I,EAASm6I,EAAQ75I,GAAM6tE,GAC7BO,KAAK6qE,YAAYv5I,E,CACjB,MAAO20B,GACP,MAAMA,C,CAEV,EAEM+vC,GAAO,gCACSu0E,GAAU74I,WAAU,M,YC5KpC04E,GAAS,SAAC3K,GAEd,IADA,IAAMulE,EAAQvlE,EAAMnnE,QACXjG,EAAI,EAAGA,EAAI2yI,EAAMl1I,OAAQuC,IAAK,CACrC,IAAMg6C,EAAO24F,EAAM3yI,GACnB,GAAIg6C,EAAKtoC,QACP,IAAK,IAAIpO,EAAItD,EAAI,EAAGsD,EAAIqvI,EAAMl1I,OAAQ6F,IAAK,CACzC,IAAM22C,EAAO04F,EAAMrvI,GACf02C,IAASC,GAAQA,EAAKvoC,SACpBsJ,GAAUg/B,EAAMC,KAClBA,EAAKvoC,SAAU,E,EAMzB,OAAOihI,CACT,EAEM3vI,GAA0B,IAAIC,IAC9B+0I,GAASU,GAAaa,IAOtB,SAAgBJ,GACpBhnB,EACA7uD,EACA4hC,EACAvpC,G,6HAEMg3E,EAAQrvE,EAAOz5D,KAAI,SAACoJ,EAAGtI,GAAQ,gBAAC,WACjCylH,GAAuBn9G,EAAGk/G,EAAWxnH,GAAM7B,GAAIqpH,EAAWxnH,GAAM,wBAAsB,CACzF+G,SAAS,GAF0B,IAI/B8nI,EAAUF,KAAKG,UAAU9G,GACzB+G,EAAK,SAACtsE,GAUV,OATApqE,GAAMI,IAAIo2I,EAASpsE,GACnBvtE,EAAKutE,GAAO,SAAC1oD,EAAa/Z,G,IAAX+G,EAAO,UACd4/D,EAAahO,EAAO34D,GACtB+G,EACQ,OAAV4/D,QAAU,IAAVA,GAAAA,EAAY/S,OAEF,OAAV+S,QAAU,IAAVA,GAAAA,EAAY9S,MAEhB,IACO4O,CACT,EACIpqE,GAAM8F,IAAI0wI,IACZE,EAAG12I,GAAM8F,IAAI0wI,I,OADX,M,WAEOxB,GAAA,Y,iBAIK,O,sBADNllI,EAASwmI,KAAKG,UAAU,CAAEl6I,KAAM,eAAgB6tE,MAAOulE,IACjD,GAAMqF,GAAO2B,KAAK7mI,GAAQ,WAAM,OAAA4mI,EAAG3hE,GAAO46D,GAAV,K,cAAtCn/H,EAAMkR,EAAAA,OACZg1H,EAAG/5I,MAAMC,QAAQ4T,EAAIpS,MAAQoS,EAAIpS,KAAO,I,+BAExCq2D,GAAQrF,MAAMwnF,GACdF,EAAG3hE,GAAO46D,I,gCAIZ+G,EAAG3hE,GAAO46D,I,kCrS7Ed,IsSHIroI,GtSGEuvI,GAAS,CACb,WAAW,GAMAC,GAAuB,SAAC76G,GACnC,IAAMP,EAAM6lB,GAAAA,MAAgBtlB,GAAO94B,cACnC,GAAI0zI,GAAOn7G,GACT,OAAOm7G,GAAOn7G,GAGV,eAAY6lB,GAAAA,QAAkB7lB,GAAI,GAAjCx7B,EAAC,KAAEu8B,EAAC,KAAEv6B,EAAC,KACR60I,GAAc,IAAJ72I,EAAc,IAAJu8B,EAAc,IAAJv6B,GAAW,IAAO,IAEtD,OAAO60I,CACT,EuSdM,SAAUC,GAAY5sE,EAAoB9J,EAAkB4hC,GAChE,GAAsB,IAAlBA,EAAOznG,OAAX,CAGA,IAAMglB,EAAmByiF,EAAO,GAAGp8F,IAAI,WACjCkkE,EAAQvqD,EAAQ2iF,SAASp4B,MACzB,EAAoCA,EAAM1J,QAAU,CAAC,EAAnDuoC,EAAc,iBAAEF,EAAa,gBAErCzG,EAAOl7F,SAAQ,SAACqY,EAAwBjlB,GACtC,IAAMomE,EAAQF,EAAOlmE,GACfyqE,EAAYrE,EAAMziE,MAAK,SAAC+mC,GAAO,MAAmB,SAAnBA,EAAGh/B,IAAI,OAAP,IAC/BqwF,EAAYnK,GAAKirD,WAAW53H,EAAM+O,WAClCkkD,EAAW0Z,GAAKirD,WAAWpyE,EAAUx2C,iBACrC02C,GAAYoxB,EAAUv6F,SAAS02E,GAE/B4kE,EAAU73H,EAAM6H,KAAK,QACrBiwH,EAAYL,GAAqBI,GAElCnyE,EAYHF,EAAU39C,KAAK8iD,EAAMo/B,eAAe18F,OAXhCyqI,EACEtuC,GACFhkC,EAAU39C,KAAK,OAAQ2hF,GAGrBF,GACF9jC,EAAU39C,KAAK,OAAQyhF,EAO/B,G,CACF,CChCA,SAASyuC,GAAoBh1C,EAAoB5hC,EAAenhD,GAC9D,IAAM6rE,EAAakX,EAASlX,WACtBrmB,EAAYsoD,GAAmB3sD,GAC/B8R,EAAW0Z,GAAKirD,WAAWpyE,EAAUx2C,iBACrC8nE,EAAYnK,GAAKirD,WAAW53H,EAAM+O,WAExC,OAAO88D,EAAW91B,aAAe+gC,EAAUlpF,QAAUqlE,EAASrlE,OAASkpF,EAAU7sF,OAASgpE,EAAShpE,KACrG,CAEA,SAAS+tI,GAAcj1C,EAAoB9hC,EAAkB4hC,GAC3D,IAAMqyB,IAAYnyB,EAASjoD,UAAU,SAErC,OACEo6E,GACAj0D,EAAO5/D,OAAM,SAAC8/D,EAAepmE,GAC3B,IAAMilB,EAAQ6iF,EAAO9nG,GACrB,OAAOg9I,GAAoBh1C,EAAU5hC,EAAOnhD,EAC9C,GAEJ,CAEA,SAASi4H,GAAYl1C,EAAoB5hC,EAAenhD,GACtD,IAAM6rE,EAAakX,EAASlX,WACtBiL,EAAYnK,GAAKirD,WAAW53H,EAAM+O,WAClCy2C,EAAYsoD,GAAmB3sD,GAEjC0qB,EAAW91B,aAEbyP,EAAU39C,KAAK,CACb/W,EAAGgmF,EAAUtoE,KAAOsoE,EAAU7sF,MAAQ,EACtCooC,UAAW,WAIbmzB,EAAU39C,KAAK,CACb9W,EAAG+lF,EAAUnoE,KAAOmoE,EAAUlpF,OAAS,EACvCwkC,aAAc,UAGpB,CAQM,SAAU8lG,GAAuBntE,EAAoB9J,EAAkB4hC,G,MAC3E,GAAsB,IAAlBA,EAAOznG,OAAX,CAGA,IAAMglB,EAA4B,QAAT,EAAAyiF,EAAO,UAAE,eAAEp8F,IAAI,WAClCs8F,EAA4B,OAAP3iF,QAAO,IAAPA,OAAO,EAAPA,EAAS2iF,SACpC,GAAKA,GAA8B,aAAlBA,EAAS7lG,KAA1B,CAIA,IAAMi7I,EAAUH,GAAcj1C,EAAU9hC,EAAQ4hC,GAC5Cs1C,GACFt1C,EAAOl7F,SAAQ,SAACqY,EAAwBjlB,GACtC,IAAMomE,EAAQF,EAAOlmE,GACrBk9I,GAAYl1C,EAAU5hC,EAAOnhD,EAC/B,G,EAEJ,CChEA,SAASo4H,GAAYn3E,GACnB,IAAMo3E,EAAU,IACVC,EAAiB,GACjBj+D,EAAQh7E,KAAKC,IAAID,KAAKye,MAAMmjD,EAAO7lE,OAASi9I,GAAU,GAS5D,OARA76I,EAAKyjE,GAAQ,SAACE,EAAO74D,GACfA,EAAM+xE,IAAU,EAClBi+D,EAAez7I,KAAKskE,GAEpBA,EAAMpgE,IAAI,WAAW,EAEzB,IAEOu3I,CACT,CAQM,SAAUC,GAAoBxtE,EAAoB9J,EAAkB4hC,G,MACxE,GAAsB,IAAlBA,EAAOznG,OAAX,CAGA,IAAMglB,EAA4B,QAAT,EAAAyiF,EAAO,UAAE,eAAEp8F,IAAI,WAClCs8F,EAA4B,OAAP3iF,QAAO,IAAPA,OAAO,EAAPA,EAAS2iF,SACpC,GAAKA,GAA8B,aAAlBA,EAAS7lG,KAA1B,CAIA,IAMIuhD,EANE65F,EAAiBF,GAAYn3E,GAC7B,WAAW8hC,EAAS1Q,cAAa,GAAhCt4C,EAAM,KACPw0E,EAAkB,GAClBiqB,EAAiB,GACjBC,EAAgBl3I,GAAQ+2I,GAAgB,SAACn3E,GAAU,OAAAA,EAAM16D,IAAI,QAAQszC,EAAlB,IACnD8wF,EAAUnqI,GAAK8G,GAAI8wI,GAAgB,SAACn3E,GAAkB,OAAAA,EAAM16D,IAAI,QAAQszC,EAAlB,KAG5Du+F,EAAe3wI,SAAQ,SAACw5D,GACtBA,EAAMpgE,IAAI,WAAW,EACvB,IAEA,IAAM23I,EAAkB,SAACC,GACnBA,IACEA,EAASv9I,QAEXo9I,EAAK37I,KAAK87I,EAASrmI,OAErBkmI,EAAK37I,KAAI,MAAT27I,GAAI,oBAASG,IAAQ,IAEzB,EAEIzxI,GAAK2jI,GAAW,IAElBpsF,EAASosF,EAAQ10H,QACjBuiI,EAAgBD,EAAch6F,KAE5Bv3C,GAAK2jI,GAAW,IAElBpsF,EAASosF,EAAQv4H,MACjBomI,EAAgBD,EAAch6F,KAEhCjhD,EAAKqtI,EAAQ/tH,WAAW,SAAC5b,GAEvBw3I,EAAgBD,EAAcv3I,GAChC,IAEA,MAAOs3I,EAAKp9I,OAAS,EAAG,CACtB,IAAM64F,EAAMukD,EAAKriI,QACb89E,EAAIxtF,IAAI,aACN6nH,GAAkBr6B,EAAKs6B,GACzBt6B,EAAIlzF,IAAI,WAAW,GAEnBwtH,EAAM1xH,KAAKo3F,G,GAInB,CClEA,SAAS2kD,GAAW71C,EAAoB9hC,GACtC,IAAMrnB,EAASmpD,EAAS1Q,cAAc,GAChCz1F,EAAmB,GACnBi8I,EAAe53E,EAAOz3C,MAAK,SAAC9M,EAAMC,GAAU,OAAAD,EAAKjW,IAAI,QAAQmzC,GAAUl9B,EAAKjW,IAAI,QAAQmzC,EAA5C,IAUlD,OARIi/F,EAAaz9I,OAAS,GACxBwB,EAAOC,KAAKg8I,EAAa1iI,SAEvB0iI,EAAaz9I,OAAS,GACxBwB,EAAOC,KAAKg8I,EAAavmI,OAE3B1V,EAAOC,KAAI,MAAXD,GAAM,oBAASi8I,IAAY,IAEpBj8I,CACT,CAEA,SAASk8I,GAAQvqB,EAAiBviG,EAAiBoC,GACjD,OAAOmgG,EAAMjtH,MAAK,SAACktH,GAAS,OAAApgG,EAAQogG,EAAMxiG,EAAd,GAC9B,CAKA,SAASmiG,GAAetvH,EAASgE,EAAS06C,QAAA,IAAAA,IAAAA,EAAS,GACjD,IAAM6wE,EAAW/uH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEiS,EAAIjS,EAAEoL,MAAQszC,EAAQ16C,EAAEiO,EAAIjO,EAAEoH,MAAQszC,GAAUl+C,KAAKC,IAAIT,EAAEiS,EAAIysC,EAAQ16C,EAAEiO,EAAIysC,IAEpF8wE,EAAWhvH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEkS,EAAIlS,EAAE+O,OAAS2vC,EAAQ16C,EAAEkO,EAAIlO,EAAE+K,OAAS2vC,GAAUl+C,KAAKC,IAAIT,EAAEkS,EAAIwsC,EAAQ16C,EAAEkO,EAAIwsC,IAG5F,OAAO6wE,EAAWC,CACpB,CAOA,SAASC,GAAkBC,EAAiBviG,GAC1C,OAAO8sH,GAAQvqB,EAAOviG,GAAS,SAACtP,EAAMC,GACpC,IAAMnS,EAAWsjH,GAAmBpxG,GAC9Bq8H,EAAYjrB,GAAmBnxG,GAErC,OAAOwxG,GAAe3jH,EAASwkB,gBAAiB+pH,EAAU/pH,gBAAiB,GAAK,CAClF,GACF,CASM,SAAUgqH,GACdjuE,EACA9J,EACA4hC,EACAvpC,EACAnqD,G,QAEA,GAAsB,IAAlB0zF,EAAOznG,OAAX,CAIA,IAAMglB,EAA4B,QAAT,EAAAyiF,EAAO,UAAE,eAAEp8F,IAAI,WAClCs8F,EAA4B,OAAP3iF,QAAO,IAAPA,OAAO,EAAPA,EAAS2iF,SACpC,GAAKA,GAA8B,UAAlBA,EAAS7lG,KAA1B,CAGM,eAAmB6lG,EAAS1Q,cAAa,GAAxCt4C,EAAM,KAAEH,EAAM,KACf6+F,EAAgBl3I,GAAQ0/D,GAAQ,SAACE,GAAU,OAAAA,EAAM16D,IAAI,QAAQszC,EAAlB,IAC3Cw0E,EAAkB,GAClBpxE,EAAUhuC,GAAOA,EAAIguC,SAAmB,QAAR,EAAA4tB,EAAM,UAAE,eAAE5tB,SAAU,GAE1D31C,GAAIxJ,EAAKy6I,GAAe37H,WAAW,SAAC2hC,GAClC,IAAMw6F,EAAoBL,GAAW71C,EAAU01C,EAAch6F,IAC7D,MAAOw6F,EAAkB79I,OAAQ,CAC/B,IAAM4wB,EAAUitH,EAAkB9iI,QAC5BqvD,EAAYsoD,GAAmB9hG,GACrC,GACE8sH,GACEvqB,EACAviG,GACA,SAACtP,EAAMC,GACL,OAAAD,EAAKjW,IAAI,QAAQszC,KAAYp9B,EAAMlW,IAAI,QAAQszC,IAC/Cr9B,EAAKjW,IAAI,QAAQmzC,KAAYj9B,EAAMlW,IAAI,QAAQmzC,EAD/C,IAKJ4rB,EAAUzkE,IAAI,WAAW,OAV3B,CAaA,IAAMm4I,EAAS5qB,GAAkBC,EAAOviG,GACpCmtH,GAAoB,EACpBD,IACF1zE,EAAU39C,KAAK,IAAK29C,EAAU39C,KAAK,KAAO,EAAIs1B,GAC9Cg8F,EAAW7qB,GAAkBC,EAAOviG,IAElCmtH,EACF3zE,EAAUzkE,IAAI,WAAW,GAG3BwtH,EAAM1xH,KAAKmvB,E,EAEf,G,EACF,CC7GA,SAAS4sH,GAAW71C,EAAoB9hC,GACtC,IAAMrnB,EAASmpD,EAAS1Q,cAAc,GAChCz1F,EAAmB,GACnBi8I,EAAe53E,EAAOz3C,MAAK,SAAC9M,EAAMC,GAAU,OAAAD,EAAKjW,IAAI,QAAQmzC,GAAUl9B,EAAKjW,IAAI,QAAQmzC,EAA5C,IAUlD,OARIi/F,EAAaz9I,OAAS,GACxBwB,EAAOC,KAAKg8I,EAAa1iI,SAEvB0iI,EAAaz9I,OAAS,GACxBwB,EAAOC,KAAKg8I,EAAavmI,OAE3B1V,EAAOC,KAAI,MAAXD,GAAM,oBAASi8I,IAAY,IAEpBj8I,CACT,CAEA,SAASk8I,GAAQvqB,EAAiBviG,EAAiBoC,GACjD,OAAOmgG,EAAMjtH,MAAK,SAACktH,GAAS,OAAApgG,EAAQogG,EAAMxiG,EAAd,GAC9B,CAKA,SAASmiG,GAAetvH,EAASgE,EAAS06C,QAAA,IAAAA,IAAAA,EAAS,GACjD,IAAM6wE,EAAW/uH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEiS,EAAIjS,EAAEoL,MAAQszC,EAAQ16C,EAAEiO,EAAIjO,EAAEoH,MAAQszC,GAAUl+C,KAAKC,IAAIT,EAAEiS,EAAIysC,EAAQ16C,EAAEiO,EAAIysC,IAEpF8wE,EAAWhvH,KAAKC,IACpB,EACAD,KAAKE,IAAIV,EAAEkS,EAAIlS,EAAE+O,OAAS2vC,EAAQ16C,EAAEkO,EAAIlO,EAAE+K,OAAS2vC,GAAUl+C,KAAKC,IAAIT,EAAEkS,EAAIwsC,EAAQ16C,EAAEkO,EAAIwsC,IAG5F,OAAO6wE,EAAWC,CACpB,CAOA,SAASC,GAAkBC,EAAiBviG,GAC1C,OAAO8sH,GAAQvqB,EAAOviG,GAAS,SAACtP,EAAMC,GACpC,IAAMnS,EAAWsjH,GAAmBpxG,GAC9Bq8H,EAAYjrB,GAAmBnxG,GAErC,OAAOwxG,GAAe3jH,EAASwkB,gBAAiB+pH,EAAU/pH,gBAAiB,GAAK,CAClF,GACF,CASM,SAAUoqH,GACdruE,EACA9J,EACA4hC,EACAvpC,EACAnqD,G,QAEA,GAAsB,IAAlB0zF,EAAOznG,OAAX,CAIA,IAAMglB,EAA4B,QAAT,EAAAyiF,EAAO,UAAE,eAAEp8F,IAAI,WAClCs8F,EAA4B,OAAP3iF,QAAO,IAAPA,OAAO,EAAPA,EAAS2iF,SACpC,GAAKA,KAAY,CAAC,OAAQ,OAAQ,QAAQtmG,QAAQsmG,EAAS7lG,MAAQ,GAAnE,CAGM,eAAmB6lG,EAAS1Q,cAAa,GAAxCt4C,EAAM,KAAEH,EAAM,KACf6+F,EAAgBl3I,GAAQ0/D,GAAQ,SAACE,GAAU,OAAAA,EAAM16D,IAAI,QAAQszC,EAAlB,IAC3Cw0E,EAAkB,GAClBpxE,EAAUhuC,GAAOA,EAAIguC,SAAmB,QAAR,EAAA4tB,EAAM,UAAE,eAAE5tB,SAAU,GAE1D31C,GAAIxJ,EAAKy6I,GAAe37H,WAAW,SAAC2hC,GAClC,IAAMw6F,EAAoBL,GAAW71C,EAAU01C,EAAch6F,IAC7D,MAAOw6F,EAAkB79I,OAAQ,CAC/B,IAAM4wB,EAAUitH,EAAkB9iI,QAC5BqvD,EAAYsoD,GAAmB9hG,GACrC,GACE8sH,GACEvqB,EACAviG,GACA,SAACtP,EAAMC,GACL,OAAAD,EAAKjW,IAAI,QAAQszC,KAAYp9B,EAAMlW,IAAI,QAAQszC,IAC/Cr9B,EAAKjW,IAAI,QAAQmzC,KAAYj9B,EAAMlW,IAAI,QAAQmzC,EAD/C,IAKJ4rB,EAAUzkE,IAAI,WAAW,OAV3B,CAaA,IAAMm4I,EAAS5qB,GAAkBC,EAAOviG,GACpCmtH,GAAoB,EACpBD,IACF1zE,EAAU39C,KAAK,IAAK29C,EAAU39C,KAAK,KAAO,EAAIs1B,GAC9Cg8F,EAAW7qB,GAAkBC,EAAOviG,IAElCmtH,EACF3zE,EAAUzkE,IAAI,WAAW,GAG3BwtH,EAAM1xH,KAAKmvB,E,EAEf,G,EACF,CL3HM,SAAUqtH,KAKd,OAJKpxI,KACHA,GAAM0B,SAASC,cAAc,UAAUC,WAAW,OAG7C5B,EACT,ChREO,IAAMsC,GAAmBnB,IAC9B,SAACC,EAAWC,QAAA,QAAAA,EAAAA,CAAAA,GACF,MAA6DA,EAAI,SAAvDC,EAAmDD,EAAI,WAA3CE,EAAuCF,EAAI,WAA/BG,EAA2BH,EAAI,UAApBI,EAAgBJ,EAAI,YACnErB,EAAMoxI,KAEZ,OADApxI,EAAKqB,KAAO,CAACG,EAAWC,EAAaF,EAAY,UAAGM,EAAQ,MAAMP,GAAYQ,KAAK,KAC5E9B,EAAK+B,YAAY3C,GAASgC,GAAQA,EAAO,IAAIY,KACtD,IACA,SAACZ,EAAWC,GAAoB,YAApB,QAAAA,EAAAA,CAAAA,IAAoB,SAACD,IAAI,QAAKtM,GAAOuM,KAAK,GAAES,KAAK,GAA7B,IAYrB83D,GAAkB,SAACx4D,EAAWa,EAAkBZ,GAC3D,IAGIkB,EAHEH,EAAO,GACPivI,EAAY/uI,GAAiB,MAAOjB,GAOxCkB,EAHGnD,GAASgC,GAGDA,EAFArM,GAASqM,GAKtB,IAGIc,EACAC,EAJAK,EAAYP,EAEVrJ,EAAI,GAIV,GAAI0J,GAAiBlB,EAAMC,IAASY,EAClC,OAAOb,EAIT,MAAO,EAAM,CAQX,GANAc,EAAcK,EAASrP,OAAO,EAAGkP,GAGjCD,EAAeG,GAAiBJ,EAAab,GAGzCc,EAAekvI,EAAY7uI,GACzBL,EAAeK,EACjB,MAWJ,GAPA5J,EAAEhE,KAAKsN,GAGPM,GAAaL,EACbI,EAAWA,EAASrP,OAAOkP,IAGtBG,EACH,OAAO3J,EAAEkJ,KAAK,G,CAKlB,MAAO,EAAM,CAQX,GANAI,EAAcK,EAASrP,OAAO,EAAG,GAGjCiP,EAAeG,GAAiBJ,EAAab,GAGzCc,EAAekvI,EAAY7uI,EAC7B,MAQF,GALA5J,EAAEhE,KAAKsN,GAEPM,GAAaL,EACbI,EAAWA,EAASrP,OAAO,IAEtBqP,EACH,OAAO3J,EAAEkJ,KAAK,G,CAIlB,MAAO,UAAGlJ,EAAEkJ,KAAK,IAAG,MACtB,EsRlFM,SAAU6rG,GACd7qC,EACA9J,EACA4hC,EACAvpC,EACAnqD,GAEA,KAAI8xD,EAAO7lE,QAAU,GAArB,CAGA,IAAMorB,GAAe,OAAHrX,QAAG,IAAHA,OAAG,EAAHA,EAAKqX,YAAa,CAAC,MAAO,QAAS,SAAU,QACzDD,GAAY,OAAHpX,QAAG,IAAHA,OAAG,EAAHA,EAAKoX,SAAU,YACxBg3B,GAAY,OAAHpuC,QAAG,IAAHA,OAAG,EAAHA,EAAKouC,SAAU,EACxBsuC,EAAa5qB,EAAO,GAAGx6D,IAAI,cACjC,GAAKolF,EAAL,CAGM,MAKFiC,GAAkBjC,EAAYtuC,GAJ1B21F,EAAU,OACVC,EAAU,OACVC,EAAU,OACVC,EAAU,OAGlB71I,EAAKyjE,GAAQ,SAACE,GACN,MAAkDA,EAAMnyC,gBAAtDR,EAAI,OAAEG,EAAI,OAAED,EAAI,OAAEE,EAAI,OAAE9d,EAAC,IAAEC,EAAC,IAAE9G,EAAK,QAAE2D,EAAM,SAE/C0lI,EAASxiI,EACTyiI,EAASxiI,EA8Bb,GA7BIyV,EAAU/pB,QAAQ,SAAW,IAAM+xB,EAAO0kH,GAAcxkH,EAAOwkH,KAEjEI,EAASJ,GAEP1sH,EAAU/pB,QAAQ,QAAU,IAAMkyB,EAAOwkH,GAAcvkH,EAAOukH,KAEhEI,EAASJ,GAGP3sH,EAAU/pB,QAAQ,UAAY,IAC5B+xB,EAAO4kH,EAETE,EAASF,EAAanpI,EACbykB,EAAO0kH,IAEhBE,GAAmB5kH,EAAO0kH,IAI1B5sH,EAAU/pB,QAAQ,WAAa,IAC7BkyB,EAAO0kH,EAETE,EAASF,EAAazlI,EACbghB,EAAOykH,IAEhBE,GAAmB3kH,EAAOykH,IAI1BC,IAAWxiI,GAAKyiI,IAAWxiI,EAAG,CAChC,IAAMwoI,EAAajG,EAASxiI,EAC5B,GAAe,cAAXyV,EACFkH,GAAU0zC,EAAOo4E,EAAYhG,EAASxiI,QACjC,GAAe,aAAXwV,EAAuB,CAChC,IAAMizH,EAAar4E,EAAM/wC,SAAQ,SAACpQ,GAAU,MAAsB,SAAtBA,EAAMvZ,IAAI,OAAV,IAC5C+yI,EAAW7xI,SAAQ,SAAC69D,GAClB,IAAMn4D,EAAQ+xD,GAAKoG,EAAU39C,OAAQ,CAAC,WAAY,aAAc,aAAc,YAAa,gBACrF4xH,EAAUj0E,EAAUx2C,gBACpB3lB,EAAOw4D,GAAgB2D,EAAU39C,KAAK,QAAS4xH,EAAQxvI,MAAQ5K,KAAK0D,IAAIw2I,GAAalsI,GAC3Fm4D,EAAU39C,KAAK,OAAQxe,EACzB,G,MAEA83D,EAAMhF,M,CAGZ,G,EACF,CCrFM,SAAUu9E,GAAO15H,EAAwBkL,EAAyB/b,GACtE,IAAMs+E,EAAW,CACfmQ,YAAaxgG,EAAM4iB,EAAM6H,KAAK,gBAAkB,EAAI7H,EAAM6H,KAAK,eAC/Do8D,cAAe7mF,EAAM4iB,EAAM6H,KAAK,kBAAoB,EAAI7H,EAAM6H,KAAK,iBACnEY,QAASrrB,EAAM4iB,EAAM6H,KAAK,YAAc,EAAI7H,EAAM6H,KAAK,YAEzD7H,EAAM6H,KAAK,CACT+1E,YAAa,EACb3Z,cAAe,EACfx7D,QAAS,IAEXzI,EAAMu7C,QAAQkyB,EAAUviE,EAC1B,CAUM,SAAUyuH,GAAQ35H,EAAwBkL,EAAyB/b,GACvE,IAAMs+E,EAAW,CACfmQ,YAAa,EACb3Z,cAAe,EACfx7D,QAAS,GAEH0C,EAA4BD,EAAU,OAA9B/wB,EAAoB+wB,EAAU,SAApBhD,EAAUgD,EAAU,MAC9ClL,EAAMu7C,QACJkyB,EACAtzF,EACAgxB,GACA,WACEnL,EAAMxf,QAAO,EACf,GACA0nB,EAEJ,CCxCM,SAAU0xH,GAAe55H,EAAwBqwB,EAA0BzpB,GAC/E,IAAIizH,EAEE,WAASxpG,EAAM,GAAdv/B,EAAC,KAAEC,EAAC,KA0CX,OAzCAiP,EAAMm6C,cAAc,CAACrpD,EAAGC,EAAG,IACZ,MAAX6V,GACF5G,EAAMsN,UACJpG,GAAclH,EAAMoN,YAAa,CAC/B,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAM,GACZ,CAAC,IAAKD,EAAGC,MAGb8oI,EAAe3yH,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAK,GACX,CAAC,IAAKD,EAAGC,MAES,MAAX6V,GACT5G,EAAMsN,UACJpG,GAAclH,EAAMoN,YAAa,CAC/B,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,EAAG,KACT,CAAC,IAAKD,EAAGC,MAGb8oI,EAAe3yH,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,EAAG,KACT,CAAC,IAAKD,EAAGC,MAES,OAAX6V,IACT5G,EAAMsN,UACJpG,GAAclH,EAAMoN,YAAa,CAC/B,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAM,KACZ,CAAC,IAAKD,EAAGC,MAGb8oI,EAAe3yH,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAKD,EAAGC,MAGN8oI,CACT,CAUM,SAAUC,GACd15H,EACA8K,EACA2gE,EACA28B,EACAtrH,GAEQ,IAGJ4T,EACAC,EAJIkB,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAC3B5hF,EAAQ4hF,EAAWhlB,WACnBj5D,EAASi+E,EAAWnlB,YAIb,MAATxpE,GACF4T,EAAImB,EAAMnB,EAAI7G,EAAQ,EACtB8G,EAAIy3G,EAAUz3G,EAAIkB,EAAMlB,EAAIy3G,EAAUz3G,EAAIkB,EAAMlB,GAC9B,MAAT7T,GACT4T,EAAI03G,EAAU13G,EAAImB,EAAMnB,EAAI03G,EAAU13G,EAAImB,EAAMnB,EAChDC,EAAIkB,EAAMlB,EAAInD,EAAS,GACL,OAAT1Q,IACL2uF,EAAWoB,SACbn8E,EAAI+6E,EAAWl0B,YAAY7mD,EAC3BC,EAAI86E,EAAWl0B,YAAY5mD,IAE3BD,GAAKmB,EAAMnB,EAAI8J,EAAI9J,GAAK,EACxBC,GAAKkB,EAAMlB,EAAI6J,EAAI7J,GAAK,IAI5B,IAAMgpI,EAAYH,GAAex5H,EAAS,CAACtP,EAAGC,GAAI7T,GAClDkjB,EAAQm7C,QACN,CACEj1C,OAAQyzH,GAEV7uH,EAEJ,CCzFM,SAAU8uH,GAAQ55H,EAA0B8K,EAAyB/b,GACjE,IAAA08E,EAA0B18E,EAAG,WAAjBozG,EAAcpzG,EAAG,UACrC2qI,GAAe15H,EAAS8K,EAAY2gE,EAAY02B,EAAW,IAC7D,CAUM,SAAU03B,GAAQ75H,EAA0B8K,EAAyB/b,GACjE,IAAA08E,EAA0B18E,EAAG,WAAjBozG,EAAcpzG,EAAG,UACrC2qI,GAAe15H,EAAS8K,EAAY2gE,EAAY02B,EAAW,IAC7D,CAUM,SAAU23B,GAAS95H,EAA0B8K,EAAyB/b,GAClE,IAAA08E,EAA0B18E,EAAG,WAAjBozG,EAAcpzG,EAAG,UACrC2qI,GAAe15H,EAAS8K,EAAY2gE,EAAY02B,EAAW,KAC7D,CC/BM,SAAU43B,GAAO/5H,EAAiB8K,EAAyB/b,GAE/D,IAAM/T,EAASglB,EAAQ6+G,iBAEvB7+G,EAAQyH,KAAK,WAAY,CAACzsB,IAC1BglB,EAAQm7C,SAAQ,SAAC39C,GACf,MAAO,CAELmkH,gBAAiB,EAAInkH,GAASxiB,EAElC,GAAG8vB,EACL,CCZM,SAAUkvH,GAAep6H,EAAekL,EAAyB/b,GAC7D,IAAAsY,EAAYtY,EAAG,QAEjB2B,EAAI2W,EAAQ3W,EAEZC,EAAI0W,EAAQ1W,SAGX0W,EAAQ3W,SAER2W,EAAQ1W,EAEfiP,EAAM6H,KAAKJ,GAEXzH,EAAMu7C,QACJ,CACEzqD,EAAC,EACDC,EAAC,GAEHma,EAEJ,CCpBM,SAAUmvH,GAASr6H,EAAwBkL,EAAyB/b,GACxE,IAAMiK,EAAM4G,EAAM+O,UACVyhF,EAAgBxwF,EAAMvZ,IAAI,UAAS,YACrCgW,EAAS+zF,EAAY/zF,OAErB3L,EAAI2L,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,EAAI,EAAIqI,EAAIsV,KAAOtV,EAAIoV,KACnDzd,GAAKqI,EAAIuV,KAAOvV,EAAIwV,MAAQ,EAElC5O,EAAMm6C,cAAc,CAACrpD,EAAGC,EAAG,IAE3B,IAAMuV,EAASY,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAM,GACZ,CAAC,IAAKD,EAAGC,KAEXiP,EAAMsN,UAAUhH,GAEhBtG,EAAMu7C,QACJ,CACEj1C,OAAQY,GAAclH,EAAMoN,YAAa,CACvC,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAK,GACX,CAAC,IAAKD,EAAGC,MAGbma,EAEJ,CASM,SAAUovH,GAASt6H,EAAwBkL,EAAyB/b,GACxE,IAAMiK,EAAM4G,EAAM+O,UACVyhF,EAAgBxwF,EAAMvZ,IAAI,UAAS,YACrCqK,GAAKsI,EAAIoV,KAAOpV,EAAIsV,MAAQ,EAC5BjS,EAAS+zF,EAAY/zF,OAErB1L,EAAI0L,EAAO,GAAG1L,EAAI0L,EAAO,GAAG1L,GAAK,EAAIqI,EAAIwV,KAAOxV,EAAIuV,KAE1D3O,EAAMm6C,cAAc,CAACrpD,EAAGC,EAAG,IAC3B,IAAMuV,EAASY,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,EAAG,KACT,CAAC,IAAKD,EAAGC,KAEXiP,EAAMsN,UAAUhH,GAEhBtG,EAAMu7C,QACJ,CACEj1C,OAAQY,GAAclH,EAAMoN,YAAa,CACvC,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,EAAG,KACT,CAAC,IAAKD,EAAGC,MAGbma,EAEJ,CCjEA,SAASwkB,GAAS+E,EAAsB8lG,G,MAClC,EAA2B/lG,GAAaC,EAAY8lG,GAAlDnrG,EAAU,aAAEC,EAAQ,WAuB1B,OArBKzsC,GAAcwsC,EAAuB,IAAV/vC,KAAK+D,KAAagsC,EAAwB,IAAV/vC,KAAK+D,KACnEgsC,GAAwB,EAAV/vC,KAAK+D,KAEhBR,GAAcysC,EAAqB,IAAVhwC,KAAK+D,KAAaisC,EAAsB,IAAVhwC,KAAK+D,KAC/DisC,GAAsB,EAAVhwC,KAAK+D,IAGA,IAAfm3I,EAAQ,KAEVl4H,GAAAA,EAAAA,EAAAA,IAAyB,CAACgtB,EAAUD,GAAW,GAA9CA,EAAU,KAAEC,EAAQ,MAGnBzsC,GAAcwsC,EAAsB,IAAV/vC,KAAK+D,MACjCgsC,GAAwB,GAAX/vC,KAAK+D,IAIhBR,GAAcysC,GAAqB,GAAXhwC,KAAK+D,MAAeR,GAAcwsC,EAAYC,KACxEA,EAAqB,IAAVhwC,KAAK+D,IAGX,CACLgsC,WAAU,EACVC,SAAQ,EAEZ,CAEA,SAASmrG,GAAiBnyI,GACxB,IAAIosC,EAOJ,MANgB,MAAZpsC,EAAK,IAA0B,MAAZA,EAAK,GAC1BosC,EAAa,CAACpsC,EAAK,GAAIA,EAAK,IACP,MAAZA,EAAK,IAA0B,MAAZA,EAAK,IAA0B,MAAZA,EAAK,KACpDosC,EAAa,CAACpsC,EAAKA,EAAKjN,OAAS,GAAIiN,EAAKA,EAAKjN,OAAS,KAGnDq5C,CACT,CAYM,SAAUgmG,GAAWpyI,G,MACrB+mC,EACAC,EAEEqrG,EAAWryI,EAAK3L,QAAO,SAAC+4C,GAC5B,MAAsB,MAAfA,EAAQ,IAA6B,MAAfA,EAAQ,EACvC,IAEA,GAAwB,IAApBilG,EAASt/I,OACX,MAAO,CACLg0C,WAAY,EACZC,SAAU,EACVqnB,OAAQ,EACRI,YAAa,GAIjB,IAAM6jF,EAAsBD,EAAS,GAC/BE,EAAqBF,EAASt/I,OAAS,EAAIs/I,EAAS,GAAKA,EAAS,GAClEG,EAAaxyI,EAAK5L,QAAQk+I,GAC1B36G,EAAY33B,EAAK5L,QAAQm+I,GACzBE,EAAkBN,GAAiBnyI,EAAKwyI,EAAa,IACrDE,EAAiBP,GAAiBnyI,EAAK23B,EAAY,IAEnD,EAA2D0P,GAASorG,EAAiBH,GAAvEK,EAAe,aAAYC,EAAa,WACtD,EAAyDvrG,GAASqrG,EAAgBH,GAApEM,EAAc,aAAYC,EAAY,WAEtDv4I,GAAco4I,EAAiBE,IAAmBt4I,GAAcq4I,EAAeE,IACjF/rG,EAAa4rG,EACb3rG,EAAW4rG,IAEX7rG,EAAa/vC,KAAKE,IAAIy7I,EAAiBE,GACvC7rG,EAAWhwC,KAAKC,IAAI27I,EAAeE,IAGrC,IAAIzkF,EAASikF,EAAoB,GAC7B7jF,EAAc4jF,EAASA,EAASt/I,OAAS,GAAG,GAOhD,OANIs7D,EAASI,GACXz0C,GAAAA,EAAAA,EAAAA,IAAwB,CAACy0C,EAAaJ,GAAO,GAA5CA,EAAM,KAAEI,EAAW,MACXJ,IAAWI,IACpBA,EAAc,GAGT,CACL1nB,WAAU,EACVC,SAAQ,EACRqnB,OAAM,EACNI,YAAW,EAEf,CASM,SAAUskF,GAAiBp7H,EAAekL,EAAyB/b,GAC/D,IAAAsY,EAAwBtY,EAAG,QAAlB08E,EAAe18E,EAAG,WAC7B9G,EAAQof,EAAoCpf,MAAQ,GACpDgzI,EAAehzI,EAAKb,KAAI,SAACiuC,GAAY,OAAAA,EAAQ,EAAR,IAE3C,KAAIptC,EAAKjN,OAAS,GAAlB,CAEM,MAA4Eq/I,GAAWpyI,GAAzEizI,EAAa,aAAYC,EAAW,WAAE7kF,EAAM,SAAEI,EAAW,cACvE,EAAuD2jF,GAAWz6H,EAAM6H,KAAK,SAA/D2zH,EAAa,aAAYC,EAAW,WAElDtmG,EAAS02C,EAAWl0B,YACpB+jF,EAAiBJ,EAAgBE,EACjCG,EAAeJ,EAAcE,EAEZ,IAAnBC,GAAyC,IAAjBC,EAK5B37H,EAAMu7C,SACJ,SAAC39C,GACC,IAAMg+H,EAAoBJ,EAAgB59H,EAAQ89H,EAC5CG,EAAkBJ,EAAc79H,EAAQ+9H,EAC9C,OAAO,oBACFl0H,GAAO,CACVpf,KAEElB,GAAQk0I,EAAc,CAAC,IAAK,IAAK,IAAK,MAClC72E,GAAWrvB,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQklF,EAAmBC,GAC1D1wD,GAAch2C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQklF,EAAmBC,EAAiB/kF,IAExF,IAAC,oBAEI5rC,GAAU,CACbxc,SAAU,WAERsR,EAAM6H,KAAK,OAAQxf,EACrB,KAtBF2X,EAAM6H,KAAK,OAAQxf,EAVM,CAmC7B,CChJM,SAAUyzI,GAAO17H,EAA0B8K,EAAyB/b,GAClE,MAAiCq+E,GAAqBr+E,EAAI08E,WAAY,IAApE3uF,EAAI,OAAE0wF,EAAU,aAAEH,EAAQ,WAC5BtjE,EAAY/J,EAAQ06C,QAAQ,CAChC59D,KAAI,EACJ5E,MAAOs1F,IAILz+E,EAAIsY,SACNrH,EAAQyH,KAAK1Y,EAAIsY,SAInB0C,EAAUoxC,QAAQkyB,GAAU,oBACvBviE,GAAU,CACbxc,SAAU,WACJ0R,IAAYA,EAAQ3Z,IAAI,cAC1B2Z,EAAQrf,IAAI,YAAa,MAE3BopB,EAAU3pB,QAAO,EACnB,IAEJ,CC9BA,SAASu7I,GAAY/7H,EAAwBkL,EAAyBhuB,GACpE,GAAI8iB,EAAMyM,UACRjvB,EAAMwiB,EAAiB0J,eAAe,SAACuE,GACrC8tH,GAAY9tH,EAAO/C,EAAYhuB,EACjC,QACK,CACL,IAAMgc,EAAO8G,EAAM+O,UACbje,GAAKoI,EAAKsV,KAAOtV,EAAKwV,MAAQ,EAC9B3d,GAAKmI,EAAKyV,KAAOzV,EAAK0V,MAAQ,EAGpC,GAFA5O,EAAMm6C,cAAc,CAACrpD,EAAGC,EAAG,IAEd,WAAT7T,EAAmB,CAErB,IAAMopB,EAASY,GAAclH,EAAMoN,YAAa,CAC9C,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAM,KACZ,CAAC,IAAKD,EAAGC,KAEXiP,EAAMsN,UAAUhH,GAChBtG,EAAMu7C,QACJ,CACEj1C,OAAQY,GAAclH,EAAMoN,YAAa,CACvC,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAKD,EAAGC,MAGbma,E,MAGFlL,EAAMu7C,QACJ,CACEj1C,OAAQY,GAAclH,EAAMoN,YAAa,CACvC,CAAC,KAAMtc,GAAIC,GACX,CAAC,IAAK,IAAM,KACZ,CAAC,IAAKD,EAAGC,OAEZ,oBAEIma,GAAU,CACbxc,SAAU,WACRsR,EAAMxf,QAAO,EACf,I,CAKV,CAUM,SAAUw7I,GAAOh8H,EAAwBkL,EAAyB/b,GACtE4sI,GAAY/7H,EAAOkL,EAAY,SACjC,CAUM,SAAU+wH,GAAQj8H,EAAwBkL,EAAyB/b,GACvE4sI,GAAY/7H,EAAOkL,EAAY,UACjC,CCrEM,SAAUgxH,GAAmB11H,GACjC,MAAI,CAACtd,GAAAA,IAAeA,GAAAA,QAAkBs6B,SAAShd,GACtC,CACLqiB,QAAS,EACTE,QAASviB,IAActd,GAAAA,KAAiB,EAAI,EAC5CmE,MAAO,CACLglC,UAAW,SACXD,aAAc5rB,IAActd,GAAAA,IAAgB,SAAW,QAKzD,CAACA,GAAAA,KAAgBA,GAAAA,OAAiBs6B,SAAShd,GACtC,CACLqiB,QAASriB,IAActd,GAAAA,MAAkB,EAAI,EAC7C6/B,QAAS,EACT17B,MAAO,CACLglC,UAAW7rB,IAActd,GAAAA,KAAiB,QAAU,OACpDkpC,aAAc,SACd3+B,OAAQpU,KAAK+D,GAAK,IAKjB,CAAC,CACV,CASM,SAAU+4I,GAAchnG,EAAet0C,EAAWkS,GACtD,MAAO,CACLjC,EAAGqkC,EAAOrkC,EAAIjQ,EAAIxB,KAAKiS,IAAIyB,GAC3BhC,EAAGokC,EAAOpkC,EAAIlQ,EAAIxB,KAAKoS,IAAIsB,GAE/B,CCnCA,gC,8CA0HA,QA1HoCzD,EAAAA,EAAAA,IAAAA,EAAAA,GACxBkjE,EAAAA,UAAAA,cAAV,WACE,OAAOxrE,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,SACN4kF,WAAW,EACXnhC,MAAOvxC,EAAAA,UAAMgtI,mBAAkB,YAEnC,EAEO5pE,EAAAA,UAAAA,OAAP,WACEpjE,EAAAA,UAAMpX,OAAM,WAERE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EAOU7pE,EAAAA,UAAAA,UAAV,SAAoBx1D,EAAejiB,GACjC,IAAM8F,EAAI,GAEJs0C,EAAS,CAAErkC,EAAG,GAAKC,EAAG,IAEtBurI,EAAsB,EAAVj9I,KAAK+D,GAAU4Z,EAG3BjK,GAAU,EAAI1T,KAAK+D,GAAM,EAAIk5I,EAAWvhJ,EAExCwhJ,EAAS17I,GAAK,EAAI,EAAIxB,KAAKoS,IAAI6qI,EAAW,IAE1ClX,EAAS+W,GAAchnG,EAAQt0C,EAAI07I,EAAQxpI,GAC3Cq8B,EAAwB,EAAV/vC,KAAK+D,GAAU,EAC7BisC,EAAsB,EAAVhwC,KAAK+D,GAAU,EAEjC,MAAO,CACL6O,MAAOkqI,GAAc/W,EAAQmX,EAAQntG,GACrCx0B,IAAKuhI,GAAc/W,EAAQmX,EAAQltG,GAEvC,EAEUmjC,EAAAA,UAAAA,cAAV,SAAwB4d,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEUpe,EAAAA,UAAAA,eAAV,SAAyB4d,EAAYQ,GAAoB,EAE/Cpe,EAAAA,UAAAA,eAAV,SAAyBzzE,GAAzB,WACQ,EAAmB7G,KAAKiX,IAAtBmtD,EAAM,SAAEp/D,EAAI,OACd,WAAUo/D,EAAM,GAAfvc,EAAK,KACZ,IAAKA,EACH,MAAM,IAAI/zC,MAAM,0BAGlB,IAAMjP,EAAS7E,KAAKukJ,eAAe19I,EAAMghD,GACnC/iC,EAAQjgB,EAAO3B,OAEfsC,EAAM,GAsBZ,OArBAX,EAAO4K,SAAQ,SAAC3O,EAAY+B,GAC1B,IAAM23F,EAAa,CAAC,CAAE3yC,MAAK,EAAE/mD,MAAK,EAAE+D,OAAM,IACpC2/I,EAAYhgJ,EAAOqC,EAAMkQ,EAAK0tI,mBAAmBjqD,IAEjD9B,EAAoB,CACxB1zF,KAAI,EACJ6B,KAAM29I,EACNpjF,OAAQrqD,EAAK2tI,UAAU5/H,EAAOjiB,GAE9B8hJ,YAAa7jJ,EACb8jJ,YAAa/8F,EACbg9F,YAAahiJ,EACbiiJ,mBAAoBhgI,EAEpBigI,SAAU,KACVC,SAAU,KACVC,SAAU,EACVC,gBAAiB,GAEnB1/I,EAAIb,KAAK+zF,EACX,IACOlzF,CACT,EAEU80E,EAAAA,UAAAA,eAAV,SAAyB1hE,EAAWk/E,EAAW2hB,EAAiB/gB,GAE9D,OAAO+gB,CACT,EASUn/B,EAAAA,UAAAA,eAAV,SAAyBzhE,EAAWi/E,EAAW2hB,EAAiB/gB,GAE9D,OAAO+gB,CACT,EAKQn/B,EAAAA,UAAAA,YAAR,sBACEh1E,EAAKtF,KAAKm4F,QAAQ,SAACO,GACT,IAAAisD,EAAsBjsD,EAAK,YAAdR,EAASQ,EAAK,KAC7BztC,EAAY18C,GAAIwI,EAAKE,IAAIwxC,MAAO,aAEhCylF,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIwxC,OAGXyvC,EAAKoW,aAAan9F,KAAK+8H,EACzB,GACF,EACF,EA1HA,CAAoC91C,I,MCApC,4B,8CA0JA,QA1JkChhF,EAAAA,EAAAA,IAAAA,EAAAA,GACtB+tI,EAAAA,UAAAA,cAAV,WACE,OAAOr2I,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,OACNs0F,KAAM,KACN1P,WAAW,EACXnhC,MAAOvxC,EAAAA,UAAMgtI,mBAAkB,YAEnC,EAEOiB,EAAAA,UAAAA,OAAP,WACEjuI,EAAAA,UAAMpX,OAAM,WAERE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EAEUgB,EAAAA,UAAAA,cAAV,SAAwBjtD,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEUysD,EAAAA,UAAAA,eAAV,SAAyBjtD,EAAYQ,GAAkB,EAE7CysD,EAAAA,UAAAA,eAAV,SAAyBt+I,GAAzB,WACUu9D,EAAWpkE,KAAKiX,IAAG,OACrBqiF,EAASt5F,KAAKiX,IAAG,KAEjB,WAAgBmtD,EAAM,GAArBwgF,EAAW,KAClB,IAAKA,EACH,MAAM,IAAI9wI,MAAM,0BAGlB,IAAMsxI,EAAYplJ,KAAKukJ,eAAe19I,EAAM+9I,GAEtC9/H,EAAQsgI,EAAUliJ,OACxBo2F,EAAOA,GAAQx0E,EAGf,IAAMu0E,EAAOr5F,KAAKqlJ,aAAavgI,EAAOw0E,GAChC9zF,EAAM,GA8BZ,OA5BA4/I,EAAU31I,SAAQ,SAACzG,EAAKnG,GAEhB,MAAekU,EAAKuuI,UAAUziJ,EAAOy2F,GAAnC3vF,EAAG,MAAE47I,EAAG,MAEV/qD,EAAa,CAAC,CAAE3yC,MAAO+8F,EAAa9jJ,MAAOkI,EAAKnE,OAAQugJ,IAExDZ,EAAYhgJ,EAAOqC,EAAMkQ,EAAK0tI,mBAAmBjqD,IAEjD9B,EAAkB,CACtB1zF,KAAM+R,EAAKE,IAAIjS,KACf6B,KAAM29I,EACNpjF,OAAQrqD,EAAK2tI,UAAUrrD,EAAMC,EAAMisD,EAAK57I,GAExCg7I,YAAa37I,EACb+7I,SAAU/7I,EACV47I,YAAW,EACXI,SAAU,KACVH,YAAaU,EACbN,SAAUt7I,EACVm7I,mBAAoBxrD,EACpB4rD,gBAAiB7rD,EAEjB++B,MAAOtzG,GAGTtf,EAAIb,KAAK+zF,EACX,IAEOlzF,CACT,EASU2/I,EAAAA,UAAAA,eAAV,SAAyBvsI,EAAWk/E,EAAW2hB,EAAiB/gB,GAE9D,OACEA,EAAMusD,WAAavsD,EAAMwsD,gBAAkB,GAC3CxsD,EAAMosD,mBAAqBpsD,EAAMusD,SAAWvsD,EAAMmsD,YAAc,EAAInsD,EAAMosD,oBAAsBpsD,EAAM0/B,OAE/F,oBACF3e,GAAM,CACTxwC,MAAO,KACPxgB,MAAO,OAGJgxD,CACT,EASU0rC,EAAAA,UAAAA,eAAV,SAAyBtsI,EAAWi/E,EAAW2hB,EAAiB/gB,GAC9D,OAA0B,IAAtBA,EAAMmsD,aACD,oBACFprC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAGJwwC,CACT,EAKQ0rC,EAAAA,UAAAA,YAAR,sBACE7/I,EAAKtF,KAAKm4F,QAAQ,SAACO,GACT,IAAAisD,EAAsBjsD,EAAK,YAAdR,EAASQ,EAAK,KAC7BztC,EAAY18C,GAAIwI,EAAKE,IAAIwxC,MAAO,aAEhCylF,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIwxC,OAGXyvC,EAAKoW,aAAan9F,KAAK+8H,EACzB,GACF,EAOQiX,EAAAA,UAAAA,aAAR,SAAqB/sB,EAAeotB,GAClC,OAAOr+I,KAAKye,OAAOwyG,EAAQotB,EAAW,GAAKA,EAC7C,EAOQL,EAAAA,UAAAA,UAAR,SAAkBtiJ,EAAe2iJ,GAC/B,IAAM77I,EAAMxC,KAAKye,MAAM/iB,EAAQ2iJ,GACzBD,EAAM1iJ,EAAQ2iJ,EAEpB,MAAO,CAAE77I,IAAG,EAAE47I,IAAG,EACnB,EACF,EA1JA,CAAkCntD,I,MCAlC,4B,8CAwIA,QAxIoChhF,EAAAA,EAAAA,IAAAA,EAAAA,GACxBquI,EAAAA,UAAAA,cAAV,WACE,OAAO32I,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,SACN4kF,WAAW,EACX87D,aAAa,WACRxuI,EAAAA,UAAMgtI,mBAAkB,YAE7ByB,UAAU,WACLzuI,EAAAA,UAAMgtI,mBAAkB,aAGjC,EAEOuB,EAAAA,UAAAA,OAAP,WACEvuI,EAAAA,UAAMpX,OAAM,WAERE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EAEUsB,EAAAA,UAAAA,cAAV,SAAwBvtD,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEU+sD,EAAAA,UAAAA,eAAV,SAAyBvtD,EAAYQ,GAAoB,EAE/C+sD,EAAAA,UAAAA,eAAV,SAAyB5+I,GAQvB,IAPM,MAAmB7G,KAAKiX,IAAtBmtD,EAAM,SAAEp/D,EAAI,OAGdkgJ,EAAkB9gF,EAAOlhE,OACzB4hJ,EAAqBI,EAErB1/I,EAAM,GACHC,EAAI,EAAGA,EAAIq/I,EAAoBr/I,IAEtC,IADA,IAAMm/I,EAAcxgF,EAAO3+D,GAClBsD,EAAI,EAAGA,EAAIm8I,EAAiBn8I,IAAK,CACxC,IAAMi8I,EAAW5gF,EAAOr7D,GAElB2vF,EAAoB,CACxB1zF,KAAI,EACJ6B,KAAI,EACJu6D,OAAQphE,KAAK0kJ,UAAUQ,EAAiBJ,EAAoBr/I,EAAGsD,GAE/D47I,YAAaC,EACbG,SAAUC,EACVJ,YAAW,EACXI,SAAQ,EACRH,YAAap/I,EACbw/I,SAAUl8I,EACV+7I,mBAAkB,EAClBI,gBAAe,GAEjB1/I,EAAIb,KAAK+zF,E,CAGb,OAAOlzF,CACT,EASUigJ,EAAAA,UAAAA,eAAV,SAAyB7sI,EAAWk/E,EAAW2hB,EAAiB/gB,GAE9D,OAAIA,EAAMusD,WAAavsD,EAAMwsD,gBAAkB,GACtC,oBACFzrC,GAAM,CACTxwC,MAAO,KACPxgB,MAAO,OAGJgxD,CACT,EASUgsC,EAAAA,UAAAA,eAAV,SAAyB5sI,EAAWi/E,EAAW2hB,EAAiB/gB,GAE9D,OAA0B,IAAtBA,EAAMmsD,aACD,oBACFprC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAGJwwC,CACT,EAKQgsC,EAAAA,UAAAA,YAAR,sBACEngJ,EAAKtF,KAAKm4F,QAAQ,SAACO,EAAmBktD,GAC5B,IAAAf,EAA4FnsD,EAAK,YAApFusD,EAA+EvsD,EAAK,SAA1EosD,EAAqEpsD,EAAK,mBAArCisD,GAAgCjsD,EAAK,gBAALA,EAAK,aAAxBqsD,EAAmBrsD,EAAK,SAAdR,EAASQ,EAAK,KAGzG,GAAiB,IAAbusD,EAAgB,CAClB,IAAMh6F,EAAY18C,GAAIwI,EAAKE,IAAIyuI,YAAa,aACtCxX,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIyuI,aAGXxtD,EAAKoW,aAAan9F,KAAK+8H,E,CAGzB,GAAI2W,IAAgBC,EAAqB,EAAG,CACpC75F,EAAY18C,GAAIwI,EAAKE,IAAI0uI,SAAU,aACnCzX,EAASp/H,GACb,CACEi2C,SAAU,CAAC,OAAQ,OACnBolB,QAASlf,EAAYA,EAAU85F,GAAYA,GAE7Cf,GAAmBhzI,GAAAA,OACnB+F,EAAKE,IAAI0uI,UAGXztD,EAAKoW,aAAan9F,KAAK+8H,E,CAE3B,GACF,EACF,EAxIA,CAAoC91C,I,MCApC,4B,8CA0JA,QA1JoChhF,EAAAA,EAAAA,IAAAA,EAAAA,GACxByuI,EAAAA,UAAAA,cAAV,WACE,OAAO/2I,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,SACN4kF,WAAW,EACXnhC,MAAOvxC,EAAAA,UAAMgtI,mBAAkB,WAC/BnqC,WAAW,GAEf,EAEO8rC,EAAAA,UAAAA,OAAP,WACE3uI,EAAAA,UAAMpX,OAAM,WAERE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EAEU0B,EAAAA,UAAAA,eAAV,SAAyB3tD,EAAYQ,GAE/B14F,KAAKiX,IAAI8iG,UACPrhB,EAAMmsD,YAAc,IAAM,EAC5B3sD,EAAKvE,aAAaomB,YAAY+rC,QAAQ,KAEtC5tD,EAAKvE,aAAaomB,YAGhBrhB,EAAMusD,SAAW,IAAM,GACzB/sD,EAAKvE,aAAamyD,QAAQ,IAGhC,EAEUD,EAAAA,UAAAA,cAAV,SAAwB3tD,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEUmtD,EAAAA,UAAAA,eAAV,SAAyBh/I,GAAzB,IAUM+9I,EACAI,EAXN,OACQ,WAAMhlJ,KAAKiX,IAAImtD,OAAM,GAApBp3D,EAAC,KAEFxH,EAAM,GACRs/I,EAAqB,EACrBI,EAAkB,EAElBa,EAAyB,CAAC,IAC1BC,EAAsB,CAAC,IA2C3B,OAtCIhmJ,KAAKiX,IAAI8iG,WACX6qC,EAAc53I,EACd+4I,EAAe/lJ,KAAKukJ,eAAe19I,EAAM+9I,GAAal5I,MAAM,EAAG,GAC/Do5I,EAAqBiB,EAAa7iJ,SAElC8hJ,EAAWh4I,EACXg5I,EAAYhmJ,KAAKukJ,eAAe19I,EAAMm+I,GAAUt5I,MAAM,EAAG,GACzDw5I,EAAkBc,EAAU9iJ,QAI9B6iJ,EAAat2I,SAAQ,SAACwhH,EAAM13B,GAC1BysD,EAAUv2I,SAAQ,SAACyhH,EAAM13B,GACvB,IAAMgB,EAAa,CACjB,CAAE3yC,MAAO+8F,EAAa9jJ,MAAOmwH,EAAMpsH,OAAQkhJ,GAC3C,CAAEl+F,MAAOm9F,EAAUlkJ,MAAOowH,EAAMrsH,OAAQmhJ,IAGpCxB,EAAYhgJ,EAAOqC,EAAMkQ,EAAK0tI,mBAAmBjqD,IAEjD9B,EAAoB,CACxB1zF,KAAM+R,EAAKE,IAAIjS,KACf6B,KAAM29I,EACNpjF,OAAQrqD,EAAK2tI,UAAUQ,EAAiBJ,EAAoBvrD,EAAQC,GAEpEmrD,YAAa1zB,EACb8zB,SAAU7zB,EACV0zB,YAAW,EACXI,SAAQ,EACRH,YAAatrD,EACb0rD,SAAUzrD,EACVsrD,mBAAkB,EAClBI,gBAAe,GAEjB1/I,EAAIb,KAAK+zF,EACX,GACF,IAEOlzF,CACT,EASUqgJ,EAAAA,UAAAA,eAAV,SAAyBjtI,EAAWk/E,EAAW2hB,EAAiB/gB,GAG9D,OAA0B,IAAtBA,EAAMmsD,aAAwC,IAAnBnsD,EAAMusD,UAC5B,oBACFxrC,GAAM,CACTxwC,MAAO,KACPxgB,MAAO,OAIJgxD,CACT,EASUosC,EAAAA,UAAAA,eAAV,SAAyBhtI,EAAWi/E,EAAW2hB,EAAiB/gB,GAE9D,OAAO+gB,CACT,EAEQosC,EAAAA,UAAAA,YAAR,sBACEvgJ,EAAKtF,KAAKm4F,QAAQ,SAACO,EAAmBktD,GAC5B,IAAAjB,EAAgCjsD,EAAK,YAAxBqsD,EAAmBrsD,EAAK,SAAdR,EAASQ,EAAK,KACvCztC,EAAY18C,GAAIwI,EAAKE,IAAIwxC,MAAO,aAEtC,GAAI1xC,EAAKE,IAAI8iG,UAAW,CACtB,IAAMm0B,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIwxC,OAGXyvC,EAAKoW,aAAan9F,KAAK+8H,E,KAClB,CACCA,EAASp/H,GACb,CACEi2C,SAAU,CAAC,OAAQ,OACnBolB,QAASlf,EAAYA,EAAU85F,GAAYA,GAE7Cf,GAAmBhzI,GAAAA,OACnB+F,EAAKE,IAAIwxC,OAGXyvC,EAAKoW,aAAan9F,KAAK+8H,E,CAE3B,GACF,EACF,EA1JA,CAAoC91C,I,MCApC,4B,8CAoKA,QApKkChhF,EAAAA,EAAAA,IAAAA,EAAAA,GACtB+wH,EAAAA,UAAAA,cAAV,SAAwBjwC,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEUyvC,EAAAA,UAAAA,eAAV,SAAyBjwC,EAAYQ,GAErC,EAEUyvC,EAAAA,UAAAA,cAAV,WACE,OAAOr5H,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,OACN0gJ,aAAa,WACRxuI,EAAAA,UAAMgtI,mBAAkB,YAE7ByB,UAAU,WACLzuI,EAAAA,UAAMgtI,mBAAkB,aAGjC,EAEO/b,EAAAA,UAAAA,OAAP,WACEjxH,EAAAA,UAAMpX,OAAM,WAERE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EAMUhc,EAAAA,UAAAA,eAAV,SAAyBthI,GAAzB,WACQ,WAA0B7G,KAAKiX,IAAImtD,OAAM,GAAxCwgF,EAAW,KAAEI,EAAQ,KAEtBx/I,EAAM,GACRs/I,EAAqB,EACrBI,EAAkB,EAElBa,EAAyB,CAAC,IAC1BC,EAAsB,CAAC,IAsC3B,OApCIpB,IACFmB,EAAe/lJ,KAAKukJ,eAAe19I,EAAM+9I,GACzCE,EAAqBiB,EAAa7iJ,QAEhC8hJ,IACFgB,EAAYhmJ,KAAKukJ,eAAe19I,EAAMm+I,GACtCE,EAAkBc,EAAU9iJ,QAI9B6iJ,EAAat2I,SAAQ,SAACwhH,EAAM13B,GAC1BysD,EAAUv2I,SAAQ,SAACyhH,EAAM13B,GACvB,IAAMgB,EAAa,CACjB,CAAE3yC,MAAO+8F,EAAa9jJ,MAAOmwH,EAAMpsH,OAAQkhJ,GAC3C,CAAEl+F,MAAOm9F,EAAUlkJ,MAAOowH,EAAMrsH,OAAQmhJ,IAEpCxB,EAAYhgJ,EAAOqC,EAAMkQ,EAAK0tI,mBAAmBjqD,IAEjD9B,EAAkB,CACtB1zF,KAAM+R,EAAKE,IAAIjS,KACf6B,KAAM29I,EACNpjF,OAAQrqD,EAAK2tI,UAAUQ,EAAiBJ,EAAoBvrD,EAAQC,GAEpEmrD,YAAa1zB,EACb8zB,SAAU7zB,EACV0zB,YAAW,EACXI,SAAQ,EACRH,YAAatrD,EACb0rD,SAAUzrD,EACVsrD,mBAAkB,EAClBI,gBAAe,GAEjB1/I,EAAIb,KAAK+zF,EACX,GACF,IAEOlzF,CACT,EAEQ2iI,EAAAA,UAAAA,YAAR,sBACE7iI,EAAKtF,KAAKm4F,QAAQ,SAACO,EAAiBktD,GAC1B,IAAAf,EAA2EnsD,EAAK,YAAnEusD,EAA8DvsD,EAAK,SAAzDosD,EAAoDpsD,EAAK,mBAArCisD,EAAgCjsD,EAAK,YAAxBqsD,EAAmBrsD,EAAK,SAAdR,EAASQ,EAAK,KAGxF,GAAiB,IAAbusD,EAAgB,CAClB,IAAMh6F,EAAY18C,GAAIwI,EAAKE,IAAIyuI,YAAa,aACtCxX,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIyuI,aAGXxtD,EAAKoW,aAAan9F,KAAK+8H,E,CAGzB,GAAI2W,IAAgBC,EAAqB,EAAG,CACpC75F,EAAY18C,GAAIwI,EAAKE,IAAI0uI,SAAU,aACnCzX,EAASp/H,GACb,CACEi2C,SAAU,CAAC,OAAQ,OACnBolB,QAASlf,EAAYA,EAAU85F,GAAYA,GAE7Cf,GAAmBhzI,GAAAA,OACnB+F,EAAKE,IAAI0uI,UAGXztD,EAAKoW,aAAan9F,KAAK+8H,E,CAE3B,GACF,EASU/F,EAAAA,UAAAA,eAAV,SAAyBvvH,EAAWk/E,EAAW2hB,EAAiB/gB,GAE9D,OAAIA,EAAMusD,WAAavsD,EAAMwsD,gBAAkB,GACtC,oBACFzrC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAEAyvB,EAAMmsD,cAAgB19I,KAAKye,OAAO8yE,EAAMosD,mBAAqB,GAAK,IAEpE,oBACFrrC,GAAM,CACThxD,MAAO,OAGJgxD,CACT,EASU0uB,EAAAA,UAAAA,eAAV,SAAyBtvH,EAAWi/E,EAAW2hB,EAAiB/gB,GAC9D,OAA0B,IAAtBA,EAAMmsD,aACD,oBACFprC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAEAyvB,EAAMusD,WAAa99I,KAAKye,OAAO8yE,EAAMwsD,gBAAkB,GAAK,IAC9D,oBACFzrC,GAAM,CACThxD,MAAO,OAGJgxD,CACT,EACF,EApKA,CAAkCrhB,I,MCGlC,0E,OAuLUrhF,EAAAA,iBAAmB,WACrBA,EAAKohF,QAAUphF,EAAKE,IAAI89B,OAC1Bh+B,EAAKnC,UAAUmjB,QACfhhB,EAAKkvI,UAAUlvI,EAAKohF,QAExB,E,CAiHF,QA7SkC/gF,EAAAA,EAAAA,IAAAA,EAAAA,GACtB8uI,EAAAA,UAAAA,cAAV,SAAwBhuD,EAAYQ,GAClC14F,KAAKskJ,YAAYpsD,EAAMQ,EACzB,EAEUwtD,EAAAA,UAAAA,eAAV,SAAyBhuD,EAAYQ,GAAkB,EAEhDwtD,EAAAA,UAAAA,KAAP,WACEhvI,EAAAA,UAAM7O,KAAI,WACVrI,KAAKk4F,KAAK32F,GAAGmR,GAAiB2rG,aAAcr+G,KAAKmmJ,iBACnD,EAEUD,EAAAA,UAAAA,cAAV,WACE,OAAOp3I,GAAQ,CAAC,EAAGoI,EAAAA,UAAMmR,cAAa,WAAI,CACxCrjB,KAAM,OACN+vC,KAAM,CACJ5/B,MAAO,CACLgrC,UAAW,EACXa,OAAQ,QAEVvG,QAAQ,GAEVmvC,WAAW,EACXnhC,MAAOvxC,EAAAA,UAAMgtI,mBAAkB,YAEnC,EAEUgC,EAAAA,UAAAA,eAAV,SAAyBr/I,GACvB,IAAMu9D,EAASpkE,KAAKiX,IAAImtD,OACxB,IAAKA,EAAOlhE,OACV,MAAM,IAAI4Q,MAAM,gDAElB,IAAMtO,EAAM,GACN4gJ,EAAsB,CAC1BphJ,KAAMhF,KAAKiX,IAAIjS,KACf6B,KAAI,EACJu6D,OAAQ,KACR8jF,gBAAiBllJ,KAAKqmJ,UACtBvB,mBAAoB,EACpBG,SAAU,EACVJ,YAAa,EACbG,SAAU,GACVJ,YAAa,GACbG,SAAU,GACVJ,YAAa,IAKf,OAHAn/I,EAAIb,KAAKyhJ,GACTA,EAAU70H,SAAWvxB,KAAKsmJ,eAAez/I,EAAM,EAAGrB,GAClDxF,KAAKumJ,UAAU/gJ,GACRA,CACT,EAEQ0gJ,EAAAA,UAAAA,UAAR,SAAkB/tD,GAAlB,WACEn4F,KAAKwmJ,cAAcruD,GACnBA,EAAO1oF,SAAQ,SAACipF,GAEdA,EAAMt3B,OAASrqD,EAAK2tI,UAAUhsD,EAAMwsD,gBAAiBxsD,EAAMosD,mBAAoBpsD,EAAMmsD,YAAansD,EAAMusD,SAC1G,GACF,EAEUiB,EAAAA,UAAAA,UAAV,SAAoB7sD,EAAcC,EAAcC,EAAgBC,GAC9D,IAAMitD,EAAS,EAAIntD,EACbotD,EAAS,EAAIrtD,EAEbt/E,EAAQ,CACZnB,EAAG6tI,EAASltD,EACZ1gF,EAAG6tI,EAASltD,GAGR92E,EAAM,CACV9J,EAAGmB,EAAMnB,EAAI6tI,EACb5tI,EAAGkB,EAAMlB,EAAc,EAAT6tI,EAAc,GAE9B,MAAO,CACL3sI,MAAK,EACL2I,IAAG,EAEP,EAEQwjI,EAAAA,UAAAA,cAAR,SAAsB/tD,G,QAAtB,OACQwuD,EAAoB,GACtB9jJ,EAAQ,EACZs1F,EAAO1oF,SAAQ,SAACipF,GACV3hF,EAAK6vI,OAAOluD,KACdiuD,EAAMhiJ,KAAK+zF,GAEXA,EAAMmsD,YAAchiJ,EACpBA,IAEJ,IAEA8jJ,EAAMl3I,SAAQ,SAACipF,GAEbA,EAAMosD,mBAAqB6B,EAAMzjJ,MACnC,IAEA,IADA,IAAM2L,EAAW7O,KAAKiX,IAAImtD,OAAOlhE,OACxBuC,EAAIoJ,EAAW,EAAGpJ,GAAK,EAAGA,IAAK,CACtC,IAAMohJ,EAAc7mJ,KAAK8mJ,iBAAiB3uD,EAAQ1yF,G,IAElD,IAAoB,yBAAAohJ,IAAW,8BAAE,CAA5B,IAAMnuD,EAAK,QACT14F,KAAK4mJ,OAAOluD,KACfA,EAAMquD,eAAiBruD,EAAMmsD,YAE7BnsD,EAAMmsD,YAAc7kJ,KAAKgnJ,eAAetuD,EAAMnnE,UAE9CmnE,EAAMosD,mBAAqB6B,EAAMzjJ,O,oGAIzC,EAGQgjJ,EAAAA,UAAAA,iBAAR,SAAyB/tD,EAAoBvpF,GAC3C,IAAMpJ,EAAkB,GAMxB,OALA2yF,EAAO1oF,SAAQ,SAACipF,GACVA,EAAMusD,WAAar2I,GACrBpJ,EAAIb,KAAK+zF,EAEb,IACOlzF,CACT,EAGQ0gJ,EAAAA,UAAAA,eAAR,SAAuB30H,GACrB,IAAMoqB,EAAQpqB,EAAS,GACjBrpB,EAAOqpB,EAASA,EAASruB,OAAS,GACxC,OAAQgF,EAAK28I,YAAclpG,EAAMkpG,aAAe,EAAIlpG,EAAMkpG,WAC5D,EAGQqB,EAAAA,UAAAA,OAAR,SAAextD,GACb,OAAQA,EAAMnnE,WAAamnE,EAAMnnE,SAASruB,MAC5C,EAEQgjJ,EAAAA,UAAAA,QAAR,WACE,OAAOlmJ,KAAKiX,IAAImtD,OAAOlhE,OAAS,CAClC,EAGQgjJ,EAAAA,UAAAA,eAAR,SAAuBr/I,EAAe+H,EAAetK,GAArD,WAEQ8/D,EAASpkE,KAAKiX,IAAImtD,OAClBlhE,EAASkhE,EAAOlhE,OACtB,KAAIA,EAAS0L,GAAb,CAGA,IAAMpJ,EAAM,GAENqiD,EAAQuc,EAAOx1D,EAAQ,GAEvB/J,EAAS7E,KAAKukJ,eAAe19I,EAAMghD,GAuBzC,OAtBAhjD,EAAO4K,SAAQ,SAAC3O,EAAO+B,GACrB,IAAM23F,EAAa,CAAC,CAAE3yC,MAAK,EAAE/mD,MAAK,EAAE+D,OAAM,IACpC0uH,EAAU1sH,EAAKrC,OAAOuS,EAAK0tI,mBAAmBjqD,IACpD,GAAI+4B,EAAQrwH,OAAQ,CAClB,IAAMw1F,EAAkB,CACtB1zF,KAAM+R,EAAKE,IAAIjS,KACf6B,KAAM0sH,EACNnyD,OAAQ,KACRujF,YAAa7jJ,EACbikJ,SAAU,GACVH,YAAa/8F,EACbm9F,SAAU,GACVH,YAAahiJ,EACbqiJ,gBAAiBnuI,EAAKsvI,UACtBvB,mBAAoB,EACpBG,SAAUr2I,EACV2iB,SAAUxa,EAAKuvI,eAAe/yB,EAAS3kH,EAAQ,EAAGtK,IAEpDkB,EAAIb,KAAK+zF,GACTp0F,EAAIK,KAAK+zF,E,CAEb,IACOlzF,C,CACT,EAEO0gJ,EAAAA,UAAAA,OAAP,WACEhvI,EAAAA,UAAMpX,OAAM,WACRE,KAAKiX,IAAI2yE,WACX5pF,KAAKmkJ,aAET,EASQ+B,EAAAA,UAAAA,YAAR,sBACE5gJ,EAAKtF,KAAKm4F,QAAQ,SAACO,GACT,IAAAisD,EAAsBjsD,EAAK,YAAdR,EAASQ,EAAK,KAC7BztC,EAAY18C,GAAIwI,EAAKE,IAAIwxC,MAAO,aAEhCylF,EAASp/H,GACb,CACEi2C,SAAU,CAAC,MAAO,MAClBolB,QAASlf,EAAYA,EAAU05F,GAAeA,GAEhDX,GAAmBhzI,GAAAA,KACnB+F,EAAKE,IAAIwxC,OAGXyvC,EAAKoW,aAAan9F,KAAK+8H,EACzB,GACF,EAEQgY,EAAAA,UAAAA,UAAR,SAAkB/tD,GAAlB,WACEA,EAAO1oF,SAAQ,SAACipF,GACd,IAAK3hF,EAAK6vI,OAAOluD,GAAQ,CACvB,IAAMnnE,EAAWmnE,EAAMnnE,SACvBxa,EAAKkwI,cAAcvuD,EAAOnnE,E,CAE9B,GACF,EAGQ20H,EAAAA,UAAAA,cAAR,SAAsBxtD,EAAiBnnE,GAAvC,WACQ2mE,EAAOQ,EAAMR,KACb92B,EAAS82B,EAAKnrB,eAEdhzD,EAAQ,CACZnB,EAAGwoD,EAAOxoD,EAAIwoD,EAAOrvD,MAAQ,EAC7B8G,EAAGuoD,EAAOvoD,EAAIuoD,EAAO1rD,QAGvB6b,EAAS9hB,SAAQ,SAACy3I,GAChB,IAAMC,EAAYD,EAAShvD,KAAKnrB,eAC1BrqD,EAAM,CACV9J,EAAGuuI,EAAU9lC,GAAGzoG,GAAKuuI,EAAUjzI,GAAG0E,EAAIuuI,EAAU9lC,GAAGzoG,GAAK,EACxDC,EAAGsuI,EAAUjzI,GAAG2E,GAGZuuI,EAAU,CACdxuI,EAAGmB,EAAMnB,EACTC,EAAGkB,EAAMlB,GAAK6J,EAAI7J,EAAIkB,EAAMlB,GAAK,GAE7BwuI,EAAU,CACdzuI,EAAG8J,EAAI9J,EACPC,EAAGuuI,EAAQvuI,GAEb9B,EAAK27D,SAAS,CAAC34D,EAAOqtI,EAASC,EAAS3kI,GAC1C,GACF,EAEQwjI,EAAAA,UAAAA,QAAR,SAAgB3hI,GACd,IAAMpU,EAAO,GACPsqC,EAASz6C,KAAKiX,IAAI89B,KAAK0F,OAc7B,OAbIA,GACFtqC,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,IACvC1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAG0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,EAAG0L,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,KAE3F0L,EAAO9U,SAAQ,SAAC6+B,EAAOzrC,GACP,IAAVA,EACFsN,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,IAE/B1I,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GAEnC,IAGK1I,CACT,EAGQ+1I,EAAAA,UAAAA,SAAR,SAAiB3hI,GACf,IAAMpU,EAAOnQ,KAAKm9H,QAAQ54G,GACpBwwB,EAAO/0C,KAAKiX,IAAI89B,KAAK5/B,MAC3BnV,KAAK4U,UAAU0xD,SAAS,OAAQ,CAC9BlmE,MAAOimC,GACL,CAEEl2B,KAAI,GAEN4kC,IAGN,EAEUmxG,EAAAA,UAAAA,eAAV,SAAyBttI,EAAWk/E,EAAW2hB,EAAiB/gB,GAC9D,OAAIA,EAAMusD,WAAavsD,EAAMwsD,gBAAkB,GACtC,oBACFzrC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAGJwwC,CACT,EAEUysC,EAAAA,UAAAA,eAAV,SAAyBrtI,EAAWi/E,EAAW2hB,EAAiB/gB,GAC9D,OAA6B,IAAzBA,EAAMquD,gBAA8C,IAAtBruD,EAAMmsD,aAC/B,oBACFprC,GAAM,CACThxD,MAAO,KACPwgB,MAAO,OAGJwwC,CACT,EACF,EA7SA,CAAkCrhB,I,MCT5B,SAAUkvD,GAAUv9I,GACxB,IAAMzF,GAAM,oBAAIyF,IAAK,GAErBzF,EAAIgtB,MAAK,SAAC3qB,EAAWgE,GACnB,OAAOhE,EAAIgE,CACb,IAEA,IAAMjF,EAAMpB,EAAIpB,OAIhB,OAAY,IAARwC,EACK,EAILA,EAAM,IAAM,EACPpB,GAAKoB,EAAM,GAAK,IAIjBpB,EAAIoB,EAAM,GAAKpB,EAAIoB,EAAM,EAAI,IAAM,CAC7C,CAMM,SAAU6hJ,GAAQx9I,GACtB,IAAM4V,EAAM3Y,GACV+C,GACA,SAACpB,EAAWorI,GACV,OAAQprI,GAAKlB,MAAMssI,KAASzpI,GAASypI,GAAO,EAAIA,EAClD,GACA,GAGF,OAAwB,IAAjBhqI,EAAM7G,OAAe,EAAIyc,EAAM5V,EAAM7G,MAC9C,CCpCM,SAAUskJ,GAAmBx+I,EAAsB8jB,GACvD,IAAKA,EACH,OAAO,KAET,IAAI26H,EAEJ,OAAQz+I,GACN,IAAK,QACH,OAAO,EACT,IAAK,SACH,MAAO,GACT,IAAK,MACH,OAAO,EACT,IAAK,SACHy+I,EAAS36H,EAAMm7B,WAAaq/F,GAAUx6H,EAAMjoB,OAAOyK,KAAI,SAACgzC,EAAGlyC,GAAgB,OAAAA,CAAA,KAAQk3I,GAAUx6H,EAAMjoB,QACnG,MAEF,IAAK,OACH4iJ,EAAS36H,EAAMm7B,YAAcn7B,EAAMjoB,OAAO3B,OAAS,GAAK,EAAIqkJ,GAAQz6H,EAAMjoB,QAC1E,MAEF,IAAK,MACH4iJ,EAAS36H,EAAMm7B,WAAa,EAAIn7B,EAAM9jB,GACtC,MACF,IAAK,MACHy+I,EAAS36H,EAAMm7B,WAAan7B,EAAMjoB,OAAO3B,OAAS,EAAI4pB,EAAM9jB,GAC5D,MACF,QACEy+I,EAASz+I,EACT,MAGJ,OAAO8jB,EAAMA,MAAM26H,EACrB,CCOA,IAAMC,GAA2B,CAAC,eAAgB,SAOlD,eAOE,WAAYxvD,GAAZ,MACEhhF,EAAAA,KAAAA,KAAMghF,IAAK,K,OAHLnhF,EAAAA,MAAQ,IAAIrO,IAKlBqO,EAAK4wI,oBAAsB5wI,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,WAC1DhvD,EAAK6wI,oBAAsB7wI,EAAKmhF,KAAKc,SAASjoF,GAAMkC,IAAI8yD,WAExDhvD,EAAK0iG,OAAS,G,CAChB,CAqrBF,OAnsBwCriG,EAAAA,EAAAA,IAAAA,EAAAA,GAgBtCrR,OAAAA,eAAW8hJ,EAAAA,UAAAA,OAAI,C,IAAf,WACE,MAAO,YACT,E,gCAEOA,EAAAA,UAAAA,KAAP,WAAgB,EAKTA,EAAAA,UAAAA,OAAP,WACE7nJ,KAAKmsC,QACP,EAGO07G,EAAAA,UAAAA,OAAP,WAAkB,EAKXA,EAAAA,UAAAA,OAAP,sBAEE7nJ,KAAK8nJ,eAAc,WACjB,IAAMr5B,EAAU,IAAI/lH,IAEpBpD,EAAKyR,EAAK0iG,QAAQ,SAACA,GACjB,GAAInuE,EAASo8G,GAA0BjuC,EAAOz0G,MAAO,CACnD,IAAMg6F,EAAKjoF,EAAKgxI,eAAetuC,GAE3Bza,GACFyvB,EAAQ5lH,IAAIkO,EAAKixI,YAAYvuC,GAASza,E,CAG5C,IAIAjoF,EAAKtO,MAAQsO,EAAKkxI,UAAUx5B,EAC9B,IAGA,IAAMy5B,EAAc,IAAIx/I,IACxBpD,EAAKtF,KAAKy5G,QAAQ,SAACA,GACjB,IAAKnuE,EAASo8G,GAA0BjuC,EAAOz0G,MAAO,CACpD,IAAMg6F,EAAKjoF,EAAKgxI,eAAetuC,GAE3Bza,GACFkpD,EAAYr/I,IAAIkO,EAAKixI,YAAYvuC,GAASza,E,CAGhD,IACAh/F,KAAKyI,MAAQzI,KAAKioJ,UAAUC,EAC9B,EAMOL,EAAAA,UAAAA,MAAP,SAAajhC,QAAA,IAAAA,IAAAA,GAAgB,GAC3B1vG,EAAAA,UAAM6gB,MAAK,WAEX/3B,KAAKmoJ,kBACLnoJ,KAAK2nJ,oBAAoB5vH,QACzB/3B,KAAK4nJ,oBAAoB7vH,QAGrB6uF,IACF5mH,KAAKy5G,OAAS,GAElB,EAEOouC,EAAAA,UAAAA,QAAP,WACE7nJ,KAAK+3B,OAAM,GAEX/3B,KAAK2nJ,oBAAoBr/I,QAAO,GAChCtI,KAAK4nJ,oBAAoBt/I,QAAO,EAClC,EAKOu/I,EAAAA,UAAAA,cAAP,WACE,IAAM7oD,EAAK,GAMX,OAJAh/F,KAAKyI,MAAMgH,SAAQ,SAAC3O,GAClBk+F,EAAGr6F,KAAK7D,EACV,IAEOk+F,CACT,EAKQ6oD,EAAAA,UAAAA,gBAAR,WACE7nJ,KAAK++F,gBAAgBtvF,SAAQ,SAACuvF,GAC5BA,EAAG/4B,UAAUx0C,SACf,IAEAzxB,KAAKyI,MAAMsvB,OACb,EAMQ8vH,EAAAA,UAAAA,cAAR,SAAsBO,GACpB,IAAI9xB,GAAO,EACPt2H,KAAKk4F,KAAK6B,aAAa12B,SACzBrjE,KAAKk4F,KAAK+B,WAAWxqF,SAAQ,SAACy1B,GAExBA,EAAEq+B,gBACJr+B,EAAEzuB,KAAK9D,GAAqBs5G,oBAAoB,WAChDm8B,GACA,IACA9xB,GAAO,EAEX,IAGGA,GACHt2H,KAAKk4F,KAAK4mB,cAAcroG,KAAK/D,GAAiB2rG,cAAc,WAC1D+pC,GACF,GAEJ,EAEQP,EAAAA,UAAAA,iBAAR,SAAyBpuC,GACf,IAAAz0G,EAASy0G,EAAM,KAEjBrtG,EAAOi8I,EAAoB18I,GAAW3G,IAC5C,GAAIoH,EAAM,CACR,IAAMqmE,EAAQzyE,KAAKsoJ,mBAAmBtjJ,GAChCiS,EAAMjX,KAAKuoJ,iBAAiBvjJ,EAAMy0G,EAAQhnC,GAEhD,IAAKx7D,EACH,OAAO,KAET,IAAMq3F,EAAa,IAAIliG,EAAK6K,GAE5B,MAAO,CACLgvD,UAAWqoC,EACXrgC,MAAOjuE,KAAKwoJ,MAAMvxI,GAAOlG,GAAMgC,KAAOhC,GAAMkC,GAC5Cqb,UAAWtd,GAAAA,KACXhM,KAAMiM,GAAew3I,WACrBjoG,MAAOi5D,E,CAGb,EAGOouC,EAAAA,UAAAA,WAAP,SAAkBpuC,GAChBz5G,KAAKy5G,OAAO90G,KAAK80G,EACnB,EAOOouC,EAAAA,UAAAA,IAAP,SAAWpuC,GAMT,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,OACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,MAAP,SAAapuC,GAMX,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,SACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,KAAP,SAAYpuC,GAMV,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,QACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,OAAP,SAAcpuC,GAMZ,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,UACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,KAAP,SAAYpuC,GAMV,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,QACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,WAAP,SAAkBpuC,GAMhB,OALAz5G,KAAKsuG,YAAW,SACdtpG,KAAM,cACHy0G,IAGEz5G,IACT,EAOO6nJ,EAAAA,UAAAA,WAAP,SAAkBpuC,GAChBz5G,KAAKsuG,YAAW,SACdtpG,KAAM,cACHy0G,GAEP,EAOOouC,EAAAA,UAAAA,aAAP,SAAoBpuC,GAClBz5G,KAAKsuG,YAAW,SACdtpG,KAAM,gBACHy0G,GAEP,EAMOouC,EAAAA,UAAAA,MAAP,SAAapuC,GACXz5G,KAAKsuG,YAAW,SACdtpG,KAAM,SACHy0G,GAEP,EAMOouC,EAAAA,UAAAA,KAAP,SAAYpuC,GACVz5G,KAAKsuG,YAAW,SACdtpG,KAAM,QACHy0G,GAEP,EAQQouC,EAAAA,UAAAA,cAAR,SACE53I,G,QAKM2lG,EAAS51G,KAAKk4F,KAAK2d,YAEnBuK,EAAUpgH,KAAKk4F,KAAKwoB,eAAe,KAEnC37D,EAAqB9+C,EAAWgK,GAAKA,EAAEhL,KAAK,KAAM2wG,EAAQwK,GAAWnwG,EAEvE2I,EAAI,EACJC,EAAI,EAGR,GAAIxT,EAAQ0/C,GAAW,CACf,eAAeA,EAAQ,GAAtB2jG,EAAI,KAAEC,EAAI,KAIjB,GAAIx5I,GAASu5I,KAAgC,IAAvBA,EAAKnkJ,QAAQ,OAAgBkD,MAAMihJ,EAAKh9I,MAAM,GAAI,IACtE,OAAO1L,KAAK4oJ,qBAAqB7jG,GAGnCnsC,EAAI4uI,GAAmBkB,EAAM9yC,GAC7B/8F,EAAI2uI,GAAmBmB,EAAM5iJ,OAAOlB,OAAOu7G,GAAS,G,MAC/C,IAAKl7G,EAAM6/C,G,IAEhB,IAAkB,iBAAKA,IAAS,8BAAE,CAA7B,IAAMjiD,EAAG,QACNhC,EAAQikD,EAASjiD,GACnBA,IAAQ8yG,EAAO/tD,QACjBjvC,EAAI4uI,GAAmB1mJ,EAAO80G,IAE5BwK,EAAQt9G,KACV+V,EAAI2uI,GAAmB1mJ,EAAOs/G,EAAQt9G,I,mGAK5C,OAAI2E,MAAMmR,IAAMnR,MAAMoR,GACb,KAGF7Y,KAAKk4F,KAAKl4B,gBAAgBi1B,QAAQ,CAAEr8E,EAAC,EAAEC,EAAC,GACjD,EAQQgvI,EAAAA,UAAAA,gBAAR,SAAwB9tI,EAAwB2I,GAAhD,IAUM6lD,EAVN,OACQqtC,EAAS51G,KAAKk4F,KAAK2d,YACnBuK,EAAUpgH,KAAKk4F,KAAKwoB,eAAe,KACnC3K,EAAShwG,OAAOlB,OAAOu7G,GAAS,GAChCv+D,EAAS+zD,EAAO/tD,MAChBghG,EAAW7oJ,KAAKk4F,KAAKI,UACrBwwD,EAAczjJ,EAAQ0U,GAASA,EAAM,GAAKA,EAAM8nC,GAChDknG,EAAY1jJ,EAAQqd,GAAOA,EAAI,GAAKA,EAAIm/B,GACxCv9C,EAAM,GAkBZ,OAfAgB,EAAKujJ,GAAU,SAACjmJ,EAAMwN,GAIpB,GAHIxN,EAAKi/C,KAAYinG,IACnBvgF,EAAan4D,GAEXA,GAAOm4D,EAAY,CACrB,IAAMj6B,EAAQv3B,EAAKiyI,cAAc,CAACpmJ,EAAKi/C,GAASj/C,EAAKmzG,EAAOluD,SACxDvZ,GACFhqC,EAAIK,KAAK2pC,E,CAGb,GAAI1rC,EAAKi/C,KAAYknG,EACnB,OAAO,CAEX,IAEOzkJ,CACT,EAMQujJ,EAAAA,UAAAA,qBAAR,SAA6B9iG,GAC3B,IAAM8a,EAAWz1D,WAAW26C,EAAS,IAAM,IACrC+a,EAAW11D,WAAW26C,EAAS,IAAM,IACrC4uC,EAAa3zF,KAAKk4F,KAAKl4B,gBACrBjmD,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAE3BhiD,EAAU,CACd/4B,EAAGzR,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GACzBC,EAAG1R,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,IAErBD,EAAI+6E,EAAWhlB,WAAa9O,EAAWluB,EAAQ/4B,EAC/CC,EAAI86E,EAAWnlB,YAAc1O,EAAWnuB,EAAQ94B,EACtD,MAAO,CAAED,EAAC,EAAEC,EAAC,EACf,EAKQgvI,EAAAA,UAAAA,kBAAR,WACE,IAAMl0D,EAAa3zF,KAAKk4F,KAAKl4B,gBACrBjmD,EAAe45E,EAAU,MAAlBjxE,EAAQixE,EAAU,IAE3B5hF,EAAQ4hF,EAAWhlB,WACnBj5D,EAASi+E,EAAWnlB,YACpB78B,EAAU,CACd/4B,EAAGzR,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GACzBC,EAAG1R,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,IAG3B,MAAO,CACLD,EAAG+4B,EAAQ/4B,EACXC,EAAG84B,EAAQ94B,EACXyd,KAAMqb,EAAQ/4B,EACd6d,KAAMkb,EAAQ94B,EACd2d,KAAMmb,EAAQ/4B,EAAI7G,EAClB2kB,KAAMib,EAAQ94B,EAAInD,EAClB3D,MAAK,EACL2D,OAAM,EAEV,EAQQmyI,EAAAA,UAAAA,iBAAR,SAAyB7iJ,EAAcy0G,EAAahnC,GAApD,WACQkhB,EAAa3zF,KAAKk4F,KAAKl4B,gBACvBjuC,EAAS/xB,KAAKk4F,KAAKlmE,YACrB9oB,EAAI,CAAC,EAET,GAAIhE,EAAMu0G,GACR,OAAO,KAED,IAAA1/F,EAAyB0/F,EAAM,MAAxB/2F,EAAkB+2F,EAAM,IAAnB10D,EAAa00D,EAAM,SACjCwvC,EAAKjpJ,KAAKgpJ,cAAcjvI,GACxBmvI,EAAKlpJ,KAAKgpJ,cAActmI,GACxBm4D,EAAY76E,KAAKgpJ,cAAcjkG,GACrC,MAAI,CAAC,MAAO,QAAS,OAAQ,SAAU,gBAAgBzZ,SAAStmC,IAAWikJ,GAAOC,GAChF,OAAO,KACF,GAAI,CAAC,OAAQ,aAAc,QAAQ59G,SAAStmC,KAAU61E,EAC3D,OAAO,KAGT,GAAa,QAAT71E,EAAgB,CAClB,IAAMmlB,EAA0BsvF,EAAT2L,GAAV,QAAK,OAAS,UAArB,kBACAluE,EAAam+C,GAAgB1B,EAAYs1D,GAC3C9xG,EAAWk+C,GAAgB1B,EAAYu1D,GACvChyG,EAAaC,IACfA,EAAqB,EAAVhwC,KAAK+D,GAASisC,GAG3BjuC,GAAI,oBACCk8G,GAAI,CACPnoE,OAAQ02C,EAAWl0B,YACnBjB,OAAQ22B,GAAoBxB,EAAYs1D,GACxC/xG,WAAU,EACVC,SAAQ,G,MAEL,GAAa,UAATnyC,EAAkB,CAC3B,IAAMkuB,EAA0BumF,EAAnB,QAAK,MAAK2L,GAAI,UAArB,iBACNl8G,GAAI,oBACCk8G,GAAI,CACPrrG,MAAOkvI,EACPvmI,IAAKwmI,EACLv6I,IAAK8qG,EAAO9qG,K,MAET,GAAa,SAAT3J,EAAiB,CAC1B,IAAM/E,EAA0Bw5G,EAAnB,QAAK,MAAK2L,GAAI,UAArB,iBACNl8G,GAAI,oBACCk8G,GAAI,CACPrrG,MAAOkvI,EACPvmI,IAAKwmI,EACL/3I,KAAM5C,GAAIkrG,EAAQ,OAAQ,O,MAEvB,GAAa,WAATz0G,EAAmB,CAC5B,IAAM84C,EAA0B27D,EAAnB,QAAK,MAAK2L,GAAI,UAArB,iBACNl8G,GAAI,oBACCk8G,GAAI,CACPrrG,MAAOkvI,EACPvmI,IAAKwmI,G,MAEF,GAAa,SAATlkJ,EAAiB,CAC1B,IAAMu5G,EAAev+G,KAAKk4F,KAAKI,UACzBv6C,EAAiC07D,EAArBtvC,GAAF,WAAS,WACrBg/E,GAD0B/jC,GAAI,UAA5B,wBACYj7C,GACdlkE,EAAWkkE,KACbg/E,EAAch/E,EAAQo0C,IAExBr1G,GAAI,6BACC2xE,GACAuqC,GAAI,CACPj7C,QAASg/E,G,MAEN,GAAa,eAATnkJ,EAAuB,CAChC,IAAMg5C,EAAkEy7D,EAAtDnrE,GAAF,WAAO,SAAEyG,EAAI,OAAE5jC,EAAI,OAAE27D,EAAU,aAAEx+C,EAAS,YAAK82F,GAAI,UAA7D,6DACNl8G,GAAI,6BACCk8G,GACAvqC,GAAS,CACZ9N,eAAgB/sE,KAAK41F,oBACrBtnD,MAAK,EACLyG,KAAI,EACJ5jC,KAAI,EACJ27D,WAAU,EACVx+C,UAAS,G,MAEN,GAAa,eAATtpB,EAAuB,CAChC,IAAMi5C,EAAoDw7D,EAAlD2vC,EAAK,QAAEC,EAAG,MAAEjoF,EAAM,SAAQ2B,GAAN5xD,EAAI,OAAY,cAAKi0G,GAAI,UAA/C,8CACNl8G,GAAI,oBACCk8G,GAAI,CACP7gG,OAAQvkB,KAAKspJ,gBAAgBF,EAAOC,GACpCjoF,OAAM,EACNjwD,KAAI,EACJ4xD,WAAU,G,MAEP,GAAa,iBAAT/9D,EAAyB,CAClC,IAAMk5C,EAAwCu7D,EAA1B8vC,GAAP,QAAK,MAAO,SAAE7kH,EAAK,QAC1Bu1D,GAD+BmrB,GAAI,UAAnC,iCACyBplH,KAAKk4F,KAAK+B,YACnCuvD,EAAS,GACTC,EAAY,SAAC7mJ,GACZA,IAGDA,EAAK2xB,UACN3xB,EAAgB4uB,cAAc/hB,SAAQ,SAACsmB,GAAU,SAAUA,EAAV,IAElDyzH,EAAO7kJ,KAAK/B,GAEhB,EACA0C,EAAK20F,GAAY,SAACgE,GACZsrD,EACEllJ,EAASklJ,EAAOtrD,EAAKj5F,OACvBM,EAAK24F,EAAK14F,UAAU,SAAC0/D,GACnBwkF,EAAUxkF,EAAKn9C,MACjB,IAGFxiB,EAAK24F,EAAK14F,UAAU,SAAC0/D,GACnBwkF,EAAUxkF,EAAKn9C,MACjB,GAEJ,IACA5e,GAAI,oBACCk8G,GAAI,CACP1gF,MAAK,EACLimE,OAAM,EACN5wF,MAAOkvI,EACPvmI,IAAKwmI,G,MAEF,GAAa,UAATlkJ,EAAkB,CAC3B,IAAM0kJ,EAA6BjwC,EAA3BkwC,EAAM,SAAKC,GAAW,UAAxB,YACAC,EAAgB,SAACj1I,GACrB,GAAI3O,EAAWwzG,EAAO35G,QACpB,OAAO6pJ,EAAO/0I,EAAWmC,EAAKmhF,KAAM,CAAE8wD,cAAejyI,EAAKiyI,cAAcnwH,KAAK9hB,IAEjF,EACA7N,GAAI,oBACC0gJ,GAAW,CACd9pJ,OAAQ+pJ,G,MAEL,GAAa,SAAT7kJ,EAAiB,CAC1B,IAAM8kJ,EAAqCrwC,EAAnCswC,EAAI,OACNC,GADgB,WAAKJ,GAAW,UAAhC,qBACc,SAACh1I,GACnB,OAAI3O,EAAW8jJ,GACNA,EAAKn1I,EAAWmC,EAAKmhF,MAEvB6xD,CACT,GACA7gJ,GAAI,6BACC0gJ,GACA/uE,GAAS,CAEZ1kE,OAAQ4b,EAAOxjB,IAAI,MAAM6H,WACzB26D,KAAMi5E,G,CAIV,IAAM/yI,EAAMnI,GAAQ,CAAC,EAAG2jE,GAAO,oBAC1BvpE,GAAC,CACJioC,IAAKsoE,EAAOtoE,IACZh8B,MAAOskG,EAAOtkG,MACdw7B,QAAS8oE,EAAO9oE,QAChBE,QAAS4oE,EAAO5oE,WASlB,MAPa,SAAT7rC,IAEFiS,EAAIrC,UAAY5U,KAAKiqJ,sBAAsBhzI,IAE7CA,EAAIosD,QAAUrjE,KAAKk4F,KAAK6B,aAAa12B,SAAWpsD,EAAIosD,SAAW90D,GAAIkrG,EAAQ,UAAWxiG,EAAIosD,SAC1FpsD,EAAIssD,cAAgBz0D,GAAQ,CAAC,EAAG66G,GAAqB1yG,EAAIssD,cAAek2C,EAAOl2C,eAExEtsD,CACT,EAOQ4wI,EAAAA,UAAAA,MAAR,SAAcpuC,GACZ,OAAOlrG,GAAIkrG,EAAQ,OAAO,EAC5B,EAQQouC,EAAAA,UAAAA,sBAAR,SAA8BpuC,GAC5B,OAAOz5G,KAAKwoJ,MAAM/uC,GAAUz5G,KAAK2nJ,oBAAsB3nJ,KAAK4nJ,mBAC9D,EAEQC,EAAAA,UAAAA,mBAAR,SAA2B7iJ,GACzB,OAAOuJ,GAAIvO,KAAKk4F,KAAK4B,WAAY,CAAC,aAAc,aAAc90F,GAAO,CAAC,EACxE,EAMQ6iJ,EAAAA,UAAAA,eAAR,SAAuBpuC,GAErB,IAAIza,EAAKh/F,KAAKyI,MAAM8F,IAAIvO,KAAKgoJ,YAAYvuC,IAGzC,GAAIza,EAAI,CACE,IAAAh6F,EAASy0G,EAAM,KACjBhnC,EAAQzyE,KAAKsoJ,mBAAmBtjJ,GAChCiS,EAAMjX,KAAKuoJ,iBAAiBvjJ,EAAMy0G,EAAQhnC,GAG5Cx7D,GACFq9E,GAAKr9E,EAAK,CAAC,cAEb+nF,EAAG/4B,UAAU95B,QAAO,oBAAMl1B,GAAO,CAAC,GAAI,CAAAE,UAAWF,KAE7Cq0B,EAASo8G,GAA0BjuC,EAAOz0G,OAC5Cg6F,EAAG/4B,UAAUnmE,Q,MAIfk/F,EAAKh/F,KAAKkqJ,iBAAiBzwC,GACvBza,IACFA,EAAG/4B,UAAU59D,OAGTijC,EAASo8G,GAA0BjuC,EAAOz0G,OAC5Cg6F,EAAG/4B,UAAUnmE,UAInB,OAAOk/F,CACT,EAMQ6oD,EAAAA,UAAAA,UAAR,SAAkBp5B,GAAlB,WACQ07B,EAAW,IAAIzhJ,IAAI1I,KAAKyI,OAoB9B,OAjBAgmH,EAAQh/G,SAAQ,SAACuvF,EAAqBl8F,GACpCqnJ,EAASthJ,IAAI/F,EAAKk8F,EACpB,IAGAmrD,EAAS16I,SAAQ,SAACuvF,EAAqBl8F,GAGlC0D,EAAKuQ,EAAK0iG,QAAQ,SAACA,GAClB,OAAO32G,IAAQiU,EAAKixI,YAAYvuC,EAClC,MAEAza,EAAG/4B,UAAUx0C,UACb04H,EAASzuC,OAAO54G,GAEpB,IAEOqnJ,CACT,EAMQtC,EAAAA,UAAAA,YAAR,SAAoBpuC,GAElB,OAAOA,CAIT,EACF,EAnsBA,CAAwCkN,I,MC5ClC,SAAUyjC,GAAgB33E,EAAenkD,GAC7C,IAAMipE,EAAYzoF,GAChB,CAAC,EACDP,GAAIkkE,EAAO,CAAC,aAAc,OAAQ,WAClClkE,GAAIkkE,EAAO,CAAC,aAAc,OAAQnkD,KAEpC,OAAO/f,GAAIgpF,EAAW,CAAC,QAAS,CAAC,EACnC,CAUM,SAAU8yD,GAAiB12D,EAAwB7mE,EAAci1B,EAAa8vB,GAClF,IAAMgB,EAAQ,GACRhoB,EAAQ/9B,EAAMquG,WAgCpB,OA/BIxnC,EAAWoB,SAEblqC,EAAMlmD,KAAK,CACT7D,MAAO,EACPqQ,KAAM,GACN65C,UAAW,KAGfH,EAAM7jD,QAAO,SAACsjJ,EAAeC,EAAmB5f,GAC9C,IAAMhmD,EAAe4lE,EAAYzpJ,MACjC,GAAI+wE,EACFgB,EAAMluE,KAAK,CACT4f,OAAQ,CACNovE,EAAWsB,QAAgB,MAARlzC,EAAc,CAAEnpC,EAAG,EAAGC,EAAG8rE,GAAiB,CAAE/rE,EAAG+rE,EAAc9rE,EAAG,IACnF86E,EAAWsB,QAAgB,MAARlzC,EAAc,CAAEnpC,EAAG,EAAGC,EAAG8rE,GAAiB,CAAE/rE,EAAG+rE,EAAc9rE,EAAG,YAIvF,GAAI8xH,EAAc,CAChB,IAAM7lD,EAAWwlE,EAAQxpJ,MACnB0pJ,GAAe1lE,EAAWH,GAAgB,EAChD9R,EAAMluE,KAAK,CACT4f,OAAQ,CACNovE,EAAWsB,QAAgB,MAARlzC,EAAc,CAAEnpC,EAAG,EAAGC,EAAG2xI,GAAgB,CAAE5xI,EAAG4xI,EAAa3xI,EAAG,IACjF86E,EAAWsB,QAAgB,MAARlzC,EAAc,CAAEnpC,EAAG,EAAGC,EAAG2xI,GAAgB,CAAE5xI,EAAG4xI,EAAa3xI,EAAG,M,CAKzF,OAAO0xI,CACT,GAAG1/F,EAAM,IACFgoB,CACT,CAWM,SAAU43E,GACd92D,EACAiiB,EACAG,EACAlkC,EACA9vB,GAEA,IAAMj9B,EAAQ8wF,EAAO/wG,OAAO3B,OACtB2vE,EAAQ,GACRhoB,EAAQkrD,EAAOolB,WAiCrB,OA/BAtwE,EAAM7jD,QAAO,SAACsjJ,EAAeC,GAC3B,IAAMzlE,EAAWwlE,EAAUA,EAAQxpJ,MAAQypJ,EAAYzpJ,MACjD6jF,EAAe4lE,EAAYzpJ,MAC3B0pJ,GAAe1lE,EAAWH,GAAgB,EA0BhD,MAzBY,MAAR5iC,EAEF8wB,EAAMluE,KAAK,CACT4f,OAAQ,CACNovE,EAAWsB,QAAQ,CACjBr8E,EAAGi5D,EAAY8S,EAAe6lE,EAC9B3xI,EAAG,IAEL86E,EAAWsB,QAAQ,CACjBr8E,EAAGi5D,EAAY8S,EAAe6lE,EAC9B3xI,EAAG,OAKTg6D,EAAMluE,KAAK,CACT4f,OAAQjV,GAAIlK,MAAM0f,EAAQ,IAAI,SAACo+B,EAAS9yC,GACtC,OAAOujF,EAAWsB,QAAQ,CACxBr8E,EAAGxI,EAAM0U,EACTjM,EAAGg5D,EAAY8S,EAAe6lE,GAElC,MAIGD,CACT,GAAG1/F,EAAM,IACFgoB,CACT,CAQM,SAAU63E,GAASnzD,EAAgBS,GACvC,IAAM2yD,EAAWp8I,GAAIypF,EAAY,QACjC,GAAiB,OAAb2yD,EACF,OAAO,EAGT,IAAMC,EAAYr8I,GAAIgpF,EAAW,QAEjC,aAAsBpyF,IAAbwlJ,GAAwC,OAAdC,EACrC,CC1GA,IAAMC,GAAW,CAAC,aAGZC,IAA2B,oBAC5BnhC,IAAmB,CACtBnmD,OAAQ,OAWV,eAUE,WAAY00B,GAAZ,MACEhhF,EAAAA,KAAAA,KAAMghF,IAAK,K,OAHLnhF,EAAAA,MAAe,IAAIrO,IAMzBqO,EAAKg0I,cAAgBh0I,EAAKmhF,KAAKc,SAASjoF,GAAMkC,IAAI8yD,WAClDhvD,EAAKi0I,kBAAoBj0I,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,WACxDhvD,EAAKk0I,cAAgBl0I,EAAKmhF,KAAKc,SAASjoF,GAAMkC,IAAI8yD,WAClDhvD,EAAKm0I,kBAAoBn0I,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,W,CAC1D,CA4nBF,OA9oBkC3uD,EAAAA,EAAAA,IAAAA,EAAAA,GAoBhCrR,OAAAA,eAAWksF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,MAAO,MACT,E,gCAEOA,EAAAA,UAAAA,KAAP,WAAe,EAERA,EAAAA,UAAAA,OAAP,WACEjyF,KAAKmsC,QACP,EAKO8lD,EAAAA,UAAAA,OAAP,sBACQ0B,EAAa3zF,KAAKk4F,KAAKl4B,gBAE7B16D,EAAKtF,KAAK++F,iBAAiB,SAACC,GAClB,IAGJyvB,EAHIxoD,EAAsC+4B,EAAE,UAA7B1wE,EAA2B0wE,EAAE,UAAlBh6F,EAAgBg6F,EAAE,KAAZx+C,EAAUw+C,EAAE,MACxCj9C,EAA0BvB,EAAK,IAA1B1zB,EAAqB0zB,EAAK,MAAnBqxB,EAAcrxB,EAAK,UAIvC,GAAIx7C,IAASiM,GAAekrG,KACtBxoB,EAAWoB,QACD,MAARhzC,EACF0sE,EAAU96B,EAAW91B,aACjBq5B,GAAcvD,EAAYrlE,GAC1BopE,GAA0B/D,GACb,MAAR5xC,IACT0sE,EAAU96B,EAAW91B,aACjB65B,GAA0B/D,GAC1BuD,GAAcvD,EAAYrlE,IAGhCmgG,EAAUv3B,GAAcvD,EAAYrlE,QAEjC,GAAItpB,IAASiM,GAAesrG,KACjC,GAAI5oB,EAAWoB,QAAS,CACtB,IAAIliB,OAAK,EAEPA,EADE8gB,EAAW91B,aAEH,MAAR9b,EACI0oG,GAAmB92D,EAAY58E,EAAKmhF,KAAKqsB,aAAa,GAAIz3F,EAAO+kD,EAAW9vB,GAC5EsoG,GAAiB12D,EAAY7mE,EAAOi1B,EAAK8vB,GAGrC,MAAR9vB,EACIsoG,GAAiB12D,EAAY7mE,EAAOi1B,EAAK8vB,GACzC44E,GAAmB92D,EAAY58E,EAAKmhF,KAAK2d,YAAa/oF,EAAO+kD,EAAW9vB,GAEhF0sE,EAAU,CACR57C,MAAK,EAEL51B,OAAQlmC,EAAKmhF,KAAKl4B,gBAAgBP,Y,MAGpCgvD,EAAU,CAAE57C,MAAOw3E,GAAiB12D,EAAY7mE,EAAOi1B,EAAK8vB,IAGhE5L,EAAU95B,OAAOsiF,EACnB,GACF,EAKOx8B,EAAAA,UAAAA,OAAP,WACEjyF,KAAKy5G,OAASz5G,KAAKk4F,KAAK6B,aAAajC,KAErC,IAAMqzD,EAAe,IAAIziJ,IAEzB1I,KAAKorJ,YAAYD,GACjBnrJ,KAAKqrJ,YAAYF,GAIjB,IAAMhB,EAAW,IAAIzhJ,IAErB1I,KAAKyI,MAAMgH,SAAQ,SAACuvF,EAAqBl8F,GACnCqoJ,EAAaviJ,IAAI9F,GACnBqnJ,EAASthJ,IAAI/F,EAAKk8F,GAGlBA,EAAG/4B,UAAUx0C,SAEjB,IAGAzxB,KAAKyI,MAAQ0hJ,CACf,EAEOl4D,EAAAA,UAAAA,MAAP,WACE/6E,EAAAA,UAAM6gB,MAAK,WAEX/3B,KAAKyI,MAAMsvB,QACX/3B,KAAK+qJ,cAAchzH,QACnB/3B,KAAKgrJ,kBAAkBjzH,QACvB/3B,KAAKirJ,cAAclzH,QACnB/3B,KAAKkrJ,kBAAkBnzH,OACzB,EAEOk6D,EAAAA,UAAAA,QAAP,WACE/6E,EAAAA,UAAMua,QAAO,WAEbzxB,KAAK+qJ,cAAcziJ,QAAO,GAC1BtI,KAAKgrJ,kBAAkB1iJ,QAAO,GAC9BtI,KAAKirJ,cAAc3iJ,QAAO,GAC1BtI,KAAKkrJ,kBAAkB5iJ,QAAO,EAChC,EAKO2pF,EAAAA,UAAAA,cAAP,WACE,IAAM+M,EAAK,GAMX,OAJAh/F,KAAKyI,MAAMgH,SAAQ,SAAC3O,GAClBk+F,EAAGr6F,KAAK7D,EACV,IAEOk+F,CACT,EAMQ/M,EAAAA,UAAAA,YAAR,SAAoBk5D,GAElB,IAAMr+H,EAAQ9sB,KAAKk4F,KAAK2d,YAExB,GAAK/oF,IAASA,EAAM23F,WAApB,CAIA,IAAM6mC,EAAczzD,GAAc73F,KAAKy5G,OAAQ3sF,EAAM+6B,OACrD,IAAoB,IAAhByjG,EAAJ,CAIA,IAAMh9H,EAAYypE,GAAiBuzD,EAAat6I,GAAAA,QAC1Ci9D,EAAQl9D,GAAMkC,GACd8uC,EAAM,IAEN4xC,EAAa3zF,KAAKk4F,KAAKl4B,gBAEvBurF,EAASvrJ,KAAKwrJ,MAAM,OAAQ1+H,EAAM+6B,OAClC4jG,EAASzrJ,KAAKwrJ,MAAM,OAAQ1+H,EAAM+6B,OAExC,GAAI8rC,EAAWwD,OAAQ,CAErB,IAAIgV,EAAOnsG,KAAKyI,MAAM8F,IAAIg9I,GAE1B,GAAIp/C,EAAM,CACR,IAAMl1F,EAAMjX,KAAK0rJ,eAAe5+H,EAAOw+H,EAAah9H,GACpDgmE,GAAKr9E,EAAK4zI,IACV1+C,EAAKlmC,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI0iJ,EAAQp/C,E,MAGzBA,EAAOnsG,KAAK2rJ,eAAe7+H,EAAOw+H,EAAar9E,EAAO3/C,EAAWyzB,GACjE/hD,KAAKyI,MAAMI,IAAI0iJ,EAAQp/C,GACvBg/C,EAAatiJ,IAAI0iJ,EAAQp/C,GAI3B,IAAI1I,EAAOzjG,KAAKyI,MAAM8F,IAAIk9I,GAE1B,GAAIhoD,EAAM,CACFxsF,EAAMjX,KAAK4rJ,eAAe9+H,EAAOw+H,EAAah9H,EAAWyzB,GAC/DuyC,GAAKr9E,EAAK4zI,IACVpnD,EAAKx9B,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI4iJ,EAAQhoD,E,MAGzBA,EAAOzjG,KAAK6rJ,eAAe/+H,EAAOw+H,EAAar9E,EAAO3/C,EAAWyzB,GAC7D0hD,IACFzjG,KAAKyI,MAAMI,IAAI4iJ,EAAQhoD,GACvB0nD,EAAatiJ,IAAI4iJ,EAAQhoD,G,MAGxB,GAAI9P,EAAWoB,QAAS,CAEzBoX,EAAOnsG,KAAKyI,MAAM8F,IAAIg9I,GAE1B,GAAIp/C,EAAM,CACFl1F,EAAM08E,EAAW91B,aACnB79D,KAAK0rJ,eAAe5+H,EAAOw+H,EAAat6I,GAAAA,QACxChR,KAAK8rJ,iBAAiBh/H,EAAOw+H,EAAah9H,GAE9CgmE,GAAKr9E,EAAK4zI,IACV1+C,EAAKlmC,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI0iJ,EAAQp/C,E,KACpB,CAEL,GAAIxY,EAAW91B,aAAc,CAC3B,GAAIvxD,GAAYg/I,GAEd,OAIAn/C,EAAOnsG,KAAK2rJ,eAAe7+H,EAAOw+H,EAAar9E,EAAOj9D,GAAAA,OAAkB+wC,E,MAG1EoqD,EAAOnsG,KAAK+rJ,iBAAiBj/H,EAAOw+H,EAAar9E,EAAO3/C,EAAWyzB,GAErE/hD,KAAKyI,MAAMI,IAAI0iJ,EAAQp/C,GACvBg/C,EAAatiJ,IAAI0iJ,EAAQp/C,E,CAIvB1I,EAAOzjG,KAAKyI,MAAM8F,IAAIk9I,GAE1B,GAAIhoD,EAAM,CACFxsF,EAAM08E,EAAW91B,aACnB79D,KAAKgsJ,iBAAiBl/H,EAAOw+H,EAAat6I,GAAAA,OAAkB+wC,GAC5D/hD,KAAK4rJ,eAAe9+H,EAAOw+H,EAAat6I,GAAAA,OAAkB+wC,GAC9DuyC,GAAKr9E,EAAK4zI,IACVpnD,EAAKx9B,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI4iJ,EAAQhoD,E,KACpB,CAEL,GAAI9P,EAAW91B,aAAc,CAC3B,GAAIvxD,GAAYg/I,GACd,OAEA7nD,EAAOzjG,KAAKisJ,iBAAiBn/H,EAAOw+H,EAAar9E,EAAOj9D,GAAAA,OAAkB+wC,E,MAI5E0hD,EAAOzjG,KAAK6rJ,eAAe/+H,EAAOw+H,EAAar9E,EAAOj9D,GAAAA,OAAkB+wC,GAGtE0hD,IACFzjG,KAAKyI,MAAMI,IAAI4iJ,EAAQhoD,GACvB0nD,EAAatiJ,IAAI4iJ,EAAQhoD,G,IAMjC,EAEQxR,EAAAA,UAAAA,YAAR,SAAoBk5D,GAApB,WAEQ/qC,EAAUpgH,KAAKk4F,KAAKqsB,aAE1Bj/G,EAAK86G,GAAS,SAACtzF,EAAc1c,GAE3B,GAAK0c,IAASA,EAAM23F,WAApB,CAGQ,IAAA58D,EAAU/6B,EAAK,MACjBo/H,EAAcr0D,GAAc9gF,EAAK0iG,OAAQ5xD,GAE/C,IAAoB,IAAhBqkG,EAAuB,CACzB,IAAMj+E,EAAQl9D,GAAMkC,GACd8uC,EAAM,IACNwpG,EAASx0I,EAAKy0I,MAAM,OAAQ3jG,GAC5B4jG,EAAS10I,EAAKy0I,MAAM,OAAQ3jG,GAE5B8rC,EAAa58E,EAAKmhF,KAAKl4B,gBAE7B,GAAI2zB,EAAWwD,OAAQ,CACrB,IAAM7oE,EAAYypE,GAAiBm0D,EAAqB,IAAR97I,EAAYY,GAAAA,KAAiBA,GAAAA,OAGzEm7F,EAAOp1F,EAAKtO,MAAM8F,IAAIg9I,GAE1B,GAAIp/C,EAAM,CACR,IAAMl1F,EAAMF,EAAK20I,eAAe5+H,EAAOo/H,EAAa59H,GACpDgmE,GAAKr9E,EAAK4zI,IACV1+C,EAAKlmC,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI0iJ,EAAQp/C,E,MAGzBA,EAAOp1F,EAAK40I,eAAe7+H,EAAOo/H,EAAaj+E,EAAO3/C,EAAWyzB,GACjEhrC,EAAKtO,MAAMI,IAAI0iJ,EAAQp/C,GACvBg/C,EAAatiJ,IAAI0iJ,EAAQp/C,GAI3B,IAAI1I,EAAO1sF,EAAKtO,MAAM8F,IAAIk9I,GAE1B,GAAIhoD,EAAM,CACFxsF,EAAMF,EAAK60I,eAAe9+H,EAAOo/H,EAAa59H,EAAWyzB,GAC/DuyC,GAAKr9E,EAAK4zI,IACVpnD,EAAKx9B,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI4iJ,EAAQhoD,E,MAGzBA,EAAO1sF,EAAK80I,eAAe/+H,EAAOo/H,EAAaj+E,EAAO3/C,EAAWyzB,GAC7D0hD,IACF1sF,EAAKtO,MAAMI,IAAI4iJ,EAAQhoD,GACvB0nD,EAAatiJ,IAAI4iJ,EAAQhoD,G,MAGxB,GAAI9P,EAAWoB,QAAS,CAEzBoX,EAAOp1F,EAAKtO,MAAM8F,IAAIg9I,GAE1B,GAAIp/C,EAAM,CACFl1F,EAAM08E,EAAW91B,aACnB9mD,EAAK+0I,iBAAiBh/H,EAAOo/H,EAAal7I,GAAAA,QAC1C+F,EAAK20I,eAAe5+H,EAAOo/H,EAAal7I,GAAAA,QAG5CsjF,GAAKr9E,EAAK4zI,IACV1+C,EAAKlmC,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI0iJ,EAAQp/C,E,KACpB,CAEL,GAAIxY,EAAW91B,aAAc,CAC3B,GAAIvxD,GAAY4/I,GACd,OAEA//C,EAAOp1F,EAAKg1I,iBAAiBj/H,EAAOo/H,EAAaj+E,EAAOj9D,GAAAA,OAAkB+wC,E,MAG5EoqD,EAAOp1F,EAAK40I,eAAe7+H,EAAOo/H,EAAaj+E,EAAOj9D,GAAAA,OAAkB+wC,GAG1EhrC,EAAKtO,MAAMI,IAAI0iJ,EAAQp/C,GACvBg/C,EAAatiJ,IAAI0iJ,EAAQp/C,E,CAIvB1I,EAAO1sF,EAAKtO,MAAM8F,IAAIk9I,GAE1B,GAAIhoD,EAAM,CACFxsF,EAAM08E,EAAW91B,aACnB9mD,EAAK60I,eAAe9+H,EAAOo/H,EAAal7I,GAAAA,OAAkB+wC,GAC1DhrC,EAAKi1I,iBAAiBl/H,EAAOo/H,EAAal7I,GAAAA,OAAkB+wC,GAChEuyC,GAAKr9E,EAAK4zI,IACVpnD,EAAKx9B,UAAU95B,OAAOl1B,GACtBk0I,EAAatiJ,IAAI4iJ,EAAQhoD,E,KACpB,CAEL,GAAI9P,EAAW91B,aAAc,CAC3B,GAAIvxD,GAAY4/I,GACd,OAEAzoD,EAAO1sF,EAAK80I,eAAe/+H,EAAOo/H,EAAaj+E,EAAOj9D,GAAAA,OAAkB+wC,E,MAG1E0hD,EAAO1sF,EAAKk1I,iBAAiBn/H,EAAOo/H,EAAaj+E,EAAOj9D,GAAAA,OAAkB+wC,GAGxE0hD,IACF1sF,EAAKtO,MAAMI,IAAI4iJ,EAAQhoD,GACvB0nD,EAAatiJ,IAAI4iJ,EAAQhoD,G,IAOnC,GACF,EAUQxR,EAAAA,UAAAA,eAAR,SACEnlE,EACA2sF,EACAxrC,EACA3/C,EACAyzB,GAGA,IAAMoqD,EAAO,CACXlmC,UAAW,IAAI+rB,GAAShyF,KAAK0rJ,eAAe5+H,EAAO2sF,EAAQnrF,IAC3D2/C,MAAK,EACL3/C,UAAWA,IAActd,GAAAA,OAAmBA,GAAAA,KAAiBsd,EAC7DtpB,KAAMiM,GAAekrG,KACrB37D,MAAO,CAAEuB,IAAG,EAAEj1B,MAAK,IAKrB,OAHAq/E,EAAKlmC,UAAUp9D,IAAI,QAASikB,EAAM+6B,OAClCskD,EAAKlmC,UAAU59D,OAER8jG,CACT,EAEQla,EAAAA,UAAAA,eAAR,SACEnlE,EACA2sF,EACAxrC,EACA3/C,EACAyzB,GAEA,IAAM9qC,EAAMjX,KAAK4rJ,eAAe9+H,EAAO2sF,EAAQnrF,EAAWyzB,GAC1D,GAAI9qC,EAAK,CACP,IAAMwsF,EAAO,CACXx9B,UAAW,IAAIksB,GAASl7E,GACxBg3D,MAAK,EACL3/C,UAAWtd,GAAAA,KACXhM,KAAMiM,GAAesrG,KACrB/7D,MAAO,CACLuB,IAAG,EACHj1B,MAAK,EACL+kD,UAAWtjE,GAAI0I,EAAK,aAAa,KAKrC,OAFAwsF,EAAKx9B,UAAU59D,OAERo7F,C,CAEX,EAEQxR,EAAAA,UAAAA,iBAAR,SACEnlE,EACA2sF,EACAxrC,EACA3/C,EACAyzB,GAEA,IAAMoqD,EAAO,CACXlmC,UAAW,IAAIisB,GAAWlyF,KAAK8rJ,iBAAiBh/H,EAAO2sF,EAAQnrF,IAC/D2/C,MAAK,EACL3/C,UAAS,EACTtpB,KAAMiM,GAAekrG,KACrB37D,MAAO,CAAEuB,IAAG,EAAEj1B,MAAK,IAMrB,OAJAq/E,EAAKlmC,UAAUp9D,IAAI,QAASikB,EAAM+6B,OAElCskD,EAAKlmC,UAAU59D,OAER8jG,CACT,EAEQla,EAAAA,UAAAA,iBAAR,SACEnlE,EACA2sF,EACAxrC,EACA3/C,EACAyzB,GAEA,IAAM9qC,EAAMjX,KAAKgsJ,iBAAiBl/H,EAAO2sF,EAAQnrF,EAAWyzB,GAC5D,GAAI9qC,EAAK,CACP,IAAMwsF,EAAO,CACXx9B,UAAW,IAAIosB,GAAWp7E,GAC1Bg3D,MAAK,EACL3/C,UAAWtd,GAAAA,KACXhM,KAAMiM,GAAesrG,KACrB/7D,MAAO,CACLuB,IAAG,EACHj1B,MAAK,EACL+kD,UAAWtjE,GAAI0I,EAAK,aAAa,KAKrC,OADAwsF,EAAKx9B,UAAU59D,OACRo7F,C,CAEX,EASQxR,EAAAA,UAAAA,eAAR,SAAuBnlE,EAAckrE,EAAqB1pE,GACxD,IAAM1Z,EAAYrG,GAAIypF,EAAY,CAAC,QAAUh4F,KAAKkrJ,kBAAoBlrJ,KAAKirJ,cACrEt3D,EAAa3zF,KAAKk4F,KAAKl4B,gBACvBoB,EAAS81B,GAAcvD,EAAYrlE,GACnC69H,EAAYl0D,GAAiBnrE,EAAOkrE,GACpCo0D,EAAe90D,GAAgBt3F,KAAKk4F,KAAK4B,WAAYxrE,GAErD+9H,EAAkB99I,GAAIypF,EAAY,CAAC,UACrClpF,GACE,CAAE25C,MAAO,CAAEtzC,MAAO,CAAEhE,KAAMg7I,KAC1B,CAAE1jG,MAAO+uC,GAAoBx3F,KAAKk4F,KAAK4B,WAAYxrE,EAAW0pE,EAAWvvC,QACzEuvC,GAEFA,EAEE/gF,EAAMnI,IAAQ,kBAEhB8F,UAAS,GACNwsD,GAAM,CACTvW,MAAO/9B,EAAMquG,WAAW7rH,KAAI,SAACw7C,GAAS,MAAC,CAAEx3B,GAAI,UAAGw3B,EAAKE,WAAapqD,KAAMkqD,EAAK35C,KAAMrQ,MAAOgqD,EAAKhqD,MAAzD,IACtC0wE,eAAgBmiB,EAAWoB,SACkC,EAAzDqC,GAAsBh2B,EAAQuyB,EAAWl0B,aACzC23B,GAAsBh2B,EAAQuyB,EAAWl0B,aAC7CgT,MAAO25E,IAETA,EACAC,GAEI,EAA6BrsJ,KAAKkrH,cAAcj0G,GAA9CosD,EAAO,UAAEE,EAAa,gBAC9BtsD,EAAIssD,cAAgBA,EACpBtsD,EAAIosD,QAAUA,EAGd,IAAMg0B,EAAiB9tB,GAAWnI,GAE5BqQ,EAAsBljE,GAAI0I,EAAK,sBAAuBogF,EAAiB,EAAI,EAAI,IACrF,GAAI5lB,GAAuB,EAAG,CAE5B,IAAM66E,EAActsJ,KAAKk4F,KAAKlmE,YAAYzjB,IAAI,SACxCg+I,EAAevsJ,KAAKk4F,KAAKlmE,YAAYzjB,IAAI,UAC/C0I,EAAIw6D,oBAAsBA,GAAuB4lB,EAAiBi1D,EAAcC,E,CAGlF,OAAOt1I,CACT,EAUQg7E,EAAAA,UAAAA,eAAR,SAAuBnlE,EAAckrE,EAAqB1pE,EAAsByzB,GAC9E,GAAK2oG,GAASpzD,GAAgBt3F,KAAKk4F,KAAK4B,WAAYxrE,GAAY0pE,GAAhE,CAGA,IAAMw0D,EAAepC,GAAgBpqJ,KAAKk4F,KAAK4B,WAAYxrE,GAGrDm+H,EAAU39I,GACd,CACE8F,UAAWrG,GAAIypF,EAAY,CAAC,QAAUh4F,KAAKgrJ,kBAAoBhrJ,KAAK+qJ,eAEtEyB,EACAj+I,GAAIypF,EAAY,QAChBh4F,KAAKkrH,cAAclzB,IAIrB,OAFAy0D,EAAQ55E,MAAQw3E,GAAiBrqJ,KAAKk4F,KAAKl4B,gBAAiBlzC,EAAOi1B,EAAKxzC,GAAIk+I,EAAS,aAAa,IAE3FA,C,CACT,EASQx6D,EAAAA,UAAAA,iBAAR,SAAyBnlE,EAAckrE,EAAqB1pE,GAC1D,IAAM1Z,EAAYrG,GAAIypF,EAAY,CAAC,QAAUh4F,KAAKkrJ,kBAAoBlrJ,KAAKirJ,cACrEt3D,EAAa3zF,KAAKk4F,KAAKl4B,gBAEvBnV,EAAQ/9B,EAAMquG,WAAW7rH,KAAI,SAACw7C,GAAS,MAAC,CAAEx3B,GAAI,UAAGw3B,EAAKE,WAAapqD,KAAMkqD,EAAK35C,KAAMrQ,MAAOgqD,EAAKhqD,MAAzD,IACxCgsB,EAAMm7B,YAAc9gD,KAAK0D,IAAI8oF,EAAWx8C,SAAWw8C,EAAWz8C,cAA0B,EAAV/vC,KAAK+D,IAEtF2/C,EAAMzwC,MAGR,IAAM+xI,EAAYl0D,GAAiBnrE,EAAOkrE,GACpCo0D,EAAe90D,GAAgBt3F,KAAKk4F,KAAK4B,WAAY9oF,GAAAA,QAErDq7I,EAAkB99I,GAAIypF,EAAY,CAAC,UACrClpF,GACE,CAAE25C,MAAO,CAAEtzC,MAAO,CAAEhE,KAAMg7I,KAC1B,CAAE1jG,MAAO+uC,GAAoBx3F,KAAKk4F,KAAK4B,WAAYxrE,EAAW0pE,EAAWvvC,QACzEuvC,GAEFA,EACE/gF,EAAMnI,IAAQ,kBAEhB8F,UAAS,GACN8iF,GAA0B13F,KAAKk4F,KAAKl4B,kBAAgB,CACvDnV,MAAK,EACL2mB,eAAgB,EAChBiB,MAAO25E,IAETA,EACAC,GAEI,EAA6BrsJ,KAAKkrH,cAAcj0G,GAA9CosD,EAAO,UAAEE,EAAa,gBAI9B,OAHAtsD,EAAIosD,QAAUA,EACdpsD,EAAIssD,cAAgBA,EAEbtsD,CACT,EASQg7E,EAAAA,UAAAA,iBAAR,SAAyBnlE,EAAckrE,EAAqB1pE,EAAsByzB,GAChF,GAAK2oG,GAASpzD,GAAgBt3F,KAAKk4F,KAAK4B,WAAYxrE,GAAY0pE,GAAhE,CAMA,IAAMw0D,EAAepC,GAAgBpqJ,KAAKk4F,KAAK4B,WAAY9oF,GAAAA,QACrDy7I,EAAU39I,GACd,CACE8F,UAAWrG,GAAIypF,EAAY,CAAC,QAAUh4F,KAAKgrJ,kBAAoBhrJ,KAAK+qJ,cACpE9tG,OAAQj9C,KAAKk4F,KAAKl4B,gBAAgBP,aAEpC+sF,EACAj+I,GAAIypF,EAAY,QAChBh4F,KAAKkrH,cAAclzB,IAEfnmB,EAAYtjE,GAAIk+I,EAAS,aAAa,GACtCC,EAAwB,MAAR3qG,EAAc/hD,KAAKk4F,KAAKqsB,aAAa,GAAKvkH,KAAKk4F,KAAK2d,YAI1E,OAHA42C,EAAQ55E,MAAQ43E,GAAmBzqJ,KAAKk4F,KAAKl4B,gBAAiB0sF,EAAe5/H,EAAO+kD,EAAW9vB,GAGxF0qG,C,CACT,EAEQx6D,EAAAA,UAAAA,MAAR,SAAcrxF,EAAckC,GAC1B,IAAM6wF,EAAa3zF,KAAKk4F,KAAKl4B,gBAE7B,MAAO,UAAGp/D,EAAI,YAAIkC,EAAG,YAAI6wF,EAAW3uF,KACtC,EAEQitF,EAAAA,UAAAA,cAAR,SAAsBh7E,GACpB,MAAO,CACLosD,QAASrjE,KAAKk4F,KAAK6B,aAAa12B,SAAW90D,GAAI0I,EAAK,WACpDssD,cACEtsD,GAAOA,EAAIssD,cAAgBz0D,GAAQ,CAAC,EAAGg8I,GAA0B7zI,EAAIssD,eAAiBunF,GAE5F,EACF,EA9oBA,CAAkCnkC,I,MChC5B,SAAUgmC,GAAoBC,EAAkB5rI,EAAYsN,GAChE,OAAIA,IAActd,GAAAA,IACT,CAAC47I,EAAWt2H,KAAOs2H,EAAW76I,MAAQ,EAAIiP,EAAKjP,MAAQ,EAAG66I,EAAWn2H,MAE1EnI,IAActd,GAAAA,OACT,CAAC47I,EAAWt2H,KAAOs2H,EAAW76I,MAAQ,EAAIiP,EAAKjP,MAAQ,EAAG66I,EAAWl2H,KAAO1V,EAAKtL,QAEtF4Y,IAActd,GAAAA,KACT,CAAC47I,EAAWt2H,KAAMs2H,EAAWn2H,KAAOm2H,EAAWl3I,OAAS,EAAIsL,EAAKtL,OAAS,GAE/E4Y,IAActd,GAAAA,MACT,CAAC47I,EAAWp2H,KAAOxV,EAAKjP,MAAO66I,EAAWn2H,KAAOm2H,EAAWl3I,OAAS,EAAIsL,EAAKtL,OAAS,GAG5F4Y,IAActd,GAAAA,UAAsBsd,IAActd,GAAAA,SAC7C,CAAC47I,EAAWC,GAAGj0I,EAAGg0I,EAAWC,GAAGh0I,GAErCyV,IAActd,GAAAA,WAAuBsd,IAActd,GAAAA,UAC9C,CAAC47I,EAAW14I,GAAG0E,EAAIoI,EAAKjP,MAAO66I,EAAW14I,GAAG2E,GAElDyV,IAActd,GAAAA,aAAyBsd,IAActd,GAAAA,YAChD,CAAC47I,EAAWvrC,GAAGzoG,EAAGg0I,EAAWvrC,GAAGxoG,EAAImI,EAAKtL,QAE9C4Y,IAActd,GAAAA,cAA0Bsd,IAActd,GAAAA,aACjD,CAAC47I,EAAWE,GAAGl0I,EAAIoI,EAAKjP,MAAO66I,EAAWE,GAAGj0I,EAAImI,EAAKtL,QAGxD,CAAC,EAAG,EACb,CClBA,SAASq3I,GAAgB7sC,EAA4Br4D,GACnD,OAAI97C,GAAUm0G,IACO,IAAZA,GAA4B,CAAC,EAG/B3xG,GAAI2xG,EAAS,CAACr4D,GAAQq4D,EAC/B,CAEA,SAAS8sC,GAAa3tC,GACpB,OAAO9wG,GAAI8wG,EAAc,WAAYruG,GAAAA,OACvC,CAMA,mBAME,WAAYknF,GAAZ,MACEhhF,EAAAA,KAAAA,KAAMghF,IAAK,K,OAEXnhF,EAAKnC,UAAYmC,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,W,CAClD,CAqgBF,OA/gBoC3uD,EAAAA,EAAAA,IAAAA,EAAAA,GAYlCrR,OAAAA,eAAWwsF,EAAAA,UAAAA,OAAI,C,IAAf,WACE,MAAO,QACT,E,gCAEOA,EAAAA,UAAAA,KAAP,WAAe,EAKRA,EAAAA,UAAAA,OAAP,WAEEvyF,KAAKmsC,QACP,EAMOomD,EAAAA,UAAAA,OAAP,sBACEvyF,KAAKitJ,WAAajtJ,KAAKk4F,KAAKkB,SAE5B9zF,EAAKtF,KAAK+/F,YAAY,SAACf,GACb,IAAA/4B,EAAyB+4B,EAAE,UAAhB1wE,EAAc0wE,EAAE,UAC7BxhB,EAASi9C,GAAgBnsG,GACzB4+H,EAAgBjnF,EAAU13D,IAAI,iBAC9B4+I,EAAiBlnF,EAAU13D,IAAI,kBAE/B6+I,EAAUr2I,EAAKs2I,yBAAyB7vE,EAAQ0vE,EAAeC,GAE/Dn7I,EAAWi0D,EAAU13D,IAAI,YACzBmvE,EAAYzX,EAAU13D,IAAI,aAGhC03D,EAAU95B,OAAO,CACfn6B,SAAU7K,KAAKE,IAAI+lJ,EAAQp7I,SAAUA,GAAY,GACjD0rE,UAAWv2E,KAAKE,IAAI+lJ,EAAQ1vE,UAAWA,GAAa,KAGtD,IAAM5c,EAAUmF,EAAU13D,IAAI,WAExBkuG,EAAax2C,EAAUwX,gBACvBz8D,EAAO,IAAIyzE,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG4jG,EAAW1qG,MAAO0qG,EAAW/mG,QAAQmnG,OAAO/7C,GAExF,WAAW6rF,GAAoB51I,EAAKmhF,KAAKkB,SAAUp4E,EAAMsN,GAAU,GAAlEnV,EAAE,KAAEG,EAAE,KACP,WAAWqzI,GAAoB51I,EAAKk2I,WAAYjsI,EAAMsN,GAAU,GAA/DjV,EAAE,KAAEG,EAAE,KAETZ,EAAI,EACJC,EAAI,EAGJyV,EAAUosG,WAAW,QAAUpsG,EAAUosG,WAAW,WACtD9hH,EAAIO,EACJN,EAAIW,IAEJZ,EAAIS,EACJR,EAAIS,GAIN2sD,EAAUqnF,YAAY,CAAE10I,EAAGA,EAAIkoD,EAAQ,GAAIjoD,EAAGA,EAAIioD,EAAQ,KAE1D/pD,EAAKk2I,WAAal2I,EAAKk2I,WAAWM,IAAIvsI,EAAMsN,EAC9C,GACF,EAKOikE,EAAAA,UAAAA,OAAP,sBACEvyF,KAAKy5G,OAASz5G,KAAKk4F,KAAK6B,aAAammB,QAGrC,IAAMuO,EAAgC,CAAC,EAEjC++B,EAAa,SAAC3iD,EAAoBl7E,EAAiB7C,GACvD,IAAMwG,EAAKvc,EAAKy0I,MAAM1+H,EAAM+6B,OAEtB4lG,EAAU12I,EAAK22I,iBAAiBp6H,GAGtC,GAAIm6H,EAAS,CACX,IAAIx2I,OAAG,EACDooG,EAAe0tC,GAAgBh2I,EAAK0iG,OAAQ3sF,EAAM+6B,QAGnC,IAAjBw3D,IACE9wG,GAAI8wG,EAAc,UACpBpoG,EAAMF,EAAK42I,eAAe9iD,EAAUl7E,EAAM7C,EAAOuyF,GAAc,GAE3DvyF,EAAMq7B,SAERlxC,EAAMF,EAAK62I,iBAAiB/iD,EAAUl7E,EAAM7C,EAAOuyF,GAC1CvyF,EAAMm7B,aAEfhxC,EAAMF,EAAK42I,eAAe9iD,EAAUl7E,EAAM7C,EAAOuyF,KAMnDpoG,IAEFq9E,GAAKr9E,EAAK,CAAC,cAEXw2I,EAAQn/H,UAAY0+H,GAAa3tC,GAEjCouC,EAAQxnF,UAAU95B,OAAOl1B,GAGzBw3G,EAAQn7F,IAAM,E,KAEX,CAEL,IAAM+4E,EAASt1F,EAAK82I,kBAAkBhjD,EAAUl7E,EAAM7C,GAElDu/E,IACDA,EAAOpmC,UAA6B59D,OACrC0O,EAAKgpF,WAAWp7F,KAAK0nG,GAGrBoiB,EAAQn7F,IAAM,E,CAGpB,EAGA,GAAI/kB,GAAIvO,KAAKy5G,OAAQ,UAAW,CAC9B,IAAMnmF,EAAK,gBACLm6H,EAAUztJ,KAAK0tJ,iBAAiBp6H,GACtC,GAAIm6H,EAAS,CACX,IAAMK,EAAY9tJ,KAAK2tJ,oBAAexoJ,OAAWA,OAAWA,EAAWnF,KAAKy5G,QAAQ,GACpFnlB,GAAKw5D,EAAW,CAAC,cACjBL,EAAQxnF,UAAU95B,OAAO2hH,GAEzBr/B,EAAQn7F,IAAM,C,KACT,CACL,IAAM2yC,EAAYjmE,KAAK+tJ,wBAAmB5oJ,OAAWA,OAAWA,EAAWnF,KAAKy5G,QAChF,GAAIxzC,EAAW,CACbA,EAAU59D,OAEV,IAAM4lE,EAAQl9D,GAAMgC,KACdub,EAAY0+H,GAAahtJ,KAAKy5G,QAEpCz5G,KAAK+/F,WAAWp7F,KAAK,CACnB2uB,GAAE,EACF2yC,UAAS,EACTgI,MAAK,EACL3/C,UAAS,EACTtpB,KAAMiM,GAAemrG,OACrB57D,WAAOr7C,IAITspH,EAAQn7F,IAAM,C,QAKlBtzB,KAAKguJ,YAAYR,GAKnB,IAAMztD,EAAa,GACnBz6F,EAAKtF,KAAK++F,iBAAiB,SAACC,GACtByvB,EAAQzvB,EAAG1rE,IACbysE,EAAWp7F,KAAKq6F,GAEhBA,EAAG/4B,UAAUx0C,SAEjB,IAGAzxB,KAAK+/F,WAAaA,CACpB,EAEOxN,EAAAA,UAAAA,MAAP,WACEr7E,EAAAA,UAAM6gB,MAAK,WACX/3B,KAAK4U,UAAUmjB,OACjB,EAEOw6D,EAAAA,UAAAA,QAAP,WACEr7E,EAAAA,UAAMua,QAAO,WAEbzxB,KAAK4U,UAAUtM,QAAO,EACxB,EAKQiqF,EAAAA,UAAAA,cAAR,SAAsB2F,GAAtB,WACM+B,EAAa/B,EAAK+B,WAMtB,OAJA30F,EAAK4yF,EAAKgG,OAAO,SAAC12F,GAChByyF,EAAaA,EAAWlzF,OAAOgQ,EAAKk3I,cAAczmJ,GACpD,IAEOyyF,CACT,EAMQ1H,EAAAA,UAAAA,YAAR,SAAoB27D,GAClB,IAAMC,EAAanuJ,KAAKk4F,KAAK4mB,gBAAkB9+G,KAAKk4F,KAEpD,GAAKi2D,EAAL,CAKA,IAAMl0D,EAAaj6F,KAAKiuJ,cAAcjuJ,KAAKk4F,MAErCk2D,EAA+B,CAAC,EAEtC9oJ,EAAK20F,GAAY,SAAC4Q,GAChB,IAAM+L,EAAa/L,EAAS2V,qBAE5Bl7G,EAAKsxG,GAAY,SAACjnF,GAChB,IAAM7C,EAAQ6C,EAAK0mE,SAAS1mE,EAAK3qB,MAE5B8nB,GAAwB,aAAfA,EAAM9nB,OAAuBopJ,EAAOthI,EAAM+6B,SAIxDqmG,EAAOrjD,EAAUl7E,EAAM7C,GAEvBshI,EAAOthI,EAAM+6B,QAAS,EACxB,GACF,G,CACF,EAQQ0qC,EAAAA,UAAAA,kBAAR,SAA0BsY,EAAoBl7E,EAAiB7C,GAC7D,IAAIm5C,EAEEo5C,EAAe0tC,GAAgB/sJ,KAAKy5G,OAAQ3sF,EAAM+6B,OAClDomB,EAAQl9D,GAAMgC,KACdub,EAAY0+H,GAAa3tC,GAiB/B,IAdqB,IAAjBA,IACE9wG,GAAI8wG,EAAc,UACpBp5C,EAAYjmE,KAAK+tJ,mBAAmBljD,EAAUl7E,EAAM7C,EAAOuyF,GAEvDvyF,EAAMq7B,SAER8d,EAAYjmE,KAAKquJ,uBAAuBxjD,EAAUl7E,EAAM7C,EAAOuyF,GACtDvyF,EAAMm7B,aAEfge,EAAYjmE,KAAKsuJ,qBAAqBzjD,EAAUl7E,EAAM7C,EAAOuyF,KAK/Dp5C,EAGF,OAFAA,EAAUp9D,IAAI,QAASikB,EAAM+6B,OAEtB,CACLv0B,GAAItzB,KAAKwrJ,MAAM1+H,EAAM+6B,OACrBoe,UAAS,EACTgI,MAAK,EACL3/C,UAAS,EACTtpB,KAAMiM,GAAemrG,OACrB57D,MAAO,CAAE1zB,MAAK,GAGpB,EASQylE,EAAAA,UAAAA,mBAAR,SAA2BsY,EAAoBl7E,EAAiB7C,EAAcuyF,GAE5E,IAAMpoG,EAAMjX,KAAK2tJ,eAAe9iD,EAAUl7E,EAAM7C,EAAOuyF,GAAc,GACrE,OAAO,IAAI/sB,GAAer7E,EAC5B,EASQs7E,EAAAA,UAAAA,uBAAR,SAA+BsY,EAAoBl7E,EAAiB7C,EAAcuyF,GAChF,IAAMpoG,EAAMjX,KAAK4tJ,iBAAiB/iD,EAAUl7E,EAAM7C,EAAOwnE,GAAK+qB,EAAc,CAAC,WAC7E,OAAO,IAAI7sB,GAAiBv7E,EAC9B,EASQs7E,EAAAA,UAAAA,qBAAR,SAA6BsY,EAAoBl7E,EAAiB7C,EAAcuyF,GAC9E,IAAMpoG,EAAMjX,KAAK2tJ,eAAe9iD,EAAUl7E,EAAM7C,EAAOuyF,GACvD,OAAO,IAAI/sB,GAAer7E,EAC5B,EASQs7E,EAAAA,UAAAA,iBAAR,SAAyBsY,EAAoBl7E,EAAiB7C,EAAcuyF,GAC1E,IAAMx0D,EAAQ/9B,EAAMquG,WAEdozB,EAAa/nJ,EAAKqkD,GAAO,SAACC,GAAe,OAAe,IAAfA,EAAKhqD,KAAL,IACzC0tJ,EAAahoJ,EAAKqkD,GAAO,SAACC,GAAe,OAAe,IAAfA,EAAKhqD,KAAL,IACzC+xE,EAAQhoB,EAAMv7C,KAAI,SAACw7C,GACf,IAAAhqD,EAAqBgqD,EAAI,MAAlBE,EAAcF,EAAI,UAC3B2jG,EAAY9+H,EAAKwgG,QAAQrjG,EAAM/B,OAAOjqB,IAAQ+Q,KAAK,IAEzD,MAAO,CACL/Q,MAAOkqD,EACPyjG,UAAS,EACT/pH,MAAO+pH,EACPrzB,WAAYt6H,EAEhB,IAEKytJ,GACH17E,EAAMluE,KAAK,CACT7D,MAAOgsB,EAAMzlB,IACbonJ,UAAW9+H,EAAKwgG,QAAQrjG,EAAM/B,OAAO,IAAIlZ,KAAK,IAC9C6yB,MAAO/U,EAAKwgG,QAAQrjG,EAAM/B,OAAO,IAAIlZ,KAAK,IAC1CupH,WAAY,IAGXozB,GACH37E,EAAMluE,KAAK,CACT7D,MAAOgsB,EAAM1lB,IACbqnJ,UAAW9+H,EAAKwgG,QAAQrjG,EAAM/B,OAAO,IAAIlZ,KAAK,IAC9C6yB,MAAO/U,EAAKwgG,QAAQrjG,EAAM/B,OAAO,IAAIlZ,KAAK,IAC1CupH,WAAY,IAKhBvoD,EAAMvhD,MAAK,SAAC3qB,EAAQgE,GAAW,OAAAhE,EAAE7F,MAAQ6J,EAAE7J,KAAZ,IAI/B,IAAM4tJ,EAA6B,CACjCrnJ,IAAK4B,GAAK4pE,GAAO/xE,MACjBsG,IAAKc,GAAK2qE,GAAO/xE,MACjB6lC,OAAQ,GACRg9C,KAAM,CACJ3+E,KAAM2qB,EAAK3qB,MAEb0+E,MAAO,CAAC,GAGQ,SAAd/zD,EAAK3qB,OACP0pJ,EAAchrE,MAAQ,CACpBvuE,MAAO,CAGL6kD,KAAoB,SAAdrqC,EAAK3qB,KAAkBhF,KAAKk4F,KAAK4B,WAAW8P,kBAAezkG,KAKrD,UAAdwqB,EAAK3qB,OACP0pJ,EAAc/nH,OAASksC,EAAMvjE,KAAI,SAAC1M,GAAS,OAAAA,EAAK6rJ,SAAL,KAG7C,IAAM75I,EAAY5U,KAAK4U,UAEjB0Z,EAAY0+H,GAAa3tC,GAEzB7hC,EAASi9C,GAAgBnsG,GAE3Bm6B,EAAQl6C,GAAI8wG,EAAc,SAgB9B,OAfI52D,IACFA,EAAQ35C,GACN,CACEqC,KAAMwlF,GAAQ7pE,IAEhB27B,IAKJimG,EAAc95I,UAAYA,EAC1B85I,EAAclxE,OAASA,EACvBkxE,EAAcjmG,MAAQA,EACtBimG,EAAcnrF,cAAgBomD,GAEvB3pH,KAAK2uJ,eAAeD,EAAervC,EAAc,aAC1D,EAUQ9sB,EAAAA,UAAAA,eAAR,SAAuBsY,EAAoBl7E,EAAiB7C,EAAcuyF,EAAmB32E,GAC3F,IAAM9zB,EAAY5U,KAAK4U,UAEjB0Z,EAAY/f,GAAI8wG,EAAc,WAAYruG,GAAAA,QAE1C2qH,EAAcD,GAAkB17H,KAAKk4F,KAAK4B,WAAYxrE,GAGtDssG,EAAcrsH,GAAIotH,EAAa,CAAC,WAChCd,EAAatsH,GAAI8wG,EAAc,UAC/B7hC,EAASi9C,GAAgBnsG,GACzBsgI,EAAqBrgJ,GAAIotH,EAAa,CAAC,kBACvCkzB,EAAoBtgJ,GAAI8wG,EAAc,iBAEtCxsC,EAAQnqC,EACV8yF,GAAqBZ,EAAaC,EAAYxb,EAAaxsC,OAC3D8nD,GAAe36H,KAAKk4F,KAAM2S,EAAUl7E,EAAMirG,EAAaC,GAEvDpyE,EAAQl6C,GAAI8wG,EAAc,SAC1B52D,IACFA,EAAQ35C,GACN,CACEqC,KAAM2b,EAAQ6pE,GAAQ7pE,GAAS,IAEjC27B,IAGJ,IAAMykG,EAAgB3+I,GAAI8wG,EAAc,iBAClC8tC,EAAiB5+I,GAAI8wG,EAAc,kBAEnCyvC,EAAuB9uJ,KAAKqtJ,yBAAyB7vE,EAAQ0vE,EAAeC,GAClF2B,EAAQl6I,UAAYA,EACpBk6I,EAAQtxE,OAASA,EACjBsxE,EAAQj8E,MAAQA,EAChBi8E,EAAQrmG,MAAQA,EAChBqmG,EAAQvrF,cAAgBomD,GACxBmlC,EAAQzvE,cAAgBvwE,GAAQ,CAAC,EAAG8/I,EAAoBC,GAExD,IAAME,EAAc/uJ,KAAK2uJ,eAAeG,EAASzvC,EAAc/wF,GAC3DygI,EAAY72E,UAEd62E,EAAYl8E,MAAMjuD,UAGpB,IAAMi6D,EAAetwE,GAAIwgJ,EAAa,gBAMtC,OALIlwE,GAAgBA,GAAgB,IAElCkwE,EAAYlwE,aAAe7+E,KAAKk4F,KAAKkB,SAASrnF,MAAQ8sE,GAGjDkwE,CACT,EAQQx8D,EAAAA,UAAAA,eAAR,SAAuBu8D,EAAiBzvC,EAA4B/wF,GAClE,IAAMy2B,EAAWz2B,EAAU5kB,MAAM,KAAK,GAChC0rG,EAAcsmB,GAAkB17H,KAAKk4F,KAAK4B,WAAY/0C,GAE5D,OAAOj2C,GAAQ,CAAC,EAAGsmG,EAAa05C,EAASzvC,EAC3C,EAMQ9sB,EAAAA,UAAAA,MAAR,SAAczvF,GACZ,MAAO,UAAG9C,KAAKY,KAAI,YAAIkC,EACzB,EAMQyvF,EAAAA,UAAAA,iBAAR,SAAyBj/D,GACvB,OAAO9sB,EAAKxG,KAAK+/F,YAAY,SAACf,GAAO,OAAAA,EAAG1rE,KAAOA,CAAV,GACvC,EAEQi/D,EAAAA,UAAAA,yBAAR,SACE/U,EACA0vE,EACAC,QADA,IAAAD,IAAAA,EAAgBA,SAChB,IAAAC,IAAAA,EAAiBA,IAEX,MAA4BntJ,KAAKk4F,KAAKkB,SAA7B41D,EAAE,QAAU7jD,EAAE,SAG7B,MAAkB,aAAX3tB,EACH,CACExrE,SAAUg9I,EAAK9B,EACfxvE,UAAWytB,GAEb,CACEn5F,SAAUg9I,EACVtxE,UAAWytB,EAAKgiD,EAExB,EACF,EA/gBA,CAAoCxmC,I,MCtBpC,eAUE,WAAYzuB,GAAZ,MACEhhF,EAAAA,KAAAA,KAAMghF,IAAK,K,OAHLnhF,EAAAA,WAAgCoc,GAkKhCpc,EAAAA,aAAe,WACrBA,EAAKghB,OACP,EAoEQhhB,EAAAA,cAAgB,SAACvP,GACjB,eAAaA,EAAC,GAAbH,EAAG,KAAED,EAAG,KAEf2P,EAAKgD,MAAQ1S,EACb0P,EAAK2L,IAAMtb,EAEX2P,EAAKk4I,eAAe5nJ,EAAKD,EAC3B,EA1OE2P,EAAKnC,UAAYmC,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,WAChDhvD,EAAKm4I,WAAa9sD,GAASrrF,EAAKo4I,cAAe,GAAI,CACjD7+I,SAAS,IAGXyG,EAAKhF,MAAQ,EACbgF,EAAKmhF,KAAK32F,GAAGmR,GAAiBmtG,mBAAoB9oG,EAAKq4I,cACvDr4I,EAAKmhF,KAAK32F,GAAGmR,GAAiB0zG,mBAAoBrvG,EAAKq4I,c,CACzD,CAkUF,OAvVoCh4I,EAAAA,EAAAA,IAAAA,EAAAA,GAuBlCrR,OAAAA,eAAIkoF,EAAAA,UAAAA,OAAI,C,IAAR,WACE,MAAO,QACT,E,gCAEOA,EAAAA,UAAAA,QAAP,WACE/2E,EAAAA,UAAMua,QAAO,WACbzxB,KAAKk4F,KAAK3gF,IAAI7E,GAAiBmtG,mBAAoB7/G,KAAKovJ,cACxDpvJ,KAAKk4F,KAAK3gF,IAAI7E,GAAiB0zG,mBAAoBpmH,KAAKovJ,aAC1D,EAKOnhE,EAAAA,UAAAA,KAAP,WAAe,EAKRA,EAAAA,UAAAA,OAAP,WACEjuF,KAAKy5G,OAASz5G,KAAKk4F,KAAK6B,aAAayV,OAC/B,MAAiBxvG,KAAKqvJ,eAApBt1I,EAAK,QAAE2I,EAAG,MACdxd,EAAMlF,KAAK+Z,SACb/Z,KAAK+Z,MAAQA,EACb/Z,KAAK0iB,IAAMA,GAGL,IAAMmmI,EAAa7oJ,KAAKk4F,KAAK6B,aAAY,KAC7C/5F,KAAKy5G,SAAW1qG,GAAQ85I,GACtB7oJ,KAAKwvG,OAEPxvG,KAAKwvG,OAASxvG,KAAKsvJ,gBAGnBtvJ,KAAKwvG,OAASxvG,KAAKuvJ,eAEnBvvJ,KAAKwvG,OAAOvpC,UAAU1kE,GAAG,eAAgBvB,KAAKkvJ,aAG5ClvJ,KAAKwvG,SAEPxvG,KAAKwvG,OAAOvpC,UAAUx0C,UACtBzxB,KAAKwvG,YAASrqG,EAKpB,EAKO8oF,EAAAA,UAAAA,OAAP,sBAUE,GATIjuF,KAAKy5G,SAAWz5G,KAAK+R,QACvB/R,KAAKwvJ,gBACLviJ,YAAW,WAEJ8J,EAAKmhF,KAAK1gF,WACbT,EAAKk4I,eAAel4I,EAAKgD,MAAOhD,EAAK2L,IAEzC,GAAG,IAED1iB,KAAKwvG,OAAQ,CACf,IAAMz9F,EAAQ/R,KAAKk4F,KAAKnrB,eAAeh7D,MAEjC+uD,EAAmB9gE,KAAKwvG,OAAOvpC,UAAU13D,IAAI,WAC7C,WAAyDuyD,EAAO,GAA/DlrD,EAAU,KAA+BJ,GAAjB,KAAe,KAAa,MACrDinG,EAAaz8G,KAAKwvG,OAAOvpC,UAAUwX,gBACnCz8D,EAAO,IAAIyzE,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG1R,KAAKE,IAAIo1G,EAAW1qG,MAAOA,GAAQ0qG,EAAW/mG,QAAQmnG,OACtG/7C,GAEI,EAAuB9gE,KAAKyvJ,cAAczvJ,KAAK+Z,MAAO/Z,KAAK0iB,KAAzDosE,EAAO,UAAEC,EAAO,UAElB,WAAW49D,GAAoB3sJ,KAAKk4F,KAAKkB,SAAUp4E,EAAMhQ,GAAAA,QAAiB,GAArEsI,GAAF,KAAI,MACP,WAAWqzI,GAAoB3sJ,KAAKk4F,KAAKnrB,eAAgB/rD,EAAMhQ,GAAAA,QAAiB,GAA/EqI,EAAE,KAAI,KAGbrZ,KAAKwvG,OAAOvpC,UAAU95B,QAAO,oBACxBnsC,KAAKqvJ,gBAAc,CACtBz2I,EAAGS,EAAK7D,EACRqD,EAAGS,EAAK1D,EACR7D,MAAO/R,KAAK+R,MACZgI,MAAO/Z,KAAK+Z,MACZ2I,IAAK1iB,KAAK0iB,IACVosE,QAAO,EACPC,QAAO,KAGT/uF,KAAKk4F,KAAKkB,SAAWp5F,KAAKk4F,KAAKkB,SAASm0D,IAAIvsI,EAAMhQ,GAAAA,O,CAEtD,EAKOi9E,EAAAA,UAAAA,OAAP,WAEEjuF,KAAKF,QACP,EAKQmuF,EAAAA,UAAAA,aAAR,WACE,IAAMh3E,EAAWjX,KAAKqvJ,eAEhBppF,EAAY,IAAIypF,IAAgB,SACpC96I,UAAW5U,KAAK4U,WACbqC,IAKL,OAFAgvD,EAAU59D,OAEH,CACL49D,UAAS,EACTgI,MAAOl9D,GAAMgC,KACbub,UAAWtd,GAAAA,OACXhM,KAAMiM,GAAeorG,OAEzB,EAKQpuB,EAAAA,UAAAA,aAAR,WACE,IAAIh3E,EAAMjX,KAAKqvJ,eACf,GAAIrvJ,KAAK+R,MAAO,CACR,MAAuB/R,KAAKyvJ,cAAczvJ,KAAK+Z,MAAO/Z,KAAK0iB,KAAzDosE,EAAO,UAAEC,EAAO,UACxB93E,GAAM,oBAAKA,GAAG,CAAElF,MAAO/R,KAAK+R,MAAOgI,MAAO/Z,KAAK+Z,MAAO2I,IAAK1iB,KAAK0iB,IAAKosE,QAAO,EAAEC,QAAO,G,CAKvF,OAFA/uF,KAAKwvG,OAAOvpC,UAAU95B,OAAOl1B,GAEtBjX,KAAKwvG,MACd,EAKQvhB,EAAAA,UAAAA,cAAR,WACU,IAAAl8E,EAAU/R,KAAKqvJ,eAAc,MAErCrvJ,KAAK+R,MAAQA,CACf,EAYQk8E,EAAAA,UAAAA,aAAR,WACE,IAAIh3E,EAAwG,CAC1GvB,OAAQ,GACRqE,MAAO,EACP2I,IAAK,EACLosE,QAAS,GACTC,QAAS,GACTn2E,EAAG,EACHC,EAAG,EACH9G,MAAO/R,KAAKk4F,KAAKnrB,eAAeh7D,OAElC,GAAIpM,EAAS3F,KAAKy5G,QAAS,CAEzB,IAAM5qB,GAAW,SACfhoF,KAAM7G,KAAKs4F,WACR/pF,GAAIvO,KAAKy5G,OAAQ,WAAY,CAAC,IAInCxiG,EAAMnI,GAAQ,CAAC,EAAGmI,EAAKjX,KAAK2vJ,kBAAmB3vJ,KAAKy5G,QAGpDxiG,GAAM,oBAAKA,GAAG,CAAE43E,SAAQ,G,CAM1B,OAHA53E,EAAI8C,MAAQ/P,GAAM7C,KAAKE,IAAInC,EAAM+R,EAAI8C,OAAS,EAAI9C,EAAI8C,MAAO7U,EAAM+R,EAAIyL,KAAO,EAAIzL,EAAIyL,KAAM,EAAG,GAC/FzL,EAAIyL,IAAM1Y,GAAM7C,KAAKC,IAAIlC,EAAM+R,EAAI8C,OAAS,EAAI9C,EAAI8C,MAAO7U,EAAM+R,EAAIyL,KAAO,EAAIzL,EAAIyL,KAAM,EAAG,GAEtFzL,CACT,EAKQg3E,EAAAA,UAAAA,QAAR,WACE,IAAMpnF,EAAO7G,KAAKk4F,KAAK6B,aAAalzF,KAC9B,WAAW7G,KAAKk4F,KAAKqsB,aAAY,GAAhCxO,EAAM,KACPyB,EAAcx3G,KAAKk4F,KAAKuf,iBAC9B,GAAID,EAAYt0G,OAAQ,CAChB,MAAmBs0G,EAAY,GAA7BsjB,EAAK,QAAElkE,EAAK,QACpB,OAAO/vD,EAAKG,QAAO,SAACi7C,EAAK85C,GAIvB,OAHIA,EAAI++B,KAAWlkE,EAAM,IACvB3U,EAAIt9C,KAAKo3F,EAAIga,EAAOluD,QAEf5F,CACT,GAAG,G,CAGL,OAAOp7C,EAAKyI,KAAI,SAACmrF,GAAU,OAAAA,EAAMsb,EAAOluD,QAAU,CAAvB,GAC7B,EAKQomC,EAAAA,UAAAA,gBAAR,WACE,IAAMxb,EAAQzyE,KAAKk4F,KAAK4B,WACxB,OAAOvrF,GAAIkkE,EAAO,CAAC,aAAc,SAAU,UAAW,CAAC,EACzD,EAoBQwb,EAAAA,UAAAA,cAAR,SAAsB5mF,EAAaD,GACjC,IAAMP,EAAO7G,KAAKk4F,KAAK6B,aAAalzF,KAC9B+uG,EAAS51G,KAAKk4F,KAAK2d,YACnBn8B,GAAe,EACjB70E,EAASyxF,GAAYzvF,EAAM+uG,EAAO/tD,OAGlC+tD,EAAOztD,WACTtjD,EAASA,EAAOysB,QAGlB,IAAMqhH,EAAUj5D,EAAe70E,EAASA,EAAO+f,UACzCgrI,EAAW5gJ,GAAKnI,GAEtB,IAAK+uG,IAAWg6C,EACd,MAAO,CAAC,EAGV,IAAMC,EAAa7gJ,GAAK2jI,GAElB58E,EAAW5uD,KAAKgD,MAAM9C,GAAOwoJ,EAAa,IAC1CC,EAAW3oJ,KAAKgD,MAAM/C,GAAOyoJ,EAAa,IAE5C/gE,EAAUvgF,GAAIokI,EAAS,CAAC58E,IACxBg5B,EAAUxgF,GAAIokI,EAAS,CAACmd,IAEtB7kG,EAAYjrD,KAAKqvJ,eAAepkG,UAMtC,OALIA,IACF6jC,EAAU7jC,EAAU6jC,EAASjoF,EAAKkvD,GAAWA,GAC7Cg5B,EAAU9jC,EAAU8jC,EAASloF,EAAKipJ,GAAWA,IAGxC,CACLhhE,QAAO,EACPC,QAAO,EAEX,EAOQd,EAAAA,UAAAA,eAAR,SAAuB5mF,EAAaD,GAClC,IAAMP,EAAO7G,KAAKk4F,KAAK6B,aAAalzF,KAC9B+uG,EAAS51G,KAAKk4F,KAAK2d,YACnB+5C,EAAW5gJ,GAAKnI,GACtB,GAAK+uG,GAAWg6C,EAAhB,CAGA,IAAMl2E,GAAe,EACf70E,EAASyxF,GAAYzvF,EAAM+uG,EAAO/tD,OAGlCkoG,EAAe/vJ,KAAKk4F,KAAK2d,YAAY1tD,SAAWtjD,EAAOysB,MAAK,SAAC3qB,EAAGgE,GAAM,OAAAH,OAAO7D,GAAK6D,OAAOG,EAAnB,IAAyB9F,EAE/F8tI,EAAUj5D,EAAeq2E,EAAeA,EAAanrI,UACrDirI,EAAa7gJ,GAAK2jI,GAElB58E,EAAW5uD,KAAKgD,MAAM9C,GAAOwoJ,EAAa,IAC1CC,EAAW3oJ,KAAKgD,MAAM/C,GAAOyoJ,EAAa,IAGhD7vJ,KAAKk4F,KAAK1zF,OAAOoxG,EAAO/tD,OAAO,SAAC/mD,EAAY25F,GAC1C,IAAMrqF,EAAcuiI,EAAQpuI,QAAQzD,GACpC,QAAOsP,GAAO,IAAIuuC,GAAUvuC,EAAK2lD,EAAU+5F,EAC7C,IACA9vJ,KAAKk4F,KAAKp4F,QAAO,E,CACnB,EAKOmuF,EAAAA,UAAAA,cAAP,WACE,OAAOjuF,KAAKwvG,OAAS,CAACxvG,KAAKwvG,QAAU,EACvC,EAKOvhB,EAAAA,UAAAA,MAAP,WACMjuF,KAAKwvG,SACPxvG,KAAKwvG,OAAOvpC,UAAUx0C,UACtBzxB,KAAKwvG,YAASrqG,GAEhBnF,KAAK+R,MAAQ,EACb/R,KAAK+Z,WAAQ5U,EACbnF,KAAK0iB,SAAMvd,CACb,EACF,EAvVA,CAAoCwhH,I,MCN9BqpC,GAA0B,EAC1BC,GAAuB,EACvBC,GAAgC,GAChCC,GAA2B,GAEjC,eAkBE,WAAYj4D,GAAZ,MACEhhF,EAAAA,KAAAA,KAAMghF,IAAK,K,OAHLnhF,EAAAA,WAAgCoc,GA0KhCpc,EAAAA,aAAe,WACrBA,EAAKghB,OACP,EAEQhhB,EAAAA,cAAgB,SAACoT,G,IAAEzE,EAAK,QACtB29C,EAAYtsD,EAAKq5I,uBAAsB,QAC/Cr5I,EAAK2O,MAAQ1b,GAAM0b,EAAO,EAAG,GAC7B,IAAM2qI,EAAkBt5I,EAAKmhF,KAAK6B,aAAa12B,QAC1CA,GACHtsD,EAAKmhF,KAAK70B,SAAQ,GAEpBtsD,EAAKk4I,eAAel4I,EAAKu5I,kBAAkB,GAC3Cv5I,EAAKmhF,KAAK70B,QAAQgtF,EACpB,EAnLEt5I,EAAKnC,UAAYmC,EAAKmhF,KAAKc,SAASjoF,GAAMgC,MAAMgzD,WAChDhvD,EAAKm4I,WAAa9sD,GAASrrF,EAAKo4I,cAAe,GAAI,CACjD7+I,SAAS,IAEXyG,EAAKy6E,SAAW,EAChBz6E,EAAKg6E,SAAW,EAChBh6E,EAAK2O,MAAQ,EAEb3O,EAAKmhF,KAAK32F,GAAGmR,GAAiBmtG,mBAAoB9oG,EAAKq4I,cACvDr4I,EAAKmhF,KAAK32F,GAAGmR,GAAiB0zG,mBAAoBrvG,EAAKq4I,c,CACzD,CA0VF,OAxXuCh4I,EAAAA,EAAAA,IAAAA,EAAAA,GAgCrCrR,OAAAA,eAAImrF,EAAAA,UAAAA,OAAI,C,IAAR,WACE,MAAO,WACT,E,gCAEOA,EAAAA,UAAAA,QAAP,WACEh6E,EAAAA,UAAMua,QAAO,WACbzxB,KAAKk4F,KAAK3gF,IAAI7E,GAAiBmtG,mBAAoB7/G,KAAKovJ,cACxDpvJ,KAAKk4F,KAAK3gF,IAAI7E,GAAiB0zG,mBAAoBpmH,KAAKovJ,aAC1D,EAEOl+D,EAAAA,UAAAA,KAAP,WAAgB,EAKTA,EAAAA,UAAAA,OAAP,WACElxF,KAAKy5G,OAASz5G,KAAKk4F,KAAK6B,aAAa6W,UAEjC5wG,KAAKy5G,OACHz5G,KAAK4wG,UAEP5wG,KAAK4wG,UAAY5wG,KAAKuwJ,mBAGtBvwJ,KAAK4wG,UAAY5wG,KAAKwwJ,kBACtBxwJ,KAAK4wG,UAAU3qC,UAAU1kE,GAAG,eAAgBvB,KAAKkvJ,aAG/ClvJ,KAAK4wG,YAEP5wG,KAAK4wG,UAAU3qC,UAAUx0C,UACzBzxB,KAAK4wG,eAAYzrG,EAGvB,EAKO+rF,EAAAA,UAAAA,OAAP,sBASE,GARIlxF,KAAKy5G,SAAWz5G,KAAKwxF,WACvBxxF,KAAKywJ,mBACLxjJ,YAAW,WACJ8J,EAAKmhF,KAAK1gF,WACbT,EAAKk4I,eAAel4I,EAAKu5I,kBAAkB,EAE/C,KAEEtwJ,KAAK4wG,UAAW,CAClB,IAAM7+F,EAAQ/R,KAAKk4F,KAAKnrB,eAAeh7D,MACjC+uD,EAAmB9gE,KAAK4wG,UAAU3qC,UAAU13D,IAAI,WAChDkuG,EAAaz8G,KAAK4wG,UAAU3qC,UAAUwX,gBACtCz8D,EAAO,IAAIyzE,GAAKgoB,EAAW7jG,EAAG6jG,EAAW5jG,EAAG1R,KAAKE,IAAIo1G,EAAW1qG,MAAOA,GAAQ0qG,EAAW/mG,QAAQmnG,OACtG/7C,GAEI7pD,EAAMjX,KAAK0wJ,2BAEb93I,OAAC,EACDC,OAAC,EAEL,GAAI5B,EAAIyiE,aAAc,CACd,eAAWizE,GAAoB3sJ,KAAKk4F,KAAKkB,SAAUp4E,EAAMhQ,GAAAA,QAAiB,GAArEsI,GAAF,KAAI,MACP,WAAWqzI,GAAoB3sJ,KAAKk4F,KAAKnrB,eAAgB/rD,EAAMhQ,GAAAA,QAAiB,GAA/EqI,EAAE,KAAI,KACbT,EAAIS,EACJR,EAAIS,C,KACC,CACC,eAAWqzI,GAAoB3sJ,KAAKk4F,KAAKkB,SAAUp4E,EAAMhQ,GAAAA,OAAgB,GACzE,GADG,KAAEsI,EAAE,MACP,QAAWqzI,GAAoB3sJ,KAAKk4F,KAAKkB,SAAUp4E,EAAMhQ,GAAAA,OAAgB,IAAxEqI,EAAE,KAAI,KACbT,EAAIS,EACJR,EAAIS,C,CAGNV,GAAKkoD,EAAQ,GACbjoD,GAAKioD,EAAQ,GAGT9gE,KAAKwxF,SACPxxF,KAAK4wG,UAAU3qC,UAAU95B,QAAO,oBAC3Bl1B,GAAG,CACN2B,EAAC,EACDC,EAAC,EACD24E,SAAUxxF,KAAKwxF,SACfT,SAAU/wF,KAAK+wF,SACfH,aAAc5wF,KAAKwxF,SAAWxxF,KAAK+wF,UAAY/wF,KAAK0lB,SAGtD1lB,KAAK4wG,UAAU3qC,UAAU95B,QAAO,oBAC3Bl1B,GAAG,CACN2B,EAAC,EACDC,EAAC,KAIL7Y,KAAKk4F,KAAKkB,SAAWp5F,KAAKk4F,KAAKkB,SAASm0D,IAAIvsI,EAAM/J,EAAIyiE,aAAe1oE,GAAAA,OAAmBA,GAAAA,M,CAE5F,EAKOkgF,EAAAA,UAAAA,OAAP,WAEElxF,KAAKF,QACP,EAEOoxF,EAAAA,UAAAA,cAAP,WACE,OAAOlxF,KAAK4wG,UAAY,CAAC5wG,KAAK4wG,WAAa,EAC7C,EAEO1f,EAAAA,UAAAA,MAAP,WACMlxF,KAAK4wG,YACP5wG,KAAK4wG,UAAU3qC,UAAUx0C,UACzBzxB,KAAK4wG,eAAYzrG,GAEnBnF,KAAKwxF,SAAW,EAChBxxF,KAAK+wF,SAAW,EAChB/wF,KAAK0lB,MAAQ,EACb1lB,KAAK2wJ,IAAM,EACX3wJ,KAAK0nD,KAAO,EACZ1nD,KAAK6G,UAAO1B,EACZnF,KAAK4wJ,eAAYzrJ,EACjBnF,KAAK6wJ,WAAa,EACpB,EAGO3/D,EAAAA,UAAAA,SAAP,SAAgBxrE,GACd1lB,KAAKmvJ,cAAc,CAAEzpI,MAAK,GAC5B,EAGOwrE,EAAAA,UAAAA,SAAP,WACE,OAAOlxF,KAAK0lB,KACd,EAKQwrE,EAAAA,UAAAA,gBAAR,WACE,IAAMze,EAAQzyE,KAAKk4F,KAAK4B,WACxB,OAAOvrF,GAAIkkE,EAAO,CAAC,aAAc,YAAa,UAAW,CAAC,EAC5D,EAKQye,EAAAA,UAAAA,kBAAR,SAA0B/7E,GACxB,IAAMs9D,EAAQlkE,GAAIvO,KAAKk4F,KAAK4B,WAAY,CAAC,aAAc,cACjD3vE,EAAyChV,GAAS,CAAC,EAAjD27I,EAAmB,sBAAKC,GAAU,UAApC,yBACN,MAAO,CACLxgG,QAASzhD,GAAQ,CAAC,EAAGP,GAAIkkE,EAAO,CAAC,UAAW,SAAU,CAAC,GAAIs+E,GAC3DvgE,MAAO1hF,GAAQ,CAAC,EAAGP,GAAIkkE,EAAO,CAAC,QAAS,SAAU,CAAC,GAAI,CAAE4d,WAAYygE,IAEzE,EAiBQ5/D,EAAAA,UAAAA,iBAAR,WACE,IAAM0kB,EAAS51G,KAAKk4F,KAAK2d,YACnBuK,EAAUpgH,KAAKk4F,KAAKqsB,aAAa74G,QACvC1L,KAAK6G,KAAO7G,KAAKgxJ,mBACjBhxJ,KAAK0nD,KAAO1nD,KAAKixJ,UACjBjxJ,KAAK2wJ,IAAM3wJ,KAAKkxJ,SACV,MAAyBlxJ,KAAK0wJ,2BAA5Bl/D,EAAQ,WAAET,EAAQ,WAC1B/wF,KAAKwxF,SAAWA,EAChBxxF,KAAK+wF,SAAWA,EAChB/wF,KAAK4wJ,UAAY,CACf/oG,MAAO+tD,EAAO/tD,MACdhjD,OAAQ+wG,EAAO/wG,QAAU,IAE3B7E,KAAK6wJ,WAAazwC,CACpB,EAEQlvB,EAAAA,UAAAA,eAAR,WACE,IAAMigE,EAAmBhqJ,KAAKye,OAAO5lB,KAAK2wJ,IAAM3wJ,KAAK0nD,MAAQ19C,GAAMhK,KAAK0lB,MAAO,EAAG,IAC5E0rI,EAAiBjqJ,KAAKE,IAAI8pJ,EAAWnxJ,KAAK0nD,KAAO,EAAG1nD,KAAK2wJ,IAAM,GACrE,MAAO,CAACQ,EAAUC,EACpB,EAEQlgE,EAAAA,UAAAA,eAAR,SAAuB/mE,EAAsCrqB,GAA7D,WAAuBozB,GAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAACi+H,EAAQ,KAAEC,EAAM,KAC9BpsJ,EAAShF,KAAKowJ,uBAAsB,KACtC12E,EAAwB,aAAT10E,EACfH,EAASyxF,GAAYt2F,KAAK6G,KAAM7G,KAAK4wJ,UAAU/oG,OAG/CkoG,EAAe/vJ,KAAKk4F,KAAK2d,YAAY1tD,SAAWtjD,EAAOysB,MAAK,SAAC3qB,EAAGgE,GAAM,OAAAH,OAAO7D,GAAK6D,OAAOG,EAAnB,IAAyB9F,EAE/F8tI,EAAUj5D,EAAeq2E,EAAeA,EAAanrI,UAC3D5kB,KAAK6wJ,WAAWphJ,SAAQ,SAACwH,GACvBF,EAAKmhF,KAAKprE,MAAM7V,EAAI4wC,MAAO,CACzBoD,UAAWh0C,EAAIg0C,UACfjmD,KAAMiS,EAAIjS,KACVqC,IAAK4P,EAAI5P,IACTD,IAAK6P,EAAI7P,IACTikD,WAAYp0C,EAAIo0C,YAEpB,IACArrD,KAAKk4F,KAAK1zF,OAAOxE,KAAK4wJ,UAAU/oG,OAAO,SAAC7+C,GACtC,IAAMoH,EAAMuiI,EAAQpuI,QAAQyE,GAC5B,QAAOoH,GAAO,IAAIuuC,GAAUvuC,EAAK+gJ,EAAUC,EAC7C,IACApxJ,KAAKk4F,KAAKp4F,QAAO,EACnB,EAEQoxF,EAAAA,UAAAA,gBAAR,WACU,IAAAlsF,EAAShF,KAAKowJ,uBAAsB,KACtC12E,EAAwB,aAAT10E,EACfihE,EAAY,IAAIorF,IAAmB,kBACvCz8I,UAAW5U,KAAK4U,WACb5U,KAAK0wJ,4BAA0B,CAClC93I,EAAG,EACHC,EAAG,KAKL,OAFAotD,EAAU59D,OAEH,CACL49D,UAAS,EACTgI,MAAOl9D,GAAMgC,KACbub,UAAWorD,EAAe1oE,GAAAA,OAAmBA,GAAAA,MAC7ChM,KAAMiM,GAAeqrG,UAEzB,EAEQprB,EAAAA,UAAAA,gBAAR,WACE,IAAMg9C,EAASluI,KAAK0wJ,2BACdY,EAAatxJ,KAAKwxF,UACrBruC,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,IAAAA,CAAAA,EACI+qF,GAAM,CACT18C,SAAUxxF,KAAKwxF,SACfT,SAAU/wF,KAAK+wF,SACfH,aAAc5wF,KAAKwxF,SAAWxxF,KAAK+wF,UAAY/wF,KAAK0lB,SAErDy9B,EAAAA,EAAAA,IAAAA,CAAAA,EAAM+qF,GAGT,OAFAluI,KAAK4wG,UAAU3qC,UAAU95B,OAAOmlH,GAEzBtxJ,KAAK4wG,SACd,EAEQ1f,EAAAA,UAAAA,QAAR,WACE,GAAIlxF,KAAK0nD,KACP,OAAO1nD,KAAK0nD,KAEN,IAAAqlB,EAAmB/sE,KAAKk4F,KAAI,eAC9B,EAAyBl4F,KAAKowJ,uBAA5BprJ,EAAI,OAAEusJ,EAAY,eACpB73E,EAAwB,aAAT10E,EAErB,OAAOmC,KAAKye,OAAO8zD,EAAe3M,EAAeh7D,MAAQg7D,EAAer3D,QAAU67I,EACpF,EAEQrgE,EAAAA,UAAAA,OAAR,WACE,GAAIlxF,KAAK2wJ,IACP,OAAO3wJ,KAAK2wJ,IAEd,IAAM/6C,EAAS51G,KAAKk4F,KAAK2d,YACnBhvG,EAAO7G,KAAKgxJ,mBACZnsJ,EAASyxF,GAAYzvF,EAAM+uG,EAAO/tD,OACxC,OAAO74C,GAAKnK,EACd,EAEQqsF,EAAAA,UAAAA,yBAAR,WACQ,MAA+BlxF,KAAKk4F,KAAlCnrB,EAAc,iBAAEqsB,EAAQ,WAC1B,EAA0Cp5F,KAAKowJ,uBAA7CprJ,EAAI,OAAE87D,EAAO,UAAE/uD,EAAK,QAAE2D,EAAM,SAAEP,EAAK,QACrCukE,EAAwB,aAAT10E,EACf,WAAyD87D,EAAO,GAA/DlrD,EAAU,KAAEH,EAAY,KAAEI,EAAa,KAAEL,EAAW,KACrDuvC,EAAW20B,EACb,CACA9gE,EAAGm0D,EAAez2C,KAAO9gB,EACzBqD,EAAGugF,EAAS1iE,KAAOhhB,EAASG,GAE5B,CACA+C,EAAGwgF,EAAS5iE,KAAOzkB,EAAQ0D,EAC3BoD,EAAGk0D,EAAet2C,KAAO7gB,GAEvB8xC,EAAO1nD,KAAKixJ,UACZN,EAAM3wJ,KAAKkxJ,SACX1/D,EAAW9X,EACb3M,EAAeh7D,MAAQyD,EAAcC,EACrCs3D,EAAer3D,OAASE,EAAaC,EACnCk7E,EAAW5pF,KAAKC,IAAIoqF,EAAWxnF,GAAM09C,EAAOipG,EAAK,EAAG,GAAIR,IAE9D,OAAO,oBACFnwJ,KAAK2vJ,mBAAiB,CACzB/2I,EAAGmsC,EAASnsC,EACZC,EAAGksC,EAASlsC,EACZ7J,KAAM0qE,EAAehkE,EAAS3D,EAC9B2nE,aAAY,EACZ8X,SAAQ,EACRT,SAAQ,EACRH,YAAa,EACbne,MAAOzyE,KAAKwxJ,kBAAkBr8I,IAElC,EAKQ+7E,EAAAA,UAAAA,qBAAR,WACE,IAAIj6E,EAA8B,CAChCjS,KAAM,aACNusJ,aAAcrB,GACdn+I,MAAOk+I,GACPv6I,OAAQu6I,GACRnvF,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBuC,SAAS,EACTluD,MAAO,CAAC,GAUV,OARIxP,EAAS3F,KAAKy5G,UAChBxiG,GAAM,oBAAKA,GAAQjX,KAAKy5G,SAErB9zG,EAAS3F,KAAKy5G,SAAYz5G,KAAKy5G,OAAO34C,UACzC7pD,EAAI6pD,QACW,eAAb7pD,EAAIjS,KAAwB,CAACgrJ,GAAiB,EAAGA,GAAiB,GAAK,CAAC,EAAGA,GAAiB,EAAGA,KAG5F/4I,CACT,EAKQi6E,EAAAA,UAAAA,iBAAR,WACE,IAAMyC,EAAa3zF,KAAKk4F,KAAKl4B,gBACvB/oD,EAAMjX,KAAKowJ,uBACbvpJ,EAAO7G,KAAKk4F,KAAK6B,aAAalzF,MAAQ,GAM1C,OAJI8sF,EAAW11B,UAAU,MAAqB,aAAbhnD,EAAIjS,OACnC6B,GAAOyhB,EAAAA,EAAAA,IAAAA,IAAAA,EAAAA,EAAAA,IAAIzhB,IAAI,GAAE+d,WAGZ/d,CACT,EACF,EAxXA,CAAuC8/G,I,MCNjC8qC,GAA4B,CAChCz3F,KAAM,UACNzpC,QAAS,IAGL,SAAUmhI,GAAex5D,EAAY5pD,EAAcoqE,G,gBACnD7lC,EAAQkmC,GAA4B7gB,EAAM5pD,EAAOoqE,GACrD,GAAI7lC,EAAM3vE,OAAQ,CAEhB2vE,EAAQ/rE,EAAQ+rE,G,IAChB,IAAsB,eAAAA,GAAK,8BAAE,CAAxB,IAAM9oB,EAAO,Q,IAChB,IAAmB,yBAAAA,IAAO,8BAAE,CAAvB,IAAMnnD,EAAI,QACP,EAAWA,EAAK01G,YAAd1/F,EAAC,IAAEC,EAAC,IACZjW,EAAKgW,EAAIvT,EAAQuT,GAAKA,EAAEA,EAAE1V,OAAS,GAAK0V,EACxChW,EAAKiW,EAAIxT,EAAQwT,GAAKA,EAAEA,EAAE3V,OAAS,GAAK2V,C,sMAIpC,IAAA40F,EAAWiL,EAAU,OAE7B,IAAe,IAAXjL,GAAoB56B,EAAM3vE,OAAS,EAAG,CACxC,IAAI+kH,EAAWp1C,EAAM,GACjBxrE,EAAMF,KAAK0D,IAAIyjC,EAAMz1B,EAAIovG,EAAS,GAAGpvG,G,IACzC,IAAoB,eAAAg6D,GAAK,8BAAE,CAAtB,IAAMq1C,EAAK,QACRC,EAAYhhH,KAAK0D,IAAIyjC,EAAMz1B,EAAIqvG,EAAM,GAAGrvG,GAC1CsvG,GAAa9gH,IACf4gH,EAAWC,EACX7gH,EAAM8gH,E,mGAGVt1C,EAAQ,CAACo1C,E,CAGX,OAAOz/G,GAAK1B,EAAQ+rE,G,CAGtB,MAAO,EACT,CAMA,gC,8CAiKA,QAjK2Bz7D,EAAAA,EAAAA,IAAAA,EAAAA,GASlBu6I,EAAAA,UAAAA,KAAP,SAAY7jJ,GACV,IAAMoqF,EAAOl4F,KAAK6N,QAAQqqF,KACpB1gE,EAAKx3B,KAAK6N,QAAQuZ,MAElBsxF,EAAaxgB,EAAKuiB,cAAc,WAAWyM,gBAC3CpO,EAAe44C,GACnBx5D,EACA,CACEt/E,EAAG4e,EAAG5e,EACNC,EAAG2e,EAAG3e,GAER6/F,GAGF,IAAIzpG,GAAQ6pG,EAAc94G,KAAK6yE,SAI/B7yE,KAAK6yE,MAAQimC,EACTA,EAAa51G,QAAQ,CACvB,IAAM6uH,EAAS75B,EAAK2d,YAAYhuD,MAC1B+pG,EAAS94C,EAAa,GAAGjyG,KAAKkrH,GAEhC8/B,EAAsB,GACpB53D,EAAa/B,EAAK+B,WAaxB,GAZA30F,EAAK20F,GAAY,SAAC4Q,GAChB,GAAsB,aAAlBA,EAAS7lG,MAAyC,WAAlB6lG,EAAS7lG,KAAmB,CAC9D,IAAMN,EAASmmG,EAASrM,eAAc,SAACnpF,GACrC,IAAMy8I,EAAUz8I,EAAIijF,UACpB,OAAOw5D,EAAQ//B,KAAY6/B,CAC7B,IAEAC,EAAWA,EAAS9qJ,OAAOrC,E,CAE/B,IAGImtJ,EAAS3uJ,OAAQ,CACnB,IAAM6uJ,EAAa75D,EAAKl4B,gBAEpBgyF,EAAYH,EAAS,GAAG/pI,MAAMgP,gBAC9Bm7H,EAAWJ,EAAS,GAAG/pI,MAAMgP,gBAC3Bo7H,EAAyBF,EAE/B1sJ,EAAKusJ,GAAU,SAACx8I,GACd,IAAM2L,EAAO3L,EAAIyS,MAAMgP,gBACnBi7H,EAAWl0F,cACT78C,EAAKyV,KAAOu7H,EAAUv7H,OACxBu7H,EAAYhxI,GAEVA,EAAK0V,KAAOu7H,EAASv7H,OACvBu7H,EAAWjxI,KAGTA,EAAKsV,KAAO07H,EAAU17H,OACxB07H,EAAYhxI,GAEVA,EAAKwV,KAAOy7H,EAASz7H,OACvBy7H,EAAWjxI,IAIfkxI,EAAUt5I,EAAIzR,KAAKE,IAAI2Z,EAAKsV,KAAM47H,EAAU57H,MAC5C47H,EAAUr5I,EAAI1R,KAAKE,IAAI2Z,EAAKyV,KAAMy7H,EAAUz7H,MAC5Cy7H,EAAUngJ,MAAQ5K,KAAKC,IAAI4Z,EAAKwV,KAAM07H,EAAU17H,MAAQ07H,EAAUt5I,EAClEs5I,EAAUx8I,OAASvO,KAAKC,IAAI4Z,EAAK0V,KAAMw7H,EAAUx7H,MAAQw7H,EAAUr5I,CACrE,IAEQ,IAAA0kG,EAAoCrlB,EAAI,gBAAvBnrB,EAAmBmrB,EAAI,eAC5C/nF,OAAI,EACR,GAAI4hJ,EAAW56D,OAAQ,CACrB,IAAMye,EAAS1d,EAAK2d,YAEhB,EAA+B/nG,GAAQ,CAAC,EAAtCqkJ,EAAW,cAAEC,EAAW,cAC1BltJ,EAAMktJ,KACRD,EAAcjtJ,EAAMitJ,GAAgBv8C,EAAOztD,SAAW,EAAI,IAAQgqG,EAClEC,EAAcL,EAAWl0F,aAAes0F,EAAcF,EAASv8I,OAASy8I,EAAcH,EAAUjgJ,OAGlG,IAAIukB,OAAI,EACJG,OAAI,EACJ1kB,OAAK,EACL2D,OAAM,EACNq8I,EAAWl0F,cACbvnC,EAAOy2C,EAAez2C,KACtBG,EAAOtvB,KAAKE,IAAI4qJ,EAASx7H,KAAMu7H,EAAUv7H,MAAQ27H,EACjDrgJ,EAAQg7D,EAAeh7D,MACvB2D,EAASw8I,EAAUx8I,OAAuB,EAAd08I,IAE5B97H,EAAOnvB,KAAKE,IAAI2qJ,EAAU17H,KAAM27H,EAAS37H,MAAQ87H,EAEjD37H,EAAOs2C,EAAet2C,KACtB1kB,EAAQmgJ,EAAUngJ,MAAsB,EAAdqgJ,EAC1B18I,EAASq3D,EAAer3D,QAG1BvF,EAAO,CACL,CAAC,IAAKmmB,EAAMG,GACZ,CAAC,IAAKH,EAAOvkB,EAAO0kB,GACpB,CAAC,IAAKH,EAAOvkB,EAAO0kB,EAAO/gB,GAC3B,CAAC,IAAK4gB,EAAMG,EAAO/gB,GACnB,CAAC,K,KAEE,CACL,IAAM28I,EAAeppJ,GAAK4oJ,GACpBS,EAAcpqJ,GAAK2pJ,GACjB36G,EAAeM,GAAS66G,EAAa3zD,WAAYqzD,GAAW,WAC5D56G,EAAaK,GAAS86G,EAAY5zD,WAAYqzD,GAAW,SAC3D90G,EAAS80G,EAAWtyF,YACpBjB,EAASuzF,EAAW/8D,YACpBu9D,EAAeR,EAAWnzF,YAAcJ,EAC9CruD,EAAO8iF,GAAch2C,EAAOrkC,EAAGqkC,EAAOpkC,EAAG2lD,EAAQtnB,EAAYC,EAAUo7G,E,CAGzE,GAAIvyJ,KAAKs8E,WACPt8E,KAAKs8E,WAAW3sD,KAAK,OAAQxf,GAC7BnQ,KAAKs8E,WAAWtY,WACX,CACL,IAAM7uD,EAAQ5G,GAAIT,EAAM,QAAS2jJ,IACjCzxJ,KAAKs8E,WAAaihC,EAAgBj3C,SAAS,CACzCthE,KAAM,OACNpE,KAAM,gBACNunB,SAAS,EACT/nB,OAAO,oBACF+U,GAAK,CACRhF,KAAI,K,GAMhB,EAIOwhJ,EAAAA,UAAAA,KAAP,WACM3xJ,KAAKs8E,YACPt8E,KAAKs8E,WAAWrY,OAGlBjkE,KAAK6yE,MAAQ,IACf,EAIO8+E,EAAAA,UAAAA,QAAP,WACE3xJ,KAAKikE,OACDjkE,KAAKs8E,YACPt8E,KAAKs8E,WAAWh0E,QAAO,GAEzB4O,EAAAA,UAAMua,QAAO,UACf,EACF,EAjKA,CAA2BqpE,IAmK3B,MC7MA,0E,OACU/jF,EAAAA,UAAoB,E,CA+D9B,QAhE4BK,EAAAA,EAAAA,IAAAA,EAAAA,GAQnBo7I,EAAAA,UAAAA,KAAP,WACE,IAAM3kJ,EAAU7N,KAAK6N,QACf2pB,EAAK3pB,EAAQuZ,MACb8wE,EAAOrqF,EAAQqqF,KACf6oB,EAAkB7oB,EAAK6oB,kBAC7B,IAAIA,EAAJ,CAIA,IAAM0xC,EAAgBzyJ,KAAKsnB,UACrBA,GAAa,IAAI/W,KAGjBmiJ,EAAYnkJ,GAAIV,EAAQqqF,KAAK6B,aAAc,oBAAqB,IACtE,GAAIzyE,EAAYmrI,EAAgBC,EAAW,CACzC,IAAMC,EAAS3yJ,KAAKmkE,SACdyuF,EAAS,CAAEh6I,EAAG4e,EAAG5e,EAAGC,EAAG2e,EAAG3e,GAC3B85I,GAAW1jJ,GAAQ0jJ,EAAQC,IAC9B5yJ,KAAK2gH,YAAYzoB,EAAM06D,GAEzB5yJ,KAAKsnB,UAAYA,EACjBtnB,KAAKmkE,SAAWyuF,C,EAEpB,EAMOJ,EAAAA,UAAAA,KAAP,WACE,IAAMt6D,EAAOl4F,KAAK6N,QAAQqqF,KAEpBkV,EAAUlV,EAAKuiB,cAAc,WAC7B,EAAuBz6G,KAAK6N,QAAQuZ,MAAlCmnB,EAAO,UAAEC,EAAO,UAGpB4+D,EAAQylD,gBAAgB,CAAEj6I,EAAG21B,EAAS11B,EAAG21B,KAKzC0pD,EAAK6oB,oBAGT/gH,KAAK4gH,YAAY1oB,GACjBl4F,KAAKmkE,SAAW,KAClB,EAEUquF,EAAAA,UAAAA,YAAV,SAAsBt6D,EAAY5pD,GAEhC4pD,EAAKyoB,YAAYryE,EACnB,EAEUkkH,EAAAA,UAAAA,YAAV,SAAsBt6D,GACpBA,EAAK0oB,aACP,EACF,EAhEA,CAA4B9lB,IAkE5B,MClEA,4B,8CAuBA,QAvB6B1jF,EAAAA,EAAAA,IAAAA,EAAAA,GAMjB07I,EAAAA,UAAAA,YAAV,SAAsB56D,EAAY5pD,GAChC,IAAMg5B,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACd,IAAMi1D,EAAeh1D,GAAgB7F,EAAM4F,EAASxvD,GACpDwvD,EAAQ6iB,YAAYoyC,EACtB,GACF,EAKUD,EAAAA,UAAAA,YAAV,SAAsB56D,GACpB,IAAM5wB,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACdA,EAAQ8iB,aACV,GACF,EACF,EAvBA,CAA6B4xC,IAyB7B,MCzBA,0E,OACUz7I,EAAAA,UAAoB,E,CA0F9B,QA3F0CK,EAAAA,EAAAA,IAAAA,EAAAA,GAKjC47I,EAAAA,UAAAA,QAAP,WACE97I,EAAAA,UAAMua,QAAO,WACbzxB,KAAKotG,SAAWptG,KAAKotG,QAAQ37E,SAC/B,EAMOuhI,EAAAA,UAAAA,KAAP,WACE,IAAMnlJ,EAAU7N,KAAK6N,QACf2pB,EAAK3pB,EAAQuZ,MACbqrI,EAAgBzyJ,KAAKsnB,UACrBA,GAAa,IAAI/W,KAEvB,GAAI+W,EAAYmrI,EAAgB,GAAI,CAClC,IAAME,EAAS3yJ,KAAKmkE,SACdyuF,EAAS,CAAEh6I,EAAG4e,EAAG5e,EAAGC,EAAG2e,EAAG3e,GAC3B85I,GAAW1jJ,GAAQ0jJ,EAAQC,IAC9B5yJ,KAAK2gH,YAAYiyC,GAEnB5yJ,KAAKsnB,UAAYA,EACjBtnB,KAAKmkE,SAAWyuF,C,CAEpB,EAMOI,EAAAA,UAAAA,KAAP,WACEhzJ,KAAK4gH,cACL5gH,KAAKmkE,SAAW,IAClB,EAEU6uF,EAAAA,UAAAA,YAAV,SAAsBJ,GACpB,IAAM/kJ,EAAU7N,KAAK6N,QACf2pB,EAAK3pB,EAAQuZ,MACb9kB,EAASk1B,EAAGl1B,OAElB,GAAIA,GAAUA,EAAOiM,IAAI,OAAQ,CAC1BvO,KAAKotG,SACRptG,KAAKsnH,gBAEP,IAAM2rC,EAAa3wJ,EAAOiM,IAAI,OAE9BvO,KAAKotG,QAAQjhE,QAAO,SAClBsc,MAAOwqG,GACJL,IAEL5yJ,KAAKotG,QAAQppC,M,CAEjB,EAEUgvF,EAAAA,UAAAA,YAAV,WACEhzJ,KAAKotG,SAAWptG,KAAKotG,QAAQnpC,MAC/B,EAEQ+uF,EAAAA,UAAAA,cAAR,W,MACQ96D,EAAOl4F,KAAK6N,QAAQqqF,KACpBnmE,EAASmmE,EAAKnmE,OAEdqvC,EAAS,CACbrnD,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAClB6J,IAAK,CAAE9J,EAAGmZ,EAAOxjB,IAAI,SAAUsK,EAAGkZ,EAAOxjB,IAAI,YAGzCkkE,EAAQylB,EAAK4B,WACbo5D,EAAgB3kJ,GAAIkkE,EAAO,CAAC,aAAc,UAAW,aAAc,CAAC,GACpE26B,EAAU,IAAI3a,GAAY,CAC9Bt8E,OAAQ4b,EAAOxjB,IAAI,MAAM6H,WACzBgrD,OAAM,EACNjqD,SAAS,EACT2yE,WAAY,KACZzZ,WAAW,WACNvhE,GAAQ,CAAC,EAAGokJ,GAAa,KAE1B/oI,EAAC0jF,IAAoC,CAAE,YAAa,OACpD1jF,EAAC0jF,IAAgC,CAAE,aAAc,aAAa,OAIpET,EAAQ/kG,OACR+kG,EAAQlpC,YAAW,GACnBlkE,KAAKotG,QAAUA,CACjB,EACF,EA3FA,CAA0CtS,I,MCC1C,0E,OAIY/jF,EAAAA,UAAoB,G,CA6ChC,QAjDiCK,EAAAA,EAAAA,IAAAA,EAAAA,GAgBrB+7I,EAAAA,UAAAA,SAAV,SAAmBjrI,GACjB,OAAOA,EAAQirD,SAASnzE,KAAKu+F,UAC/B,EAKU40D,EAAAA,UAAAA,gBAAV,SAA0BjrI,EAAkBqqD,GAE1CrqD,EAAQsjG,SAASxrH,KAAKu+F,UAAWhsB,EACnC,EAKO4gF,EAAAA,UAAAA,SAAP,WACEnzJ,KAAKozJ,gBAAe,EACtB,EAKOD,EAAAA,UAAAA,MAAP,WACE,IAAMj7D,EAAOl4F,KAAK6N,QAAQqqF,KAC1Bl4F,KAAKqzJ,eAAen7D,EACtB,EAEUi7D,EAAAA,UAAAA,eAAV,SAAyBj7D,GAAzB,WACQ3yF,EAAW+4F,GAAmBpG,EAAMl4F,KAAKu+F,WAC/Cj5F,EAAKC,GAAU,SAACgoC,GACdx2B,EAAKu8I,gBAAgB/lH,GAAI,EAC3B,GACF,EACF,EAjDA,CAAiCutD,IAmDjC,MChDA,SAASy4D,GAAQzrI,GACf,OAAOvZ,GAAIuZ,EAAMvZ,IAAI,kBAAmB,OAC1C,CAOA,8E,OACYwI,EAAAA,qBAAuB,CAAC,a,CAmFpC,QApF2BK,EAAAA,EAAAA,IAAAA,EAAAA,GAIjBo8I,EAAAA,UAAAA,aAAR,SAAqB5wJ,EAAgB6wJ,GACnC,IAAM58E,EAAS72E,KAAK0zJ,qBACdz3B,EAAWplD,EAAOryE,QAAO,SAACtD,GAC9B,OAAOuyJ,EAAKtgF,SAASvwE,EAAM1B,EAC7B,IACA,QAAS+6H,EAAS/4H,MACpB,EAGQswJ,EAAAA,UAAAA,oBAAR,SAA4BvtF,EAAWrjE,EAAgB2vE,GACrD,IAAM2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpBrwC,EAAQoe,EAAU13D,IAAI,SACtBhJ,EAAWy4F,GAAY9F,GAC7Bl4F,KAAK2zJ,uBAAuBpuJ,EAAUsiD,EAAOjlD,EAAM2vE,EACrD,EAGUihF,EAAAA,UAAAA,kBAAV,SAA4BtrI,EAAkBqqD,GAC5CvyE,KAAKszJ,gBAAgBprI,EAASqqD,EAChC,EAGUihF,EAAAA,UAAAA,WAAV,SAAqBtrI,EAAkB2/B,EAAejlD,GACpD,IAAMs1F,EAAOl4F,KAAK6N,QAAQqqF,KACpBprE,EAAQ2yE,GAAgBvH,EAAMrwC,GAC9B/mD,EAAQu9F,GAAgBn2E,EAAS2/B,GACvC,OAAQ3iD,EAAMpE,IAAU8B,EAAKhC,OAASksB,EAAMi+B,QAAQjqD,EACtD,EAEU0yJ,EAAAA,UAAAA,uBAAV,SAAiCjuJ,EAAqBsiD,EAAejlD,EAAgB2vE,GAArF,WACEjtE,EAAKC,GAAU,SAACgoC,GACVx2B,EAAK68I,WAAWrmH,EAAIsa,EAAOjlD,IAC7B2qC,EAAGi+E,SAASz0G,EAAKwnF,UAAWhsB,EAEhC,GACF,EAGUihF,EAAAA,UAAAA,eAAV,SAAyBjhF,GACvB,IAAMrqD,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAEEk1E,GAAgBp9F,KAAK6N,UACvB7N,KAAK6zJ,kBAAkB3rI,EAASqqD,OAE7B,CAEL,IAAMz9C,EAAiBqoE,GAAoBn9F,KAAK6N,SAEhD,GAAIyvF,GAAOxoE,GAAiB,CAClB,IAAAlyB,EAAoBkyB,EAAc,KAA5BmxC,EAAcnxC,EAAc,UAC1C,GAAIlyB,GAAQqjE,IAAcjmE,KAAK8zJ,aAAalxJ,EAAMqjE,GAAY,CAC5D,IAAM8tF,EAAQ/zJ,KAAK6N,QAAQuZ,MAAMi2E,OAEjC,GAAI02D,GAASA,EAAM3/H,WAAa2/H,EAAM1/H,SAAWk/H,GAAQQ,EAAM3/H,aAAem/H,GAAQQ,EAAM1/H,SAC1F,OAEFr0B,KAAKg0J,oBAAoB/tF,EAAWrjE,EAAM2vE,E,GAIlD,EAKOihF,EAAAA,UAAAA,OAAP,WACE,IAAMtrI,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAAS,CACX,IAAMirD,EAAWjrD,EAAQirD,SAASnzE,KAAKu+F,WACvCv+F,KAAKszJ,gBAAgBprI,GAAUirD,E,CAEnC,EAKOqgF,EAAAA,UAAAA,MAAP,WACExzJ,KAAKozJ,gBAAe,EACtB,EACF,EApFA,CAA2BD,IAsF3B,MCtGA,0E,OACYp8I,EAAAA,UAAoB,S,CAOhC,QAR4BK,EAAAA,EAAAA,IAAAA,EAAAA,GAKnB68I,EAAAA,UAAAA,OAAP,WACEj0J,KAAKwrH,UACP,EACF,EARA,CAA4B0oC,IAU5B,MCHA,0E,OAEUn9I,EAAAA,MAAqB,CAAC,E,CA+IhC,QAjJ0BK,EAAAA,EAAAA,IAAAA,EAAAA,GAIhB+8I,EAAAA,UAAAA,cAAR,SAAsBj8D,EAAMhwE,GAC1B,IAAMioH,EAAYjoH,EAAQ2iF,SAASptC,aAAa,SAChD,IAAK0yE,EACH,OAAO,KAET,IAAMrjH,EAAQorE,EAAKuH,gBAAgB0wC,EAAU55B,YAAY,IACzD,OAAOzpF,CACT,EAEQqnI,EAAAA,UAAAA,YAAR,SAAoBjsI,EAAkBksI,GACpC,IAAMl8D,EAAOl4F,KAAK6N,QAAQqqF,KAClBr6B,EAAiBq6B,EAAKl4B,gBAAe,aACvCh/C,EAAOkH,EAAQJ,MAAMgP,gBACrBu9H,EAAWD,EAAYtsI,MAAMgP,gBAC7B3mB,EAAO0tD,EACT,CACE,CAAC,IAAK78C,EAAKsV,KAAMtV,EAAKyV,MACtB,CAAC,IAAK49H,EAAS/9H,KAAM+9H,EAAS39H,MAC9B,CAAC,IAAK29H,EAAS79H,KAAM69H,EAAS39H,MAC9B,CAAC,IAAK1V,EAAKwV,KAAMxV,EAAKyV,MACtB,CAAC,MAEH,CACE,CAAC,IAAKzV,EAAKwV,KAAMxV,EAAKyV,MACtB,CAAC,IAAK49H,EAAS/9H,KAAM+9H,EAAS59H,MAC9B,CAAC,IAAK49H,EAAS/9H,KAAM+9H,EAAS39H,MAC9B,CAAC,IAAK1V,EAAKwV,KAAMxV,EAAK0V,MACtB,CAAC,MAEP,OAAOvmB,CACT,EAEQgkJ,EAAAA,UAAAA,aAAR,SAAqBh9H,EAAejP,EAAkBksI,EAAsBE,GAC1E,IAAMn/I,EAAQ,CACZob,QAAS,GACTypC,KAAM9xC,EAAQJ,MAAM6H,KAAK,SAE3BwH,EAAMmvC,SAAS,CACbthE,KAAM,OACN5E,OAAO,oBACF0O,GAAQ,CAAC,EAAGqG,EAAOlP,EAAWquJ,GAAeA,EAAYn/I,EAAO+S,GAAWosI,IAAY,CAC1FnkJ,KAAMnQ,KAAKu0J,YAAYrsI,EAASksI,MAGtC,EAEQD,EAAAA,UAAAA,cAAR,SAAsBjsI,EAAkBosI,GAAxC,WACQp8D,EAAOl4F,KAAK6N,QAAQqqF,KACpBprE,EAAQ9sB,KAAKw0J,cAAct8D,EAAMhwE,GACvC,GAAK4E,EAAL,CAGA,IAAMhsB,EAAQu9F,GAAgBn2E,EAAS4E,EAAM+6B,OAC7C,IAAK7nD,KAAKyI,MAAM3H,GAAQ,CACtB,IAAM+wJ,EAAWzzD,GAAmBlG,EAAMprE,EAAM+6B,MAAO/mD,GACjD2zJ,EAAYz0J,KAAKy0J,UACjBC,EAAQD,EAAU1uF,WACxB/lE,KAAKyI,MAAM3H,GAAS4zJ,EACpB,IAAMC,EAAQ9C,EAAS3uJ,OACvBoC,EAAKusJ,GAAU,SAACtkH,EAAI1qC,GAClB,GAAIA,EAAQ8xJ,EAAQ,EAAG,CACrB,IAAMC,EAAS/C,EAAShvJ,EAAQ,GAChCkU,EAAK89I,aAAaH,EAAOnnH,EAAIqnH,EAAQN,E,CAEzC,G,EAEJ,EAEQH,EAAAA,UAAAA,WAAR,SAAmBjsI,GACjB,IAAM4E,EAAQ9sB,KAAKw0J,cAAcx0J,KAAK6N,QAAQqqF,KAAMhwE,GACpD,GAAK4E,EAAL,CAGA,IAAMhsB,EAAQu9F,GAAgBn2E,EAAS4E,EAAM+6B,OACzC7nD,KAAKyI,MAAM3H,KACbd,KAAKyI,MAAM3H,GAAOwH,SAClBtI,KAAKyI,MAAM3H,GAAS,K,CAExB,EAmBOqzJ,EAAAA,UAAAA,KAAP,SAAYrmJ,GACV,IAAMD,EAAU7N,KAAK6N,QAChB7N,KAAKy0J,YAERz0J,KAAKy0J,UAAY5mJ,EAAQqqF,KAAKa,gBAAgBhzB,SAAS,CACrDzyC,GAAI,sBACJnL,SAAS,KAGb,IAAMD,EAAUg1E,GAAkBrvF,GAC9Bqa,GACFloB,KAAK80J,cAAc5sI,EAAa,OAAJpa,QAAI,IAAJA,OAAI,EAAJA,EAAMqH,MAEtC,EAKOg/I,EAAAA,UAAAA,OAAP,WACE,IAAMjsI,EAAUg1E,GAAkBl9F,KAAK6N,SACnCqa,GACFloB,KAAK+0J,WAAW7sI,EAEpB,EAKOisI,EAAAA,UAAAA,MAAP,WACMn0J,KAAKy0J,WACPz0J,KAAKy0J,UAAU18H,QAEjB/3B,KAAKyI,MAAQ,CAAC,CAChB,EAKA0rJ,EAAAA,UAAAA,QAAA,WACEj9I,EAAAA,UAAMua,QAAO,WACTzxB,KAAKy0J,WACPz0J,KAAKy0J,UAAUnsJ,QAEnB,EACF,EAjJA,CAA0BwyF,IAkJ1B,MC/IA,0E,OACU/jF,EAAAA,WAAa,KACbA,EAAAA,SAAW,KACXA,EAAAA,WAAqB,EAInBA,EAAAA,gBAAiB,EAIjBA,EAAAA,gBAAiB,E,CAmI7B,QA9IgCK,EAAAA,EAAAA,IAAAA,EAAAA,GAatB49I,EAAAA,UAAAA,gBAAR,WACE,IAAM5tI,EAAQpnB,KAAK6N,QAAQuZ,MAC3B,MAAO,CACLxO,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,EAEb,EAKOm8I,EAAAA,UAAAA,MAAP,WACEh1J,KAAK+3B,QACL/3B,KAAKu8C,WAAav8C,KAAK4/F,kBACvB5/F,KAAKi1J,WAAY,CACnB,EAEUD,EAAAA,UAAAA,qBAAV,WACE,IAAIzvJ,EAAW,KACf,GAAIi4F,GAAOx9F,KAAK6N,SACdtI,EAAWk4F,GAAkBz9F,KAAK6N,QAAS,QACtC,CACL,IAAM0uC,EAAav8C,KAAKu8C,WAClB4vB,EAAWnsE,KAAKi1J,UAAYj1J,KAAK4/F,kBAAoB5/F,KAAKmsE,SAEhE,IAAK5vB,IAAe4vB,EAClB,OAGF,IAAMjrD,EAAM,CACVoV,KAAMnvB,KAAKE,IAAIk1C,EAAW3jC,EAAGuzD,EAASvzD,GACtC6d,KAAMtvB,KAAKE,IAAIk1C,EAAW1jC,EAAGszD,EAAStzD,GACtC2d,KAAMrvB,KAAKC,IAAIm1C,EAAW3jC,EAAGuzD,EAASvzD,GACtC8d,KAAMvvB,KAAKC,IAAIm1C,EAAW1jC,EAAGszD,EAAStzD,IAGlCq/E,EAAOl4F,KAAK6N,QAAQqqF,KAC1B3yF,EAAWq4F,GAAqB1F,EAAMh3E,E,CAExC,OAAO3b,CACT,EAIOyvJ,EAAAA,UAAAA,eAAP,SAAsBziF,GACpB,GAAIvyE,KAAKk1J,iBAAmBl1J,KAAKm1J,eAC/Bn1J,KAAKo1J,iBAAiB7iF,OACjB,CACL,IAAM8iF,EAAcr3D,GAAYh+F,KAAK6N,QAAQqqF,MACvC3yF,EAAWvF,KAAK49F,uBAClBr4F,GAAYA,EAASrC,OACnBlD,KAAKm1J,eACPn1J,KAAKs1J,yBAAyB/vJ,EAAUgtE,GAExCvyE,KAAKu1J,iBAAiBhwJ,EAAUgtE,EAAQ8iF,GAG1Cr1J,KAAK+3B,O,CAGX,EAEQi9H,EAAAA,UAAAA,yBAAR,SAAiCzvJ,EAAUgtE,GAA3C,WACQ2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpB5wB,EAAW63B,GAAYjH,GACvBqH,EAAUh6F,EAAS+J,KAAI,SAACi+B,GAC5B,OAAOA,EAAGmxD,WAAW73F,IACvB,IACM24F,EAAStH,EAAK2d,YAAYhuD,MAC1BnG,EAASw2C,EAAKqsB,aAAa,GAAG18D,MACpCviD,EAAKgiE,GAAU,SAACw2B,GACd,IAAMu3D,EAAcr3D,GAAYF,GAC1B03D,EAAiBH,EAAY7wJ,QAAO,SAAC+oC,GACzC,IAAMkV,EAASlV,EAAGmxD,WAAW73F,KAC7B,OAAOy4F,GAAYC,EAAS98C,EAAQ+8C,EAAQ99C,EAC9C,IACA3qC,EAAKw+I,iBAAiBC,EAAgBjjF,EAAQ8iF,EAChD,GACF,EAGQL,EAAAA,UAAAA,iBAAR,SAAyBziF,GAAzB,WACQ2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpB5wB,EAAW63B,GAAYjH,GACzBsF,GAAOx9F,KAAK6N,UAEdvI,EAAKgiE,GAAU,SAACw2B,GACd,IAAMu3D,EAAcr3D,GAAYF,GAC1B03D,EAAiB33D,GAAuB9mF,EAAKlJ,QAASiwF,EAAS,IACjE03D,GAAkBA,EAAetyJ,OACnC6T,EAAKw+I,iBAAiBC,EAAgBjjF,EAAQ8iF,GAE9Ct+I,EAAKs8I,eAAev1D,EAExB,GAEJ,EAEUk3D,EAAAA,UAAAA,iBAAV,SAA2BzvJ,EAAqBgtE,EAAQ8iF,GAAxD,WACE/vJ,EAAK+vJ,GAAa,SAAC9nH,GACZhoC,EAAS+lC,SAASiC,GAGrBx2B,EAAKu8I,gBAAgB/lH,EAAIglC,GAFzBx7D,EAAKu8I,gBAAgB/lH,GAAI,EAI7B,GACF,EAKOynH,EAAAA,UAAAA,IAAP,WACEh1J,KAAKi1J,WAAY,EACjBj1J,KAAKmsE,SAAWnsE,KAAK4/F,iBACvB,EAGOo1D,EAAAA,UAAAA,MAAP,sBACQ98D,EAAOl4F,KAAK6N,QAAQqqF,KAE1B,GAAIl4F,KAAKk1J,eAAgB,CACvB,IAAM5tF,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACd/mF,EAAKs8I,eAAev1D,EACtB,G,MAEA99F,KAAKqzJ,eAAen7D,EAExB,EACF,EA9IA,CAAgCi7D,IAgJhC,MC3JA,0E,OACYp8I,EAAAA,UAAoB,S,CAOhC,QARiCK,EAAAA,EAAAA,IAAAA,EAAAA,GAKxBq+I,EAAAA,UAAAA,OAAP,WACEz1J,KAAKwrH,UACP,EACF,EARA,CAAiCwpC,IAUjC,MCRA,4B,8CAsCA,QAtCiC59I,EAAAA,EAAAA,IAAAA,EAAAA,GACrBs+I,EAAAA,UAAAA,eAAV,SAAyBnjF,GACvB,IAAMrqD,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAAS,CAEX,IAAKk1E,GAAgBp9F,KAAK6N,SACxB,OAGE0kE,GACFvyE,KAAK+3B,QACL/3B,KAAKszJ,gBAAgBprI,GAAS,IACrBloB,KAAKmzE,SAASjrD,IACvBloB,KAAKszJ,gBAAgBprI,GAAS,E,CAGpC,EAKOwtI,EAAAA,UAAAA,OAAP,WACE,IAAMxtI,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAAS,CACX,IAAMirD,EAAWnzE,KAAKmzE,SAASjrD,GAC1BirD,GACHnzE,KAAK+3B,QAEP/3B,KAAKszJ,gBAAgBprI,GAAUirD,E,CAEnC,EAKOuiF,EAAAA,UAAAA,MAAP,WACE11J,KAAKozJ,gBAAe,EACtB,EACF,EAtCA,CAAiCD,IAwCjC,MC1CA,0E,OACYp8I,EAAAA,UAAoB,S,CAOhC,QARkCK,EAAAA,EAAAA,IAAAA,EAAAA,GAKzBu+I,EAAAA,UAAAA,OAAP,WACE31J,KAAKwrH,UACP,EACF,EARA,CAAkCkqC,IAUlC,MCXME,GAAkB,WAClBC,GAAgB,SAOhB,SAAUC,GAAe59D,GAC7B,IAAM3yF,EAAWy4F,GAAY9F,GAC7B5yF,EAAKC,GAAU,SAACgoC,GACVA,EAAG4lC,SAAS0iF,KACdtoH,EAAGi+E,SAASqqC,IAAe,GAEzBtoH,EAAG4lC,SAASyiF,KACdroH,EAAGi+E,SAASoqC,IAAiB,EAEjC,GACF,CAWM,SAAUG,GAAexwJ,EAAqBiR,EAAyB+7D,GAC3EjtE,EAAKC,GAAU,SAACgoC,GAEV/2B,EAAS+2B,IACPA,EAAG4lC,SAASyiF,KACdroH,EAAGi+E,SAASoqC,IAAiB,GAE/BroH,EAAGi+E,SAASqqC,GAAetjF,KAEvBhlC,EAAG4lC,SAAS0iF,KACdtoH,EAAGi+E,SAASqqC,IAAe,GAE7BtoH,EAAGi+E,SAASoqC,GAAiBrjF,GAEjC,GACF,CCxCO,ICJFtlC,GDIQ2oH,GAAkB/iJ,GAAcmjJ,SAChCH,GAAgBhjJ,GAAcojJ,OAO3C,0E,OACYl/I,EAAAA,UAAoB8+I,G,CAwEhC,QAzE+Bz+I,EAAAA,EAAAA,IAAAA,EAAAA,GAInB8+I,EAAAA,UAAAA,uBAAV,SAAiC3wJ,EAAqBsiD,EAAejlD,EAAgB2vE,GAArF,WACQ/7D,EAAW,SAAC+2B,GAAO,SAAKqmH,WAAWrmH,EAAIsa,EAAOjlD,EAA3B,EACzB5C,KAAK+1J,eAAexwJ,EAAUiR,EAAU+7D,EAC1C,EAGU2jF,EAAAA,UAAAA,oBAAV,SAA8B3oH,EAAa/2B,GACrCA,EAAS+2B,IACPA,EAAG4lC,SAASyiF,KACdroH,EAAGi+E,SAASoqC,IAAiB,GAE/BroH,EAAGi+E,SAASqqC,IAAe,IACjBtoH,EAAG4lC,SAAS0iF,KACtBtoH,EAAGi+E,SAASoqC,IAAiB,EAEjC,EAEUM,EAAAA,UAAAA,eAAV,SAAyB3wJ,EAAqBiR,EAAoB+7D,GAAlE,WACE,GAAIA,EAGFjtE,EAAKC,GAAU,SAACgoC,GACdx2B,EAAKo/I,oBAAoB5oH,EAAI/2B,EAC/B,QACK,CAEL,IAAM4/I,EAAiB93D,GAAmBt+F,KAAK6N,QAAQqqF,KAAM29D,IACzDQ,GAAY,EAEhB/wJ,EAAK8wJ,GAAgB,SAAC7oH,GACpB,IAAK/2B,EAAS+2B,GAEZ,OADA8oH,GAAY,GACL,CAEX,IACIA,EAEFr2J,KAAK+3B,QAILzyB,EAAKC,GAAU,SAACgoC,GACV/2B,EAAS+2B,KACPA,EAAG4lC,SAAS0iF,KACdtoH,EAAGi+E,SAASqqC,IAAe,GAE7BtoH,EAAGi+E,SAASoqC,IAAiB,GAEjC,G,CAGN,EAGUM,EAAAA,UAAAA,gBAAV,SAA0BhuI,EAAkBqqD,GAC1C,IAAM2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpB3yF,EAAWy4F,GAAY9F,GAC7Bl4F,KAAK+1J,eAAexwJ,GAAU,SAACgoC,GAAO,OAAArlB,IAAYqlB,CAAZ,GAAgBglC,EACxD,EAEO2jF,EAAAA,UAAAA,UAAP,WACEl2J,KAAKwrH,UACP,EAGO0qC,EAAAA,UAAAA,MAAP,WACE,IAAMh+D,EAAOl4F,KAAK6N,QAAQqqF,KAC1B49D,GAAe59D,EACjB,EACF,EAzEA,CAA+Bg8D,IA2E/B,MEpFA,4B,8CAeA,QAf6B98I,EAAAA,EAAAA,IAAAA,EAAAA,GACjBk/I,EAAAA,UAAAA,kBAAV,SAA4BpuI,EAAkBqqD,GAC5C,IAAM2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpBi4C,EAAYjoH,EAAQ2iF,SAASptC,aAAa,SAChD,GAAK0yE,EAAL,CAGA,IAAMrjH,EAAQorE,EAAKuH,gBAAgB0wC,EAAU55B,YAAY,IACnDz1G,EAAQu9F,GAAgBn2E,EAAS4E,EAAM+6B,OACvCtiD,EAAWy4F,GAAY9F,GACvBq+D,EAAoBhxJ,EAASf,QAAO,SAAC+oC,GACzC,OAAO8wD,GAAgB9wD,EAAIzgB,EAAM+6B,SAAW/mD,CAC9C,IACAd,KAAK+1J,eAAexwJ,GAAU,SAACgoC,GAAO,OAAAgpH,EAAkBjrH,SAASiC,EAA3B,GAAgCglC,E,CACxE,EACF,EAfA,CAA6BikF,IAiB7B,MCjBA,4B,8CAqCA,QArCyBp/I,EAAAA,EAAAA,IAAAA,EAAAA,GAEbq/I,EAAAA,UAAAA,oBAAV,SAA8BlpH,EAAa/2B,GACrCA,EAAS+2B,IACPA,EAAG4lC,SAASyiF,KACdroH,EAAGi+E,SAASoqC,IAAiB,GAE/BroH,EAAGi+E,SAASqqC,IAAe,KAE3BtoH,EAAGi+E,SAASoqC,IAAiB,GACzBroH,EAAG4lC,SAAS0iF,KACdtoH,EAAGi+E,SAASqqC,IAAe,GAGjC,EAEUY,EAAAA,UAAAA,kBAAV,SAA4BvuI,EAAkBqqD,GAC5C,IAAM2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpBprE,EAAQorE,EAAK2d,YACb/0G,EAAQu9F,GAAgBn2E,EAAS4E,EAAM+6B,OACvCtiD,EAAWy4F,GAAY9F,GACvBq+D,EAAoBhxJ,EAASf,QAAO,SAAC+oC,GACzC,OAAO8wD,GAAgB9wD,EAAIzgB,EAAM+6B,SAAW/mD,CAC9C,IACAd,KAAK+1J,eAAexwJ,GAAU,SAACgoC,GAAO,OAAAgpH,EAAkBjrH,SAASiC,EAA3B,GAAgCglC,EACxE,EAKOkkF,EAAAA,UAAAA,OAAP,WACE,IAAMvuI,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAAS,CACX,IAAMirD,EAAWjrD,EAAQirD,SAASnzE,KAAKu+F,WACvCv+F,KAAK6zJ,kBAAkB3rI,GAAUirD,E,CAErC,EACF,EArCA,CAAyBqjF,IAuCzB,OF1CA,SAAKvpH,GACHA,EAAAA,oBAAAA,0CACAA,EAAAA,mBAAAA,yCACAA,EAAAA,gBAAAA,sCACAA,EAAAA,eAAAA,oCACD,EALD,CAAKA,KAAAA,GAAM,KAaX,8E,OACYl2B,EAAAA,UAAoB,S,CAgChC,QAjCoCK,EAAAA,EAAAA,IAAAA,EAAAA,GAIxBs/I,EAAAA,UAAAA,eAAV,SAAyBx+D,GACvB49D,GAAe59D,EACjB,EAKOw+D,EAAAA,UAAAA,UAAP,WACQ,MAAkB12J,KAAK6N,QAArBqqF,EAAI,OAAE9wE,EAAK,QACb7hB,EAAWvF,KAAK49F,uBAChBsgB,EAAU,CAAEhmB,KAAI,EAAE9wE,MAAK,EAAEmvI,kBAAmBhxJ,GAClD2yF,EAAKnjE,KAAKkY,GAAO0pH,iBAAkBr8C,GAAAA,SAAepiB,EAAMjrD,GAAO0pH,iBAAkBz4C,IACjFl+G,KAAKwrH,WACLtzB,EAAKnjE,KAAKkY,GAAO2pH,gBAAiBt8C,GAAAA,SAAepiB,EAAMjrD,GAAO2pH,gBAAiB14C,GACjF,EAKOw4C,EAAAA,UAAAA,MAAP,WACE,IAAMx+D,EAAOl4F,KAAK6N,QAAQqqF,KAC1BA,EAAKnjE,KAAKkY,GAAOqxE,aAAchE,GAAAA,SAAepiB,EAAMjrD,GAAOqxE,aAAc,CAAC,IAC1EpnG,EAAAA,UAAM6gB,MAAK,WACXmgE,EAAKnjE,KAAKkY,GAAOgyE,YAAa3E,GAAAA,SAAepiB,EAAMjrD,GAAOgyE,YAAa,CAAC,GAC1E,EAEUy3C,EAAAA,UAAAA,iBAAV,SAA2BnxJ,EAAqBgtE,EAAiB8iF,GAC/DU,GAAeV,GAAa,SAAC9nH,GAAO,OAAAhoC,EAAShB,QAAQgpC,IAAO,CAAxB,GAA2BglC,EACjE,EACF,EAjCA,CAAoCyiF,IAmCpC,MG5CA,0E,OACYj+I,EAAAA,UAAoB,S,CAoBhC,QArBqCK,EAAAA,EAAAA,IAAAA,EAAAA,GAM5By/I,EAAAA,UAAAA,UAAP,WACE72J,KAAKwrH,UACP,EAEUqrC,EAAAA,UAAAA,gBAAV,SAA0B3uI,EAAkBqqD,GAC1C,IAAM2lB,EAAOl4F,KAAK6N,QAAQqqF,KACpB3yF,EAAWy4F,GAAY9F,GAC7B69D,GAAexwJ,GAAU,SAACgoC,GAAO,OAAArlB,IAAYqlB,CAAZ,GAAgBglC,EACnD,EAGOskF,EAAAA,UAAAA,MAAP,WACE,IAAM3+D,EAAOl4F,KAAK6N,QAAQqqF,KAC1B49D,GAAe59D,EACjB,EACF,EArBA,CAAqCw9D,IAuBrC,MC1BA,0E,OACY3+I,EAAAA,UAAoB,W,CAOhC,QARmCK,EAAAA,EAAAA,IAAAA,EAAAA,GAK1B0/I,EAAAA,UAAAA,SAAP,WACE92J,KAAKwrH,UACP,EACF,EARA,CAAmCwpC,IAUnC,MCTA,0E,OACYj+I,EAAAA,UAAoB,W,CAOhC,QARsCK,EAAAA,EAAAA,IAAAA,EAAAA,GAK7B2/I,EAAAA,UAAAA,SAAP,WACE/2J,KAAKwrH,UACP,EACF,EARA,CAAsC0oC,IAUtC,MCXA,0E,OACYn9I,EAAAA,UAAoB,W,CAOhC,QARoCK,EAAAA,EAAAA,IAAAA,EAAAA,GAK3B4/I,EAAAA,UAAAA,SAAP,WACEh3J,KAAKwrH,UACP,EACF,EARA,CAAoCkqC,IAUpC,MCEA,0E,OACY3+I,EAAAA,UAAoB,GACpBA,EAAAA,iBAAmB,G,CAwJ/B,QA1JwBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKZ6/I,EAAAA,UAAAA,mBAAV,WACE,IAAMniI,EAAiBqoE,GAAoBn9F,KAAK6N,SAC5C0kD,EAAoB,KAOxB,OANI+qC,GAAOxoE,KACTy9B,EAAO,CACL3vD,KAAMkyB,EAAelyB,KACrB6wJ,KAAM3+H,EAAemxC,YAGlB1T,CACT,EAEU0kG,EAAAA,UAAAA,mBAAV,sBACQ/+D,EAAOl4F,KAAK6N,QAAQqqF,KACpB6H,EAAahB,GAAc7G,GAC3B1yF,EAAM,GAMZ,OALAF,EAAKy6F,GAAY,SAAC95B,GACZA,EAAUq3B,UAAYvmF,EAAKmgJ,uBAAuBjxF,IACpDzgE,EAAIb,KAAKshE,EAEb,IACOzgE,CACT,EAGUyxJ,EAAAA,UAAAA,SAAV,SAAmBxD,EAAa7wJ,GAC9B,OAAO6wJ,EAAKtgF,SAASvwE,EAAM5C,KAAKu+F,UAClC,EAGU04D,EAAAA,UAAAA,wBAAV,sBACQl3D,EAAa//F,KAAKm3J,qBACxB7xJ,EAAKy6F,GAAY,SAAC95B,GAChBA,EAAUmxF,gBAAgBrgJ,EAAKwnF,UACjC,GACF,EAGU04D,EAAAA,UAAAA,uBAAV,SAAiChxF,GAC/B,IAAMpe,EAAQoe,EAAU13D,IAAI,SAC5B,IAAKs5C,EACH,OAAO,EAET,GAAI7nD,KAAKiX,KAAOjX,KAAKiX,IAAIogJ,eAAgB,CACvC,IAAM/iI,EAAO2xC,EAAU13D,IAAI,QAE3B,IAA+C,IAA3CvO,KAAKiX,IAAIogJ,eAAe9yJ,QAAQ+vB,GAClC,OAAO,C,CAGX,IAAM4jE,EAAOl4F,KAAK6N,QAAQqqF,KACpBprE,EAAQ2yE,GAAgBvH,EAAMrwC,GACpC,OAAO/6B,GAASA,EAAMm7B,UACxB,EAEQgvG,EAAAA,UAAAA,oBAAR,SAA4Br0J,EAAgB6wJ,GAC1C,IAAM6D,EAAet3J,KAAKu3J,iBAC1B,GAAID,EAAap0J,OAAQ,CACvB,IAAMs0J,EAAeF,EAAa9yJ,QAAO,SAACtD,GACxC,OAAOuyJ,EAAKtgF,SAASvwE,EAAM1B,EAC7B,IACA,OAA+B,IAAxBs2J,EAAat0J,M,CAEtB,OAAO,CACT,EAGQ+zJ,EAAAA,UAAAA,kBAAR,SAA0BhxF,EAAW/9C,EAAkBqqD,GACrD,IAAM1qB,EAAQoe,EAAU13D,IAAI,SACtB2pF,EAAOl4F,KAAK6N,QAAQqqF,KACpBprE,EAAQ2yE,GAAgBvH,EAAMrwC,GAC9B/mD,EAAQu9F,GAAgBn2E,EAAS2/B,GACjC12C,EAAO2b,EAAMi+B,QAAQjqD,GAC3Bd,KAAKy3J,cAAcxxF,EAAW90D,EAAMohE,EACtC,EAGU0kF,EAAAA,UAAAA,eAAV,SAAyB1kF,GAAzB,WACQrqD,EAAUg1E,GAAkBl9F,KAAK6N,SACvC,GAAIqa,EAAS,CAEX,IAAM63E,EAAa//F,KAAKm3J,qBACxB7xJ,EAAKy6F,GAAY,SAAC95B,GAChBlvD,EAAK88I,kBAAkB5tF,EAAW/9C,EAASqqD,EAC7C,G,KACK,CAEL,IAAMz9C,EAAiBqoE,GAAoBn9F,KAAK6N,SAChD,GAAIyvF,GAAOxoE,GAAiB,CAClB,IAAAlyB,EAAoBkyB,EAAc,KAA5BmxC,EAAcnxC,EAAc,UACtC90B,KAAKk3J,uBAAuBjxF,IAAcjmE,KAAK03J,oBAAoB90J,EAAMqjE,IAC3EjmE,KAAKizE,aAAahN,EAAWrjE,EAAM2vE,E,EAI3C,EAGU0kF,EAAAA,UAAAA,cAAV,SAAwBxD,EAAa7yJ,EAAc2xE,GAAnD,WACQM,EAAQ4gF,EAAKvgF,WACnB5tE,EAAKutE,GAAO,SAACjwE,GACPA,EAAKhC,OAASA,GAChBmW,EAAKk8D,aAAawgF,EAAM7wJ,EAAM2vE,EAElC,GACF,EAGU0kF,EAAAA,UAAAA,aAAV,SAAuBxD,EAAa7wJ,EAAgB2vE,GAClDkhF,EAAKxgF,aAAarwE,EAAM5C,KAAKu+F,UAAWhsB,EAC1C,EAKO0kF,EAAAA,UAAAA,SAAP,WACEj3J,KAAKozJ,gBAAe,EACtB,EAKO6D,EAAAA,UAAAA,MAAP,WACEj3J,KAAKozJ,gBAAe,EACtB,EAKO6D,EAAAA,UAAAA,OAAP,WACE,IAAMU,EAAc33J,KAAK43J,qBACzB,GAAID,GAAeA,EAAY/0J,KAAM,CAC3B,IAAA6wJ,EAAekE,EAAW,KAApB/0J,EAAS+0J,EAAW,KAC5BplF,EAASvyE,KAAKmzE,SAASsgF,EAAM7wJ,GACnC5C,KAAKizE,aAAawgF,EAAM7wJ,GAAO2vE,E,CAEnC,EAKO0kF,EAAAA,UAAAA,MAAP,WACE,IAAMU,EAAc33J,KAAK43J,qBACrBD,EACFA,EAAYlE,KAAK2D,gBAAgBp3J,KAAKu+F,WAEtCv+F,KAAK63J,yBAET,EACF,EA1JA,CAAwB/8D,IA4JxB,MCvKA,0E,OACY/jF,EAAAA,UAAoB,S,CAOhC,QARyBK,EAAAA,EAAAA,IAAAA,EAAAA,GAKhB0gJ,EAAAA,UAAAA,OAAP,WACE93J,KAAKwrH,UACP,EACF,EARA,CAAyByrC,IAUzB,MCdMrB,GAAkB,WAClBC,GAAgB,SAOhB,SAAUkC,GAAUtE,GACxB,IAAM5gF,EAAQ4gF,EAAKvgF,WACnB5tE,EAAKutE,GAAO,SAACjwE,GACP6wJ,EAAKtgF,SAASvwE,EAAMizJ,KACtBpC,EAAKxgF,aAAarwE,EAAMizJ,IAAe,GAErCpC,EAAKtgF,SAASvwE,EAAMgzJ,KACtBnC,EAAKxgF,aAAarwE,EAAMgzJ,IAAiB,EAE7C,GACF,CCjBA,IAAMA,GAAkB,WAClBC,GAAgB,SAQtB,0E,OACY9+I,EAAAA,UAAoB8+I,GACpB9+I,EAAAA,iBAAmB,CAAC,a,CA2EhC,QA7E4BK,EAAAA,EAAAA,IAAAA,EAAAA,GAIhB4gJ,EAAAA,UAAAA,cAAV,SAAwBvE,EAAa7yJ,EAAc2xE,GACjDvyE,KAAK+1J,eAAetC,GAAM,SAAC7wJ,GAAS,OAAAA,EAAKhC,OAASA,CAAd,GAAoB2xE,EAC1D,EAGUylF,EAAAA,UAAAA,aAAV,SAAuBvE,EAAa7wJ,EAAgB2vE,GACpCkhF,EAAKvgF,WACnBlzE,KAAK+1J,eAAetC,GAAM,SAAClmH,GAAO,OAAAA,IAAO3qC,CAAP,GAAa2vE,EACjD,EAGQylF,EAAAA,UAAAA,eAAR,SAAuBvE,EAAaj9I,EAAyB+7D,GAC3D,IAAMM,EAAQ4gF,EAAKvgF,WACnB,GAAIX,EAEFjtE,EAAKutE,GAAO,SAACjwE,GACP4T,EAAS5T,IACP6wJ,EAAKtgF,SAASvwE,EAAMgzJ,KACtBnC,EAAKxgF,aAAarwE,EAAMgzJ,IAAiB,GAE3CnC,EAAKxgF,aAAarwE,EAAMizJ,IAAe,IAC7BpC,EAAKtgF,SAASvwE,EAAMizJ,KAC9BpC,EAAKxgF,aAAarwE,EAAMgzJ,IAAiB,EAE7C,QACK,CACL,IAAMqC,EAAcxE,EAAKzgF,gBAAgB6iF,IACrCQ,GAAY,EAEhB/wJ,EAAK2yJ,GAAa,SAACr1J,GACjB,IAAK4T,EAAS5T,GAEZ,OADAyzJ,GAAY,GACL,CAEX,IACIA,EACFr2J,KAAK+3B,QAILzyB,EAAKutE,GAAO,SAACjwE,GACP4T,EAAS5T,KACP6wJ,EAAKtgF,SAASvwE,EAAMizJ,KACtBpC,EAAKxgF,aAAarwE,EAAMizJ,IAAe,GAEzCpC,EAAKxgF,aAAarwE,EAAMgzJ,IAAiB,GAE7C,G,CAGN,EAKOoC,EAAAA,UAAAA,UAAP,WACEh4J,KAAKwrH,UACP,EAGOwsC,EAAAA,UAAAA,MAAP,WACE,IAAML,EAAc33J,KAAK43J,qBACzB,GAAID,EACFI,GAAUJ,EAAYlE,UACjB,CAEL,IAAM1zD,EAAa//F,KAAKm3J,qBACxB7xJ,EAAKy6F,GAAY,SAAC95B,GAChBA,EAAUmxF,gBAAgBvB,IAC1B5vF,EAAUmxF,gBAAgBxB,GAC5B,G,CAEJ,EACF,EA7EA,CAA4BqB,IA+E5B,MCtFA,0E,OACYlgJ,EAAAA,UAAoB,W,CAIhC,QAL2BK,EAAAA,EAAAA,IAAAA,EAAAA,GAElB8gJ,EAAAA,UAAAA,SAAP,WACEl4J,KAAKwrH,UACP,EACF,EALA,CAA2ByrC,IAO3B,MCPA,0E,OACYlgJ,EAAAA,UAAoB,Y,CAOhC,QAR4BK,EAAAA,EAAAA,IAAAA,EAAAA,GAKnB+gJ,EAAAA,UAAAA,UAAP,WACEn4J,KAAKwrH,UACP,EACF,EARA,CAA4ByrC,IAU5B,MCZMmB,GAAmB,YACnBC,GAAiB,UAUvB,0E,OACYthJ,EAAAA,UAAoBshJ,G,CAiEhC,QAlE0BjhJ,EAAAA,EAAAA,IAAAA,EAAAA,GAIdkhJ,EAAAA,UAAAA,aAAV,SAAuB7E,EAAa7wJ,EAAgB2vE,GAClDvyE,KAAKu4J,aAAa9E,GAAM,SAAClmH,GAAO,OAAAA,IAAO3qC,CAAP,GAAa2vE,EAC/C,EAGQ+lF,EAAAA,UAAAA,aAAR,SAAqB7E,EAAaj9I,EAAyB+7D,GACzD,IAAMM,EAAQ4gF,EAAKvgF,WACfX,GAEFjtE,EAAKutE,GAAO,SAACjwE,GACP4T,EAAS5T,IACP6wJ,EAAKtgF,SAASvwE,EAAMw1J,KACtB3E,EAAKxgF,aAAarwE,EAAMw1J,IAAkB,GAE5C3E,EAAKxgF,aAAarwE,EAAMy1J,IAAgB,IAC9B5E,EAAKtgF,SAASvwE,EAAMy1J,KAC9B5E,EAAKxgF,aAAarwE,EAAMw1J,IAAkB,EAE9C,GAEJ,EAQOE,EAAAA,UAAAA,OAAP,WACE,IAAMX,EAAc33J,KAAK43J,qBACzB,GAAID,GAAeA,EAAY/0J,KAAM,CAC3B,MAAe+0J,EAAW,KAApB/0J,EAAS+0J,EAAW,KAG5Ba,GAAcpvJ,GAAKqvJ,EAAKvlF,YAAY,SAAC/6D,GAAM,SAAKg7D,SAASh7D,EAAGigJ,GAAjB,IAG7CI,GAAcC,EAAKtlF,SAASvwE,EAAMw1J,IACpCp4J,KAAKizE,aAAawlF,EAAM71J,GAAM,GAE9B5C,KAAK+nH,O,CAGX,EAKOuwC,EAAAA,UAAAA,QAAP,WACEt4J,KAAKwrH,UACP,EAKO8sC,EAAAA,UAAAA,MAAP,WACE,IAAMv4D,EAAa//F,KAAKm3J,qBACxB7xJ,EAAKy6F,GAAY,SAAC95B,GAChBA,EAAUmxF,gBAAgBiB,IAC1BpyF,EAAUmxF,gBAAgBgB,GAC5B,GACF,EACF,EAlEA,CAA0BnB,IAoE1B,MCjFMmB,GAAmB,YAEzB,4B,8CA6BA,QA7BwBhhJ,EAAAA,EAAAA,IAAAA,EAAAA,GACfshJ,EAAAA,UAAAA,OAAP,W,oBACQf,EAAc33J,KAAK43J,qBACzB,GAAe,OAAXD,QAAW,IAAXA,OAAW,EAAXA,EAAa/0J,KAAM,CACb,MAA4B+0J,EAAW,KAA3BgB,EAAgBhB,EAAW,KACzC9kF,EAAQ4lF,EAAKvlF,WACb0lF,EAAe/lF,EAAMruE,QAAO,SAAC2T,GAAM,OAACsgJ,EAAKtlF,SAASh7D,EAAGigJ,GAAlB,IACnCS,EAAiBhmF,EAAMruE,QAAO,SAAC2T,GAAM,SAAKg7D,SAASh7D,EAAGigJ,GAAjB,IACrCU,EAAcF,EAAa,GAQjC,GAAI/lF,EAAM3vE,SAAW01J,EAAa11J,O,IAChC,IAAmB,eAAA2vE,GAAK,+BAAnB,IAAMjwE,EAAI,QAAW61J,EAAKxlF,aAAarwE,EAAMw1J,GAAkBx1J,EAAK0wB,KAAOqlI,EAAYrlI,G,wGACvF,GAAIu/C,EAAM3vE,OAAS21J,EAAe31J,SAAW,EAClD,GAAI41J,EAAYxlI,KAAOqlI,EAAYrlI,G,IACjC,IAAmB,eAAAu/C,GAAK,+BAAbjwE,EAAI,QAAW61J,EAAKxlF,aAAarwE,EAAMw1J,IAAkB,E,4GAEpE,IAAmB,eAAAvlF,GAAK,+BAAbjwE,EAAI,QAAW61J,EAAKxlF,aAAarwE,EAAMw1J,GAAkBx1J,EAAK0wB,KAAOqlI,EAAYrlI,G,4GAG9F,IAAmB,eAAAu/C,GAAK,+BAAbjwE,EAAI,QAAW61J,EAAKxlF,aAAarwE,EAAMw1J,GAAkBx1J,EAAK0wB,KAAOqlI,EAAYrlI,G,oGAGlG,EACF,EA7BA,CAAwB2jI,IA+BxB,MC7BM8B,GAAc,YACdC,GAAS,mBAEf,0E,OAiBUjiJ,EAAAA,UAAoB,E,CAmG9B,QApHwBK,EAAAA,EAAAA,IAAAA,EAAAA,GACf6hJ,EAAAA,UAAAA,KAAP,WACE,IAAMtB,EAAc33J,KAAK43J,qBACzB,GAAe,OAAXD,QAAW,IAAXA,OAAW,EAAXA,EAAa/0J,KAAM,CACb,IAAA6wJ,EAAekE,EAAW,KAApB/0J,EAAS+0J,EAAW,KAClClE,EAAKxgF,aAAarwE,EAAMm2J,IAAa,E,CAEzC,EAEOE,EAAAA,UAAAA,KAAP,WACE,IAAMtB,EAAc33J,KAAK43J,qBACzB,GAAe,OAAXD,QAAW,IAAXA,OAAW,EAAXA,EAAa/0J,KAAM,CACb,IAAA6wJ,EAAekE,EAAW,KAApB/0J,EAAS+0J,EAAW,KAClClE,EAAKxgF,aAAarwE,EAAMm2J,IAAa,E,CAEzC,EAMOE,EAAAA,UAAAA,QAAP,WACE/hJ,EAAAA,UAAMua,QAAO,WACbzxB,KAAKotG,SAAWptG,KAAKotG,QAAQ37E,SAC/B,EAMOwnI,EAAAA,UAAAA,QAAP,WACE,IAAMprJ,EAAU7N,KAAK6N,QACf2pB,EAAK3pB,EAAQuZ,MACbqrI,EAAgBzyJ,KAAKsnB,UACrBA,GAAa,IAAI/W,KAEjBjO,EAAStC,KAAK6N,QAAQuZ,MAAM9kB,OAClC,GAAIglB,EAAYmrI,EAAgB,IAA6B,sBAAvBnwJ,EAAOiM,IAAI,QAAiC,CAChF,IAAMokJ,EAAS3yJ,KAAKmkE,SACdyuF,EAAS,CAAEh6I,EAAG4e,EAAG5e,EAAGC,EAAG2e,EAAG3e,GAChC7Y,KAAKsnB,UAAYA,EACjBtnB,KAAKmkE,SAAWyuF,EACXD,GAAW1jJ,GAAQ0jJ,EAAQC,IAC9B5yJ,KAAK2gH,YAAYiyC,E,CAGvB,EAMOqG,EAAAA,UAAAA,QAAP,WACEj5J,KAAK4gH,cACL5gH,KAAKmkE,SAAW,IAClB,EAEU80F,EAAAA,UAAAA,YAAV,SAAsBrG,GACpB,IAAM/kJ,EAAU7N,KAAK6N,QACf2pB,EAAK3pB,EAAQuZ,MACb9kB,EAASk1B,EAAGl1B,OAElB,GAAIA,GAAUA,EAAOiM,IAAI,OAAQ,CAC1BvO,KAAKotG,SACRptG,KAAKsnH,gBAGD,MAA6Bz5G,EAAQqqF,KAAKlmE,YAAYzjB,IAAI,MAAM2iC,wBAA3DP,EAAO,IAAKE,EAAO,IAC9B7wC,KAAKotG,QAAQjhE,QAAO,kBAClBsc,MAAOnmD,EAAOiM,IAAI,QACfqkJ,GAAM,CACTh6I,EAAGg6I,EAAOh6I,EAAI+3B,EACd93B,EAAG+5I,EAAO/5I,EAAIg4B,KAEhB7wC,KAAKotG,QAAQppC,M,CAEjB,EAEUi1F,EAAAA,UAAAA,YAAV,WACEj5J,KAAKotG,SAAWptG,KAAKotG,QAAQnpC,MAC/B,EAEQg1F,EAAAA,UAAAA,cAAR,W,MACQ/F,GAAa,KACjB/oI,EAAC0jF,IAAoC,CACnC/sC,QAAS,UACT5yC,UAAW,wBACXq8C,WAAY,mBACZ7lC,MAAO,OACP,gBAAiB,MAEjB,UAAW,KAEbva,EAAC0jF,IAAgC,CAC/B,YAAa,OACb,cAAe,OACf,gBAAiB,EACjB,aAAc,aACf,GAECp8F,SAAS4+B,eAAe2oH,KAC1BvnJ,SAASk3C,KAAK3zC,YAAYvD,SAAS4+B,eAAe2oH,KAEpD,IAAM5rD,EAAU,IAAI3a,GAAY,CAC9Bt8E,OAAQ1E,SAASk3C,KAEjByY,OAAQ,KACRjqD,SAAS,EACT2yE,WAAY,KACZzZ,UAAW6iF,EACXgG,YAAaF,KAEf5rD,EAAQ/kG,OACR+kG,EAAQlpC,YAAW,GACnBlkE,KAAKotG,QAAUA,CACjB,EACF,EApHA,CAAwB6pD,IAsHxB,MCvHA,0E,OAEYlgJ,EAAAA,UAAY,KAEZA,EAAAA,OAAS,GAETA,EAAAA,UAAW,EAEXA,EAAAA,QAAS,EACTA,EAAAA,aAAe,KAEfA,EAAAA,UAAY,O,CAgKxB,QA3KgCK,EAAAA,EAAAA,IAAAA,EAAAA,GAapB+hJ,EAAAA,UAAAA,gBAAV,WACE,IAAM/xI,EAAQpnB,KAAK6N,QAAQuZ,MAC3B,MAAO,CACLxO,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,EAEb,EAEUsgJ,EAAAA,UAAAA,UAAV,SAAoBn0J,GAClB,IAAM2vB,EAAY,eAAQ3vB,GACpBkzF,EAAOl4F,KAAK6N,QAAQqqF,KACpB9wE,EAAQpnB,KAAK6N,QAAQuZ,MAC3B8wE,EAAKnjE,KAAKJ,EAAW,CACnBryB,OAAQtC,KAAK+8F,UACbj1E,MAAO9nB,KAAK+8F,UACZx4E,OAAQvkB,KAAKukB,OACb3L,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,GAEb,EAGQsgJ,EAAAA,UAAAA,WAAR,WACE,IAAMjhE,EAAOl4F,KAAK6N,QAAQqqF,KACpBkhE,EAAYp5J,KAAKq5J,eACjBt8D,EAAY7E,EAAKa,gBAAgBzyB,SAAS,CAC9CthE,KAAMhF,KAAKoyB,UACXxxB,KAAM,OACN0lF,WAAW,EACXlmF,OAAO,SACL45D,KAAM,UACNzpC,QAAS,IACN6oI,KAGP,OAAOr8D,CACT,EAKUo8D,EAAAA,UAAAA,YAAV,WACE,MAAO,EACT,EAKOA,EAAAA,UAAAA,KAAP,WACMn5J,KAAK+8F,YACP/8F,KAAK+8F,UAAU/4B,OACfhkE,KAAKs5J,UAAU,QAEnB,EAKOH,EAAAA,UAAAA,MAAP,SAAah5D,GACXngG,KAAKu5J,UAAW,EAEhBv5J,KAAKw5J,QAAS,EACdx5J,KAAKukB,OAAS,CAACvkB,KAAK4/F,mBACf5/F,KAAK+8F,YACR/8F,KAAK+8F,UAAY/8F,KAAKy5J,aAEtBz5J,KAAK+8F,UAAUl0F,IAAI,WAAW,IAEhC7I,KAAK05J,WAAc,OAAHv5D,QAAG,IAAHA,OAAG,EAAHA,EAAKw5D,WACrB35J,KAAKs5J,UAAU,QACjB,EAKOH,EAAAA,UAAAA,UAAP,WACEn5J,KAAKw5J,QAAS,EACdx5J,KAAK45J,aAAe55J,KAAK4/F,iBAC3B,EAIOu5D,EAAAA,UAAAA,KAAP,WACE,GAAKn5J,KAAKw5J,QAAWx5J,KAAK+8F,UAA1B,CAGA,IAAM5/C,EAAen9C,KAAK4/F,kBACpBg6D,EAAe55J,KAAK45J,aACpBpqH,EAAK2N,EAAavkC,EAAIghJ,EAAahhJ,EACnC62B,EAAK0N,EAAatkC,EAAI+gJ,EAAa/gJ,EACnC0L,EAASvkB,KAAKukB,OACpBjf,EAAKif,GAAQ,SAAC+pB,GACZA,EAAM11B,GAAK42B,EACXlB,EAAMz1B,GAAK42B,CACb,IACAzvC,KAAK05J,aACL15J,KAAKs5J,UAAU,UACft5J,KAAK45J,aAAez8G,C,CACtB,EAEUg8G,EAAAA,UAAAA,WAAV,SAAqBQ,GACnB,IAAMv5J,EAAQ0O,GAAQ,CAAC,EAAG9O,KAAKq5J,eAAgBM,GAC/C35J,KAAK+8F,UAAUptE,KAAKvvB,EACtB,EAKO+4J,EAAAA,UAAAA,QAAP,WACEn5J,KAAKw5J,QAAS,EACdx5J,KAAK45J,aAAe,IACtB,EAKOT,EAAAA,UAAAA,IAAP,WACEn5J,KAAKu5J,UAAW,EAChBv5J,KAAKs5J,UAAU,OACXt5J,KAAK+8F,WACP/8F,KAAK+8F,UAAUl0F,IAAI,WAAW,EAElC,EAKOswJ,EAAAA,UAAAA,KAAP,WACMn5J,KAAK+8F,YACP/8F,KAAK+8F,UAAU94B,OACfjkE,KAAKs5J,UAAU,QAEnB,EAKOH,EAAAA,UAAAA,OAAP,WAEMn5J,KAAKu5J,UAAYv5J,KAAK+8F,YACxB/8F,KAAKukB,OAAO5f,KAAK3E,KAAK4/F,mBACtB5/F,KAAK05J,aACL15J,KAAKs5J,UAAU,UAEnB,EAKOH,EAAAA,UAAAA,QAAP,WACEn5J,KAAKukB,OAAS,GACVvkB,KAAK+8F,WACP/8F,KAAK+8F,UAAUz0F,SAEjBtI,KAAK+8F,UAAY,KACjB/8F,KAAK45J,aAAe,KACpB1iJ,EAAAA,UAAMua,QAAO,UACf,EACF,EA3KA,CAAgCqpE,IA6KhC,MC7KA,0E,OACY/jF,EAAAA,UAAY,S,CAmBxB,QApByBK,EAAAA,EAAAA,IAAAA,EAAAA,GAEbyiJ,EAAAA,UAAAA,aAAV,WACE,IAAMt1I,EAASvkB,KAAKukB,OACd44B,EAAej1C,GAAKlI,KAAKukB,QAC3B5b,EAAI,EACJiQ,EAAI,EACJC,EAAI,EACR,GAAI0L,EAAOrhB,OAAQ,CACjB,IAAMy4C,EAAQp3B,EAAO,GACrB5b,EAAIokB,GAAS4uB,EAAOwB,GAAgB,EACpCvkC,GAAKukC,EAAavkC,EAAI+iC,EAAM/iC,GAAK,EACjCC,GAAKskC,EAAatkC,EAAI8iC,EAAM9iC,GAAK,C,CAEnC,MAAO,CACLD,EAAC,EACDC,EAAC,EACDlQ,EAAC,EAEL,EACF,EApBA,CAAyBwwJ,IAsBzB,MCtBA,0E,OACYpiJ,EAAAA,UAAY,O,CAsBxB,QAvBuBK,EAAAA,EAAAA,IAAAA,EAAAA,GAEX0iJ,EAAAA,UAAAA,UAAV,WACE,IAAMv1I,EAASvkB,KAAKukB,OACpB,MAAO,CACLxK,MAAO9Q,GAAKsb,GACZ7B,IAAKxa,GAAKqc,GAEd,EAEUu1I,EAAAA,UAAAA,aAAV,WACQ,MAAiB95J,KAAK0kJ,YAApB3qI,EAAK,QAAE2I,EAAG,MACZ9J,EAAIzR,KAAKE,IAAI0S,EAAMnB,EAAG8J,EAAI9J,GAC1BC,EAAI1R,KAAKE,IAAI0S,EAAMlB,EAAG6J,EAAI7J,GAC1B9G,EAAQ5K,KAAK0D,IAAI6X,EAAI9J,EAAImB,EAAMnB,GAC/BlD,EAASvO,KAAK0D,IAAI6X,EAAI7J,EAAIkB,EAAMlB,GACtC,MAAO,CACLD,EAAC,EACDC,EAAC,EACD9G,MAAK,EACL2D,OAAM,EAEV,EACF,EAvBA,CAAuByjJ,IAyBvB,MC7BA,SAASY,GAAWzrH,GAClBA,EAAM11B,EAAI5O,GAAMskC,EAAM11B,EAAG,EAAG,GAC5B01B,EAAMz1B,EAAI7O,GAAMskC,EAAMz1B,EAAG,EAAG,EAC9B,CAKA,IC2BKo0B,GD3BL,0E,OACYl2B,EAAAA,IAAM,IACNA,EAAAA,QAAS,E,CAwCrB,QA1CsBK,EAAAA,EAAAA,IAAAA,EAAAA,GAGV4iJ,EAAAA,UAAAA,UAAV,WACE,IAAIjgJ,EAAQ,KACR2I,EAAM,KACJ6B,EAASvkB,KAAKukB,OACdw9B,EAAM/hD,KAAK+hD,IACX65C,EAAQ57F,KAAK6N,QAAQqqF,KAAKl4B,gBAC1Bi6F,EAAcr+D,EAAM7wE,OAAO9hB,GAAKsb,IAChC21I,EAAYt+D,EAAM7wE,OAAO7iB,GAAKqc,IA2BpC,OA1BIvkB,KAAKm6J,SAEPJ,GAAWE,GACXF,GAAWG,IAED,MAARn4G,GAEFhoC,EAAQ6hF,EAAM3G,QAAQ,CACpBr8E,EAAGqhJ,EAAYrhJ,EACfC,EAAG,IAEL6J,EAAMk5E,EAAM3G,QAAQ,CAClBr8E,EAAGshJ,EAAUthJ,EACbC,EAAG,MAILkB,EAAQ6hF,EAAM3G,QAAQ,CACpBr8E,EAAG,EACHC,EAAGohJ,EAAYphJ,IAEjB6J,EAAMk5E,EAAM3G,QAAQ,CAClBr8E,EAAG,EACHC,EAAGqhJ,EAAUrhJ,KAGV,CACLkB,MAAK,EACL2I,IAAG,EAEP,EACF,EA1CA,CAAsBo3I,IA4CtB,MEjDA,4B,8CA8BA,QA9BuB1iJ,EAAAA,EAAAA,IAAAA,EAAAA,GAEXgjJ,EAAAA,UAAAA,YAAV,WACE,IAAM71I,EAASvkB,KAAKukB,OACdpU,EAAO,GAWb,OAVIoU,EAAOrhB,SACToC,EAAKif,GAAQ,SAAC+pB,EAAOzrC,GACL,IAAVA,EACFsN,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,IAE/B1I,EAAKxL,KAAK,CAAC,IAAK2pC,EAAM11B,EAAG01B,EAAMz1B,GAEnC,IACA1I,EAAKxL,KAAK,CAAC,IAAK4f,EAAO,GAAG3L,EAAG2L,EAAO,GAAG1L,KAElC1I,CACT,EAEUiqJ,EAAAA,UAAAA,aAAV,WACE,MAAO,CACLjqJ,KAAMnQ,KAAKi9F,cAEf,EAKOm9D,EAAAA,UAAAA,SAAP,WACEp6J,KAAKq6J,QACP,EACF,EA9BA,CAAuBlB,IAgCvB,MChCA,4B,8CAMA,QAN6B/hJ,EAAAA,EAAAA,IAAAA,EAAAA,GAEjBkjJ,EAAAA,UAAAA,YAAV,WACE,IAAM/1I,EAASvkB,KAAKukB,OACpB,OAAO06E,GAAU16E,GAAQ,EAC3B,EACF,EANA,CAA6B61I,IAQ7B,MCLA,4B,8CAoHA,QApH2BhjJ,EAAAA,EAAAA,IAAAA,EAAAA,GACjBmjJ,EAAAA,UAAAA,UAAR,SAAkBxrH,GAChB,IAAMmpD,EAAOl4F,KAAK6N,QAAQqqF,KAC1BA,EAAKlmE,YAAYwoI,UAAUzrH,EAC7B,EAKOwrH,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,UACjB,EAGOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,UACjB,EAEOD,EAAAA,UAAAA,KAAP,WACEv6J,KAAKw6J,UAAU,OACjB,EAEOD,EAAAA,UAAAA,UAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAEOD,EAAAA,UAAAA,KAAP,WACEv6J,KAAKw6J,UAAU,OACjB,EAGOD,EAAAA,UAAAA,KAAP,WACEv6J,KAAKw6J,UAAU,OACjB,EAGOD,EAAAA,UAAAA,KAAP,WACEv6J,KAAKw6J,UAAU,OACjB,EAKOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,WACjB,EAKOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,WACjB,EAKOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,WACjB,EAKOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,WACjB,EAIOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAIOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAIOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAIOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAKOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAIOD,EAAAA,UAAAA,SAAP,WACEv6J,KAAKw6J,UAAU,YACjB,EAIOD,EAAAA,UAAAA,OAAP,WACEv6J,KAAKw6J,UAAU,UACjB,EAIOD,EAAAA,UAAAA,QAAP,WACEv6J,KAAKw6J,UAAU,WACjB,EACF,EApHA,CAA2B1/D,IAsH3B,MCvHA,4B,8CA+CA,QA/CyB1jF,EAAAA,EAAAA,IAAAA,EAAAA,GACfqjJ,EAAAA,UAAAA,WAAR,SAAmBviE,EAAYrwC,EAAOrjD,GAAtC,WAEM0zF,EAAKuH,gBAAgB53C,IACvBqwC,EAAK1zF,OAAOqjD,EAAOrjD,GAEjB0zF,EAAKgG,OAAShG,EAAKgG,MAAMh7F,QAC3BoC,EAAK4yF,EAAKgG,OAAO,SAACC,GAChBpnF,EAAK2jJ,WAAWv8D,EAASt2C,EAAOrjD,EAClC,GAEJ,EAIOi2J,EAAAA,UAAAA,OAAP,WACE,IAAM3lI,EAAiBqoE,GAAoBn9F,KAAK6N,SAChD,GAAIinB,EAAgB,CAClB,IAAMojE,EAAOl4F,KAAK6N,QAAQqqF,KAClBjyB,EAAcnxC,EAAc,UAC9B+yB,EAAQoe,EAAU13D,IAAI,SAE5B,GAAI+uF,GAAOxoE,IACT,GAAI+yB,EAAO,CACT,IAAM8yG,EAAiB10F,EAAU+M,gBAAgB,aAC3C4nF,EAAQn7D,GAAgBvH,EAAMrwC,GAC9BgzG,EAAkBF,EAAerrJ,KAAI,SAAC1M,GAAS,OAAAA,EAAKhC,IAAL,IACjDi6J,EAAM33J,OACRlD,KAAK06J,WAAWxiE,EAAMrwC,GAAO,SAAC/mD,GAC5B,IAAMqQ,EAAOypJ,EAAM7vG,QAAQjqD,GAC3B,OAAQ+5J,EAAMvvH,SAASn6B,EACzB,IAEAnR,KAAK06J,WAAWxiE,EAAMrwC,EAAO,MAE/BqwC,EAAKp4F,QAAO,E,OAET,GAAIy9F,GAASzoE,GAAiB,CACnC,IAAM4vB,EAAQuhB,EAAUrd,WAClB,WAAalE,EAAK,GAAjBgR,EAAG,KAAEE,EAAG,KACf51D,KAAK06J,WAAWxiE,EAAMrwC,GAAO,SAAC/mD,GAC5B,OAAOA,GAAS40D,GAAO50D,GAAS80D,CAClC,IACAsiC,EAAKp4F,QAAO,E,EAGlB,EACF,EA/CA,CAAyBg7F,IAiDzB,MJnDA,SAASggE,GAAUhuI,EAAci1B,EAAa3F,EAAeC,GAC3D,IAAIh1C,EAAMF,KAAKE,IAAI+0C,EAAO2F,GAAM1F,EAAO0F,IACnC36C,EAAMD,KAAKC,IAAIg1C,EAAO2F,GAAM1F,EAAO0F,IACjC,WAAuBj1B,EAAM43B,MAAK,GAAjCkH,EAAQ,KAAEC,EAAQ,KASzB,GAPIxkD,EAAMukD,IACRvkD,EAAMukD,GAEJxkD,EAAMykD,IACRzkD,EAAMykD,GAGJxkD,IAAQwkD,GAAYzkD,IAAQykD,EAC9B,OAAO,KAET,IAAM44B,EAAW33D,EAAM/B,OAAO1jB,GACxBu9E,EAAW93D,EAAM/B,OAAO3jB,GAC9B,GAAI0lB,EAAMm7B,WAAY,CACpB,IAAM8N,EAAWjpC,EAAMjoB,OAAON,QAAQkgF,GAChCqrE,EAAWhjI,EAAMjoB,OAAON,QAAQqgF,GAChC8oD,EAAM5gH,EAAMjoB,OAAO6G,MAAMqqD,EAAU+5F,EAAW,GACpD,OAAO,SAAChvJ,GACN,OAAO4sI,EAAIpiG,SAASxqC,EACtB,C,CAEA,OAAO,SAACA,GACN,OAAOA,GAAS2jF,GAAY3jF,GAAS8jF,CACvC,CAEJ,EAGA,SAAK33C,GACHA,EAAAA,UAAAA,0BACAA,EAAAA,SAAAA,qBACAA,EAAAA,iBAAAA,4BACAA,EAAAA,gBAAAA,2BACAA,EAAAA,gBAAAA,2BACAA,EAAAA,eAAAA,yBACD,EAPD,CAAKA,KAAAA,GAAM,KAeX,8E,OAMYl2B,EAAAA,KAAiB,CAAC,IAAK,KAEvBA,EAAAA,WAAoB,KAEtBA,EAAAA,WAAqB,E,CA0G/B,QApH0BK,EAAAA,EAAAA,IAAAA,EAAAA,GAahB2jJ,EAAAA,UAAAA,OAAR,SAAeh5G,GACb,OAAO/hD,KAAK0iD,KAAKpX,SAASyW,EAC5B,EAKOg5G,EAAAA,UAAAA,MAAP,WACE,IAAMltJ,EAAU7N,KAAK6N,QACrB7N,KAAKi1J,WAAY,EACjBj1J,KAAKu8C,WAAa1uC,EAAQ+xF,iBAC5B,EAKOm7D,EAAAA,UAAAA,OAAP,WACE,IAAIx+G,EACAY,EACJ,GAAIqgD,GAAOx9F,KAAK6N,SAAU,CACxB,IAAMkvF,EAAY/8F,KAAK6N,QAAQuZ,MAAM9kB,OAC/B0e,EAAO+7E,EAAUjmE,gBACvBylB,EAAa,CAAE3jC,EAAGoI,EAAKpI,EAAGC,EAAGmI,EAAKnI,GAClCskC,EAAe,CAAEvkC,EAAGoI,EAAKwV,KAAM3d,EAAGmI,EAAK0V,K,KAClC,CACL,IAAK12B,KAAKi1J,UAER,OAEF14G,EAAav8C,KAAKu8C,WAClBY,EAAen9C,KAAK6N,QAAQ+xF,iB,CAE9B,KAAIz4F,KAAK0D,IAAI0xC,EAAW3jC,EAAIukC,EAAavkC,GAAK,GAAKzR,KAAK0D,IAAI0xC,EAAW3jC,EAAIukC,EAAatkC,GAAK,GAA7F,CAIM,MAAkB7Y,KAAK6N,QAArBqqF,EAAI,OAAE9wE,EAAK,QACb82F,EAAU,CAAEhmB,KAAI,EAAE9wE,MAAK,EAAEs7B,KAAM1iD,KAAK0iD,MAC1Cw1C,EAAKnjE,KAAKkY,GAAO+tH,cAAe1gD,GAAAA,SAAepiB,EAAMjrD,GAAO+tH,cAAe98C,IAE3E,IAAMtiB,EAAQ1D,EAAKl4B,gBACbi7F,EAAgBr/D,EAAM7wE,OAAOoyB,GAC7B88G,EAAcr+D,EAAM7wE,OAAOwxB,GAEjC,GAAIv8C,KAAKk7J,OAAO,KAAM,CACpB,IAAMtlD,EAAS1d,EAAK2d,YACdrxG,EAASs2J,GAAUllD,EAAQ,IAAKqlD,EAAehB,GACrDj6J,KAAK06J,WAAWxiE,EAAM0d,EAAO/tD,MAAOrjD,E,CAGtC,GAAIxE,KAAKk7J,OAAO,KAAM,CACpB,IAAMnlD,EAAS7d,EAAKqsB,aAAa,GAC3B//G,EAASs2J,GAAU/kD,EAAQ,IAAKklD,EAAehB,GACrDj6J,KAAK06J,WAAWxiE,EAAM6d,EAAOluD,MAAOrjD,E,CAEtCxE,KAAKm7J,SAASjjE,EAAM,CAAE3yE,OAAQ0nB,GAAOmuH,SAErCljE,EAAKnjE,KAAKkY,GAAOouH,aAAc/gD,GAAAA,SAAepiB,EAAMjrD,GAAOouH,aAAcn9C,G,CAC3E,EAKO68C,EAAAA,UAAAA,IAAP,WACE/6J,KAAKi1J,WAAY,CACnB,EAKO8F,EAAAA,UAAAA,MAAP,WACE,IAAM7iE,EAAOl4F,KAAK6N,QAAQqqF,KAI1B,GAHAA,EAAKnjE,KAAKkY,GAAOquH,aAAchhD,GAAAA,SAAepiB,EAAMjrD,GAAOquH,aAAc,CAAC,IAE1Et7J,KAAKi1J,WAAY,EACbj1J,KAAKk7J,OAAO,KAAM,CACpB,IAAMtlD,EAAS1d,EAAK2d,YACpB71G,KAAK06J,WAAWxiE,EAAM0d,EAAO/tD,MAAO,K,CAEtC,GAAI7nD,KAAKk7J,OAAO,KAAM,CAEpB,IAAMnlD,EAAS7d,EAAKqsB,aAAa,GACjCvkH,KAAK06J,WAAWxiE,EAAM6d,EAAOluD,MAAO,K,CAEtC7nD,KAAKm7J,SAASjjE,EAAM,CAAE3yE,OAAQ0nB,GAAOsuH,QAErCrjE,EAAKnjE,KAAKkY,GAAOuuH,YAAalhD,GAAAA,SAAepiB,EAAMjrD,GAAOuuH,YAAa,CAAC,GAC1E,EAKUT,EAAAA,UAAAA,WAAV,SAAqB7iE,EAAYrwC,EAAerjD,GAC9C0zF,EAAK1zF,OAAOqjD,EAAOrjD,EACrB,EAMUu2J,EAAAA,UAAAA,SAAV,SAAmB7iE,EAAYgmB,GAC7BhmB,EAAKp4F,QAAO,EAAMo+G,EACpB,EACF,EApHA,CAA0BpjB,IAsH1B,MKjKA,4B,8CAwBA,QAxB4B1jF,EAAAA,EAAAA,IAAAA,EAAAA,GAOhBqkJ,EAAAA,UAAAA,WAAV,SAAqBvjE,EAAYrwC,EAAerjD,GAC9C,IAAM8iE,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACdA,EAAQt5F,OAAOqjD,EAAOrjD,EACxB,GACF,EAMUi3J,EAAAA,UAAAA,SAAV,SAAmBvjE,GACjB,IAAM5wB,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACdA,EAAQh+F,QAAO,EACjB,GACF,EACF,EAxBA,CAA4Bi7J,IA0B5B,MCrBA,4B,8CAqEA,QArE4B3jJ,EAAAA,EAAAA,IAAAA,EAAAA,GAInBskJ,EAAAA,UAAAA,OAAP,WACE,IAAM5mI,EAAiBqoE,GAAoBn9F,KAAK6N,SAC1CqqF,EAAOl4F,KAAK6N,QAAQqqF,KACpB3yF,EAAWy4F,GAAY9F,GAC7B,GAAIsF,GAAOx9F,KAAK6N,SAAU,CACxB,IAAM8tJ,EAAel+D,GAAkBz9F,KAAK6N,QAAS,IACjD8tJ,GACFr2J,EAAKC,GAAU,SAACgoC,GACVouH,EAAarwH,SAASiC,GACxBA,EAAGy2B,OAEHz2B,EAAG02B,MAEP,G,MAEG,GAAInvC,EAAgB,CACjB,IAAAmxC,EAAcnxC,EAAc,UAC9BgmG,EAAQ70D,EAAU13D,IAAI,SAE5B,GAAI+uF,GAAOxoE,IACT,GAAIgmG,EAAO,CACT,IAAM6/B,EAAiB10F,EAAU+M,gBAAgB,aAC3C4nF,EAAQn7D,GAAgBvH,EAAM4iC,GAC9B+/B,EAAQF,EAAerrJ,KAAI,SAAC1M,GAAS,OAAAA,EAAKhC,IAAL,IAE3C0E,EAAKC,GAAU,SAACgoC,GACd,IAAMzsC,EAAQu9F,GAAgB9wD,EAAIutF,GAC5B3pH,EAAOypJ,EAAM7vG,QAAQjqD,GACvB+5J,EAAMt2J,QAAQ4M,IAAS,EACzBo8B,EAAG02B,OAEH12B,EAAGy2B,MAEP,G,OAEG,GAAIu5B,GAASzoE,GAAiB,CACnC,IAAM4vB,EAAQuhB,EAAUrd,WAClB,WAAalE,EAAK,GAAjBgR,EAAG,KAAEE,EAAG,KACftwD,EAAKC,GAAU,SAACgoC,GACd,IAAMzsC,EAAQu9F,GAAgB9wD,EAAIutF,GAC9Bh6H,GAAS40D,GAAO50D,GAAS80D,EAC3BroB,EAAGy2B,OAEHz2B,EAAG02B,MAEP,G,EAGN,EAIOy3F,EAAAA,UAAAA,MAAP,WACE,IAAMn2J,EAAWy4F,GAAYh+F,KAAK6N,QAAQqqF,MAC1C5yF,EAAKC,GAAU,SAACgoC,GACdA,EAAGy2B,MACL,GACF,EAKO03F,EAAAA,UAAAA,MAAP,WACE17J,KAAK+3B,OACP,EACF,EArEA,CAA4B+iE,IAuE5B,MC/EA,0E,OACY/jF,EAAAA,UAAW,E,CAyEvB,QA1E4BK,EAAAA,EAAAA,IAAAA,EAAAA,GAKnBqkJ,EAAAA,UAAAA,OAAP,WAEMj+D,GAAOx9F,KAAK6N,WACV7N,KAAK47J,SACP57J,KAAK67J,iBAEL77J,KAAK87J,eAGX,EAEQL,EAAAA,UAAAA,eAAR,WACE,IAAMvjE,EAAOl4F,KAAK6N,QAAQqqF,KACpB6jE,EAAet+D,GAAkBz9F,KAAK6N,QAAS,IACrD,GAAKkuJ,EAAL,CAGA,IAAMv8D,EAAStH,EAAK2d,YAAYhuD,MAC1BnG,EAASw2C,EAAKqsB,aAAa,GAAG18D,MAC9B03C,EAAUw8D,EAAazsJ,KAAI,SAACi+B,GAChC,OAAOA,EAAGmxD,WAAW73F,IACvB,IACMygE,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACd,IAAMv4F,EAAWy4F,GAAYF,GAC7Bx4F,EAAKC,GAAU,SAACgoC,GACd,IAAMkV,EAASlV,EAAGmxD,WAAW73F,KAEzBy4F,GAAYC,EAAS98C,EAAQ+8C,EAAQ99C,GACvCnU,EAAGy2B,OAEHz2B,EAAG02B,MAEP,GACF,G,CACF,EAGQw3F,EAAAA,UAAAA,aAAR,sBACQvjE,EAAOl4F,KAAK6N,QAAQqqF,KACpB5wB,EAAW63B,GAAYjH,GAC7B5yF,EAAKgiE,GAAU,SAACw2B,GACd,IAAMi+D,EAAel+D,GAAuB9mF,EAAKlJ,QAASiwF,EAAS,IAC7Dv4F,EAAWy4F,GAAYF,GACzBi+D,GAEFz2J,EAAKC,GAAU,SAACgoC,GACVwuH,EAAazwH,SAASiC,GACxBA,EAAGy2B,OAEHz2B,EAAG02B,MAEP,GAEJ,GACF,EAKOw3F,EAAAA,UAAAA,MAAP,WACE,IAAMn0F,EAAW63B,GAAYn/F,KAAK6N,QAAQqqF,MAC1C5yF,EAAKgiE,GAAU,SAACw2B,GACd,IAAMv4F,EAAWy4F,GAAYF,GAC7Bx4F,EAAKC,GAAU,SAACgoC,GACdA,EAAGy2B,MACL,GACF,GACF,EACF,EA1EA,CAA4B82B,IA4E5B,MC9EMkhE,GAAgB,GAChBC,GAAc,EAMpB,0E,OACUllJ,EAAAA,YAAsB,KACtBA,EAAAA,UAAY,CAClBnW,KAAM,SACNuQ,KAAM,SACNy8D,UAAW,CACTh1D,EAAG,EACHC,EAAG,EACHjH,SAAU,GACVooD,KAAM,UACNjrB,OAAQ,WAEV+xB,QAAS,CAAC,EAAG,IACb3rD,MAAO,CACL6kD,KAAM,UACNhZ,OAAQ,UACRjS,OAAQ,WAEVulH,YAAa,CACXt6F,KAAM,Y,CA0FZ,QA7G2B5iD,EAAAA,EAAAA,IAAAA,EAAAA,GAuBjB8kJ,EAAAA,UAAAA,aAAR,WACE,OAAOptJ,GAAQ9O,KAAKm8J,UAAWn8J,KAAKiX,IACtC,EAEQilJ,EAAAA,UAAAA,WAAR,WACE,IAAMhuB,EAASluI,KAAKo8J,eACdjlI,EAAQn3B,KAAK6N,QAAQqqF,KAAKa,gBAAgBhzB,SAAS,CACvDnlE,KAAMstI,EAAOttI,OAGT0sE,EAAYn2C,EAAMmvC,SAAS,CAC/BthE,KAAM,OACNpE,KAAM,cACNR,OAAO,SACL+Q,KAAM+8H,EAAO/8H,MACV+8H,EAAOtgE,aAGRmN,EAAWzN,EAAUz2C,UACrBiqC,EAAUo4C,GAAag1B,EAAOptE,SAE9Bu7F,EAAcllI,EAAMmvC,SAAS,CACjCthE,KAAM,OACNpE,KAAM,cACNR,OAAO,SACLwY,EAAGmiE,EAASniE,EAAIkoD,EAAQ,GACxBjoD,EAAGkiE,EAASliE,EAAIioD,EAAQ,GACxB/uD,MAAOgpE,EAAShpE,MAAQ+uD,EAAQ,GAAKA,EAAQ,GAC7CprD,OAAQqlE,EAASrlE,OAASorD,EAAQ,GAAKA,EAAQ,IAC5CotE,EAAO/4H,SAGdknJ,EAAYzxF,SAEZzzC,EAAM51B,GAAG,cAAc,WACrB86J,EAAY1sI,KAAKu+G,EAAOomB,YAC1B,IACAn9H,EAAM51B,GAAG,cAAc,WACrB86J,EAAY1sI,KAAKu+G,EAAO/4H,MAC1B,IACAnV,KAAKs8J,YAAcnlI,CACrB,EAGQ+kI,EAAAA,UAAAA,cAAR,WACE,IAAMhkE,EAAOl4F,KAAK6N,QAAQqqF,KACpB0D,EAAQ1D,EAAKl4B,gBACb1xB,EAAQstD,EAAM3G,QAAQ,CAAEr8E,EAAG,EAAGC,EAAG,IACjCyjJ,EAAct8J,KAAKs8J,YACnBt7I,EAAOs7I,EAAYzlI,UACnBzI,EAASY,GAAc,KAAM,CACjC,CAAC,IAAKsf,EAAM11B,EAAIoI,EAAKjP,MAAQiqJ,GAAe1tH,EAAMz1B,EAAImI,EAAKtL,OAASumJ,MAEtEK,EAAYlnI,UAAUhH,EACxB,EAKO8tI,EAAAA,UAAAA,KAAP,WACOl8J,KAAKs8J,aACRt8J,KAAKu8J,aAEPv8J,KAAK2wE,gBACL3wE,KAAKs8J,YAAYt4F,MACnB,EAKOk4F,EAAAA,UAAAA,KAAP,WACMl8J,KAAKs8J,aACPt8J,KAAKs8J,YAAYr4F,MAErB,EAKOi4F,EAAAA,UAAAA,QAAP,WACE,IAAMI,EAAct8J,KAAKs8J,YACrBA,GACFA,EAAYh0J,SAEd4O,EAAAA,UAAMua,QAAO,UACf,EACF,EA7GA,CAA2BqpE,IA+G3B,MCxHM0hE,GAAW,EAMjB,0E,OAEYzlJ,EAAAA,UAAW,EAEXA,EAAAA,WAAY,E,CAwDxB,QA5DmBK,EAAAA,EAAAA,IAAAA,EAAAA,GAWVqlJ,EAAAA,UAAAA,MAAP,WACEz8J,KAAKu5J,UAAW,EAChBv5J,KAAKu8C,WAAav8C,KAAK6N,QAAQ+xF,iBACjC,EAKO68D,EAAAA,UAAAA,KAAP,WACE,GAAKz8J,KAAKu8C,WAAV,CAGA,IAAMzoB,EAAU9zB,KAAK6N,QAAQ+xF,kBACvB1H,EAAOl4F,KAAK6N,QAAQqqF,KACpB9wE,EAAQpnB,KAAK6N,QAAQuZ,MACtBpnB,KAAK08J,UAURxkE,EAAKnjE,KAAK,OAAQ,CAChBzyB,OAAQ8kB,EAAM9kB,OACdsW,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,IAZPkU,GAAS+G,EAAS9zB,KAAKu8C,YAAcigH,KACvCtkE,EAAKnjE,KAAK,YAAa,CACrBzyB,OAAQ8kB,EAAM9kB,OACdsW,EAAGwO,EAAMxO,EACTC,EAAGuO,EAAMvO,IAEX7Y,KAAK08J,WAAY,E,CASvB,EAKOD,EAAAA,UAAAA,IAAP,WACE,GAAIz8J,KAAK08J,UAAW,CAClB,IAAMxkE,EAAOl4F,KAAK6N,QAAQqqF,KACpB67D,EAAQ/zJ,KAAK6N,QAAQuZ,MAC3B8wE,EAAKnjE,KAAK,UAAW,CACnBzyB,OAAQyxJ,EAAMzxJ,OACdsW,EAAGm7I,EAAMn7I,EACTC,EAAGk7I,EAAMl7I,G,CAGb7Y,KAAKu5J,UAAW,EAChBv5J,KAAK08J,WAAY,CACnB,EACF,EA5DA,CAAmB5hE,IA8DnB,MCpEM6hE,GAAe,EAMrB,0E,OACU5lJ,EAAAA,UAAW,EACXA,EAAAA,UAAW,EAEXA,EAAAA,WAAa,KACbA,EAAAA,YAAc,K,CA6DxB,QAlEmBK,EAAAA,EAAAA,IAAAA,EAAAA,GASVwlJ,EAAAA,UAAAA,MAAP,WACE58J,KAAKu5J,UAAW,EAChBv5J,KAAKu8C,WAAav8C,KAAK6N,QAAQ+xF,kBAE/B5/F,KAAK68J,YAAc78J,KAAK6N,QAAQqqF,KAAKslB,YAAYtoF,WACnD,EAKO0nI,EAAAA,UAAAA,KAAP,WACE,GAAK58J,KAAKu5J,SAAV,CAGA,IAAMh9G,EAAav8C,KAAKu8C,WAClBY,EAAen9C,KAAK6N,QAAQ+xF,kBAC5BlnF,EAAIqU,GAASwvB,EAAYY,GAI/B,GAHIzkC,EAAIikJ,KAAiB38J,KAAK88J,WAC5B98J,KAAK88J,UAAW,GAEd98J,KAAK88J,SAAU,CACjB,IAAM5kE,EAAOl4F,KAAK6N,QAAQqqF,KACpB9pE,EAASY,GAAchvB,KAAK68J,YAAa,CAC7C,CAAC,IAAK1/G,EAAavkC,EAAI2jC,EAAW3jC,EAAGukC,EAAatkC,EAAI0jC,EAAW1jC,KAEnEq/E,EAAKqlB,gBAAgBnoF,UAAUhH,GAC/B8pE,EAAKa,gBAAgB3jE,UAAUhH,GAC/B8pE,EAAKslB,YAAYpoF,UAAUhH,E,EAE/B,EAKOwuI,EAAAA,UAAAA,IAAP,WACM58J,KAAK88J,WACP98J,KAAK88J,UAAW,GAElB98J,KAAK68J,YAAc,KACnB78J,KAAKu5J,UAAW,EAChBv5J,KAAKu8C,WAAa,IACpB,EAKOqgH,EAAAA,UAAAA,MAAP,WACE58J,KAAKu5J,UAAW,EAChBv5J,KAAKu8C,WAAa,KAClBv8C,KAAK88J,UAAW,EAEhB,IAAM5kE,EAAOl4F,KAAK6N,QAAQqqF,KAC1BA,EAAKqlB,gBAAgBtD,cACrB/hB,EAAKa,gBAAgBkhB,cACrB/hB,EAAKslB,YAAYvD,cACjBj6G,KAAK88J,UAAW,CAClB,EACF,EAlEA,CAAmBhiE,IAoEnB,MC5EMiiE,GAAQ,IACRC,GAAQ,IAMd,0E,OACYjmJ,EAAAA,KAAO,CAACgmJ,GAAOC,IACfjmJ,EAAAA,UAAY,CAAC,QACbA,EAAAA,eAAiB,CAAC,E,CAkC9B,QArC6BK,EAAAA,EAAAA,IAAAA,EAAAA,GAMjB6lJ,EAAAA,UAAAA,OAAV,SAAiBl7G,GACf,OAAO/hD,KAAK0iD,KAAKpX,SAASyW,EAC5B,EAEUk7G,EAAAA,UAAAA,SAAV,SAAmBl7G,GACjB,IAAMm2C,EAAOl4F,KAAK6N,QAAQqqF,KAC1B,MAAY,MAARn2C,EACKm2C,EAAK2d,YAEL3d,EAAKqsB,aAAa,EAE7B,EAEQ04C,EAAAA,UAAAA,SAAR,SAAiBl7G,GACf,IAAMm2C,EAAOl4F,KAAK6N,QAAQqqF,KAC1B,GAAIl4F,KAAKk7J,OAAOn5G,IAAQ/hD,KAAKk9J,eAAen7G,GAAM,CAChD,IAAMj1B,EAAQ9sB,KAAKq2F,SAASt0C,GAC5Bm2C,EAAKprE,MAAMA,EAAM+6B,MAAO7nD,KAAKk9J,eAAen7G,IAC5C/hD,KAAKk9J,eAAen7G,GAAO,I,CAE/B,EAKOk7G,EAAAA,UAAAA,MAAP,WACEj9J,KAAKm9J,SAASJ,IACd/8J,KAAKm9J,SAASH,IACd,IAAM9kE,EAAOl4F,KAAK6N,QAAQqqF,KAC1BA,EAAKp4F,QAAO,EACd,EACF,EArCA,CAA6Bg7F,IAuC7B,MCxCA,0E,OACY/jF,EAAAA,WAAoB,KACpBA,EAAAA,UAAW,EACbA,EAAAA,WAAa,CAAC,E,CAiGxB,QApG6BK,EAAAA,EAAAA,IAAAA,EAAAA,GAOpB6lJ,EAAAA,UAAAA,MAAP,sBACEj9J,KAAKu8C,WAAav8C,KAAK6N,QAAQ+xF,kBAC/B5/F,KAAKu5J,UAAW,EAChB,IAAM72G,EAAO1iD,KAAK0iD,KAClBp9C,EAAKo9C,GAAM,SAACX,GACV,IAAMj1B,EAAQ/V,EAAKs/E,SAASt0C,GACpB16C,EAAqBylB,EAAK,IAArB1lB,EAAgB0lB,EAAK,IAAhBjoB,EAAWioB,EAAK,OAClC/V,EAAKqmJ,WAAWr7G,GAAO,CAAE16C,IAAG,EAAED,IAAG,EAAEvC,OAAM,EAC3C,GACF,EASOo4J,EAAAA,UAAAA,IAAP,WACEj9J,KAAKu8C,WAAa,KAClBv8C,KAAKu5J,UAAW,EAChBv5J,KAAKo9J,WAAa,CAAC,CACrB,EAKOH,EAAAA,UAAAA,UAAP,sBACE,GAAKj9J,KAAKu5J,SAAV,CAGA,IAAMh9G,EAAav8C,KAAKu8C,WAClBq/C,EAAQ57F,KAAK6N,QAAQqqF,KAAKl4B,gBAC1B7iB,EAAen9C,KAAK6N,QAAQ+xF,kBAC5Bq6D,EAAcr+D,EAAM7wE,OAAOwxB,GAC3B8gH,EAAgBzhE,EAAM7wE,OAAOoyB,GAC7B3N,EAAK6tH,EAAczkJ,EAAIqhJ,EAAYrhJ,EACnC62B,EAAK4tH,EAAcxkJ,EAAIohJ,EAAYphJ,EACnCq/E,EAAOl4F,KAAK6N,QAAQqqF,KACpBx1C,EAAO1iD,KAAK0iD,KAClBp9C,EAAKo9C,GAAM,SAACX,GACVhrC,EAAKumJ,aAAav7G,EAAK,CAAEnpC,GAAS,EAAN42B,EAAS32B,GAAS,EAAN42B,GAC1C,IACAyoD,EAAKp4F,QAAO,E,CACd,EAGQm9J,EAAAA,UAAAA,aAAR,SAAqBl7G,EAAKs9C,GACxB,GAAIr/F,KAAKk7J,OAAOn5G,GAAM,CACpB,IAAMj1B,EAAQ9sB,KAAKq2F,SAASt0C,GACxBj1B,EAAMq7B,UACRnoD,KAAKu9J,gBAAgBx7G,EAAKj1B,EAAOuyE,E,CAMvC,EAEQ49D,EAAAA,UAAAA,gBAAR,SAAwBl7G,EAAKj1B,EAAOuyE,GAClC,IAAMnH,EAAOl4F,KAAK6N,QAAQqqF,KACpB,EAAel4F,KAAKo9J,WAAWr7G,GAA7B16C,EAAG,MAAED,EAAG,MACVs9C,EAAQt9C,EAAMC,EACdqR,EAAI2mF,EAAYt9C,GAAO2C,EAExB1kD,KAAKk9J,eAAen7G,KACvB/hD,KAAKk9J,eAAen7G,GAAO,CAEzB2S,KAAM5nC,EAAM4nC,KACZrtD,IAAG,EACHD,IAAG,IAGP8wF,EAAKprE,MAAMA,EAAM+6B,MAAO,CAEtB6M,MAAM,EACNrtD,IAAKA,EAAMqR,EACXtR,IAAKA,EAAMsR,GAEf,EASOukJ,EAAAA,UAAAA,MAAP,WACE/lJ,EAAAA,UAAM6wG,MAAK,WACX/nH,KAAKu8C,WAAa,KAClBv8C,KAAKu5J,UAAW,CAClB,EACF,EApGA,CAA6BiE,IAsG7B,MCvGA,0E,OACUzmJ,EAAAA,UAAY,I,CAqEtB,QAtE6BK,EAAAA,EAAAA,IAAAA,EAAAA,GAKpB6lJ,EAAAA,UAAAA,OAAP,WACEj9J,KAAKy9J,KAAKz9J,KAAK09J,UACjB,EAEQT,EAAAA,UAAAA,KAAR,SAAanwI,GAAb,WACQ41B,EAAO1iD,KAAK0iD,KAClBp9C,EAAKo9C,GAAM,SAACX,GACVhrC,EAAK4mJ,QAAQ57G,EAAKj1B,EACpB,IACA9sB,KAAK6N,QAAQqqF,KAAKp4F,QAAO,EAC3B,EAKOm9J,EAAAA,UAAAA,QAAP,WACEj9J,KAAKy9J,MAAM,EAAIz9J,KAAK09J,UACtB,EAGQT,EAAAA,UAAAA,QAAR,SAAgBl7G,EAAK67G,GACnB,GAAI59J,KAAKk7J,OAAOn5G,GAAM,CACpB,IAAMj1B,EAAQ9sB,KAAKq2F,SAASt0C,GACxBj1B,EAAMq7B,UACRnoD,KAAK69J,WAAW97G,EAAKj1B,EAAO8wI,E,CAMlC,EAEQX,EAAAA,UAAAA,WAAR,SAAmBl7G,EAAKj1B,EAAO8wI,GAC7B,IAAM1lE,EAAOl4F,KAAK6N,QAAQqqF,KAErBl4F,KAAKk9J,eAAen7G,KACvB/hD,KAAKk9J,eAAen7G,GAAO,CAEzB2S,KAAM5nC,EAAM4nC,KACZrtD,IAAKylB,EAAMzlB,IACXD,IAAK0lB,EAAM1lB,MAIf,IAAM4uF,EAAWh2F,KAAKk9J,eAAen7G,GAC/B2C,EAAQsxC,EAAS5uF,IAAM4uF,EAAS3uF,IAC9BA,EAAaylB,EAAK,IAAb1lB,EAAQ0lB,EAAK,IACpBpU,EAAIklJ,EAASl5G,EACbo5G,EAAQz2J,EAAMqR,EACdqlJ,EAAQ32J,EAAMsR,EACdslJ,EAAWD,EAAQD,EACnBrW,EAASuW,EAAWt5G,EACtBq5G,EAAQD,GAASrW,EAAS,KAAOA,EAAS,KAC5CvvD,EAAKprE,MAAMA,EAAM+6B,MAAO,CAEtB6M,MAAM,EACNrtD,IAAKA,EAAMqR,EACXtR,IAAKA,EAAMsR,GAGjB,EAKF,EAtEA,CAA6B8kJ,IAwE7B,MC1EA,SAASS,GAAY72I,GACnB,IAAM82I,EAAa92I,EAAMi2E,OAAOh2E,cAChC,OAAO62I,EAAWC,OAAS,CAC7B,CAEA,IAAMC,GAAqB,EAC3B,4B,8CAwBA,QAxB+BhnJ,EAAAA,EAAAA,IAAAA,EAAAA,GACtBinJ,EAAAA,UAAAA,OAAP,SAAcl+D,GACN,MAAkBngG,KAAK6N,QAArBqqF,EAAI,OAAE9wE,EAAK,QAEnB,GAAK8wE,EAAK6B,aAAa6W,UAAvB,CAIA,IAAM0tD,GAAgB,OAAHn+D,QAAG,IAAHA,OAAG,EAAHA,EAAKm+D,aAAcF,GAChCG,EAAsBrmE,EAAKuiB,cAAc,aAEzC7E,EAAS1d,EAAK2d,YACdhvG,EAAOqxF,EAAK6B,aAAalzF,KACzB+oJ,EAAW5gJ,GAAKsnF,GAAYzvF,EAAM+uG,EAAO/tD,QACzCH,EAAO14C,GAAK4mG,EAAO/wG,QAEnB2zC,EAAe+lH,EAAoB31G,WACnC41G,EAAer3J,KAAKye,OAAOgqI,EAAWloG,GAAQlP,GAE9CimH,EAAYD,GAAgBP,GAAY72I,GAASk3I,GAAcA,GAC/DI,EAAaJ,GAAc1O,EAAWloG,GAAQ,IAC9Ci3G,EAAY30J,GAAMy0J,GAAa7O,EAAWloG,GAAQg3G,EAAY,EAAG,GACvEH,EAAoB15E,SAAS85E,E,CAC/B,EACF,EAxBA,CAA+B7jE,IA0B/B,MC9BM8jE,GAA2B,2BAEjC,4B,8CAyEA,QAzE8BxnJ,EAAAA,EAAAA,IAAAA,EAAAA,GAGrBynJ,EAAAA,UAAAA,KAAP,WACE,IAAMhxJ,EAAU7N,KAAK6N,QACbs+F,EAAShP,GAAoBtvF,GAAQ,KACvC,EAAiDs+F,EAAKl1F,IAAIwxC,MAAxDypB,EAAW,cAAE/gE,EAAI,OAAE2tJ,EAAuB,0BAC5C,EAAWjxJ,EAAQuZ,MAAjBxO,EAAC,IAAEC,EAAC,IACP7Y,KAAKotG,SACRptG,KAAKsnH,gBAEPtnH,KAAKotG,QAAQjhE,OAAO,CAClBsc,MAAOt3C,GAAQ,GACfq4E,cAAe,WACb,MAAO,kCACSqkB,GAAiC,oBAAYixD,EAAuB,uCAClEjxD,GAA6B,kCAClC37B,EAAW,mDAI1B,EACAt5D,EAAC,EACDC,EAAC,IAEH7Y,KAAKotG,QAAQppC,MACf,EAEO66F,EAAAA,UAAAA,QAAP,WACE3nJ,EAAAA,UAAMua,QAAO,WACbzxB,KAAKotG,SAAWptG,KAAKotG,QAAQ37E,SAC/B,EAEOotI,EAAAA,UAAAA,KAAP,WACE7+J,KAAKotG,SAAWptG,KAAKotG,QAAQnpC,MAC/B,EAEO46F,EAAAA,UAAAA,cAAP,W,MACQ3mE,EAAOl4F,KAAK6N,QAAQqqF,KACpBnmE,EAASmmE,EAAKnmE,OACdqvC,EAAS,CACbrnD,MAAO,CAAEnB,EAAG,EAAGC,EAAG,GAClB6J,IAAK,CAAE9J,EAAGmZ,EAAOxjB,IAAI,SAAUsK,EAAGkZ,EAAOxjB,IAAI,YAEzC6+F,EAAU,IAAI3a,GAAY,CAC9Bt8E,OAAQ4b,EAAOxjB,IAAI,MAAM6H,WACzBgrD,OAAM,EACNjqD,SAAS,EACT+hJ,YAAa0F,GACbvuF,WAAW,WACNvhE,GACD,CAAC,GAAC,KAGAqb,EAAC0jF,IAAoC,CACnC,YAAa,MACb/sC,QAAS,OACT,cAAe,OACf,YAAa,OACbp8B,MAAO,sBAETva,EAAC0jF,IAAgC,CAC/B,aAAc,YACd,gBAAiB,OAClB,OAKTT,EAAQ/kG,OACR+kG,EAAQlpC,YAAW,GACnBlkE,KAAKotG,QAAUA,CACjB,EACF,EAzEA,CAA8BtS,IA0E9B,Mha0NA,SAASikE,GAAclxJ,GACrB,OAAOA,EAAQmxJ,UACjB,CAmUA,SAASf,GAAY72I,GAEnB,OADAA,EAAMi2E,OAAO51E,iBACNL,EAAMi2E,OAAOh2E,cAAc82I,OAAS,CAC7C,CA9mBA5oD,GAAc,OAAQnQ,GAAwB04B,KAO9C/pH,GAAe,SAAUkrJ,GACzBlrJ,GAAe,MAAOmrJ,GAetB55C,GAAiB,UAAWuiB,IAC5BviB,GAAiB,WAAY2tB,IAC7B3tB,GAAiB,SAAUuuB,IAC3BvuB,GAAiB,OAAQ4a,IACzB5a,GAAiB,QAASiuB,IAC1BjuB,GAAiB,OAAQlsC,IACzBksC,GAAiB,OAAQoqB,IACzBpqB,GAAiB,OAAQ65C,IACzB75C,GAAiB,UAAWqqB,IAC5BrqB,GAAiB,SAAU8uB,IAsC3BznB,GAAsB,OAAQoL,IAC9BpL,GAAsB,WAAY6pB,IAClC7pB,GAAsB,MAAOgrB,IAC7BhrB,GAAsB,QAASoqB,IAkB/BlqB,GAA4B,UAAW/0C,IACvC+0C,GAA4B,aAAc8rB,IAC1C9rB,GAA4B,gBAAiB2vB,IAC7C3vB,GAA4B,eAAgB+xB,IAC5C/xB,GAA4B,iBAAkByuB,IAC9CzuB,GAA4B,kBAAmBkuB,IAC/CluB,GAA4B,gBAAiBnP,IAC7CmP,GAA4B,YAAaktB,IACzCltB,GAA4B,eAAgB4yB,IAC5C5yB,GAA4B,2BAA4BmzB,IACxDnzB,GAA4B,wBAAyBwzB,IACrDxzB,GAA4B,wBAAyBi0B,IACrDj0B,GAA4B,aAAc8tB,IAC1C9tB,GAA4B,uBAAwBq0B,IAapDx3B,GAAkB,UAAW83B,IAC7B93B,GAAkB,WAAY+3B,IAC9B/3B,GAAkB,YAAao4B,IAC/Bp4B,GAAkB,aAAcs4B,IAChCt4B,GAAkB,YAAaq4B,IAC/Br4B,GAAkB,aAAcy4B,IAChCz4B,GAAkB,aAAc04B,IAChC14B,GAAkB,UAAWk6B,IAC7Bl6B,GAAkB,UAAWo6B,IAC7Bp6B,GAAkB,WAAYq6B,IAC9Br6B,GAAkB,kBAAmBw4B,IACrCx4B,GAAkB,qBAAsBw5B,IACxCx5B,GAAkB,UAAWu4B,IAW7BrnD,GAAc,OAAQutC,IACtBvtC,GAAc,SAAUirD,IACxBjrD,GAAc,OAAQuqD,IACtBvqD,GAAc,SAAU6qD,IACxB7qD,GAAc,SAAUtgB,IACxBsgB,GAAc,OAAQsrD,IAatB7sC,GAA4B,OAAQpnB,IACpConB,GAA4B,SAAU9mB,IACtC8mB,GAA4B,UAAW9vB,IACvC8vB,GAA4B,aAAcwuC,IAC1CxuC,GAA4B,SAAUprB,IACtCorB,GAA4B,YAAanoB,IAsDzCqK,GAAe,UAAWi3D,IAC1Bj3D,GAAe,kBAAmBu3D,IAClCv3D,GAAe,gBAAiB6jE,IAChC7jE,GAAe,iBAAkB04D,IACjC14D,GAAe,wBAAyBo6D,IACxCp6D,GAAe,uBAAwBk6D,IAEvCl6D,GAAe,oBAAqB26D,IACpC36D,GAAe,yBAA0B8jE,IACzC9jE,GAAe,6BAA8B+jE,IAE7C/jE,GAAe,2BAA4Bs7D,IAC3Ct7D,GAAe,0BAA2Bm7D,IAC1Cn7D,GAAe,4BAA6Bm7D,GAAuB,CACjExB,gBAAgB,EAChBC,gBAAgB,IAGlB55D,GAAe,mBAAoBgkE,IACnChkE,GAAe,0BAA2By7D,IAC1Cz7D,GAAe,yBAA0Bu7D,IACzCv7D,GAAe,wBAAyBikE,IAExCjkE,GAAe,gBAAiBo2D,IAChCp2D,GAAe,cAAeu8D,IAC9Bv8D,GAAe,gBAAiB28D,IAChC38D,GAAe,iBAAkBy8D,IACjCz8D,GAAe,iBAAkB48D,IACjC58D,GAAe,eAAgB+8D,IAC/B/8D,GAAe,aAAcm9D,IAC7Bn9D,GAAe,aAAc09D,IAE7B19D,GAAe,wBAAyBy8D,GAAe,CACrDX,eAAgB,CAAC,YAGnB97D,GAAe,uBAAwBy8D,GAAe,CACpDX,eAAgB,CAAC,UAEnB97D,GAAe,mBAAoBsjE,IAEnCtjE,GAAe,YAAau+D,IAC5Bv+D,GAAe,cAAekkE,GAAS,CAAE19G,IAAK,MAC9Cw5C,GAAe,cAAekkE,GAAS,CAAE19G,IAAK,MAC9Cw5C,GAAe,cAAes+D,IAC9Bt+D,GAAe,YAAa6+D,IAC5B7+D,GAAe,mBAAoB++D,IAEnC/+D,GAAe,SAAUg/D,IACzBh/D,GAAe,cAAek/D,IAE9Bl/D,GAAe,QAASmkE,IACxBnkE,GAAe,UAAWmkE,GAAiB,CAAEh9G,KAAM,CAAC,OACpD64C,GAAe,UAAWmkE,GAAiB,CAAEh9G,KAAM,CAAC,OACpD64C,GAAe,iBAAkBkgE,IACjClgE,GAAe,mBAAoBkgE,IACnClgE,GAAe,mBAAoBkgE,IAEnClgE,GAAe,iBAAkBmgE,IACjCngE,GAAe,yBAA0BokE,IACzCpkE,GAAe,gCAAiCokE,GAAsB,CAAE/D,UAAU,IAElFrgE,GAAe,YAAaqkE,IAC5BrkE,GAAe,YAAaskE,IAE5BtkE,GAAe,kBAAmB0hE,IAClC1hE,GAAe,aAAcukE,IAC7BvkE,GAAe,eAAgB2gE,GAAc,CAC3Ct7J,KAAM,eACNuQ,KAAM,UAGRoqF,GAAe,oBAAqB8iE,IAUpC77D,GAAoB,UAAW,CAC7BzoF,MAAO,CACL,CAAEsnF,QAAS,iBAAkBhzE,OAAQ,eAAgB+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,IACpG,CAAE0wF,QAAS,iBAAkBhzE,OAAQ,eAAgB+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,KAEtG+R,IAAK,CACH,CAAE2+E,QAAS,kBAAmBhzE,OAAQ,gBACtC,CAAEgzE,QAAS,aAAchzE,OAAQ,gBACjC,CAAEgzE,QAAS,gBAAiBhzE,OAAQ,mBAIxCm0E,GAAoB,gBAAiB,CACnCzoF,MAAO,CACL,CACEsnF,QAAS,6BACThzE,OAAQ,qBACR+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,IAEjD,CACE0wF,QAAS,8BACThzE,OAAQ,qBACR+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,IAEjD,CACE0wF,QAAS,uBACThzE,OAAQ,qBACR+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,IAEjD,CACE0wF,QAAS,wBACThzE,OAAQ,qBACR+zE,SAAU,CAAE10F,KAAM,GAAI4C,SAAS,EAAMK,UAAU,KAGnD+R,IAAK,CACH,CAAE2+E,QAAS,8BAA+BhzE,OAAQ,sBAClD,CAAEgzE,QAAS,4BAA6BhzE,OAAQ,sBAChD,CAAEgzE,QAAS,wBAAyBhzE,OAAQ,sBAC5C,CAAEgzE,QAAS,sBAAuBhzE,OAAQ,sBAC1C,CAAEgzE,QAAS,sBAAuBhzE,OAAQ,yBAK9Cm0E,GAAoB,iBAAkB,CACpCzoF,MAAO,CAAC,CAAEsnF,QAAS,qBAAsBhzE,OAAQ,0BACjD3L,IAAK,CAAC,CAAE2+E,QAAS,qBAAsBhzE,OAAQ,2BAIjDm0E,GAAoB,mBAAoB,CACtCzoF,MAAO,CAAC,CAAEsnF,QAAS,gBAAiBhzE,OAAQ,8BAI9Cm0E,GAAoB,oBAAqB,CACvCzoF,MAAO,CAAC,CAAEsnF,QAAS,qBAAsBhzE,OAAQ,gCACjD3L,IAAK,CAAC,CAAE2+E,QAAS,qBAAsBhzE,OAAQ,8BAIjDm0E,GAAoB,yBAA0B,CAC5CzoF,MAAO,CAAC,CAAEsnF,QAAS,qBAAsBhzE,OAAQ,qCACjD3L,IAAK,CAAC,CAAE2+E,QAAS,qBAAsBhzE,OAAQ,mCAIjDm0E,GAAoB,6BAA8B,CAChDzoF,MAAO,CAAC,CAAEsnF,QAAS,qBAAsBhzE,OAAQ,yCACjD3L,IAAK,CAAC,CAAE2+E,QAAS,qBAAsBhzE,OAAQ,uCAIjDm0E,GAAoB,gBAAiB,CACnCzoF,MAAO,CAAC,CAAEsnF,QAAS,yBAA0BhzE,OAAQ,CAAC,qBAAsB,2BAC5E3L,IAAK,CAAC,CAAE2+E,QAAS,yBAA0BhzE,OAAQ,CAAC,oBAAqB,4BAI3Em0E,GAAoB,mBAAoB,CACtCzoF,MAAO,CACL,CAAEsnF,QAAS,yBAA0BhzE,OAAQ,CAAC,kCAAmC,iCAEnF3L,IAAK,CAAC,CAAE2+E,QAAS,yBAA0BhzE,OAAQ,CAAC,8BAA+B,+BAIrFm0E,GAAoB,uBAAwB,CAC1CzoF,MAAO,CACL,CAAEsnF,QAAS,wBAAyBhzE,OAAQ,CAAC,iCAAkC,iCAEjF3L,IAAK,CAAC,CAAE2+E,QAAS,wBAAyBhzE,OAAQ,CAAC,6BAA8B,+BAInFm0E,GAAoB,yBAA0B,CAC5CzoF,MAAO,CAAC,CAAEsnF,QAAS,qBAAsBhzE,OAAQ,CAAC,2BAA4B,iCAC9E3L,IAAK,CAAC,CAAE2+E,QAAS,qBAAsBhzE,OAAQ,CAAC,uBAAwB,+BAI1Em0E,GAAoB,0BAA2B,CAC7Cu9D,WAAY,CACV,CAAE1+D,QAAS,kBAAmBhzE,OAAQ,oBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,eACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,kBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,qBAExCtU,MAAO,CACL,CACEsnF,QAAS,iBACTU,SAAQ,SAACl0F,GAEP,OAAQA,EAAQ+kC,UAAU,OAC5B,EACAvkB,OAAQ,CAAC,kBAAmB,mBAE9B,CACEgzE,QAAS,iBACThzE,OAAQ,CAAC,yBAGb2xI,WAAY,CACV,CACE3+D,QAAS,iBACThzE,OAAQ,CAAC,qBAEX,CACEgzE,QAAS,YACThzE,OAAQ,CAAC,mBAEX,CACEgzE,QAAS,cACThzE,OAAQ,CAAC,uCAGb3L,IAAK,CACH,CAAE2+E,QAAS,eAAgBhzE,OAAQ,CAAC,kBACpC,CAAEgzE,QAAS,eAAgBhzE,OAAQ,CAAC,sBACpC,CACEgzE,QAAS,mBACTU,SAAQ,SAACl0F,GACP,OAAQA,EAAQmxJ,UAClB,EACA3wI,OAAQ,CAAC,gCAAiC,gBAAiB,oBAG/D4xI,SAAU,CAAC,CAAE5+D,QAAS,WAAYhzE,OAAQ,CAAC,gCAAiC,sBAG9Em0E,GAAoB,QAAS,CAC3Bu9D,WAAY,CACV,CAAE1+D,QAAS,kBAAmBhzE,OAAQ,oBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,mBAExCtU,MAAO,CACL,CACEsnF,QAAS,YACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,cAAe,kBAAmB,oBAG/C2xI,WAAY,CACV,CACE3+D,QAAS,YACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,sBAGb3L,IAAK,CACH,CACE2+E,QAAS,UACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,eAAgB,YAAa,gBAAiB,iBAAkB,uBAG7E4xI,SAAU,CAAC,CAAE5+D,QAAS,qBAAsBhzE,OAAQ,CAAC,cAAe,oBAAqB,wBAG3Fm0E,GAAoB,gBAAiB,CACnCu9D,WAAY,CACV,CAAE1+D,QAAS,kBAAmBhzE,OAAQ,oBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,mBAExCtU,MAAO,CACL,CACEsnF,QAAS,iBACThzE,OAAQ,CAAC,kBAAmB,oBAGhC2xI,WAAY,CACV,CACE3+D,QAAS,iBACThzE,OAAQ,CAAC,qBAEX,CAAEgzE,QAAS,cAAehzE,OAAQ,CAAC,uCAErC3L,IAAK,CACH,CACE2+E,QAAS,eACThzE,OAAQ,CAAC,gBAAiB,iBAAkB,wBAAyB,mCAGzE4xI,SAAU,CACR,CACE5+D,QAAS,WACThzE,OAAQ,CAAC,4BAKfm0E,GAAoB,UAAW,CAC7Bu9D,WAAY,CACV,CAAE1+D,QAAS,kBAAmBhzE,OAAQ,oBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,mBAExCtU,MAAO,CACL,CACEsnF,QAAS,YACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,gBAAiB,oBAAqB,sBAGnD2xI,WAAY,CACV,CACE3+D,QAAS,YACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,wBAGb3L,IAAK,CACH,CACE2+E,QAAS,UACTU,SAAUg9D,GACV1wI,OAAQ,CAAC,iBAAkB,cAAe,kBAAmB,sBAGjE4xI,SAAU,CAAC,CAAE5+D,QAAS,WAAYhzE,OAAQ,CAAC,qBAG7Cm0E,GAAoB,yBAA0B,CAC5Cu9D,WAAY,CACV,CAAE1+D,QAAS,kBAAmBhzE,OAAQ,oBACtC,CAAEgzE,QAAS,kBAAmBhzE,OAAQ,mBAExCtU,MAAO,CACL,CAAEsnF,QAAS,YAAaU,SAAUg9D,GAAe1wI,OAAQ,mBACzD,CAAEgzE,QAAS,YAAaU,SAAUg9D,GAAe1wI,OAAQ,mBAE3D2xI,WAAY,CAAC,CAAE3+D,QAAS,YAAahzE,OAAQ,uBAC7C3L,IAAK,CAAC,CAAE2+E,QAAS,UAAWhzE,OAAQ,kBACpC4xI,SAAU,CAAC,CAAE5+D,QAAS,WAAYhzE,OAAQ,qBAI5Cm0E,GAAoB,0BAA2B,CAC7CzoF,MAAO,CAAC,CAAEsnF,QAAS,gBAAiBhzE,OAAQ,qCAI9Cm0E,GAAoB,gBAAiB,CACnCu9D,WAAY,CACV,CAAE1+D,QAAS,yBAA0BhzE,OAAQ,CAAC,iBAAkB,oBAChE,CAAEgzE,QAAS,yBAA0BhzE,OAAQ,CAAC,iBAAkB,qBAElEtU,MAAO,CACL,CACEsnF,QAAS,oBACTU,SAAU,SAACl0F,GACT,OAAQA,EAAQ+kC,UAAU,oBAC5B,EACAvkB,OAAQ,CAAC,8BAA+B,0BAA2B,wBAAyB,qBAAsB,oBAGpH,CACEgzE,QAAS,+BACThzE,OAAQ,CAAC,uBAEX,CACEgzE,QAAS,+BACThzE,OAAQ,CAAC,uBAEX,CACEgzE,QAAS,0BACThzE,OAAQ,CAAC,oBAAqB,qBAAsB,uBAM1Dm0E,GAAoB,oBAAqB,CACvCzoF,MAAO,CAAC,CAAEsnF,QAAS,sBAAuBhzE,OAAQ,yBAGpDm0E,GAAoB,4BAA6B,CAC/CzoF,MAAO,CAAC,CAAEsnF,QAAS,sBAAuBhzE,OAAQ,4BAIpDm0E,GAAoB,wBAAyB,CAC3Cu9D,WAAY,CACV,CAAE1+D,QAAS,yBAA0BhzE,OAAQ,kBAC7C,CAAEgzE,QAAS,yBAA0BhzE,OAAQ,mBAE/CtU,MAAO,CAAC,CAAEsnF,QAAS,oBAAqBhzE,OAAQ,CAAC,8BAA+B,0BAA2B,wBAAyB,6BAItIm0E,GAAoB,gBAAiB,CACnCzoF,MAAO,CAAC,CAAEsnF,QAAS,iBAAkBhzE,OAAQ,uBAC7C3L,IAAK,CAAC,CAAE2+E,QAAS,kBAAmBhzE,OAAQ,yBAI9Cm0E,GAAoB,mBAAoB,CACtCzoF,MAAO,CAAC,CAAEsnF,QAAS,6BAA8BhzE,OAAQ,0BACzD3L,IAAK,CAAC,CAAE2+E,QAAS,8BAA+BhzE,OAAQ,4BAO1Dm0E,GAAoB,YAAa,CAC/BzoF,MAAO,CACL,CACEsnF,QAAS,kBACTU,SAAQ,SAACl0F,GACP,OAAOowJ,GAAYpwJ,EAAQuZ,MAC7B,EACAiH,OAAQ,qBACR+zE,SAAU,CAAE10F,KAAM,IAAK4C,SAAS,EAAMK,UAAU,IAElD,CACE0wF,QAAS,kBACTU,SAAQ,SAACl0F,GACP,OAAQowJ,GAAYpwJ,EAAQuZ,MAC9B,EACAiH,OAAQ,oBACR+zE,SAAU,CAAE10F,KAAM,IAAK4C,SAAS,EAAMK,UAAU,OAKtD6xF,GAAoB,kBAAmB,CACrCzoF,MAAO,CAAC,CAAEsnF,QAAS,iBAAkBhzE,OAAQ,yBAC7C3L,IAAK,CAAC,CAAE2+E,QAAS,kBAAmBhzE,OAAQ,2BAG9Cm0E,GAAoB,yBAA0B,CAC5CzoF,MAAO,CAAC,CAAEsnF,QAAS,kBAAmBhzE,OAAQ,+BiajpBhD,IAAIvuB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgBgV,MAAO,UAAYpV,EAAImgK,aAAe,iBAAkB,CAACjgK,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM8D,EAAQ,MAAoB,IAAM,IAAI3C,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIogK,QAAQx7J,KAAK,IAAI,KAAK1E,EAAG,KAAK,CAACA,EAAG,KAAK,CAACsB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIogK,QAAQx7J,KAAK,YAAY,IAAI,CAAC1E,EAAG,OAAO,CAACE,YAAY,UAAU,CAACJ,EAAIO,GAAG,cAAcL,EAAG,OAAO,CAACE,YAAY,aAAa,CAACJ,EAAIO,GAAG,gBAAgBP,EAAIU,GAAG,GAAGR,EAAG,KAAK,CAACA,EAAG,iBAAiB,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAML,EAAIqgK,WAAWC,KAAK,IAAM,MAAMpgK,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqgK,WAAWx/J,MAAM,OAAOX,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,SAAS,CAACF,EAAIO,GAAG,aAAaL,EAAG,SAAS,CAACF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqgK,WAAW9sI,SAASrzB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOL,EAAIqgK,WAAWE,QAAQ,OAAS,WAAW,CAACvgK,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqgK,WAAWE,SAAS,SAASrgK,EAAG,MAAM,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAIqgK,WAAWG,QAASl/J,WAAW,uBAAuBlB,YAAY,WAAW,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOL,EAAIqgK,WAAWG,QAAQ,OAAS,WAAW,CAACtgK,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM8D,EAAQ,OAAuB,IAAM,MAAMnE,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqgK,WAAWG,QAAUxgK,EAAIqgK,WAAWG,QAAQ92J,QAAQ,uBAAwB,IAAM,WAAWxJ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIqgK,WAAWluF,aAAa,YACpjD,EACIjuE,GAAkB,CAAC,WAAY,IAAIlE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,UAAU,CAACJ,EAAIO,GAAG,SAASL,EAAG,OAAO,CAACE,YAAY,aAAa,CAACJ,EAAIO,GAAG,UAC9K,G,WCiDA,IACAM,KAAAA,gBACA8uB,MAAAA,CACA,mBAEAqwE,WAAAA,CACAygE,aAAAA,GAAAA,GAEA35J,OACA,QACA,EACA45J,SAAAA,CACAP,eACA,2BACA,IClE6P,M,WCQzP,IAAY,QACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,Q,mCCuPhC,SAASQ,GAAW75J,GACpB,QACA,MACA,OACA,OACA,iBACA,YACA+9E,EAAAA,EAAAA,MACA+7E,EAAAA,GAEA,YACAl8E,EAAAA,EAAAA,MACAm8E,EAAAA,GAGA,OAAAx5J,IAAAA,EAAAC,IAAAA,EACA,CAEA,QACAzG,KAAAA,cACAm/F,WAAAA,CACA8gE,aAAAA,IAEAh6J,OACA,OACAi6J,OAAAA,KACA9/J,WAAAA,GACAwC,gBAAAA,EACAnD,QAAAA,CAAAA,EACAuB,mBAAAA,EACAH,cAAAA,EACA8B,YAAAA,EACAG,YAAAA,EACAC,aAAAA,EACAC,gBAAAA,EACAC,cAAAA,EACAE,iBAAAA,EACAvD,OAAAA,EACAmB,UAAAA,EACAD,YAAAA,EACAq/J,UAAAA,KACA39J,eAAAA,EACAC,iBAAAA,EACAjB,YAAAA,EACAO,UAAAA,GACA5B,kBAAAA,EACAL,eAAAA,EACAoB,iBAAAA,CAAAA,EACAW,uBAAAA,EAEA,EACAo8I,QAAAA,CACAmiB,mBACA,+DACA,gBACA,UACA,gCAEA,EACAC,iBACA,0CACAC,SAAAA,KAAAA,aAAAC,MAAAA,KAAAA,OAAAA,MAAAA,IAAAA,UACA,UACA,sBACA,qBAEA,EACAr9J,iBACA,8DACAs9J,QAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QACAC,WAAAA,KAAAA,UACAC,YAAAA,KAAAA,WACAC,OAAAA,KAAAA,aACAC,mBAAAA,EACAC,aAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QACAC,MAAAA,KAAAA,WACA,WACA,qBAEA,EACA19J,WACA,8CACAq9J,WAAAA,KAAAA,UAAAD,QAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QAAAO,QAAAA,KAAAA,cACA,WACA,oBACA,wBAEA,EACAC,YACA,+EACA1kG,GAAAA,IAAAA,GACA,0BAEA,EACA2kG,yBACA,qFACA,oBACA,GACA,qBACA,GAEA,EACAC,eACA,oEACA,oBAEA,EACAt/J,MACA,mDACA6+J,WAAAA,KAAAA,UACAM,QAAAA,KAAAA,OACAJ,OAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QACAE,aAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QACAD,mBAAAA,EACAO,sBAAAA,EACAL,MAAAA,GACAM,UAAAA,KACA,WACA,uBAEA,EACAC,gBACA,sFACA,iBACA,4BACA,uCACAr/J,EAAAA,KAAAA,KAAAA,OAAAA,IAAAA,KAAAA,SAAAA,KAAAA,OAAAA,0BAAAA,IAEAs6D,GAAAA,IAAAA,EAAAA,GAEA,EACAglG,aAAAA,GACA,8EACAC,SAAAA,mDACAd,WAAAA,GAEA,EACAe,UAAAA,GAIA,OAHA,IACAC,EAAAA,oDAEA,+CACAjB,QAAAA,EAAAC,WAAAA,KAAAA,WAEA,EACA/9J,gBACA,wFACA,0DACA+9J,WAAAA,KAAAA,UAAAiB,MAAAA,KAAAA,UAAAC,QAAAA,KAAAA,cACA,WACA,wBAIA,gCACAC,QAAAA,wCACAx9J,KAAAA,SAIA,EACAvB,UACA,kBACA,6CACA29J,QAAAA,KAAAA,OAAAA,MAAAA,IAAAA,QACAC,WAAAA,KAAAA,UACAM,QAAAA,KAAAA,WACAI,sBAAAA,IACA,WACA,sBAIA,gCACAS,QAAAA,2BACAx9J,KAAAA,SAIA,EACAy9J,YACA,SACA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,aAEA,CACA,kBACA,cAEA,CACA,kBACA,cAEA,CACA,kBACA,WAEA,CACA,kBACA,aAEA,CACA,kBACA,aAEA,CACA,kBACA,eAEA,CACA,kBACA,eAEA,CACA,kBACA,aAEA,CACA,kBACA,cAGA,UACA7tJ,UAAAA,aACAmB,SAAAA,EACAL,OAAAA,MAEAsnG,EAAAA,MAAAA,CACAzsG,KAAAA,CACAyjD,UAAAA,IAEA0uG,MAAAA,CACAhuG,MAAAA,KAGAsoD,EAAAA,KAAAA,OAAAA,CACA/zC,MAAAA,CACAhe,UAAAA,IACA,qBACA,kCAKA+xD,EAAAA,OAAAA,SAAAA,cAEA,UAAA31G,EAAAA,IAAAD,GAAA,MACA41G,EAAAA,aAAAA,WAAAA,CACA7rE,KAAAA,EACA4T,SAAAA,CAAAA,EAAAA,KAAAA,EAAAA,OACA5zC,KAAAA,CACAg5D,QAAAA,OAAAA,EAAAA,OAEAp1B,KAAAA,CACA7xC,OAAAA,MAGA85G,EAAAA,aAAAA,WAAAA,CACA7rE,KAAAA,EACA4T,SAAAA,CAAAA,EAAAA,KAAAA,EAAAA,OACA5zC,KAAAA,CACAg5D,QAAAA,OAAAA,EAAAA,OAEAp1B,KAAAA,CACA7xC,OAAAA,MAGA85G,EAAAA,QAEA,GAEA2lD,UACA,oCACA,+BACA,4CACA,iBAEA,2BACA,iBAEA,wDACA,oBAEA,qBACA,8BACA,oBACA,iBACA,uBACA,EACAC,UAEA,GC17DuP,MCQnP,IAAY,QACd,GACA9iK,EACAmE,GACA,EACA,KACA,WACA,MAIF,GAAe,GAAiB,O","sources":["webpack://mangobox/./src/views/Details.vue","webpack://mangobox/../src/is-array-like.ts","webpack://mangobox/../src/contains.ts","webpack://mangobox/../src/filter.ts","webpack://mangobox/../src/difference.ts","webpack://mangobox/../src/is-type.ts","webpack://mangobox/../src/is-function.ts","webpack://mangobox/../src/is-nil.ts","webpack://mangobox/../src/is-array.ts","webpack://mangobox/../src/is-object.ts","webpack://mangobox/../src/each.ts","webpack://mangobox/../src/keys.ts","webpack://mangobox/../src/is-match.ts","webpack://mangobox/../src/is-object-like.ts","webpack://mangobox/../src/is-plain-object.ts","webpack://mangobox/../src/find.ts","webpack://mangobox/../src/first-value.ts","webpack://mangobox/../src/flatten.ts","webpack://mangobox/../src/max.ts","webpack://mangobox/../src/min.ts","webpack://mangobox/../src/get-range.ts","webpack://mangobox/../src/pull.ts","webpack://mangobox/../src/pull-at.ts","webpack://mangobox/../src/reduce.ts","webpack://mangobox/../src/remove.ts","webpack://mangobox/../src/is-string.ts","webpack://mangobox/../src/uniq.ts","webpack://mangobox/../src/union.ts","webpack://mangobox/../src/values-of-key.ts","webpack://mangobox/../src/head.ts","webpack://mangobox/../src/last.ts","webpack://mangobox/../src/ends-with.ts","webpack://mangobox/../src/every.ts","webpack://mangobox/../src/some.ts","webpack://mangobox/../src/group-by.ts","webpack://mangobox/../src/group-to-map.ts","webpack://mangobox/../src/group.ts","webpack://mangobox/../src/parse-radius.ts","webpack://mangobox/../src/clamp.ts","webpack://mangobox/../src/fixed-base.ts","webpack://mangobox/../src/is-number.ts","webpack://mangobox/../src/is-number-equal.ts","webpack://mangobox/../src/is-integer.ts","webpack://mangobox/../src/is-odd.ts","webpack://mangobox/../src/mod.ts","webpack://mangobox/../src/to-radian.ts","webpack://mangobox/../src/to-degree.ts","webpack://mangobox/../src/to-integer.ts","webpack://mangobox/../src/has.ts","webpack://mangobox/../src/has-key.ts","webpack://mangobox/../src/values.ts","webpack://mangobox/../src/to-string.ts","webpack://mangobox/../src/lower-case.ts","webpack://mangobox/../src/substitute.ts","webpack://mangobox/../src/upper-first.ts","webpack://mangobox/../src/get-type.ts","webpack://mangobox/../src/is-boolean.ts","webpack://mangobox/../src/is-date.ts","webpack://mangobox/../src/is-null.ts","webpack://mangobox/../src/is-prototype.ts","webpack://mangobox/../src/is-undefined.ts","webpack://mangobox/../src/is-element.ts","webpack://mangobox/../src/request-animation-frame.ts","webpack://mangobox/../src/clear-animation-frame.ts","webpack://mangobox/../src/augment.ts","webpack://mangobox/../src/clone.ts","webpack://mangobox/../src/debounce.ts","webpack://mangobox/../src/memoize.ts","webpack://mangobox/../src/deep-mix.ts","webpack://mangobox/../src/index-of.ts","webpack://mangobox/../src/is-empty.ts","webpack://mangobox/../src/is-equal.ts","webpack://mangobox/../src/map.ts","webpack://mangobox/../src/map-values.ts","webpack://mangobox/../src/mix.ts","webpack://mangobox/../src/get.ts","webpack://mangobox/../src/measure-text-width.ts","webpack://mangobox/../src/set.ts","webpack://mangobox/../src/pick.ts","webpack://mangobox/../src/throttle.ts","webpack://mangobox/../src/to-array.ts","webpack://mangobox/../src/unique-id.ts","webpack://mangobox/../src/noop.ts","webpack://mangobox/../src/size.ts","webpack://mangobox/../src/constant.ts","webpack://mangobox/../src/get-ellipsis-text.ts","webpack://mangobox/../src/cache.ts","webpack://mangobox/../src/create-dom.ts","webpack://mangobox/../../src/engine/index.ts","webpack://mangobox/../src/modify-css.ts","webpack://mangobox/../../src/util/dom.ts","webpack://mangobox/../src/index.ts","webpack://mangobox/../src/base.ts","webpack://mangobox/../../src/util/path.ts","webpack://mangobox/../../src/event/graph-event.ts","webpack://mangobox/../../src/util/util.ts","webpack://mangobox/../../src/abstract/base.ts","webpack://mangobox/./node_modules/detect-browser/es/index.js","webpack://mangobox/./node_modules/gl-matrix/esm/mat3.js","webpack://mangobox/./node_modules/gl-matrix/esm/common.js","webpack://mangobox/./node_modules/gl-matrix/esm/vec2.js","webpack://mangobox/../src/ext.ts","webpack://mangobox/../../src/util/matrix.ts","webpack://mangobox/../../src/abstract/element.ts","webpack://mangobox/../../src/abstract/container.ts","webpack://mangobox/./node_modules/d3-timer/src/timer.js","webpack://mangobox/./node_modules/d3-color/src/define.js","webpack://mangobox/./node_modules/d3-color/src/color.js","webpack://mangobox/./node_modules/d3-interpolate/src/basis.js","webpack://mangobox/./node_modules/d3-interpolate/src/basisClosed.js","webpack://mangobox/./node_modules/d3-interpolate/src/constant.js","webpack://mangobox/./node_modules/d3-interpolate/src/color.js","webpack://mangobox/./node_modules/d3-interpolate/src/rgb.js","webpack://mangobox/./node_modules/d3-interpolate/src/numberArray.js","webpack://mangobox/./node_modules/d3-interpolate/src/array.js","webpack://mangobox/./node_modules/d3-interpolate/src/date.js","webpack://mangobox/./node_modules/d3-interpolate/src/number.js","webpack://mangobox/./node_modules/d3-interpolate/src/object.js","webpack://mangobox/./node_modules/d3-interpolate/src/string.js","webpack://mangobox/./node_modules/d3-interpolate/src/value.js","webpack://mangobox/./node_modules/d3-ease/src/linear.js","webpack://mangobox/./node_modules/d3-ease/src/quad.js","webpack://mangobox/./node_modules/d3-ease/src/cubic.js","webpack://mangobox/./node_modules/d3-ease/src/poly.js","webpack://mangobox/./node_modules/d3-ease/src/sin.js","webpack://mangobox/./node_modules/d3-ease/src/math.js","webpack://mangobox/./node_modules/d3-ease/src/exp.js","webpack://mangobox/./node_modules/d3-ease/src/circle.js","webpack://mangobox/./node_modules/d3-ease/src/bounce.js","webpack://mangobox/./node_modules/d3-ease/src/back.js","webpack://mangobox/./node_modules/d3-ease/src/elastic.js","webpack://mangobox/../../src/animate/register.ts","webpack://mangobox/../../src/util/color.ts","webpack://mangobox/../../src/animate/timeline.ts","webpack://mangobox/../../src/event/event-contoller.ts","webpack://mangobox/../../src/abstract/canvas.ts","webpack://mangobox/../../src/abstract/group.ts","webpack://mangobox/../../src/abstract/shape.ts","webpack://mangobox/../../src/bbox/register.ts","webpack://mangobox/../../src/bbox/rect.ts","webpack://mangobox/../../src/bbox/circle.ts","webpack://mangobox/../src/util.ts","webpack://mangobox/../src/line.ts","webpack://mangobox/../src/bezier.ts","webpack://mangobox/../src/quadratic.ts","webpack://mangobox/../src/cubic.ts","webpack://mangobox/../src/ellipse.ts","webpack://mangobox/../src/arc.ts","webpack://mangobox/../src/segments.ts","webpack://mangobox/../src/polyline.ts","webpack://mangobox/../../src/bbox/util.ts","webpack://mangobox/../../src/bbox/polyline.ts","webpack://mangobox/../../src/bbox/polygon.ts","webpack://mangobox/../../src/util/offscreen.ts","webpack://mangobox/../../src/util/text.ts","webpack://mangobox/../../src/bbox/text.ts","webpack://mangobox/../src/parse-path.ts","webpack://mangobox/../src/catmull-rom-2-bezier.ts","webpack://mangobox/../src/parse-path-string.ts","webpack://mangobox/../src/path-2-absolute.ts","webpack://mangobox/../../src/process/arc-2-cubic.ts","webpack://mangobox/../src/get-arc-params.ts","webpack://mangobox/../src/path-2-segments.ts","webpack://mangobox/../src/point-in-polygon.ts","webpack://mangobox/../src/get-line-intersect.ts","webpack://mangobox/../src/is-polygons-intersect.ts","webpack://mangobox/../../src/bbox/path.ts","webpack://mangobox/../../src/bbox/line.ts","webpack://mangobox/../../src/bbox/ellipse.ts","webpack://mangobox/../../src/bbox/index.ts","webpack://mangobox/../../src/adjusts/adjust.ts","webpack://mangobox/../src/factory.ts","webpack://mangobox/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://mangobox/../../src/adjusts/dodge.ts","webpack://mangobox/../../src/adjusts/jitter.ts","webpack://mangobox/../../src/adjusts/stack.ts","webpack://mangobox/../../src/adjusts/symmetric.ts","webpack://mangobox/../../src/attributes/base.ts","webpack://mangobox/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://mangobox/../../src/attributes/color.ts","webpack://mangobox/../../src/attributes/opacity.ts","webpack://mangobox/../../src/attributes/position.ts","webpack://mangobox/../../src/attributes/shape.ts","webpack://mangobox/../../src/attributes/size.ts","webpack://mangobox/../../src/tick-method/register.ts","webpack://mangobox/../../src/category/base.ts","webpack://mangobox/../src/fecha.ts","webpack://mangobox/../../src/util/bisector.ts","webpack://mangobox/../../src/util/time.ts","webpack://mangobox/../../src/category/time.ts","webpack://mangobox/../../src/continuous/base.ts","webpack://mangobox/../../src/continuous/linear.ts","webpack://mangobox/../../src/util/math.ts","webpack://mangobox/../../src/continuous/log.ts","webpack://mangobox/../../src/continuous/pow.ts","webpack://mangobox/../../src/continuous/time.ts","webpack://mangobox/../../src/continuous/quantize.ts","webpack://mangobox/../../src/continuous/quantile.ts","webpack://mangobox/../../src/identity/index.ts","webpack://mangobox/../../src/tick-method/cat.ts","webpack://mangobox/../../src/util/d3-linear.ts","webpack://mangobox/../../src/util/interval.ts","webpack://mangobox/../../src/util/strict-limit.ts","webpack://mangobox/../../src/tick-method/d3-linear.ts","webpack://mangobox/../../src/util/pretty-number.ts","webpack://mangobox/../../src/util/extended.ts","webpack://mangobox/../../src/tick-method/linear.ts","webpack://mangobox/../../src/tick-method/log.ts","webpack://mangobox/../../src/util/pretty.ts","webpack://mangobox/../../src/tick-method/pow.ts","webpack://mangobox/../../src/tick-method/quantile.ts","webpack://mangobox/../../src/tick-method/r-prettry.ts","webpack://mangobox/../../src/tick-method/time.ts","webpack://mangobox/../../src/tick-method/time-cat.ts","webpack://mangobox/../../src/tick-method/time-pretty.ts","webpack://mangobox/../../src/tick-method/index.ts","webpack://mangobox/./node_modules/gl-matrix/esm/vec3.js","webpack://mangobox/../../src/coord/base.ts","webpack://mangobox/../../src/coord/cartesian.ts","webpack://mangobox/../../src/coord/helix.ts","webpack://mangobox/../../src/coord/polar.ts","webpack://mangobox/../../src/util/event.ts","webpack://mangobox/../../src/abstract/component.ts","webpack://mangobox/../../src/abstract/group-component.ts","webpack://mangobox/../../src/util/label.ts","webpack://mangobox/../../src/util/graphic.ts","webpack://mangobox/../../src/util/theme.ts","webpack://mangobox/../../src/annotation/line.ts","webpack://mangobox/../../src/annotation/text.ts","webpack://mangobox/../../src/annotation/arc.ts","webpack://mangobox/../../src/annotation/region.ts","webpack://mangobox/../../src/annotation/image.ts","webpack://mangobox/../../src/annotation/data-marker.ts","webpack://mangobox/../../src/annotation/data-region.ts","webpack://mangobox/../../src/annotation/region-filter.ts","webpack://mangobox/../../src/annotation/shape.ts","webpack://mangobox/../src/get-style.ts","webpack://mangobox/../src/get-width.ts","webpack://mangobox/../src/get-outer-width.ts","webpack://mangobox/../src/get-height.ts","webpack://mangobox/../src/get-outer-height.ts","webpack://mangobox/../../src/abstract/html-component.ts","webpack://mangobox/../../src/annotation/html.ts","webpack://mangobox/../../src/util/state.ts","webpack://mangobox/../../src/axis/base.ts","webpack://mangobox/../../../src/axis/overlap/auto-ellipsis.ts","webpack://mangobox/../../../src/axis/overlap/auto-hide.ts","webpack://mangobox/../../../src/axis/overlap/auto-rotate.ts","webpack://mangobox/../../src/axis/line.ts","webpack://mangobox/../../src/axis/circle.ts","webpack://mangobox/../../src/crosshair/base.ts","webpack://mangobox/../../src/crosshair/line.ts","webpack://mangobox/../../src/crosshair/circle.ts","webpack://mangobox/../../src/crosshair/css-const.ts","webpack://mangobox/../../src/crosshair/html-theme.ts","webpack://mangobox/../../src/crosshair/html.ts","webpack://mangobox/../../src/grid/base.ts","webpack://mangobox/../../src/grid/circle.ts","webpack://mangobox/../../src/grid/line.ts","webpack://mangobox/../../src/legend/base.ts","webpack://mangobox/../../src/legend/category.ts","webpack://mangobox/../../src/legend/continuous.ts","webpack://mangobox/../../src/tooltip/css-const.ts","webpack://mangobox/../../src/tooltip/html-theme.ts","webpack://mangobox/../../src/util/align.ts","webpack://mangobox/../../src/tooltip/html.ts","webpack://mangobox/../../src/trend/constant.ts","webpack://mangobox/../../src/trend/path.ts","webpack://mangobox/../../src/trend/trend.ts","webpack://mangobox/../../src/slider/handler.ts","webpack://mangobox/../../src/slider/constant.ts","webpack://mangobox/../../src/slider/slider.ts","webpack://mangobox/../src/add-event-listener.ts","webpack://mangobox/../../src/scrollbar/scrollbar.ts","webpack://mangobox/../src/dependents.ts","webpack://mangobox/../../src/util/graphics.ts","webpack://mangobox/../../src/util/helper.ts","webpack://mangobox/../../src/util/bbox.ts","webpack://mangobox/../../src/util/coordinate.ts","webpack://mangobox/../../src/util/scale.ts","webpack://mangobox/../../src/util/axis.ts","webpack://mangobox/../../src/facet/facet.ts","webpack://mangobox/../../src/facet/index.ts","webpack://mangobox/../../../src/interaction/action/base.ts","webpack://mangobox/../../../src/interaction/action/callback.ts","webpack://mangobox/../../../src/interaction/action/register.ts","webpack://mangobox/../../../src/geometry/shape/util/path.ts","webpack://mangobox/../../../src/interaction/action/util.ts","webpack://mangobox/../../src/interaction/context.ts","webpack://mangobox/../../src/interaction/interaction.ts","webpack://mangobox/../../src/interaction/grammar-interaction.ts","webpack://mangobox/../../src/interaction/index.ts","webpack://mangobox/../../../src/theme/util/create-by-style-sheet.ts","webpack://mangobox/../../../src/theme/style-sheet/light.ts","webpack://mangobox/../../../src/theme/util/create-theme.ts","webpack://mangobox/../../src/theme/index.ts","webpack://mangobox/../../src/util/tooltip.ts","webpack://mangobox/../../src/util/padding.ts","webpack://mangobox/../../../src/chart/controller/index.ts","webpack://mangobox/../../../src/chart/controller/coordinate.ts","webpack://mangobox/../../src/chart/event.ts","webpack://mangobox/../../../src/chart/layout/index.ts","webpack://mangobox/../../../src/chart/util/scale-pool.ts","webpack://mangobox/../../../src/chart/layout/padding-cal.ts","webpack://mangobox/../../../src/chart/layout/auto.ts","webpack://mangobox/../../../src/chart/util/sync-view-padding.ts","webpack://mangobox/../../src/chart/view.ts","webpack://mangobox/../../src/chart/chart.ts","webpack://mangobox/../../../src/chart/controller/base.ts","webpack://mangobox/../../../src/chart/controller/tooltip.ts","webpack://mangobox/../../../src/animate/animation/index.ts","webpack://mangobox/../../src/animate/index.ts","webpack://mangobox/../../../src/geometry/shape/constant.ts","webpack://mangobox/../../../src/geometry/element/index.ts","webpack://mangobox/../../../src/geometry/label/index.ts","webpack://mangobox/../../../src/geometry/shape/base.ts","webpack://mangobox/../../../src/geometry/util/group-data.ts","webpack://mangobox/../../../src/geometry/util/is-model-change.ts","webpack://mangobox/../../../src/geometry/util/parse-fields.ts","webpack://mangobox/../../../src/geometry/util/diff.ts","webpack://mangobox/../../src/geometry/base.ts","webpack://mangobox/../../src/util/transform.ts","webpack://mangobox/../../../src/geometry/label/util/index.ts","webpack://mangobox/../../src/component/update-label.ts","webpack://mangobox/../../src/component/labels.ts","webpack://mangobox/../../../src/geometry/label/base.ts","webpack://mangobox/../../src/util/attr.ts","webpack://mangobox/../../src/util/marker.ts","webpack://mangobox/../../src/util/legend.ts","webpack://mangobox/../../../src/geometry/shape/util/get-path-points.ts","webpack://mangobox/../../../src/geometry/shape/util/get-style.ts","webpack://mangobox/../../../src/geometry/shape/util/split-points.ts","webpack://mangobox/../../../src/geometry/shape/line/util.ts","webpack://mangobox/../../../src/geometry/shape/line/index.ts","webpack://mangobox/../../../src/theme/style-sheet/dark.ts","webpack://mangobox/../../src/util/parse.ts","webpack://mangobox/../../src/util/arc-params.ts","webpack://mangobox/../../src/util/arrow.ts","webpack://mangobox/../../src/util/draw.ts","webpack://mangobox/../../src/shape/base.ts","webpack://mangobox/../../src/shape/circle.ts","webpack://mangobox/../../src/shape/ellipse.ts","webpack://mangobox/../../src/shape/image.ts","webpack://mangobox/../../../src/util/in-stroke/line.ts","webpack://mangobox/../../src/shape/line.ts","webpack://mangobox/../../src/shape/marker.ts","webpack://mangobox/../../../src/util/in-path/point-in-path.ts","webpack://mangobox/../../../src/util/in-path/polygon.ts","webpack://mangobox/../../../src/util/in-stroke/arc.ts","webpack://mangobox/../../src/shape/path.ts","webpack://mangobox/../../../src/util/in-stroke/polyline.ts","webpack://mangobox/../../src/shape/polygon.ts","webpack://mangobox/../../src/shape/polyline.ts","webpack://mangobox/../../../src/util/in-stroke/rect.ts","webpack://mangobox/../../../src/util/in-stroke/rect-radius.ts","webpack://mangobox/../../src/shape/rect.ts","webpack://mangobox/../../src/shape/text.ts","webpack://mangobox/../../src/util/hit.ts","webpack://mangobox/../src/canvas.ts","webpack://mangobox/../../src/util/svg.ts","webpack://mangobox/../../src/shape/dom.ts","webpack://mangobox/../../../src/shape/marker/symbols.ts","webpack://mangobox/../../../src/shape/marker/index.ts","webpack://mangobox/../../src/util/format.ts","webpack://mangobox/../../src/defs/gradient.ts","webpack://mangobox/../../src/defs/shadow.ts","webpack://mangobox/../../src/defs/arrow.ts","webpack://mangobox/../../src/defs/clip.ts","webpack://mangobox/../../src/defs/pattern.ts","webpack://mangobox/../../src/defs/index.ts","webpack://mangobox/../../src/geometry/path.ts","webpack://mangobox/../../../src/geometry/shape/area/util.ts","webpack://mangobox/../../../src/geometry/shape/area/index.ts","webpack://mangobox/../../src/geometry/area.ts","webpack://mangobox/../../../src/geometry/shape/edge/index.ts","webpack://mangobox/../../src/geometry/edge.ts","webpack://mangobox/../../src/geometry/heatmap.ts","webpack://mangobox/../../../src/geometry/shape/interval/util.ts","webpack://mangobox/../../../src/geometry/shape/interval/index.ts","webpack://mangobox/../../../src/geometry/util/shape-size.ts","webpack://mangobox/../../src/geometry/interval.ts","webpack://mangobox/../../src/geometry/line.ts","webpack://mangobox/../../../src/geometry/shape/point/util.ts","webpack://mangobox/../../../src/geometry/shape/point/index.ts","webpack://mangobox/../../src/geometry/point.ts","webpack://mangobox/../../../src/geometry/shape/polygon/index.ts","webpack://mangobox/../../src/geometry/polygon.ts","webpack://mangobox/../../src/geometry/schema.ts","webpack://mangobox/../../../src/geometry/shape/schema/index.ts","webpack://mangobox/../../../src/geometry/shape/violin/index.ts","webpack://mangobox/../../src/geometry/violin.ts","webpack://mangobox/../../../src/geometry/shape/edge/util.ts","webpack://mangobox/../../../src/geometry/shape/edge/arc.ts","webpack://mangobox/../../../src/geometry/shape/edge/smooth.ts","webpack://mangobox/../../../src/geometry/shape/area/line.ts","webpack://mangobox/../../../src/geometry/shape/area/smooth.ts","webpack://mangobox/../../../src/geometry/shape/area/smooth-line.ts","webpack://mangobox/../../../src/geometry/shape/edge/vhv.ts","webpack://mangobox/../../../src/geometry/shape/interval/line.ts","webpack://mangobox/../../../src/geometry/shape/interval/tick.ts","webpack://mangobox/../../../src/geometry/shape/interval/funnel.ts","webpack://mangobox/../../../src/geometry/shape/interval/hollow-rect.ts","webpack://mangobox/../../../src/geometry/shape/interval/pyramid.ts","webpack://mangobox/../../../src/geometry/shape/line/step.ts","webpack://mangobox/../../../src/geometry/shape/schema/box.ts","webpack://mangobox/../../../src/geometry/shape/schema/candle.ts","webpack://mangobox/../../../src/geometry/shape/polygon/square.ts","webpack://mangobox/../../../src/geometry/shape/point/hollow.ts","webpack://mangobox/../../../src/geometry/shape/point/image.ts","webpack://mangobox/../../../src/geometry/shape/point/solid.ts","webpack://mangobox/../../../src/geometry/shape/violin/smooth.ts","webpack://mangobox/../../../src/geometry/shape/violin/hollow.ts","webpack://mangobox/../../../src/geometry/label/interval.ts","webpack://mangobox/../../../src/geometry/label/polar.ts","webpack://mangobox/../../../src/geometry/label/pie.ts","webpack://mangobox/../../../src/geometry/label/layout/pie/distribute.ts","webpack://mangobox/../../../src/geometry/label/layout/pie/util.ts","webpack://mangobox/../../../src/geometry/label/layout/pie/outer.ts","webpack://mangobox/../../../src/geometry/label/layout/pie/spider.ts","webpack://mangobox/../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://mangobox/../../../src/geometry/label/layout/limit-in-shape.ts","webpack://mangobox/../../../src/geometry/label/layout/overlap.ts","webpack://mangobox/../../src/util/collision-detect.ts","webpack://mangobox/../../../src/geometry/label/util/createWorker.ts","webpack://mangobox/../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://mangobox/../../../src/geometry/label/layout/hide-overlap.ts","webpack://mangobox/../../src/util/context.ts","webpack://mangobox/../../../src/geometry/label/layout/adjust-color.ts","webpack://mangobox/../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://mangobox/../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://mangobox/../../../src/geometry/label/layout/point/adjust-position.ts","webpack://mangobox/../../../src/geometry/label/layout/path/adjust-position.ts","webpack://mangobox/../../../src/geometry/label/layout/limit-in-plot.ts","webpack://mangobox/../../../src/animate/animation/fade.ts","webpack://mangobox/../../../src/animate/animation/util.ts","webpack://mangobox/../../../src/animate/animation/grow-in.ts","webpack://mangobox/../../../src/animate/animation/path-in.ts","webpack://mangobox/../../../src/animate/animation/position-update.ts","webpack://mangobox/../../../src/animate/animation/scale-in.ts","webpack://mangobox/../../../src/animate/animation/sector-path-update.ts","webpack://mangobox/../../../src/animate/animation/wave-in.ts","webpack://mangobox/../../../src/animate/animation/zoom.ts","webpack://mangobox/../../src/util/facet.ts","webpack://mangobox/../../src/facet/circle.ts","webpack://mangobox/../../src/facet/list.ts","webpack://mangobox/../../src/facet/matrix.ts","webpack://mangobox/../../src/facet/mirror.ts","webpack://mangobox/../../src/facet/rect.ts","webpack://mangobox/../../src/facet/tree.ts","webpack://mangobox/../../src/util/stat.ts","webpack://mangobox/../../src/util/annotation.ts","webpack://mangobox/../../../src/chart/controller/annotation.ts","webpack://mangobox/../../src/util/grid.ts","webpack://mangobox/../../../src/chart/controller/axis.ts","webpack://mangobox/../../src/util/direction.ts","webpack://mangobox/../../../src/chart/controller/legend.ts","webpack://mangobox/../../../src/chart/controller/slider.ts","webpack://mangobox/../../../src/chart/controller/scrollbar.ts","webpack://mangobox/../../../src/interaction/action/active-region.ts","webpack://mangobox/../../../src/interaction/action/component/tooltip/geometry.ts","webpack://mangobox/../../../src/interaction/action/component/tooltip/sibling.ts","webpack://mangobox/../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://mangobox/../../../src/interaction/action/element/state-base.ts","webpack://mangobox/../../../src/interaction/action/element/state.ts","webpack://mangobox/../../../src/interaction/action/element/active.ts","webpack://mangobox/../../../src/interaction/action/element/link-by-color.ts","webpack://mangobox/../../../src/interaction/action/element/range-state.ts","webpack://mangobox/../../../src/interaction/action/element/range-active.ts","webpack://mangobox/../../../src/interaction/action/element/single-state.ts","webpack://mangobox/../../../src/interaction/action/element/single-active.ts","webpack://mangobox/../../../src/interaction/action/element/highlight-util.ts","webpack://mangobox/../../../src/interaction/action/element/highlight.ts","webpack://mangobox/../../../src/interaction/action/element/range-highlight.ts","webpack://mangobox/../../../src/interaction/action/element/highlight-by-color.ts","webpack://mangobox/../../../src/interaction/action/element/highlight-by-x.ts","webpack://mangobox/../../../src/interaction/action/element/single-highlight.ts","webpack://mangobox/../../../src/interaction/action/element/range-selected.ts","webpack://mangobox/../../../src/interaction/action/element/selected.ts","webpack://mangobox/../../../src/interaction/action/element/single-selected.ts","webpack://mangobox/../../../src/interaction/action/component/list-state.ts","webpack://mangobox/../../../src/interaction/action/component/list-active.ts","webpack://mangobox/../../../src/interaction/action/component/list-highlight-util.ts","webpack://mangobox/../../../src/interaction/action/component/list-highlight.ts","webpack://mangobox/../../../src/interaction/action/component/list-selected.ts","webpack://mangobox/../../../src/interaction/action/component/list-unchecked.ts","webpack://mangobox/../../../src/interaction/action/component/list-checked.ts","webpack://mangobox/../../../src/interaction/action/component/list-focus.ts","webpack://mangobox/../../../src/interaction/action/component/list-radio.ts","webpack://mangobox/../../../src/interaction/action/mask/base.ts","webpack://mangobox/../../../src/interaction/action/mask/circle.ts","webpack://mangobox/../../../src/interaction/action/mask/rect.ts","webpack://mangobox/../../../src/interaction/action/mask/dim-rect.ts","webpack://mangobox/../../../src/interaction/action/data/range-filter.ts","webpack://mangobox/../../../src/interaction/action/mask/path.ts","webpack://mangobox/../../../src/interaction/action/mask/smooth-path.ts","webpack://mangobox/../../../src/interaction/action/cursor.ts","webpack://mangobox/../../../src/interaction/action/data/filter.ts","webpack://mangobox/../../../src/interaction/action/data/sibling-filter.ts","webpack://mangobox/../../../src/interaction/action/element/filter.ts","webpack://mangobox/../../../src/interaction/action/element/sibling-filter.ts","webpack://mangobox/../../../src/interaction/action/view/button.ts","webpack://mangobox/../../../src/interaction/action/view/drag.ts","webpack://mangobox/../../../src/interaction/action/view/move.ts","webpack://mangobox/../../../src/interaction/action/view/scale-transform.ts","webpack://mangobox/../../../src/interaction/action/view/scale-translate.ts","webpack://mangobox/../../../src/interaction/action/view/scale-zoom.ts","webpack://mangobox/../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://mangobox/../../../src/interaction/action/component/axis/axis-description.ts","webpack://mangobox/./src/components/detail-header.vue","webpack://mangobox/src/components/detail-header.vue","webpack://mangobox/./src/components/detail-header.vue?4ad8","webpack://mangobox/./src/components/detail-header.vue?eac6","webpack://mangobox/src/views/Details.vue","webpack://mangobox/./src/views/Details.vue?5805","webpack://mangobox/./src/views/Details.vue?c85f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"DetailsView\"},[_c('detailHeader',{attrs:{\"projectObj\":_vm.project}}),_c('div',{staticClass:\"DetailsView-content\"},[_c('div',{staticClass:\"left-content\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" VOLUME \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.volume)+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" IN TREASURY \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.volume)+\" \")])]),_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\" IN WALLET \")]),_c('strong',[_vm._v(\" \"+_vm._s(_vm.myTokenBalance)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tokenAddress && _vm.tokenOwner==_vm.$store.state.app.account),expression:\"!tokenAddress && tokenOwner==$store.state.app.account\"}],staticClass:\"mangobox-button\",staticStyle:{\"margin-top\":\"30px\",\"padding\":\"10px 0\"},on:{\"click\":function($event){_vm.isShowCreate=true}}},[_vm._v(\" Create Token \")]),_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tokenAddress && _vm.tokenOwner!=_vm.$store.state.app.account),expression:\"!tokenAddress && tokenOwner!=$store.state.app.account\"}],staticClass:\"not-begun\"},[_vm._v(\" Fund-raising has not begun \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tokenAddress),expression:\"tokenAddress\"}],staticClass:\"token-panel\"},[_c('h4',{staticClass:\"sub-title\"},[_vm._v(\" Tokens \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" Total supply \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.tokenSupply)+\"tokens \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" Your balance \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.myBalance)+\" tokens \")]),_c('div',{staticClass:\"mangobox-button\",staticStyle:{\"padding\":\"6px 10px\"},on:{\"click\":function($event){_vm.isShowManageToken = true}}},[_vm._v(\" Manage Token \")])]),_c('h4',{staticClass:\"sub-title\"},[_vm._v(\" Funding cycle #\"+_vm._s(parseInt(_vm.currentCycleInfo.number) +1)+\" \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" Distribution limit \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.currentCycleInfo.baseOn?_vm.currentCycleInfo.baseOn:\"Zero\")+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" Duration \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.currentCycleInfo.duration==0?\"Not set\":_vm.currentCycleInfo.duration)+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" discountRate \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.currentCycleInfo.discountRate)+\" \")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" weight \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.currentCycleInfo.weight)+\" \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tokenAddress),expression:\"tokenAddress\"}],staticClass:\"right-content\"},[_c('div',{staticClass:\"row\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.amount=$event.target.value}}})]),_c('strong',{staticStyle:{\"position\":\"absolute\",\"left\":\"270px\",\"top\":\"8px\"}},[_vm._v(\"USDT\")]),_c('div',{staticClass:\"mangobox-button\",staticStyle:{\"padding\":\"0 30px\"},on:{\"click\":_vm.pay}},[_vm._v(\" PAY \")])]),_c('div',[_vm._v(\" Receive \"),_c('strong',[_vm._v(\" \"+_vm._s(_vm.distributeAmountNumber)+\"/1USDT\")])]),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\" Activity \")]),_c('div',{staticClass:\"paid-list\"},_vm._l((_vm.PayRecord),function(item,index){return _c('div',{key:index,staticClass:\"paid-item\"},[_c('div',{staticClass:\"row paid-item-header\"},[_c('div',[_vm._v(\" Paid \")]),_c('div',[_vm._v(\" \"+_vm._s(item.time)+\" \")])]),_c('div',{staticClass:\"row paid-item-content\"},[_c('div',{staticClass:\"value\"},[_vm._v(\" $\"+_vm._s(item.value)+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(item.payer.substr(0, 6) + '...' + item.payer.substr(item.payer.length - 5, item.payer.length))+\" \")])])])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCreate),expression:\"isShowCreate\"}],staticClass:\"create-token-dialog\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"content animate__animated animate__bounceInLeft\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h1',[_vm._v(\"Create Token\")]),_c('h3',[_vm._v(\"Token Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tokenName),expression:\"tokenName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Token Name\"},domProps:{\"value\":(_vm.tokenName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.tokenName=$event.target.value}}}),_c('h3',[_vm._v(\"Token Symbol\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tokenSymbol),expression:\"tokenSymbol\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Token Symbol\"},domProps:{\"value\":(_vm.tokenSymbol)},on:{\"input\":function($event){if($event.target.composing)return;_vm.tokenSymbol=$event.target.value}}}),_c('div',{staticClass:\"operate-btns\"},[_c('div',{staticClass:\"mangobox-button\",on:{\"click\":_vm.issueTokenFor}},[_vm._v(\" Create \")]),_c('div',{staticClass:\"mangobox-button\",on:{\"click\":function($event){_vm.isShowCreate=false}}},[_vm._v(\" Cancel \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowMint),expression:\"isShowMint\"}],staticClass:\"create-token-dialog\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"content animate__animated animate__bounceInLeft\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h1',[_vm._v(\"Mint Token\")]),_c('h3',[_vm._v(\"Mint Amount\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mintAmount),expression:\"mintAmount\"}],attrs:{\"type\":\"text\",\"placeholder\":\"amount\"},domProps:{\"value\":(_vm.mintAmount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.mintAmount=$event.target.value}}}),_c('div',{staticClass:\"operate-btns\"},[_c('div',{staticClass:\"mangobox-button\",on:{\"click\":_vm.mintFor}},[_vm._v(\" Mint \")]),_c('div',{staticClass:\"mangobox-button\",on:{\"click\":function($event){_vm.isShowMint=false}}},[_vm._v(\" Cancel \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowManageToken),expression:\"isShowManageToken\"}],staticClass:\"create-token-dialog\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.isShowManageToken=false}}},[_vm._v(\" x \")]),_c('h1',[_vm._v(\" Manage your token\")]),_c('div',{staticClass:\"operate-box\",on:{\"click\":function($event){_vm.isShowBurn=true}}},[_c('h3',{staticClass:\"title\"},[_vm._v(\" Burn Token \")]),_c('div',{staticClass:\"info\"},[_vm._v(\" Burn your Token. You won't receive USDT in return because this project has no overflow. \")]),_vm._m(1)]),_c('div',{staticClass:\"operate-box\",on:{\"click\":function($event){_vm.isShowClaim=true}}},[_c('h3',{staticClass:\"title\"},[_vm._v(\" Claim Token as ERC-20 \")]),_c('div',{staticClass:\"info\"},[_vm._v(\" Move your Token from the Mangobox contract to your wallet. \")]),_vm._m(2)]),_c('div',{staticClass:\"operate-btns\"},[_c('div',{staticClass:\"mangobox-button\",on:{\"click\":function($event){_vm.isShowManageToken = false}}},[_vm._v(\" Cancel \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowBurn),expression:\"isShowBurn\"}],staticClass:\"create-token-dialog\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"content animate__animated animate__bounceInLeft\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h1',[_vm._v(\"Burn Token\")]),_c('h3',[_vm._v(\"Mint Amount\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.burnAmount),expression:\"burnAmount\"}],attrs:{\"type\":\"text\",\"placeholder\":\"burn amount\"},domProps:{\"value\":(_vm.burnAmount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.burnAmount=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.burnMemo),expression:\"burnMemo\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Memo(optional)\"},domProps:{\"value\":(_vm.burnMemo)},on:{\"input\":function($event){if($event.target.composing)return;_vm.burnMemo=$event.target.value}}}),_c('div',{staticClass:\"operate-btns\"},[_c('div',{staticClass:\"mangobox-button\",on:{\"click\":_vm.redeemTokensOf}},[_vm._v(\" Burn \")]),_c('div',{staticClass:\"mangobox-button\",on:{\"click\":function($event){_vm.isShowMint=false}}},[_vm._v(\" Cancel \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowClaim),expression:\"isShowClaim\"}],staticClass:\"create-token-dialog\"},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"content animate__animated animate__bounceInLeft\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('h1',[_vm._v(\"Claim Token\")]),_c('h3',[_vm._v(\"Mint Amount\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.claimAmount),expression:\"claimAmount\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Claim amount\"},domProps:{\"value\":(_vm.claimAmount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.claimAmount=$event.target.value}}}),_c('div',{staticClass:\"operate-btns\"},[_c('div',{staticClass:\"mangobox-button\",on:{\"click\":_vm.claimFor}},[_vm._v(\" Claim \")]),_c('div',{staticClass:\"mangobox-button\",on:{\"click\":function($event){_vm.isShowClaim=false}}},[_vm._v(\" Cancel \")])])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" DISTRIBUTED \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" 100% OVERFLOW \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":require(\"../imgs/caret-right.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":require(\"../imgs/caret-right.png\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * view 中三层 group 分层 key\n */\nexport enum LAYER {\n  /** 前景层 */\n  FORE = 'fore',\n  /** 中间层 */\n  MID = 'mid',\n  /** 背景层 */\n  BG = 'bg',\n}\n\n/**\n * 组件在画布的布局方位 12 方位\n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * 组件的类型，可能会影响到布局算法\n */\nexport enum COMPONENT_TYPE {\n  /** axis 组件 */\n  AXIS = 'axis',\n  /** grid 组件 */\n  GRID = 'grid',\n  /** legend 组件 */\n  LEGEND = 'legend',\n  /** tooltip 组件 */\n  TOOLTIP = 'tooltip',\n  /** annotation 组件 */\n  ANNOTATION = 'annotation',\n  /** 缩略轴组件 */\n  SLIDER = 'slider',\n  /** 滚动条组件 */\n  SCROLLBAR = 'scrollbar',\n  /** 其他组件，自定义组件 */\n  OTHER = 'other',\n}\n\n/**\n * 三层 group 的 z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View 的生命周期阶段（和 3.x 的生命周期略有不同）\n * 我们需要先确定在那写场景需要用到生命周期，如果只是为了在生命周期插入一下什么组件之类的，那么在现有架构就是不需要的\n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry 的生命周期\n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * 绘图区的事件列表\n */\nexport enum PLOT_EVENTS {\n  // mouse 事件\n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // 移动端事件\n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click 事件\n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element 图形交互状态\n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/** 参与分组的图形属性名 */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/** 存储原始数据的字段名 */\nexport const FIELD_ORIGIN = '_origin';\n/** 最小的图表宽度 */\nexport const MIN_CHART_WIDTH = 1;\n/** 最小的图表高度 */\nexport const MIN_CHART_HEIGHT = 1;\n/** 辅助组件占图表的尺寸的最大比例：如图表上方的图例最多占图表高度的25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,null,null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n * 通过名字获取渲染 engine\n * @param name 渲染引擎名字\n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * 注册渲染引擎\n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 Chart、View、Geometry 以及 Element 等的基类，提供事件以及一些通用的方法。\n */\nexport default class Base extends EE {\n  /** 是否可见 */\n  public visible: boolean;\n  /** 标识对象是否已销毁 */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * 显示。\n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * 隐藏。\n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * 销毁。\n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * 显示或者隐藏。\n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/* 依赖的模块，在这里统一引入，方便打包优化 */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n// 需要有 G-base 提供 g engine 类型定义\nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// 获取图形的包围盒\nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * 根据弧度计算极坐标系下的坐标点\n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n * 根据起始角度计算绘制扇形的 path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // 整个圆是分割成两个圆\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n * 从数据模型中的 points 换算角度\n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // 普通色块图，xs 和 ys 是数值\n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  // 当这个 polygon 的点在一条线上的时候\n  // 也就是说 xs 里面的值都相同，比如：[1, 1, 1, 1]\n  // 或者说 ys 里面的值都相同，比如：[0, 0, 0, 0]\n  // 下面计算得到的 k = 0\n  // 导致返回的值是 [NaN, NaN]\n  // 所以这里做相应的处理\n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n * 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * 用于包围盒计算。\n */\nexport class BBox {\n  /** x 轴坐标系 */\n  public x: number;\n  /** y 轴坐标系 */\n  public y: number;\n  /** 包围盒高度 */\n  public height: number;\n  /** 包围盒宽度 */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end 计算属性\n\n  /**\n   * 包围盒是否相等\n   * @param {BBox} bbox 包围盒\n   * @returns      包围盒是否相等\n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * 是否包含了另一个包围盒\n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * 克隆包围盒\n   * @returns 包围盒\n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * 取并集\n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * 取交集\n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox 剪裁\n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // 其他情况不裁剪，原样返回\n        return this;\n    }\n  }\n\n  /**\n   * 收缩形成新的\n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * 扩张形成新的\n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * 是否碰撞\n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * 获取包围盒大小\n   * @returns 包围盒大小\n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   * 点是否在 bbox 中\n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n * 从一个 bbox 的 region 获取 bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n * 将 bbox 转换成 points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    // 极坐标系下 width 为弧长\n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // 直角坐标系\n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  // 坐标系有可能发生 transpose 等变换，所有通过两点之间的距离进行计算\n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * 获取当前点到坐标系圆心的距离\n * @param coordinate 坐标系\n * @param point 当前点\n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * 坐标点是否在坐标系中\n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * 获取点到圆心的连线与水平方向的夹角\n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * 获取同坐标系范围相同的剪切区域\n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n * 获取坐标系范围的 BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * 获取字段对应数据的类型\n * @param field 数据字段名\n * @param data 数据源\n * @returns default type 返回对应的数据类型\n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale 直接返回\n  // geometry 类型有: edge,heatmap,interval,line,path,point,polygon,schema,voilin等；理论上，interval 下，可以用 linear scale 作为分组字段\n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n * 为指定的 `field` 字段数据创建 scale\n * @param field 字段名\n * @param [data] 数据集，可为空\n * @param [scaleDef] 列定义，可为空\n * @returns scale 返回创建的 Scale 实例\n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  // 如果已经定义过这个度量 (fix-later 单纯从数据中，推断 scale type 是不精确的)\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n * 同步 scale\n * @todo 是否可以通过 scale.update() 方法进行更新\n * @param scale 需要同步的 scale 实例\n * @param newScale 同步源 Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n * 根据 scale values 和 coordinate 获取分类默认 range\n * @param scale 需要获取的 scale 实例\n * @param coordinate coordinate 实例\n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // 只有一个分类时,防止计算出现 [0.5,0.5] 的状态\n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // 两边留下分类空间的一半\n      range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n    }\n  }\n  return range;\n}\n\n/**\n * @function y轴scale的max\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // 过滤values[]中 NaN/undefined/null 等\n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // 垂直\n  if (isAxisVertical) {\n    // 左方,从下到上、右方,从上到下\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // 下方,从左到右、上方,从右到做\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis title，mix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * 从配置中获取单个字段的 axis 配置\n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n * 如果配置了 position，则使用配置\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n * 获取 axis 的 title 文本\n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n *\n * 销毁阶段 destroy\n * 1. clear\n * 2. 清除事件\n * 3. 清除 group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /** 分面所在的 view */\n  public view: View;\n  /** 分面容器 */\n  public container: IGroup;\n  /** 是否销毁 */\n  public destroyed: boolean = false;\n\n  /** 分面的配置项 */\n  protected cfg: C;\n  /** 分面之后的所有分面数据结构 */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * 初始化过程\n   */\n  public init() {\n    // 初始化容器\n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // 生成分面布局信息\n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   * 渲染分面，由上层 view 调用。包括：\n   *  - 分面 view\n   *  - 轴\n   *  - title\n   *\n   *  子类可以复写，添加一些其他组件，比如滚动条等\n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   * 更新 facet\n   */\n  public update() {\n    // 其实不用做任何事情，因为 facet 最终生成的 View 和 Geometry 都在父 view 的更新中处理了\n  }\n\n  /**\n   * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n   * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * 销毁\n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   * 根据 facet 生成 view，可以给上层自定义使用\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // 设置分面的数据\n    view.data(data || []);\n    facet.view = view;\n\n    // 前置钩子\n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // 后置钩子\n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // 创建容器\n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   * 初始化 view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   * 创建 分面 view\n   */\n  private createFacetViews(): View[] {\n    // 使用分面数据 创建分面 view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   * 从 view 中清除 facetView\n   */\n  private clearFacetViews() {\n    // 从 view 中移除分面 view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   * 解析 spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // 仅使用百分比或像素值\n     * // 横向间隔为 10%，纵向间隔为 10%\n     * ['10%', '10%']\n     * // 横向间隔为 10px，纵向间隔为 10px\n     * [10, 10]\n     *\n     * // 同时使用百分比和像素值\n     * ['10%', 10]\n     * // 横向间隔为 10%，纵向间隔为 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // 其他一些提供给子类使用的方法\n\n  /**\n   * 获取这个字段对应的所有值，数组\n   * @protected\n   * @param data 数据\n   * @param field 字段名\n   * @return 字段对应的值\n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    // 去重、去除 Nil 值\n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   * 获得每个分面的 region，平分区域\n   * @param rows row 总数\n   * @param cols col 总数\n   * @param xIndex x 方向 index\n   * @param yIndex y 方向 index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // 每两个分面区域横向间隔xSPacing, 纵向间隔ySpacing\n    // 每个分面区域的横纵占比\n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num 对应 cols/rows\n     * spacing 对应 xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    // 得到第 index 个分面区域百分比位置\n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   * 默认的 title 样式，因为有的分面是 title，有的分面配置是 columnTitle、rowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   * 处理 axis 的默认配置\n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * 获取分面数据\n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // 过滤出全部满足条件的数据\n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override 开始处理 eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override 处理 eachView 之后\n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override 生成分面数据，包含布局\n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   * 获取 x 轴的配置\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   * 获取 y 轴的配置\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n * 所有的 Facet 类\n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n * 根据 type 获取 facet 类\n * @param type 分面类型\n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n * 注册一个 Facet 类\n * @param type 分面类型\n * @param ctor 分面类\n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action 的基类\n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action 名字 */\n  public name;\n  /** 上下文对象 */\n  public context: IInteractionContext;\n  /** Action 配置 */\n  protected cfg: T;\n  /** 配置项的字段，自动负值到 this 上 */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * 设置配置项传入的值\n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action，提供给子类用于继承\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    // 移除 action\n    this.context.removeAction(this);\n    // 清空\n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/** 回调函数构建的 Action */\nexport default class CallbackAction extends Action {\n  /**\n   * 回调函数\n   */\n  public callback: ActionCallback;\n  /**\n   * 执行\n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * 销毁\n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action 构造函数 */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action 类的缓存\nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n * 根据名称获取 Action 实例\n * @param actionName - action 的名称\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n * 根据 action 的 name 获取定义的类\n * @param actionName action 的 name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n * 注册 Action\n * @param actionName - action 的名称\n * @param ActionClass - 继承自 action 的类\n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n * 取消注册 Action\n * @param actionName action 名称\n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n * 根据回调函数获取 Action 实例\n * @param callback - action 的回调函数\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n  const flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * 计算光滑的贝塞尔曲线\n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // 下一个控制点必须在这个点和下一个点之间\n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      // 重新计算 cp1 的值\n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // 上一个控制点必须要在上一个点和这一个点之间\n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      // 重新计算 nextCp0 的值\n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * 贝塞尔曲线\n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * 将点连接成路径 path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * 根据关键点获取限定了范围的平滑线\n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // 范围\n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * 将归一化后的路径数据转换成坐标\n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * 将路径转换为极坐标下的真实路径\n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // 是否半径相同，转换成圆弧\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  // 如果 bbox 过小则不返回\n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  // 如果 bbox 过小则不返回\n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * 获取当前事件相关的图表元素\n * @param context 交互的上下文\n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * 获取委托对象\n * @param context 上下文\n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  // 在同一个 element 内部移动，label 和 shape 之间\n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * 是否是列表组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * 是否是滑块组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n * 是否由 mask 触发\n * @param context 上下文\n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n * 获取被遮挡的 elements\n * @param context 上下文\n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  // 如果 bbox 过小则不返回\n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  // 如果 bbox 过小则不返回\n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @param field 字段名\n * @param value 字段值\n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * 根据状态名获取图表元素\n * @param view View/Chart\n * @param stateName 状态名\n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * 两个包围盒是否相交\n * @param box1 包围盒1\n * @param box2 包围盒2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param box 包围盒\n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param path 路径\n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n * 获取当前 View 的所有组件\n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * 检测点是否在包围盒内\n * @param box 包围盒\n * @param point 点\n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n * 获取同 view 同一级的 views\n * @param view 当前 view\n * @returns 同一级的 views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n * 将 view 上的一点转换成另一个 view 的点\n * @param view 当前的 view\n * @param sibling 同一层级的 view\n * @param point 指定点\n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n * 是否在记录中，临时因为所有的 view 中的数据不是引用，而使用的方法\n * 不同 view 上对数据的引用不相等，导致无法直接用 includes\n * 假设 x, y 值相等时是同一条数据，这个假设不完全正确，而改成 isEqual 则成本太高\n * 后面改成同一个引用时可以修改回来\n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n// 级联获取 field 对应的 scale，如果 view 上没有，遍历子 view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // 终止循环\n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * 交互的上下文\n */\nexport default class Context implements IInteractionContext {\n  /** 当前所有的 Action */\n  public actions: IAction[] = [];\n  /** 当前 View 实例 */\n  public view: View;\n  /** 当前事件对象 */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * 缓存信息\n   * @param params 缓存的字段\n   *  - 如果一个字段则获取缓存\n   *  - 两个字段则设置缓存\n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   * 获取 Action\n   * @param name Action 的名称\n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   * 获取 Action\n   * @param action Action 对象\n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   * 移除 Action\n   * @param action Action 对象\n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * 获取当前的点\n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 获取当前 shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   * 当前的触发是否在 View 内\n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * 是否在指定的图形内\n   * @param name shape 的 name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); // 不再考虑在 shape 的 parent 内的情况\n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * 当前的触发是组件内部\n   * @param name 组件名，可以为空\n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * 销毁\n   */\n  public destroy() {\n    // 先销毁 action 再清空，一边遍历，一边删除，所以数组需要更新引用\n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * 交互的基类。\n */\nexport default class Interaction {\n  /** view 或者 chart */\n  protected view: View;\n  /** 配置项 */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * 初始化。\n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * 绑定事件\n   */\n  protected initEvents() {}\n\n  /**\n   * 销毁事件\n   */\n  protected clearEvents() {}\n\n  /**\n   * 销毁。\n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n// 将字符串转换成 action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  // 如果已经初始化过 action ，则直接引用之前的 action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n// 执行 Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/** 交互环节的定义 */\nexport interface InteractionStep {\n  /**\n   * 触发事件，支持 view，chart 的各种事件，也支持 document、window 的事件\n   */\n  trigger: string;\n  /**\n   * 是否可以触发 action\n   * @param context - 交互的上下文\n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * 反馈，支持三种方式：\n   * - action:method : action 的名字和方法的组合\n   * - [’action1:method1‘, ’action2:method‘]\n   * - ActionCallback: 回调函数\n   */\n  action: string | string[] | ActionCallback;\n  /**\n   * 反馈，具体 action method 的参数：\n   * - 当传递多个 action 时，args 必须是一个数组\n   */\n  arg?: any | any[];\n  /**\n   * 回调函数，action 执行后执行\n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * 不需要用户传入，通过上面的属性计算出来的属性\n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * 在一个环节内是否只允许执行一次\n   */\n  once?: boolean;\n  /**\n   * 是否增加节流\n   */\n  throttle?: ThrottleOption;\n  /**\n   * 是否延迟\n   */\n  debounce?: DebounceOption;\n}\n\n// action 执行时支持 debounce 和 throttle，可以参考：https://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce 的配置\n */\nexport interface DebounceOption {\n  /**\n   * 等待时间\n   */\n  wait: number;\n  /**\n   * 是否马上执行\n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle 的配置\n */\nexport interface ThrottleOption {\n  /**\n   * 等待时间\n   */\n  wait: number;\n  /**\n   * 马上就执行\n   */\n  leading?: boolean;\n  /**\n   * 执行完毕后再执行一次\n   */\n  trailing?: boolean;\n}\n\n/** 缓存 action 对象，仅用于当前文件 */\ninterface ActionObject {\n  /**\n   * 缓存的 action\n   */\n  action: IAction;\n  /**\n   * action 的方法\n   */\n  methodName: string;\n  /**\n   * 用户传递的 action 方法的参数\n   */\n  arg?: any;\n}\n\n/** 交互的所有环节 */\nexport interface InteractionSteps {\n  /**\n   * 显示交互可以进行\n   */\n  showEnable?: InteractionStep[];\n  /**\n   * 交互开始\n   */\n  start?: InteractionStep[];\n  /**\n   * 交互持续\n   */\n  processing?: InteractionStep[];\n  /**\n   * 交互结束\n   */\n  end?: InteractionStep[];\n  /**\n   * 交互回滚\n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * 支持语法的交互类\n */\nexport default class GrammarInteraction extends Interaction {\n  // 存储的交互环节\n  private steps: InteractionSteps;\n  /** 当前执行到的阶段 */\n  public currentStepName: string;\n  /**\n   * 当前交互的上下文\n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // 某个触发和反馈在本环节是否执行或\n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * 初始化\n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * 清理资源\n   */\n  public destroy() {\n    super.destroy(); // 先清理事件\n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * 绑定事件\n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          // 如果存在 callback，才绑定，有时候会出现无 callback 的情况\n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * 清理绑定的事件\n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  // 初始化上下文，并初始化 action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    // 生成具体的 Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          // 如果传入回调函数，则直接生成 CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // 如果是字符串\n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // 如果是数组\n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        // 如果 action 既不是字符串，也不是函数，则不会生成 actionObject\n      });\n    });\n  }\n\n  // 是否允许指定阶段名称执行\n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // 相同的阶段允许同时执行\n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // 示能在整个过程中都可用\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      // 只有当前是 start 时，才允许 processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      // 如果当前是 processing，则无法 start，必须等待 end 后才能执行\n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        // 如果定义了 end, 只有 end 时才允许回滚\n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        // 如果未定义 end, 则判断是否是开始\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // 具体的指定阶段是否允许执行\n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // 如果是在本环节内仅允许触发一次，同时已经触发过，则不允许再触发\n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      // 如果是允许的阶段，则验证 isEnable 方法\n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; // 如果没有 isEnable 则允许执行\n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // 清除所有本环节触发的缓存\n  }\n\n  // 执行完某个触发和反馈（子环节）\n  private afterExecute(stepName: string, step) {\n    // show enable 不计入正常的流程，其他情况则设置当前的 step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // 一旦执行，则缓存标记为，一直保持到跳出改环节\n    this.emitCaches[key] = true;\n  }\n  // 获取某个环节的唯一的键值\n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  // 获取 step 的回调函数，如果已经生成，则直接返回，如果未生成，则创建\n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        // 动态生成执行的方法，执行对应 action 的名称\n        const actionCallback = (event) => {\n          context.event = event; // 保证检测时的 event\n          if (this.isAllowExecute(stepName, step)) {\n            // 如果是数组时，则依次执行\n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; // 可能触发新的事件，保证执行前的 context.event 是正确的\n                executeAction(obj);\n              });\n            } else {\n              context.event = event; // 保证执行前的 context.event 是正确的\n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; // 保证执行前的 context.event 是正确的\n              step.callback(context);\n            }\n          } else {\n            // 如果未通过验证，则事件不要绑定在上面\n            context.event = null;\n          }\n        };\n        // 如果设置了 debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          // 设置 throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // 直接设置\n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n * 根据样式表创建 axis 组件主题样式\n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // 默认刻度线和文本对齐\n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n * 根据样式表创建 legend 组件主题样式\n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, // 如果右边有 value 使用这个间距\n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // 图例组件自己的外边距\n  };\n}\n\n/**\n * 根据主题样式表生成主题结构\n * @param styleSheet 主题样式表\n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // 兼容Theme配置\n    /** 一般柱状图宽度占比，geometry中已添加默认值，为了geometry配置生效默认值为null */\n    columnWidthRatio: 1 / 2,\n    /** 柱状图最大宽度 */\n    maxColumnWidth: null,\n    /** 柱状图最小宽度 */\n    minColumnWidth: null,\n    /** 玫瑰图占比 */\n    roseWidthRatio: 0.9999999,\n    /** 多层饼图/环图占比 */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, // 文本和 rail 的间距\n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom 样式\n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // 辅助框的图形样式属性\n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // 高亮的颜色\n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/** 单色顺序色板 */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /** 图表背景色 */\n    backgroundColor: 'transparent',\n    /** 主题色 */\n    brandColor,\n    /** 图表辅助色 */\n    subColor: 'rgba(0,0,0,0.05)',\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** (单色)顺序色板 */\n    paletteSequence: SINGLE_SEQUENCE,\n    /** 字体 */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 1,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴标题距离坐标轴文本的间距 */\n    axisTitleSpacing: 12,\n    /** 坐标轴标题详细说明icon颜色 */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 1,\n\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 1,\n\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴刻度文本距离坐标轴线的间距 */\n    axisLabelOffset: 8,\n\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 1,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n\n    /** 图例 marker 颜色 */\n    legendMarkerColor: brandColor,\n    /** 图例 marker 距离图例文本的间距 */\n    legendMarkerSpacing: 8,\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 图例项之间的水平间距 */\n    legendItemSpacing: 24,\n    /** 图例项垂直方向的间隔 */\n    legendItemMarginBottom: 12,\n    /** 图例与图表绘图区域的偏移距离  */\n    legendPadding: [8, 8, 8, 8],\n    /** 水平布局的图例与绘图区域偏移距离 */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /** 垂直布局的图例与绘图区域偏移距离 */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // 图例分页器\n    /** 图例分页器 marker 大小 */\n    legendPageNavigatorMarkerSize: 12,\n    /** 图例分页器 marker 非激活状态填充色 */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /** 图例分页器 marker 非激活状态填充色透明度 */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /** 图例分页器 marker 填充色 */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /** 图例分页器 marker 填充色透明度 */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /** 图例分页器文本颜色 */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /** 图例分页器文本字体大小 */\n    legendPageNavigatorTextFontSize: 12,\n\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 1,\n\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 1,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: null,\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 0,\n\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: null,\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 0,\n\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel 文本颜色 */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel 文本字体大小 */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel 文本行高 */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel 文本字体粗细 */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel 文本描边颜色 */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel 文本描边粗细 */\n    overflowLabelBorder: 1,\n\n    /** Geometry label 文本连接线粗细 */\n    labelLineBorder: 1,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider 组件样式--------------------\n    /** slider 滑道高度 */\n    cSliderRailHieght: 16,\n    /** slider 滑道背景色 */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider 滑道背景色透明度 */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider 滑道前景色 */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider 滑道前景色透明度 */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle 手柄样式\n    /** slider 手柄高度 */\n    cSliderHandlerHeight: 24,\n    /** Slider 手柄宽度 */\n    cSliderHandlerWidth: 10,\n    /** Slider 手柄背景色 */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider 手柄背景色透明度 */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider 手柄高亮背景色 */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider 手柄边框色 */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider 手柄边框粗细 */\n    cSliderHandlerBorder: 1,\n    /** Slider 手柄边框圆角 */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle 字体标签样式\n    /** Slider 字体标签颜色 */\n    cSliderTextFillColor: '#000',\n    /** Slider 字体标签透明度 */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider 字体标签大小 */\n    cSliderTextFontSize: 12,\n    /** Slider 字体标签行高 */\n    cSliderTextLineHeight: 12,\n    /** Slider 字体标签字重 */\n    cSliderTextFontWeight: 'normal',\n    /** Slider 字体标签描边色 */\n    cSliderTextBorderColor: null,\n    /** Slider 字体标签描边粗细 */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar 组件样式--------------------\n    /** 滚动条 滚道填充色 */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /** 滚动条 滑块填充色 */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /** 滚动条 滑块高亮填充色 */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: brandColor,\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: brandColor,\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: brandColor,\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area 填充颜色 */\n    areaFillColor: brandColor,\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval 填充颜色 */\n    intervalFillColor: brandColor,\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  // ① 创建样式表 (默认创建 light 的样式表)\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  // ② 创建主题\n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// 所有已经存在的主题\nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * 获取主题配置信息。\n * @param theme 主题名\n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * 注册新的主题配置信息。\n * @param theme 主题名。\n * @param value 具体的主题配置。\n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理\n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values 是无序的\n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    // 时间类型需要 translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n * 获得 tooltip 的 title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  // 如果创建了该字段对应的 scale，则通过 scale.getText() 方式取值，因为用户可能对数据进行了格式化\n  // 如果没有对应的 scale，则从原始数据中取值，如果原始数据中仍不存在，则直接放回 title 值\n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        // 如果指定字段是非 position 的，同时是连续的\n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n// 根据原始数据获取 tooltip item 中 name 值\nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // 如果存在分组类型，取第一个分组类型\n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  // 热力图采用最小逼近策略查找 point 击中的数据\n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    // 将 point 画布坐标转换为原始数据值\n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // 转换成归一化的数据\n    const x = xScale.invert(invertPoint.x); // 转换为原始值\n    const y = yScale.invert(invertPoint.y); // 转换为原始值\n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  // 其他 Geometry 类型按照 x 字段数据进行查找\n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n\n  // 如果 x 的值是数组\n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue 在 originData[xField] 的数值区间内\n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // 层叠直方图场景，x 和 y 都是数组区间\n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // 不在数据范围内\n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // 计算最逼近的\n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // 每个分类间的平均间距\n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      // 值为 null的时候，忽视\n      const item = {\n        title: tooltipTitle,\n        data: originData, // 原始数据\n        mappingData: data, // 映射后的数据\n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // 用户定义了回调函数\n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // 原始数据\n        mappingData: data, // 映射后的数据\n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, // 默认展示 marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // 字段数据为null, undefined 时不显示\n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // 字段数据为null ,undefined时不显示\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); // 先进行排序，便于 tooltip 查找\n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap 没有 Element\n          // 如果图形元素隐藏了，怎不再 tooltip 上展示相关数据\n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * 不进行递归查找\n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  // 先从 view 本身查找\n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry 可见同时未关闭 tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // 始终通过图形拾取\n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        // 如果是 'area', 'line', 'path'，始终通过数据查找方法查找 tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry 有可能会有多个 item，因为用户可以设置 geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // 递归查找，并合并结果\n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n * 是否是自动 padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding 的解析逻辑\n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // 其他情况，只去四个\n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * 全局注册组件。\n * @param name 组件名称\n * @param plugin 注册的组件类\n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * 删除全局组件。\n * @param name 组件名\n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * 获取以注册的组件名。\n * @returns string[] 返回已注册的组件名称\n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * 根据组件名获取组件类。\n * @param name 组件名\n * @returns 返回组件类\n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller，职责：\n * 1. 创建实例\n * 2. 暂存配置\n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // 设置默认值，并存储配置\n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * 更新配置\n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   * 是否存在某一个 action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * 创建坐标系对象\n   * @param start 起始位置\n   * @param end   结束位置\n   * @return 坐标系实例\n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. 起始位置\n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. 创建实例\n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate 包问题导致 type 不正确\n    this.coordinate.type = type;\n\n    // 3. 添加默认 action\n    if (isTheta) {\n      // 不存在 transpose，为其自动设置一个 action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4. 执行 action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * 更新坐标系对象\n   * @param start 起始位置\n   * @param end   结束位置\n   * @return 坐标系实例\n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // 更新坐标系大小的时候，需要：\n    // 1. 重置 matrix\n    // 2. 重新执行作用于 matrix 的 action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * 旋转弧度\n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * 镜像\n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * 对角变换\n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * 获取配置\n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   * 获得 coordinate 实例\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * 包装配置的默认值\n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate 实例执行 actions\n   * @params includeActions 如果没有指定，则执行全部，否则，执行指定的 action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2 事件的事件包装类，基于 G.Event\n */\nexport default class Event {\n  /** 当前 target 归属的 view 实例 */\n  public view: View;\n  /** 被包装的原生 G 事件 */\n  public gEvent: GEvent;\n  /** 原始数据 */\n  public data?: Datum;\n  /** 事件类型 */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * 非交互产生的事件\n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G 中事件定义为 object 不正确，这里先 ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /** 获取对应的 dom 原生时间 */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x 画布坐标 */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y 画布坐标 */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x 窗口坐标 */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y 窗口坐标 */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// 布局函数的定义\n// 布局函数的职责：根据 view 中组件信息，计算出最终的图形 padding 数值，以及最终各个组件的布局和位置\nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2 默认提供的 layout 函数\n * 内置布局函数处理的逻辑：\n *\n * 1. 如果 padding = 'auto'，那么自动根据组件的 direction 来计算 padding 数组\n * 2. 根据 padding 和 direction 去分配对应方向的 padding 数值\n * 3. 移动组件位置\n *\n * 前面 1，2 步骤在 view 中已经做掉了。对于组件响应式布局，可以尝试使用约束布局的方式去求解位置信息。\n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  // 根据最新的 coordinate 重新布局组件\n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view 中缓存 scale 的类\n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /** 所有的 scales */\n  private scales = new Map<string, ScaleMeta>();\n  /** 需要同步的 scale 分组， key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   * 创建 scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      // 在更新过程中数据变为空，同时 key 对应的 scale 已存在则保持 scale 同类型\n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        // 如果是分类类型，保持 values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // 缓存起来\n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   * 同步 scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    // 对于 syncScales 中每一个 syncKey 下面的 scale 数组进行同步处理\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. 遍历求得最大最小值，values 等\n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // 去重\n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. 同步\n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          // 存在 value 值，且用户没有配置 range 配置 to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            // 更新 range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   * 缓存一个 scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1. 缓存到 scales\n\n    let sm = this.getScaleMeta(key);\n    // 存在则更新，同时检测类型是否一致\n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      // 更新 scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2. 缓存到 syncScales，构造 Record<sync, string[]> 数据结构\n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; // 设置 sync 同步的 key\n\n    // 因为存在更新 scale 机制，所以在缓存之前，先从原 syncScales 中去除 sync 的缓存引用\n    this.removeFromSyncScales(key);\n\n    // 存在 sync 标记才进行 sync\n    if (syncKey) {\n      // 不存在这个 syncKey，则创建一个空数组\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   * 通过 key 获取 scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   * 在 view 销毁的时候，删除 scale 实例，防止内存泄露\n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // 移除同步的关系\n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    // 删除 scale 实例\n    this.scales.delete(key);\n  }\n\n  /**\n   * 清空\n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   * 删除 sync scale 引用\n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // 删除空数组值\n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // 跳出循环\n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    // 如果 sync = true，则直接使用字段名作为 syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   * 通过 key 获取 scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * 使用静态方法创建一个\n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   * 初始的 padding 数据\n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * 取最大区间\n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   * 四周增加 padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   * 在某一个方向增加 padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * 获得最终的 padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone 一个 padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n * 根据 view 中的组件，计算实际的 padding 数值\n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  // 如果不是 auto padding，那么直接解析之后返回\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  // 是 auto padding，根据组件的情况，来计算 padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  // 进行坐标轴布局，应该是取 padding 的并集，而不是进行相加\n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    // 在对组件分组之后，先对 axis 进行处理，然后取最大的超出即可。\n    paddingCal.max(exceed);\n  });\n\n  // 有 padding 的组件布局\n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    // 按照方向计算 padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // 其他组件布局\n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    // 按照方向计算 padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n * 默认的 syncViewPadding 逻辑\n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  // 所有的 view 的 autoPadding 指向同一个引用\n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2 视图 View 类\n */\nexport class View extends Base {\n  /** view id，全局唯一。 */\n  public id: string;\n  /** 父级 view，如果没有父级，则为空。 */\n  public parent: View;\n  /** 所有的子 view。 */\n  public views: View[] = [];\n  /** 所有的 geometry 实例。 */\n  public geometries: Geometry[] = [];\n  /** 所有的组件 controllers。 */\n  public controllers: Controller[] = [];\n  /** 所有的 Interaction 实例。 */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view 区域空间。 */\n  public viewBBox: BBox;\n  /** 坐标系的位置大小，ViewBBox - padding = coordinateBBox。 */\n  public coordinateBBox: BBox;\n  /** view 的 padding 大小，传入的配置（不是解析之后的值）。 */\n  public padding: ViewPadding;\n  /** padding的基础上增加的调整值 */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas 实例。 */\n  public canvas: ICanvas;\n  /** 存储最终计算的 padding 结果 */\n  public autoPadding: PaddingCal;\n\n  /** 三层 Group 图形中的背景层。 */\n  public backgroundGroup: IGroup;\n  /** 三层 Group 图形中的中间层。 */\n  public middleGroup: IGroup;\n  /** 三层 Group 图形中的前景层。 */\n  public foregroundGroup: IGroup;\n  /** 是否对超出坐标系范围的 Geometry 进行剪切 */\n  public limitInPlot: boolean = false;\n\n  /**\n   * 标记 view 的大小位置范围，均是 0 ~ 1 范围，便于开发者使用，起始点为左上角。\n   */\n  protected region: Region;\n  /** 主题配置，存储当前主题配置。 */\n  protected themeObject: LooseObject;\n\n  // 配置信息存储\n  protected options: Options = {\n    data: [],\n    animate: true, // 默认开启动画\n  }; // 初始化为空\n\n  /** 过滤之后的数据 */\n  protected filteredData: Data;\n\n  /** 配置开启的组件插件，默认为全局配置的组件。 */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /** 所有的 scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /** 布局函数 */\n  protected layoutFunc: Layout = defaultLayout;\n  /** 生成的坐标系实例，{@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate 相关的控制器类，负责坐标系实例的创建、更新、变换等 */\n  protected coordinateController: CoordinateController;\n  /** 分面类实例 */\n  protected facetInstance: Facet;\n\n  /** 当前鼠标是否在 plot 内（CoordinateBBox） */\n  private isPreMouseInPlot: boolean = false;\n  /** 默认标识位，用于判定数据是否更新 */\n  private isDataChanged: boolean = false;\n  /** 用于判断坐标系范围是否发生变化的标志位 */\n  private isCoordinateChanged: boolean = false;\n  /** 从当前这个 view 创建的 scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /** 背景色样式的 shape */\n  private backgroundStyleRectShape;\n  /** 是否同步子 view 的 padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    // 接受父 view 传入的参数\n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    // 初始化 theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   * 设置 layout 布局函数\n   * @param layout 布局函数\n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * 生命周期：初始化\n   * @returns voids\n   */\n  public init() {\n    // 计算画布的 viewBBox\n    this.calculateViewBBox();\n\n    // 事件委托机制\n    this.initEvents();\n\n    // 初始化组件 controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * 生命周期：渲染流程，渲染过程需要处理数据更新的情况。\n   * render 函数仅仅会处理 view 和子 view。\n   * @param isUpdate 是否触发更新流程。\n   * @param params render 事件参数\n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // 递归渲染\n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      // 用户在初始化的时候声明 visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * 生命周期：清空图表上所有的绘制内容，但是不销毁图表，chart 仍可使用。\n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. 清空缓存和计算数据\n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // 复位\n    this.isCoordinateChanged = false; // 复位\n\n    // 2. 清空 geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view 中使用 geometry 的时候，还需要清空它的容器，不然下一次 chart.geometry() 的时候，又创建了一个，导致泄露， #2799。\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3. 清空 controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // 需要清空配置项\n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4. 删除 scale 缓存\n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    // 递归处理子 view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * 生命周期：销毁，完全无法使用。\n   * @returns void\n   */\n  public destroy() {\n    // 销毁前事件，销毁之后已经没有意义了，所以不抛出事件\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    // 销毁 interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        // 有可能已经销毁，设置了 undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    // 销毁 controller 中的组件\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end 生命周期函数 */\n\n  /**\n   * 显示或者隐藏整个 view。\n   * @param visible 是否可见\n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) 不会触发自动刷新\n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * 装载数据源。\n   *\n   * ```ts\n   * view.data([{ city: '杭州', sale: 100 }, { city: '上海', sale: 110 } ]);\n   * ```\n   *\n   * @param data 数据源，json 数组。\n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * 设置数据筛选规则。\n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '杭州');\n   *\n   * // 删除 'city' 字段对应的筛选规则。\n   * view.filter('city', null);\n   * ```\n   *\n   * @param field 数据字段\n   * @param condition 筛选规则\n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition 为空，则表示删除过滤条件\n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * 开启或者关闭坐标轴。\n   *\n   * ```ts\n   *  view.axis(false); // 不展示坐标轴\n   * ```\n   * @param field 坐标轴开关\n   */\n  public axis(field: boolean): View;\n  /**\n   * 对特定的某条坐标轴进行配置。\n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); // 不展示 'city' 字段对应的坐标轴\n   *\n   * // 将 'city' 字段对应的坐标轴的标题隐藏\n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field 要配置的坐标轴对应的字段名称\n   * @param axisOption 坐标轴具体配置，更详细的配置项可以参考：https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * 对图例进行整体配置。\n   *\n   * ```ts\n   * view.legend(false); // 关闭图例\n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // 图例进行整体配置\n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * 对特定的图例进行配置。\n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // 关闭某个图例，通过数据字段名进行关联\n   *\n   * // 对特定的图例进行配置\n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field 图例对应的数据字段名称\n   * @param legendOption 图例配置，更详细的配置项可以参考：https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      // 设置全局的 legend 配置\n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   * 批量设置 scale 配置。\n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale 的详细配置项可以参考：https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   * 为特性的数据字段进行 scale 配置。\n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip 提示信息配置。\n   *\n   * ```ts\n   * view.tooltip(false); // 关闭 tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip 配置，更详细的配置项参考：https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * 辅助标记配置。\n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * 更详细的配置项：https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * 坐标系配置。\n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * 声明坐标系类型，并进行配置。\n   *\n   * ```ts\n   * // 直角坐标系，并进行转置变换\n   * view.coordinate('rect').transpose();\n   *\n   * // 默认创建直角坐标系\n   * view.coordinate();\n   * ```\n   *\n   * @param type 坐标系类型\n   * @param [coordinateCfg] 坐标系配置\n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // 提供语法糖，使用更简单\n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    // 更新 coordinate 配置\n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view 分面绘制。\n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type 分面类型\n   * @param cfg 分面配置， [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // 先销毁掉之前的分面\n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // 创建新的分面\n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * 开启或者关闭动画。\n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status 动画状态，true 表示开始，false 表示关闭\n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * 更新配置项，用于配置项式声明。\n   * @param options 配置项\n   */\n  public updateOptions(options: Options) {\n    this.clear(); // 清空\n    mix(this.options, options);\n\n    // 需要把已存在的 view 销毁，否则会重复创建\n    // 目前针对配置项还没有特别好的 view 更新机制，为了不影响主流流程，所以在这里直接销毁\n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    // 初始化坐标系大小，保证 padding 计算正确\n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   * 往 `view.options` 属性中存储配置项。\n   * @param name 属性名称\n   * @param opt 属性值\n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    // 对于内置的 option，避免覆盖。\n    // name 在原型上，说明可能是内置 API，存在 option 被覆盖的风险，不处理\n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    // 存入到 option 中\n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * 设置主题。\n   *\n   * ```ts\n   * view.theme('dark'); // 'dark' 需要事先通过 `registerTheme()` 接口注册完成\n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme 主题名或者主题配置\n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end 一系列传入配置的 API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * 详细文档可以参考：https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // 存在则先销毁已有的\n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // 新建交互实例\n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   * 移除当前 View 的 interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // 存在则先销毁已有的\n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   * 修改数据，数据更新逻辑，数据更新仅仅影响当前这一层的 view\n   *\n   * ```ts\n   * view.changeData([{ city: '北京', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. 保存数据\n    this.data(data);\n\n    // 2. 渲染\n    this.paint(true);\n\n    // 3. 遍历子 view 进行 change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME 子 view 有自己的数据的情况，该如何处理？\n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View 管理相关的 API */\n\n  /**\n   * 创建子 view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    // 将会在 4.1 版本中移除递归嵌套 view，仅仅只允许 chart - view 两层。\n    // 这个 API 理论上用户量不多，所以暂时不发大版本，所以先暂时打一个 warning。\n    if (this.parent && this.parent.parent) {\n      // 存在 3 层 结构了\n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    // 子 view 共享 options 配置数据\n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      // 子 view 共用三层 group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   * 删除一个子 view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View 管理相关的 API */\n\n  // 一些 get 方法\n\n  /**\n   * 获取当前坐标系实例。\n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   * 获取当前 view 的主题配置。\n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   * 获得 x 轴字段的 scale 实例。\n   * @returns view 中 Geometry 对于的 x scale\n   */\n  public getXScale(): Scale {\n    // 拿第一个 Geometry 的 X scale\n    // 隐藏逻辑：一个 view 中的 Geometry 必须 x 字段一致\n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   * 获取 y 轴字段的 scales 实例。\n   * @returns view 中 Geometry 对于的 y scale 数组\n   */\n  public getYScales(): Scale[] {\n    // 拿到所有的 Geometry 的 Y scale，然后去重\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   * 获取 x 轴或者 y 轴对应的所有 scale 实例。\n   * @param dimType x | y\n   * @returns x 轴或者 y 轴对应的所有 scale 实例。\n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   * 根据字段名去获取 scale 实例。\n   * @param field 数据字段名称\n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    // 调用根节点 view 的方法获取\n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * 返回所有配置信息。\n   * @returns 所有的 view API 配置。\n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   * 获取 view 的数据（过滤后的数据）。\n   * @returns 处理过滤器之后的数据。\n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * 获取原始数据\n   * @returns 传入 G2 的原始数据\n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   * 获取布局后的边距 padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   * 获取当前 view 有的 geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   * 获取 view 中的所有 geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   * 根据一定的规则查找 Geometry 的 Elements。\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition 定义查找规则的回调函数。\n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   * 获得绘制的层级 group。\n   * @param layer 层级名称。\n   * @returns 对应层级的 Group。\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * 对外暴露方法，判断一个点是否在绘图区域（即坐标系范围）内部。\n   * @param point 坐标点\n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   * 获得所有的 legend 对应的 attribute 实例。\n   * @returns 维度字段的 Attribute 数组\n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   * 获取所有的分组字段的 scale 实例。\n   * @returns 获得分组字段的 scale 实例数组。\n   */\n  public getGroupScales(): Scale[] {\n    // 拿到所有的 Geometry 的 分组字段 scale，然后打平去重\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   * 获取 G.Canvas 实例。\n   * @returns G.Canvas 画布实例。\n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   * 获得根节点 view。\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * 获取该数据在可视化后，对应的画布坐标点。\n   * @param data 原始数据记录\n   * @returns 对应的画布坐标点\n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   * 获取 name 对应的 controller 实例\n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   * 显示 point 坐标点对应的 tooltip。\n   * @param point 画布坐标点\n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   * 隐藏 tooltip。\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * 将 tooltip 锁定到当前位置不能移动。\n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * 将 tooltip 锁定解除。\n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   * 是否锁定 tooltip。\n   * @returns 是否锁定\n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   * 获取当前 point 对应的 tooltip 数据项。\n   * @param point 坐标点\n   * @returns tooltip 数据项\n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * 获取逼近的点的数据集合\n   * @param point 当前坐标点\n   * @returns  数据\n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); // 先进行排序，便于 tooltip 查找\n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    // 同样递归处理子 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   * 获取所有的 pure component 组件，用于布局。\n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   * 将 data 数据进行过滤。\n   * @param data\n   * @returns 过滤之后的数据\n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    // 不存在 filters，则不需要进行数据过滤\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    // 存在过滤器，则逐个执行过滤，过滤器之间是 与 的关系\n    return filter(data, (datum: Datum, idx: number) => {\n      // 所有的 filter 字段\n      const fields = Object.keys(filters);\n\n      // 所有的条件都通过，才算通过\n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition 返回 true，则保留\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * 对某一个字段进行过滤\n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   * 调整 coordinate 的坐标范围。\n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    // 在 defaultLayoutFn 中只会在 coordinateBBox 发生变化的时候会调用 adjustCoordinate()，所以不用担心被置位\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // 如果大小没有变化则不更新\n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    // 处理 sync scale 的逻辑\n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    // 初始化图形、组件位置，计算 padding\n    this.renderPaddingRecursive(isUpdate);\n    // 布局图形、组件\n    this.renderLayoutRecursive(isUpdate);\n    // 背景色 shape\n    this.renderBackgroundStyleShape();\n    // 最终的绘制 render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // 渲染完毕复位\n  }\n\n  /**\n   * 渲染背景样式的 shape。\n   * 放到 view 中创建的原因是让使用 view 绘制图形的时候，也能够处理背景色\n   */\n  private renderBackgroundStyleShape() {\n    // 只有根节点才处理\n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // 配置了背景色\n    if (background) {\n      // 1. 不存在则创建\n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          // 背景色 shape 不设置事件捕获\n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2. 有了 shape 之后设置背景，位置（更新的时候）\n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // 没有配置背景色\n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   * 递归计算每个 view 的 padding 值，coordinateBBox 和 coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1. 子 view 大小相对 coordinateBBox，changeSize 的时候需要重新计算\n    this.calculateViewBBox();\n    // 2. 更新 coordinate\n    this.adjustCoordinate();\n    // 3. 初始化组件 component\n    this.initComponents(isUpdate);\n    // 4. 布局计算每隔 view 的 padding 值\n    // 4.1. 自动加 auto padding -> absolute padding，并且增加 appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2. 计算出新的 coordinateBBox，更新 Coordinate\n    // 这里必须保留，原因是后面子 view 的 viewBBox 或根据 parent 的 coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    // 刷新 tooltip (tooltip crosshairs 依赖 coordinate 位置)\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    // 同样递归处理子 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * 递归处理 view 的布局，最终是计算各个 view 的 coordinateBBox 和 coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1. 同步子 view padding\n    // 根据配置获取 padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      // 同步 padding 之后，更新 coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3. 将 view 中的组件按照 view padding 移动到对应的位置\n    this.doLayout();\n\n    // 同样递归处理子 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * 最终递归绘制组件和图形\n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      // 清除已有的 clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. 渲染几何标记\n    this.paintGeometries(isUpdate);\n    // 2. 绘制组件\n    this.renderComponents(isUpdate);\n\n    // 同样递归处理子 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get 方法\n\n  /**\n   * 创建 scale，递归到顶层 view 去创建和缓存 scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1. 合并 field 对应的 scaleDef，合并原则是底层覆盖顶层（就近原则）\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2. 是否存在父 view，在则递归，否则创建\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3. 在根节点 view 通过 scalePool 创建\n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * 递归渲染中的数据处理\n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. 处理数据\n    this.doFilterData();\n    // 2. 创建实例\n    this.createCoordinate();\n    // 3. 初始化 Geometry\n    this.initGeometries(isUpdate);\n    // 4. 处理分面逻辑，最终都是生成子 view 和 geometry\n    this.renderFacet(isUpdate);\n\n    // 同样递归处理子 views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * 计算 region，计算实际的像素范围坐标\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      // 存在 parent， 那么就是通过父容器大小计算\n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      // 顶层容器，从 canvas 中取值 宽高\n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    // 根据 region 计算当前 view 的 bbox 大小。\n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox 发生变化的时候进行更新\n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    // 初始的 coordinate bbox 大小\n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * 初始化事件机制：G 4.0 底层内置支持 name:event 的机制，那么只要所有组件都有自己的 name 即可。\n   *\n   * G2 的事件只是获取事件委托，然后在 view 嵌套结构中，形成事件冒泡机制。\n   * 当前 view 只委托自己 view 中的 Component 和 Geometry 事件，并向上冒泡\n   * @private\n   */\n  private initEvents() {\n    // 三层 group 中的 shape 事件都会通过 G 冒泡上来的\n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // 非委托事件\n      const e = this.createViewEvent(evt);\n      // 处理 plot 事件\n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * 初始化插件\n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * 触发事件之后\n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // 阻止继续冒泡，防止重复事件触发\n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n    const e = this.createViewEvent(evt);\n\n    // 包含有基本事件、组合事件\n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   * 处理 PLOT_EVENTS\n   * plot event 需要处理所有的基础事件，并判断是否在画布中，然后再决定是否要 emit。\n   * 对于 mouseenter、mouseleave 比较特殊，需要做一下数学比较。\n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; // 组合 plot 事件\n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // 在plot 内部却离开画布\n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      // 对于 mouseenter, mouseleave 的计算处理\n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // 赋新的状态值\n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        // 可能不在 currentInPlot 中\n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view 生命周期 —— 渲染流程\n\n  /**\n   * 处理筛选器，筛选数据\n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   * 初始化 Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    // 初始化图形的之前，先创建 / 更新 scales\n    this.createOrUpdateScales();\n    // 实例化 Geometry，然后 view 将所有的 scale 管理起来\n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      // 保持 scales 引用不要变化\n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, // 使用 coordinate 引用，可以保持 coordinate 的同步更新\n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // 数据发生更新\n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry 初始化之后，生成了 scale，然后进行调整 scale 配置\n    this.adjustScales();\n  }\n\n  /**\n   * 根据 Geometry 的所有字段创建 scales\n   * 如果存在，则更新，不存在则创建\n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // 调用方法，递归去创建\n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        // 分组字段的 scale 使用未过滤的数据创建\n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      // 缓存从当前 view 创建的 scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   * 处理 scale 同步逻辑\n   */\n  private syncScale() {\n    // 最终调用 root view 的\n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   * 获得 Geometry 中的 scale 对象\n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   * 调整 scale 配置\n   * @private\n   */\n  private adjustScales() {\n    // 调整目前包括：\n    // 分类 scale，调整 range 范围\n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   * 调整分类 scale 的 range，防止超出坐标系外面\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      // 分类或者 identity 的 scale 才进行处理\n      if (isCategory || isIdentity) {\n        // 存在 value 值，且用户没有配置 range 配置\n        if (values && !get(scaleOptions, [field, 'range'])) {\n          // 更新 range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   * 根据 options 配置、Geometry 字段配置，自动生成 components\n   * @param isUpdate 是否是更新\n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    // 先全部清空，然后 render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // 更新则走更新逻辑；否则清空载重绘\n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * 创建坐标系\n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   * 根据 options 配置自动渲染 geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry 的 paint 阶段\n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        // 如果 view 不执行动画，那么 view 下所有的 geometry 都不执行动画\n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * 最后的绘制组件\n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    const components = this.getComponents();\n    // 先全部清空，然后 render\n    for (let i = 0; i < components.length; i++) {\n      const co = components[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   * 渲染分面，会在其中进行数据分面，然后进行子 view 创建\n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // 计算分面数据\n        this.facetInstance.init();\n        // 渲染组件和 views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // 设置坐标系\n    if (this.coordinateController) {\n      // 更新 coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      // 创建 coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    // 创建 geometry 实例\n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    // 创建 interactions 实例\n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    // 创建 view 实例\n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    // 设置 annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    // 设置 events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key 的创建方式\n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n * 注册 geometry 组件\n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  // 语法糖，在 view API 上增加原型方法\n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /** 图形容器 */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart 类，是使用 G2 进行绘图的入口。\n */\nexport default class Chart extends View {\n  /** Chart 的 DOM 容器 */\n  public ele: HTMLElement;\n\n  /** 图表宽度 */\n  public width: number;\n  /** 图表高度 */\n  public height: number;\n  /** 是否开启局部刷新 */\n  public localRefresh: boolean;\n  /** 是否自适应 DOM 容器宽高，默认为 false，需要用户手动指定宽高 */\n  public autoFit: boolean;\n  /** 图表渲染引擎 */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    // 生成内部正式绘制的 div 元素\n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    // 调用 view 的创建\n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // 自适应大小\n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   * 设置 WAI-ARIA 无障碍标签。如何根据图形语法自动生成 arial 内容？\n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * 改变图表大小，同时重新渲染。\n   * @param width 图表宽度\n   * @param height 图表高度\n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    // 如果宽高一致，那么 changeSize 不执行任何操作\n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // 重新渲染\n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   * 清空图表，同时清除掉 aria 配置\n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   * 销毁图表，同时解绑事件，销毁创建的 G.Canvas 实例。\n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * 显示或隐藏图表\n   * @param visible 是否可见，true 表示显示，false 表示隐藏\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); // 需要更新 visible 变量\n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   * 自动根据容器大小 resize 画布\n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      // 注意第二参数用 true，意思是即时 autoFit = false，forceFit() 调用之后一样是适配容器\n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller 规范需要定义的基类\n * 1. 规范的 option 输入\n * 2. 统一的信息获取 API\n * 3. 明确定义的组件事件（名称、数据）\n */\nexport abstract class Controller<O = unknown> {\n  /** 是否可见 */\n  public visible: boolean = true;\n  protected view: View;\n  /** option 配置，不同组件有自己不同的配置结构 */\n  protected option: O;\n  /** 所有的 component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * 组件的更新逻辑\n   *  - 根据字段为标识，为每一个组件生成一个 id，放到 option 中\n   *  - 更新的时候按照 id 去做 diff，然后对同的做处理\n   *  - 创建增加的\n   *  - 更新已有的\n   *  - 销毁删除的\n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption 是否清空 option 配置项（used in annotation）\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      // 如果设置 tooltip(false) 则始终不显示\n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      // 无内容则不展示，同时 tooltip 需要隐藏\n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // 数据点位置\n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      // 内容发生变化了更新 tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        // 展示 tooltip 内容框才渲染 tooltip\n        if (!this.tooltip) {\n          // 延迟生成\n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        // 展示 tooltipMarkers，tooltipMarkers 跟随数据\n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // 内容未发生变化，则更新位置\n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip 有可能被隐藏，需要保证显示状态\n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      // 展示 tooltip 辅助线\n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // 辅助线是否要跟随鼠标\n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer 可捕获事件\n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      // 重置 capture 属性\n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    // 如果 customContent 不为空，就重新生成 tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title 和 items 需要清空, 否则 tooltip 内容会出现置空的情况\n    // 即：需要走进 !isEqual(lastTitle, title) || !isEqual(lastItems, items) 的逻辑，更新 tooltip 的内容\n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // 三层\n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false 代表只显示当前拾取到的 shape 的数据，但是一个 view 会有多个 Geometry，所以有可能会拾取到多个 shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 修复resize之后tooltip越界的问题\n      // 确保tooltip已经创建的情况下\n      const canvas = this.view.getCanvas();\n      // TODO 逍为 tooltip 的区域不应该是 canvas，而应该是整个 特别是在图比较小的时候\n      // 更新 region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   * 当前鼠标点是在 enter tooltip 中\n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    // 是可捕获的，并且点在 tooltip dom 上\n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  // 获取 tooltip 配置，因为用户可能会通过 view.tooltip() 重新配置 tooltip，所以就不做缓存，每次直接读取\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // 有裁剪就剪切\n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        // 清除已有的 clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); // 默认展示 x 轴上的辅助线\n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  // 渲染 x 轴上的 tooltip 辅助线\n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      // 极坐标下 x 轴上的 crosshairs 表现为半径\n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  // 渲染 y 轴上的辅助线\n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      // 极坐标下 y 轴上的 crosshairs 表现为圆弧\n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // 如果坐标系发生直角坐标系与极坐标的切换操作\n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // 需要展示文本\n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // 如果需要跟随鼠标移动，就需要将当前鼠标坐标点转换为对应的数值\n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // 转换为原始值\n        yValue = yScale.invert(invertPoint.y); // 转换为原始值\n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  // 获取存储 tooltipMarkers 和 crosshairs 的容器\n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  // 获取 tooltipMarkers 存储的容器\n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  // 获取 tooltip crosshairs 存储的容器\n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      // 如果 view 关闭了 tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // 递归查找，并合并结果\n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack 方法\n  // 因为 tooltip 的交互是挂载在 Chart 上，所以当chart 上没有绘制 Geometry 的时候，就查找不到数据，并且绘图区域同子 View 的区域不同\n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   * 根据用户配置的 items 配置，来进行用户自定义的处理，并返回最终的 items\n   * 默认不做任何处理\n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * 根据名称获取对应的动画执行函数\n * @param type 动画函数名称\n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * 注册动画执行函数\n * @param type 动画执行函数名称\n * @param animation 动画执行函数\n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// 默认的动画参数配置\nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // 初始入场动画配置\n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // 更新时发生变更的动画配置\n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // 更新时新增元素的入场动画配置\n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // 更新时销毁动画配置\n};\n\n// 各个 Geometry 默认的动画执行函数\nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n// 各个 Geometry 默认的群组出场动画\nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// 解析用户的动画配置\nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n * 获取 elementName 对应的动画配置，当声明了 `animateType`，则返回 `animateType` 对应的动画配置\n * @param elementName 元素名称\n * @param coordinate 做表弟类型\n * @param animateType 可选，动画类型\n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * 工具函数\n * 根据用户传入的配置为 shape 执行动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外的信息\n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // 获取动画执行函数\n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // 用户声明了动画执行函数\n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    // 没有声明，则根据 toAttrs 做差值动画\n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n * 执行 Geometry 群组入场动画\n * @param container 执行群组动画的图形元素\n * @param animateCfg 动画配置\n * @param geometryType geometry 类型\n * @param coordinate 坐标系对象\n * @param minYPoint y 轴最小值对应的画布坐标点\n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); // 先结束当前 container 动画\n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// 暂未发包\n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element 构造函数传入参数类型 */\ninterface ElementCfg {\n  /** 用于创建各种 shape 的工厂对象 */\n  shapeFactory: ShapeFactory;\n  /** shape 容器 */\n  container: IGroup;\n  /** element 的索引 */\n  elementIndex?: number;\n  /** 虚拟 group，用户可以不传入 */\n  offscreenGroup?: IGroup;\n  /** 是否可见 */\n  visible?: boolean;\n}\n\n/**\n * Element 图形元素。\n * 定义：在 G2 中，我们会将数据通过图形语法映射成不同的图形，比如点图，数据集中的每条数据会对应一个点，柱状图每条数据对应一个柱子，线图则是一组数据对应一条折线，Element 即一条/一组数据对应的图形元素，它代表一条数据或者一个数据集，在图形层面，它可以是单个 Shape 也可以是多个 Shape，我们称之为图形元素。\n */\nexport default class Element extends Base {\n  /** 用于创建各种 shape 的工厂对象 */\n  public shapeFactory: ShapeFactory;\n  /** shape 容器 */\n  public container: IGroup;\n  /** element 索引 */\n  public elementIndex: number;\n  /** 最后创建的图形对象 */\n  public shape: IShape | IGroup;\n  /** shape 的动画配置 */\n  public animate: AnimateOption | boolean;\n\n  // 非构造函数属性，需要外部赋值\n  /** element 对应的 Geometry 实例 */\n  public geometry: Geometry;\n  /** 保存 shape 对应的 label */\n  public labelShape: IGroup[] = [];\n\n  /** 绘制的 shape 类型 */\n  private shapeType: string;\n\n  /** shape 绘制需要的数据 */\n  private model: ShapeInfo;\n  /** 原始数据 */\n  private data: Datum;\n  // 存储当前开启的状态\n  private states: string[] = [];\n  private statesStyle;\n  // 虚拟 Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * 绘制图形。\n   * @param model 绘制数据。\n   * @param isUpdate 可选，是否是更新发生后的绘制。\n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // 存储原始数据\n    this.shapeType = this.getShapeType(model);\n\n    // 绘制图形\n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      // 用户在初始化的时候声明 visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * 更新图形。\n   * @param model 更新的绘制数据。\n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // 更新数据\n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1: 更新 shape 携带的信息\n    this.setShapeInfo(shape, model);\n\n    // step 2: 使用虚拟 Group 重新绘制 shape，然后更新当前 shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label 需要使用\n    newShape.cfg.element = this;\n\n    // step 3: 同步 shape 样式\n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   * 销毁 element 实例。\n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // 指定了动画配置则执行销毁动画\n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // 否则直接销毁\n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   * 显示或者隐藏 element。\n   * @param visible 是否可见。\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   * 设置 Element 的状态。\n   *\n   * 目前 Element 开放三种状态：\n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * 这三种状态相互独立，可以进行叠加。\n   *\n   * 这三种状态的样式可在 [[Theme]] 主题中或者通过 `geometry.state()` 接口进行配置。\n   *\n   * ```ts\n   * // 激活 active 状态\n   * setState('active', true);\n   * ```\n   *\n   * @param stateName 状态名\n   * @param stateStatus 是否开启状态\n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // 开启状态\n      if (index > -1) {\n        // 该状态已经开启，则返回\n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // 关闭状态，但是状态未设置过\n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    // 使用虚拟 group 重新绘制 shape，然后对这个 shape 应用状态样式后，更新当前 shape。\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // 应用当前状态\n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // 如果没有状态，则需要恢复至原始状态\n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // 销毁，减少内存占用\n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * 清空状量态，恢复至初始状态。\n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   * 查询当前 Element 上是否已设置 `stateName` 对应的状态。\n   * @param stateName 状态名称。\n   * @returns true 表示存在，false 表示不存在。\n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   * 获取当前 Element 上所有的状态。\n   * @returns 当前 Element 上所有的状态数组。\n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   * 获取 Element 对应的原始数据。\n   * @returns 原始数据。\n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   * 获取 Element 对应的图形绘制数据。\n   * @returns 图形绘制数据。\n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   * 返回 Element 元素整体的 bbox，包含文本及文本连线（有的话）。\n   * @returns 整体包围盒。\n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // 从主题中获取对应状态量的样式\n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // 获取动画配置\n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        // 增加动画的回调函数，如果外部传入了，则先执行外部，然后发射 geometry 的 animate 事件\n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // 绘制图形\n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    // 自定义 shape 有可能返回空 shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // 存储绘图数据\n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      // 附加 element 的 name, name 现在支持数组了，很好用了\n      if (!name) {\n        // 这个地方如果用户添加了 name, 则附加 name ，否则就添加自己的 name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // 执行入场动画\n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // 开始执行动画的生命周期\n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  // 获取虚拟 Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  // 设置 shape 上需要携带的信息\n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  // 更新当前 shape 的样式\n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    // 所有的 shape 都需要同步 clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          // 会附加 element 的 name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape 不进行状态样式设置\n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); // 如果用户没有设置 name，则默认根据索引值\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // 需要进行动画\n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label 布局函数定义\n * @param items 存储每个 label 的详细信息\n * @param labels 所有的 labels 图形实例\n * @param shapes 所有 label 对应的图形元素实例\n * @param region 画布区域\n * @param cfg 用于存储各个布局函数开放给用户的配置数据\n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n * 获取 `type` 对应的 [[GeometryLabel]] 类\n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n * 注册定义的 GeometryLabel 类\n * @param type GeometryLabel 类型名称\n * @param ctor GeometryLabel 类\n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n * 获取 `type` 对应的 [[GeometryLabelsLayoutFn]] label 布局函数\n * @param type 布局函数名称\n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n * 注册定义的 label 布局函数\n * @param type label 布局函数名称\n * @param layoutFn label 布局函数\n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory 基类 */\nconst ShapeFactoryBase = {\n  /** 坐标系对象 */\n  coordinate: null,\n  /** 默认绘制的 Shape 类型 */\n  defaultShapeType: null,\n  /** 主题样式 */\n  theme: null,\n  /**\n   * 获取 shape 绘制需要的关键点\n   * @param shapeType shape 类型\n   * @param shapePoint 每条数据映射后的坐标点以及 size 数值\n   * @returns 图形关键点信息\n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   * 根据 shape 类型获取具体的 shape 实例\n   * @param shapeType string shape 的类型\n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   * 获取 shape 的默认关键点\n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   * 获取 shape 的默认绘制样式 (内置的 shapeFactory 均有注册默认样式)\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   * 获取 shape 对应的缩略图配置信息。\n   * @param shapeType shape 类型\n   * @param color 颜色\n   * @param isInPolar 是否在极坐标系下\n   * @returns 返回缩略图 marker 配置。\n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   * 绘制 shape\n   * @override\n   * @param shapeType 绘制的 shape 类型\n   * @param cfg 绘制 shape 需要的信息\n   * @param element Element 实例\n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape 基类 */\nconst ShapeBase = {\n  /** 坐标系对象 */\n  coordinate: null,\n  /**\n   * 将归一化的 path 转换成坐标系下的 path\n   * @param path 归一化的路径\n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * 将归一化的坐标转换成画布坐标\n   * @param point 归一化的坐标点数据\n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 0～1 points 转 画布 points\n   * @param points 节点集合\n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   * 绘制 shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n * 注册 ShapeFactory。\n * @param factoryName  ShapeFactory 名称，对应 Geometry 几何标记名称。\n * @param cfg 注册 ShapeFactory 需要覆写定义的属性。\n * @returns 返回 ShapeFactory 对象。\n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n * 注册 Shape。\n * @param factoryName 对应的 ShapeFactory 名称。\n * @param shapeType 注册的 shape 名称。\n * @param cfg 注册 Shape 需要覆写定义的属性。\n * @returns shape 返回注册的 shape 对象。\n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n * 获取 factoryName 对应的 shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        // 可能存在用户设置 values ，但是数据中没有对应的字段，则这时候 arr 就为 null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n * 对比当前元素和之前的元素，返回 added, updated, removed\n * @param keyItem 之前的元素的，按照 key-item 的 object 的形式存储\n * @param keys 现在的元素，按照 array 的形式存储\n * @returns 由 added, updated, removed array 构成的 object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** 像素级柱间宽度，调整offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** x维度长度，计算归一化padding使用 */\n  xDimensionLength?: number;\n  /** 分组数，计算offset */\n  groupNum?: number;\n  /** 用户配置宽度 size */\n  defaultSize?: number;\n  /** 最大最小宽度约束 */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /** 柱宽比例 */\n  columnWidthRatio?: number;\n  /** 用户自定义的dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init() 传入参数 */\nexport interface InitCfg {\n  /** 坐标系 */\n  coordinate?: Coordinate;\n  /** 数据 */\n  data?: Data;\n  /** 主题对象 */\n  theme?: LooseObject;\n  /** 列定义 */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** 因为数据使用的引用，所以需要有一个标识位标识数据是否发生了更新 */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry 构造函数参数 */\nexport interface GeometryCfg {\n  /** Geometry shape 的容器。 */\n  container: IGroup;\n  /** 绘制的坐标系对象。 */\n  coordinate?: Coordinate;\n  /** 绘制数据。 */\n  data?: Data;\n  /** 需要的 scales。 */\n  scales?: Record<string, Scale>;\n  /** 列定义 */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels 的容器 */\n  labelsContainer?: IGroup;\n  /** 是否对数据进行排序 */\n  sortable?: boolean;\n  /** elements 的 zIndex 默认按顺序提升，通过 zIndexReversed 可以反序，从而数据越前，层级越高 */\n  zIndexReversed?: boolean;\n  /** 是否需要对 zIndex 进行 sort。因为耗时长，由具体场景自行决定 */\n  sortZIndex?: boolean;\n  /** 延迟渲染 Geometry 数据标签. 设置为 true 时，会在浏览器空闲时期被调用, 也可以指定具体 timeout 时间 */\n  useDeferredLabel?: boolean | number;\n  /** 是否可见 */\n  visible?: boolean;\n  /** 主题配置 */\n  theme?: LooseObject;\n\n  /** 组间距 */\n  intervalPadding?: number;\n  /** 组内间距 */\n  dodgePadding?: number;\n  /** 柱状图最大宽度 */\n  maxColumnWidth?: number;\n  /** 柱状图最小宽度 */\n  minColumnWidth?: number;\n  /** 默认宽度占比，interval类型和schema类型通用 */\n  columnWidthRatio?: number;\n  /** 玫瑰图占比 */\n  roseWidthRatio?: number;\n  /** 多层饼图/环图占比 */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry 几何标记基类，主要负责数据到图形属性的映射以及绘制逻辑。\n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry 几何标记类型。 */\n  public readonly type: string = 'base';\n  /** ShapeFactory 对应的类型。 */\n  public readonly shapeType: string;\n\n  // 在创建 Geometry 实例时可以传入的属性\n  /** Coordinate 坐标系实例。 */\n  public coordinate: Coordinate;\n  /** 用户绘制数据。 */\n  public data: Data;\n  /** 图形绘制容器。 */\n  public readonly container: IGroup;\n  /** label 绘制容器。 */\n  public readonly labelsContainer: IGroup;\n  /** 是否对数据进行排序，默认为 false。  */\n  public sortable: boolean;\n  /** 当前 Geometry 实例主题。  */\n  public theme: LooseObject;\n  /** 存储 geometry 需要的 scales，需要外部传入。 */\n  public scales: Record<string, Scale>;\n  /** scale 定义，需要外部传入。 */\n  public scaleDefs: Record<string, ScaleOption>;\n  /** 画布区域，用于 label 布局。 */\n  public canvasRegion: BBox;\n\n  // 内部产生的属性\n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * 存储处理后的数据，\n   * + init() 及 updateData() 逻辑后, 结构为 Data[]；\n   * + paint() 逻辑后，结构为 MappingDatum[][]。\n   */\n  public dataArray: MappingDatum[][];\n  /** 存储 tooltip 配置信息。 */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /** 存储 label 配置信息。 */\n  public labelOption: LabelOption | false;\n  /** 状态量相关的配置项 */\n  public stateOption: StateOption;\n  /** 使用 key-value 结构存储 Element，key 为每个 Element 实例对应的唯一 ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate 配置项 */\n  public animateOption: AnimateOption | boolean = true;\n  /** 图形属性映射配置 */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust 配置项 */\n  protected adjustOption: AdjustOption[];\n  /** style 配置项 */\n  protected styleOption: StyleOption;\n  /** custom 自定义的配置项 */\n  protected customOption: CustomOption;\n  /** 每个 Geometry 对应的 Shape 工厂实例，用于创建各个 Shape */\n  protected shapeFactory: ShapeFactory;\n  /** 存储上一次渲染时的 element 映射表，用于更新逻辑 */\n  protected lastElementsMap: Record<string, Element> = {};\n  /** 是否生成多个点来绘制图形。 */\n  protected generatePoints: boolean = false;\n  /** 存储发生图形属性映射前的数据 */\n  protected beforeMappingData: Data[] = null;\n  /** 存储每个 shape 的默认 size，用于 Interval、Schema 几何标记 */\n  protected defaultSize: number;\n\n  // 用户通过 geometry 构造函数设置的主题\n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // 柱状图间距相关配置\n  /** 组间距 */\n  protected intervalPadding: number;\n  /** 组内间距 */\n  protected dodgePadding: number;\n  /** 柱状图最大宽度 */\n  protected maxColumnWidth: number;\n  /** 柱状图最小宽度 */\n  protected minColumnWidth: number;\n  /** 一般柱状图宽度占比 */\n  protected columnWidthRatio: number;\n  /** 玫瑰图占比 */\n  protected roseWidthRatio: number;\n  /** 多层饼图/环图占比 */\n  protected multiplePieWidthRatio: number;\n  /** elements 的 zIndex 默认按顺序提升，通过 zIndexReversed 可以反序，从而数据越前，层级越高 */\n  public zIndexReversed?: boolean;\n  /** 是否需要对 zIndex 进行 sort。因为耗时长，由具体场景自行决定 */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /** 虚拟 Group，用于图形更新 */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   * 创建 Geometry 实例。\n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // 柱状图间隔与宽度相关配置\n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // 柱状图间隔与宽度相关配置\n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   * 配置 position 通道映射规则。\n   *\n   * @example\n   * ```typescript\n   * // 数据结构: [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg 映射规则\n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // 字符串字段或者数组字段\n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      // 默认填充一维 1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   * 配置 color 通道映射规则。\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field 映射规则\n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // 使用 '#1890ff' 颜色渲染图形\n   * geometry.color('#1890ff');\n   *\n   * // 根据 x 字段的数据值进行颜色的映射，这时候 G2 会在内部调用默认的回调函数，读取默认提供的颜色进行数据值到颜色值的映射。\n   * geometry.color('x');\n   *\n   * // 将 'x' 字段的数据值映射至指定的颜色值 colors（可以是字符串也可以是数组），此时用于通常映射分类数据\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // 使用回调函数进行颜色值的自定义；可以使用多个字段使用、*号连接\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // 指定颜色的渐变路径，用于映射连续的数据\n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field 参与颜色映射的数据字段，多个字段使用 '*' 连接符进行连接。\n   * @param cfg Optional, color 映射规则。\n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * 配置 shape 通道映射规则。\n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field 映射规则配置。\n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // 指定常量，将所有数据值映射到固定的 shape\n   * geometry.shape('circle');\n   *\n   * // 将指定的字段映射到内置的 shapes 数组中\n   * geometry.shape('x');\n   *\n   * // 将指定的字段映射到指定的 shapes 数组中\n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * // 使用回调函数获取 shape，用于个性化的 shape 定制，可以根据单个或者多个字段确定\n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field 参与 shape 映射的数据字段，多个字段使用 '*' 连接符进行连接。\n   * @param cfg Optional, shape 映射规则。\n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * 配置 size 通道映射规则。\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field 映射规则。\n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // 直接指定像素大小\n   * geometry.size(10);\n   *\n   * // 指定映射到 size 的字段，使用内置的默认大小范围为 [1, 10]\n   * geometry.size('x');\n   *\n   * // 指定映射到 size 字段外，还提供了 size 的最大值和最小值范围\n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * // 使用回调函数映射 size，用于个性化的 size 定制，可以使用多个字段进行映射\n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field 参与 size 映射的数据字段，多个字段使用 '*' 连接符进行连接。\n   * @param cfg Optional, size 映射规则\n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * 设置数据调整方式。G2 目前内置了四种类型：\n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * + 对于 'dodge' 类型，可以额外进行如下属性的配置:\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, // 取 0 到 1 范围的值（相对于每个柱子宽度），用于控制一个分组中柱子之间的间距\n   *   dodgeBy: 'x', // 该属性只对 'dodge' 类型生效，声明以哪个数据字段为分组依据\n   * });\n   * ```\n   *\n   * + 对于 'stack' 类型，可以额外进行如下属性的配置:\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // 用于控制是否对数据进行反序操作\n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * // 组合使用 adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg 数据调整配置\n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * 图形样式配置。\n   *\n   * @example\n   * ```typescript\n   * // 配置图形样式\n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // 根据具体的数据进行详细配置\n   * style({\n   *   fields: [ 'x', 'y' ], // 数据字段\n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field 配置样式属性或者样式规则。\n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field 数据字段或者样式配置规则。\n   * @param styleFunc Optional, 样式配置回调函数。\n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * 配置 Geometry 显示的 tooltip 内容。\n   *\n   * `tooltip(false)` 代表关闭 tooltip。\n   * `tooltip(true)` 代表开启 tooltip。\n   *\n   * Geometry 默认允许 tooltip 展示，我们可以使用以下方法对 tooltip 的展示内容进行配置：\n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() 方法同样支持数据映射及回调用法：\n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   * 其返回的值必须为对象，该值中的属性同 chart.tooltip() 的 itemTpl 模板相对应，返回的变量可用于 itemTpl 的字符串模板。\n   *\n   * @param field tooltip 配置信息。\n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * // 等同于 tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * // 等同于 tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * // 等同于 tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field 参与映射的字段。\n   * @param cfg Optional, 回调函数\n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry 动画配置。\n   *\n   * + `animate(false)` 关闭动画\n   * + `animate(true)` 开启动画，默认开启。\n   *\n   * 我们将动画分为四个场景：\n   * 1. appear: 图表第一次加载时的入场动画；\n   * 2. enter: 图表绘制完成，发生更新后，产生的新图形的进场动画；\n   * 3. update: 图表绘制完成，数据发生变更后，有状态变更的图形的更新动画；\n   * 4. leave: 图表绘制完成，数据发生变更后，被销毁图形的销毁动画。\n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter 动画执行时间\n   *   },\n   *   leave: false, // 关闭 leave 销毁动画\n   * });\n   * ```\n   *\n   * @param cfg 动画配置\n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label 配置。\n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * // 在每个图形上显示 z 字段对应的数值\n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); // 不展示 label\n   *\n   * // 在每个图形上显示 x 字段对应的数值，同时配置文本颜色为红色\n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * // 以 type 类型的 label 渲染每个图形上显示 x 字段对应的数值，同时格式化文本内容\n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' // 声明 label 类型\n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * 设置状态对应的样式。\n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   * 如果图形 shape 是由多个 shape 组成，即为一个 G.Group 对象，那么针对 group 中的每个 shape，我们需要使用下列方式进行状态样式设置：\n   * 如果我们为 group 中的每个 shape 设置了 'name' 属性(shape.set('name', 'xx'))，则以 'name' 作为 key，否则默认以索引值（即 shape 的 添加顺序）为 key。\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg 状态样式\n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   * 用于向 shape 中传入自定义的数据。目前可能仅仅可能用于在自定义 shape 的时候，像自定义 shape 中传入自定义的数据，方便实现自定义 shape 的配置能力。\n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   * 然后在自定义 shape 的时候，可以拿到这个信息。\n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   * 初始化 Geomtry 实例：\n   * 创建 [[Attribute]] and [[Scale]] 实例，进行数据处理，包括分组、数值化以及数据调整。\n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // 创建图形属性\n\n    // 数据加工：分组 -> 数字化 -> adjust\n    this.processData(this.data);\n\n    // 调整 scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry 更新。\n   * @param [cfg] 更新的配置\n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // 映射发生改变，则重新创建图形属性\n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // 数据发生变化\n      this.setCfg(cfg);\n      this.initAttributes(); // 创建图形属性\n      this.processData(data); // 数据加工：分组 -> 数字化 -> adjust\n    } else {\n      // 有可能 coordinate 变化\n      this.setCfg(cfg);\n    }\n\n    // 调整 scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * 将原始数据映射至图形空间，同时创建图形对象。\n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      // 如果用户没有配置 appear.animation，就默认走整体动画\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    // 添加 label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // 缓存，用于更新\n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      // 用户在初始化的时候声明 visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * 清空当前 Geometry，配置项仍保留，但是内部创建的对象全部清空。\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // 属性恢复至出厂状态\n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   * 销毁 Geometry 实例。\n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   * 获取决定分组的图形属性对应的 scale 实例。\n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * 根据名字获取图形属性实例。\n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /** 获取 x 轴对应的 scale 实例。 */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /** 获取 y 轴对应的 scale 实例。 */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * 获取决定分组的图形属性实例。\n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /** 获取图形属性默认的映射值。 */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // 获取映射至常量的值\n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   * 获取该数据发生图形映射后对应的 Attribute 图形空间数据。\n   * @param attr Attribute 图形属性实例。\n   * @param obj 需要进行映射的原始数据。\n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   * 获取对应的 adjust 实例\n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   * 获得 coordinate 实例\n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   * 获取 shape 对应的 marker 样式。\n   * @param shapeName shape 具体名字\n   * @param cfg marker 信息\n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   * 根据一定的规则查找 Geometry 的 Elements。\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition 定义查找规则的回调函数。\n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   * 获取 Geometry 的所有 Elements。\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   * 获取数据对应的唯一 id。\n   * @param data Element 对应的绘制数据\n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    // 如果用户声明了使用哪些字段作为 id 值\n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    // 用户在进行 dodge 类型的 adjust 调整的时候设置了 dodgeBy 属性\n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   * 获取所有需要创建 scale 的字段名称。\n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    // 获取图形属性上的 fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          // 考虑 size(10), shape('circle') 等场景\n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    // 获取 label 上的字段\n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    // 获取 tooltip 上的字段\n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   * 显示或者隐藏 geometry。\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * 获得所有的字段\n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   * 获取当前配置中的所有分组 & 分类的字段。\n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // 用于去重过滤\n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   * 获得图形的 x y 字段。\n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x 字段\n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y 字段\n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   * 获取该 Geometry 下所有生成的 shapes。\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   * 获取虚拟 Group。\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // 对数据进行排序\n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // 未发生过排序\n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   * 调整度量范围。主要针对发生层叠以及一些特殊需求的 Geometry，比如 Interval 下的柱状图 Y 轴默认从 0 开始。\n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    // 如果数据发生过 stack adjust，需要调整下 yScale 的数据范围\n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   * 获取当前 Geometry 对应的 Shape 工厂实例。\n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); // 防止多个 view 共享一个 shapeFactory 实例，导致 coordinate 被篡改\n    }\n    // 因为这里缓存了 shapeFactory，但是外部可能会变更 coordinate，导致无法重新设置到 shapeFactory 中\n    this.shapeFactory.coordinate = this.coordinate;\n    // theme 原因同上\n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   * 获取每个 Shape 对应的关键点数据。\n   * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; // 存在没有 y 的情况\n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   * 创建 Element 实例。\n   * @param mappingDatum Element 对应的绘制数据\n   * @param [isUpdate] 是否处于更新阶段\n   * @returns element 返回创建的 Element 实例\n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // 获取绘制图形的配置信息\n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // 绘制\n\n    return element;\n  }\n\n  /**\n   * 获取每条数据对应的图形绘制数据。\n   * @param mappingDatum 映射后的数据\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // 原始数据\n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // 映射后的数据\n      data: originData, // 原始数据\n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // 获取默认样式\n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    // 用来保持 diff 元素之后 added, updated 的相对顺序\n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    // 获得更新数据所有的 keys\n    // 将更新的数据用 key 索引\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    // 新建 element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    // 更新 element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n        element.update(currentShapeCfg); // 更新对应的 element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    // 全部 setZIndex 之后，再执行 sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    // 销毁被删除的 elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // 更新动画配置，用户有可能在更新之前有对动画进行配置操作\n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * 获取渲染的 label 类型。\n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // 用户未定义，则进行默认的逻辑\n      if (coordinateType === 'polar') {\n        // 极坐标下使用通用的极坐标文本，转置则使用饼图\n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta 坐标系下使用饼图文本\n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   * 获取 Y 轴上的最小值。\n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // 创建图形属性相关的配置项\n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    // 遍历每一个 attrOption，各自创建 Attribute 实例\n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        // 获取每一个字段对应的 scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          // 用户在图形通道上声明了常量字段 color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // 用户没有指定任何规则，则使用默认的映射规则\n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // 根据数值个数使用对应的色板\n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  // 处理数据：分组 -> 数字化 -> adjust 调整\n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // 数据分组\n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); // 进行 adjust 数据调整\n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // 调整数据\n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // 兼容theme配置\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // 传入size计算相关参数，默认宽度、最大最小宽度约束\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          // 每个分组内每条柱子的宽度占比，用户不可指定，用户需要通过 columnWidthRatio 指定\n          // 兼容theme配置\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // 一维的情况下获取高度和默认size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //生成dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // 对数据进行分组\n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        // 用户通过 view.scale() 接口指定了 values 属性\n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // 更新发生层叠后的数据对应的度量范围\n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      // 用户如果在列定义中定义了 min，则以用户定义的为准\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      // 用户如果在列定义中定义了 max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // 将数据映射至图形空间前的操作：排序以及关键点的生成\n  private beforeMapping(beforeMappingData: Data[]) {\n    // 当初加 clone 是因为 points 的引用关系，导致更新失败，可是现在貌似复现不出来了，所以暂时不进行 clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // 需要生成关键点\n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  // 生成 shape 的关键点\n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // 将数据归一化\n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // 将数据映射至图形空间\n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position 之类的生成多个字段的属性\n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            // values.length === 1 的判断是以下情况，获取用户设置的图形属性值\n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); // 将 x、y 转换成画布坐标\n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // 将归一化的坐标值转换成画布坐标\n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  // 获取 style 配置\n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // 用户直接配置样式属性\n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; // 支持 geometry 层级的主题设置\n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // 初次创建\n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    // 将 label 同 element 进行关联\n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * 是否需要进行群组入场动画\n   * 规则：\n   * 1. 如果发生更新，则不进行\n   * 2. 如果用户关闭 geometry 动画，则不进行\n   * 3. 如果用户关闭了 appear 动画，则不进行\n   * 4. 如果用户配置了 appear.animation，则不进行\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * 对元素进行平移操作。\n * @param element 进行变换的元素\n * @param x x 方向位移\n * @param y y 方向位移\n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n * 获取元素旋转矩阵 (以元素的左上角为旋转点)\n * @param element 进行变换的元素\n * @param rotateRadian 旋转弧度\n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * 对元素进行旋转操作。\n * @param element 进行变换的元素\n * @param rotateRadian 旋转弧度\n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * 获取元矩阵。\n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * 围绕图形中心点进行缩放\n * @param element 进行缩放的图形元素\n * @param ratio 缩放比例\n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n * 查找 Label Group 中的文本 shape 对象\n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * 获取标签背景信息: box (无旋转) + rotation (旋转角度)\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * 计算两个矩形之间的堆叠区域面积\n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/** 检测是否和已布局的堆叠 */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label 的必要配置 */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc 更新 label (目前没有根据 id 索引，还是会存在一点小问题的，只能根据 idx 索引)\n * @done shape 属性更新\n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels 实例创建时，传入构造函数的参数定义\n */\nexport interface LabelsGroupCfg {\n  /** label 容器 */\n  container: IGroup;\n  /** label 布局配置 */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels 渲染组件\n */\nexport default class Labels {\n  /** 用于指定 labels 布局的类型 */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /** 图形容器 */\n  public container: IGroup;\n  /** 动画配置 */\n  public animate: AnimateOption | false;\n  /** label 绘制的区域 */\n  public region: BBox;\n\n  /** 存储当前 shape 的映射表，键值为 shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * 渲染文本\n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // 创建虚拟分组\n    if (items.length) {\n      // 如果 items 空的话就不进行绘制调整操作\n      // step 1: 在虚拟 group 中创建 shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2: 根据布局，调整 labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1: 绘制 labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2: 绘制 labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4: 根据用户设置的偏移量调整 label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // 进行添加、更新、销毁操作\n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label 在布局调整环节被删除了（doLayout）\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // 图形发生更新\n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; // 已经在渲染树上的 shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // 保存引用\n        } else {\n          // 新生成的 shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // 移除\n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // 移除\n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /** 清除当前 labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /** 销毁 */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      // 如果 this.animate === false 或者 cfg.animate === false/null 则不进行动画，否则进行动画配置的合并\n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      // 如果 content 是 Group 或者 Shape，根据 textAlign 调整位置后，直接将其加入 labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); // 将 label 平移至 x, y 指定的位置\n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // 根据type对label布局\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false，关闭 label 对应的 labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine 默认不参与事件捕获\n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * 绘制标签背景\n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // 获取分组的构造函数\n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix: 如果说开发者的 label content 是一个 group，此处的偏移无法对 整个 content group 生效；场景类似 饼图 spider label 是一个含 2 个 textShape 的 gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label 基类，用于生成 Geometry 下所有 label 的配置项信息\n */\nexport default class GeometryLabel {\n  /** geometry 实例 */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /** 默认的布局 */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    // 获取 label 相关的 x，y 的值，获取具体的 x, y，防止存在数组\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // 渲染文本\n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry 更新之后，对应的 Coordinate 也会更新，为了获取到最新鲜的 Coordinate，故使用方法获取\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   * 获取 label 的默认配置\n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon 或者 (interval 且 middle) 或者 offset 小于 0 时，文本展示在图形内部，将其颜色设置为 白色\n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   * 获取当前 label 的最终配置\n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon 或者 offset 小于 0 时，文本展示在图形内部，将其颜色设置为 白色\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   * 设置 label 位置\n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc 获取 label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   * 获取每个 label 的偏移量 (矢量)\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 判断是否小于0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   * 获取每个 label 的位置\n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            // 如果仅一个 label，多个 y, 取最后一个 y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // 多边形场景，多用于地图\n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // 对直方图的label X 方向的位置居中\n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // 处理漏斗图文本位置\n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // 非漏斗图底部\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      // 如果 label 支持 position 属性\n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * 获取文本的对齐方式\n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   * 获取每一个 label 的唯一 id\n   * @param mappingData label 对应的图形的绘制数据\n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // 原始数据\n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      // 折线图以及区域图，一条线会对应一组数据，即多个 labels，为了区分这些 labels，需要在 line id 的前提下加上 x 字段值\n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path 路径图，无序，有可能存在相同 x 不同 y 的情况，需要通过 x y 来确定唯一 id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  // 获取 labels 组件\n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    // 设置动画配置，如果 geometry 的动画关闭了，那么 label 的动画也会关闭\n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // 原始数据\n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        // 当同时配置了 callback 和 cfg 时，以 callback 为准\n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), // 进行 ID 标记\n        elementId: this.geometry.getElementId(mappingData), // label 对应 Element 的 ID\n        data: origin, // 存储原始数据\n        mappingData, // 存储映射后的数据,\n        coordinate, // 坐标系\n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg 需要判断 innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      // 获取最终的 offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        // 用户未配置 content，则默认为映射的第一个字段的值\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    // 如果 x,y 翻转，则偏移 x，否则偏移 y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    // 因为有可能 shape 还在进行动画，导致 shape.getBBox() 获取到的值不是最终态，所以需要从 offscreenGroup 获取\n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // 多参数映射，阻止程序报错\n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/** 线条形 marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n * 处理用户配置的 marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n * 根据 marker 是否为线条形 symbol, 来调整下样式\n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n * 设置 marker 的 symbol，将 字符串的 symbol 转换为真正的绘制命令\n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      // 通过过滤图例项的数据，来看是否 unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend 的 items 获取\n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  // 如果有自定义的 item，那么就直接使用，并合并主题的 marker 配置\n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    // 特殊处理 area 的关键点数据，其关键点结构为 [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * 分割数据，用于处理在一组点数据中，y 对应的数值存在 null/undefined/NaN 的情况\n * 应用于折线图、区域图以及路径图\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points 要进行处理点集合\n * @param connectNulls 是否连接空值数据\n * @param showSinglePoint 是否展示孤立点\n * @returns 返回处理后的点集合\n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // 空或者只有一个点并配置不展示时\n    return [];\n  }\n\n  if (connectNulls) {\n    // 即 y 值为空的场景\n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // 如果前段数据只有一个字段并且不需要展示时则不加入\n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n * 获取小提琴图的边界 path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n * 获取小提琴图 平滑的边界 path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n * 获取 Shape 的图形属性\n * @param cfg\n * @param isStroke 是否需要描边\n * @param isFill 是否需要填充\n * @param [sizeName] 可选，表示图形大小的属性，lineWidth 或者 r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        // 如果用户在 style() 中配置了 stroke，则以用户配置的为准\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        // 如果用户在 style() 中配置了 fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    // 如果用户在 style() 中配置了 lineWidth 或者 r 属性\n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n * 获取 矩形背景 的样式\n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // 默认背景色，copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * 拆分点数据\n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y 有可能是数组，对应原始数据中 y 为一个区间数据，如 [19, 30]，为了统一也将 x 转换为数组\n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    // 宽 13px，高 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns 返回 Line 的 marker 配置\n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); // 根据 connectNulls 值处理 points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n// 单条 path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // 只有一个点时\n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // 直角坐标系下绘制曲线时限制最大值、最小值\n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // 上边\n    bottomPoints.push(result[0]); // 底边\n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n * 获取折线图 path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// 这里因为代码公用，所以直接全部注册\n// 'line' 默认折线；'dot' 点线 ···；'dash' 断线 - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/** 单色顺序色板 */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /** 图表背景色 */\n    backgroundColor: '#141414',\n    /** 主题色 */\n    brandColor,\n    /** 图表辅助色 */\n    subColor: 'rgba(255,255,255,0.05)',\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** (单色)顺序色板 */\n    paletteSequence: SINGLE_SEQUENCE,\n    /** 字体 */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 1,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴标题距离坐标轴文本的间距 */\n    axisTitleSpacing: 12,\n    /** 坐标轴标题详细说明icon颜色 */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 1,\n\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 1,\n\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴刻度文本距离坐标轴线的间距 */\n    axisLabelOffset: 8,\n\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 1,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n\n    /** 图例 marker 颜色 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** 图例 marker 距离图例文本的间距 */\n    legendMarkerSpacing: 8,\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 图例项之间的水平间距 */\n    legendItemSpacing: 24,\n    /** 图例项垂直方向的间隔 */\n    legendItemMarginBottom: 12,\n    /** 图例与图表绘图区域的偏移距离  */\n    legendSpacing: 16,\n    /** 图例与图表绘图区域的偏移距离  */\n    legendPadding: [8, 8, 8, 8],\n    /** 水平布局的图例与绘图区域偏移距离 */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /** 垂直布局的图例与绘图区域偏移距离 */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // 图例分页器\n    /** 图例分页器 marker 大小 */\n    legendPageNavigatorMarkerSize: 12,\n    /** 图例分页器 marker 填充色 */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /** 图例分页器 marker 填充色透明度 */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /** 图例分页器 marker 激活状态填充色 */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /** 图例分页器 marker 激活状态填充色透明度 */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /** 图例分页器文本颜色 */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /** 图例分页器文本字体大小 */\n    legendPageNavigatorTextFontSize: 12,\n\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 1,\n\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 1,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: null,\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 0,\n\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: null,\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 0,\n\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n\n    /** Geometry label 文本颜色 */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label 文本字体大小 */\n    overflowLabelFontSize: 12,\n    /** Geometry label 文本行高 */\n    overflowLabelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label 文本描边粗细 */\n    overflowLabelBorder: 1,\n\n    /** Geometry label 文本连接线粗细 */\n    labelLineBorder: 1,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider 组件样式--------------------\n    /** slider 滑道高度 */\n    cSliderRailHieght: 16,\n    /** slider 滑道背景色 */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider 滑道背景色透明度 */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider 滑道前景色 */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider 滑道前景色透明度 */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle 手柄样式\n    /** slider 手柄高度 */\n    cSliderHandlerHeight: 24,\n    /** Slider 手柄宽度 */\n    cSliderHandlerWidth: 10,\n    /** Slider 手柄背景色 */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider 手柄背景色透明度 */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider 手柄高亮背景色 */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider 手柄边框色 */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider 手柄边框粗细 */\n    cSliderHandlerBorder: 1,\n    /** Slider 手柄边框圆角 */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle 字体标签样式\n    /** Slider 字体标签颜色 */\n    cSliderTextFillColor: '#fff',\n    /** Slider 字体标签透明度 */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider 字体标签大小 */\n    cSliderTextFontSize: 12,\n    /** Slider 字体标签行高 */\n    cSliderTextLineHeight: 12,\n    /** Slider 字体标签字重 */\n    cSliderTextFontWeight: 'normal',\n    /** Slider 字体标签描边色 */\n    cSliderTextBorderColor: null,\n    /** Slider 字体标签描边粗细 */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar 组件样式--------------------\n    /** 滚动条 滚道填充色 */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /** 滚动条 滑块填充色 */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /** 滚动条 滑块高亮填充色 */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area 填充颜色 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval 填充颜色 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/** 引入对应的 ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path 构造函数参数类型 */\nexport interface PathCfg extends GeometryCfg {\n  /** 是否连接空值 */\n  connectNulls?: boolean;\n  /** 单个孤立数据点是否展示 */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path 几何标记。\n * 用于绘制路径图等。\n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /** 是否连接空值 */\n  public connectNulls: boolean;\n  /** 单个孤立数据点是否展示 */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * 创建所有的 Element 实例，对于 Path、Line、Area，一组数据对应一个 Element。\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path 的每个 element 对应一组数据\n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); // 绘制 shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n        element.update(shapeCfg); // 更新对应的 element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // 更新动画配置，用户有可能在更新之前有对动画进行配置操作\n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * 获取组成一条线（一组数据）的所有点以及数据\n   * @param mappingData 映射后的数组\n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area 区域上部分\n    let bottomLinePoints = []; // area 区域下部分\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // 都只有一个点，绘制一条竖线\n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); // 根据 connectNulls 配置获取图形关键点\n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area 基本标记的绘制需要获取上下两边的顶点\n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area 几何标记默认的 shape：填充的区域图\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area 几何标记构造函数参数 */\nexport interface AreaCfg extends PathCfg {\n  /**\n   * 面积图是否从 0 基准线开始填充。\n   * 1. 默认值为 `true`，表现如下：\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2. 当值为 `false` 时，表现如下：\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area 几何标记类。\n * 常用于绘制面积图。\n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /** 生成图形关键点 */\n  public readonly generatePoints: boolean = true;\n  /**\n   * 面积图是否从 0 基准线开始填充。\n   * 1. 默认值为 `true`，表现如下：\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2. 当值为 `false` 时，表现如下：\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; // 默认为 true\n    this.sortable = sortable; // 关闭默认的 X 轴数据排序\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * 获取图形绘制的关键点以及数据\n   * @param mappingData 映射后的数据\n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   * 获取 Y 轴上的最小值\n   * @returns y 字段最小值\n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge 几何标记，用于绘制关系图中的**边**图形，如：\n * 1. 流程图\n * 2. 树\n * 3. 弧长连接图\n * 4. 和弦图\n * 5. 桑基图\n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * 用于绘制热力图。\n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /** 热力图暂时不支持 callback 回调（文档需要说明下） */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * 根据数据点生成矩形的四个关键点\n * @param pointInfo 数据点信息\n * @param [isPyramid] 是否为尖底漏斗图\n * @returns rect points 返回矩形四个顶点信息\n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // 矩形的四个关键点，结构如下（左下角顺时针连接）\n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n * 根据矩形关键点绘制 path\n * @param points 关键点数组\n * @param isClosed path 是否需要闭合\n * @returns 返回矩形的 path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  // 对于 shape=\"line\" path 不应该闭合，否则会造成 lineCap 绘图属性失效\n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n * 处理 rect path 的 radius\n * @returns 返回矩形 path 的四个角的 arc 半径\n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  // 处理 边界值\n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n * 获取 interval 矩形背景的 path\n * @param cfg 关键点的信息\n * @param points 已转化为画布坐标的 4 个关键点\n * @param coordinate 坐标系\n * @returns 返回矩形背景的 path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in 笛卡尔坐标系\n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      // 同时存在 坐标系是否发生转置 和 y 镜像的时候\n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      // 获取扇形 path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      // 获取扇形 path（其实是一个圆环，从 coordinate 的起始角度到结束角度）\n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * 根据矩形关键点绘制 path\n * @param points 关键点数组\n * @param lineCap 'round'圆角样式\n * @param coor 坐标\n * @returns 返回矩形的 path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n * 根据 funnel 关键点绘制漏斗图的 path\n * @param points 图形关键点信息\n * @param nextPoints 下一个数据的图形关键点信息\n * @param isPyramid 是否为尖底漏斗图\n * @returns 返回漏斗图的图形 path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // 金字塔最底部\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // 漏斗图最底部\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * 交换两个对象\n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n * 获取 倒角 矩形\n * - 目前只适用于笛卡尔坐标系下\n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  // 获取 四个关键点\n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * 存在镜像\n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1 → p2\n   *  ↑    ↓\n   *  p0 ← p3\n   *\n   *  负数的情况，关键点会变成下面的形式\n   *\n   *  p0 ← p3               p2 ← p1\n   *  ↓    ↑                ↓     ↑\n   *  p1 → p2  --> (转置下)  p3 → p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /** 负数情况 */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/** 逆时针 */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval 的 shape 工厂 */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval 默认 shape，填充的矩形 */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// 已经排序后的数据查找距离最小的\nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    // 日期类型的 values 经常上文本类型，所以需要转换一下\n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // 获取柱宽相关配置项\n  const { intervalPadding, dodgePadding } = geometry;\n  // 兼容theme配置\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // 线性情况下count值\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // 极坐标场景\n    if (coordinate.isTransposed && count > 1) {\n      // 极坐标下多层环图\n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // 非极坐标场景\n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // 基础柱状图\n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // 配置组间距情况\n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // 默认情况\n    normalizedSize *= wr;\n  }\n  // 分组柱状图\n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // 仅配置组内间距情况\n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // 设置组间距但未设置组内间距情况，避免组间距过小导致图形重叠，需乘以wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // 组间距和组内间距均未配置\n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // 最大和最小限制\n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth可能设置为0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path 构造函数参数类型 */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape 背景，只对 Interval Geometry 生效，目前只对 interval-rect shape 生效。 */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval 几何标记。\n * 用于绘制柱状图、饼图、条形图、玫瑰图等。\n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape 背景。目前只对 interval-rect shape 生效。 */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   * 获取每条数据的 Shape 绘制信息\n   * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    // 计算每个 shape 的 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // 归一化\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   * 调整 y 轴的 scale 范围。\n   * 对于 Y 轴为数值轴柱状图，默认从 0 开始 生长。\n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // 特殊逻辑：饼图需要填充满整个空间\n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        // 发生过 stack 调整，yScale 的 max 被调整过，this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      // 柱状图数值轴默认从 0 开始\n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time 类型不做调整\n        // 柱状图的 Y 轴要从 0 开始生长，但是如果用户设置了则以用户的为准\n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        // 柱当柱状图全为负值时也需要从 0 开始生长，但是如果用户设置了则以用户的为准\n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/line';\n\n/**\n * Line 几何标记。\n * 常用于折线图的绘制。\n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; // 关闭默认的 X 轴数据排序\n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  // 添加该 shape 对应的 hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/** 引入 Point 对应的 ShapeFactory */\nimport './shape/point';\n\n/**\n * Point 几何标记。\n * 常用于绘制点图。\n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * 获取一个点的绘制信息。\n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // 层叠点图\n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon 几何标记。\n * 常用于绘制色块图、日历图等。\n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   * 获取 Shape 的关键点数据。\n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y 都是数组时，不做处理\n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // 如果x,y都是分类\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x 是数组\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y 是数组\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema 几何标记，用于一些自定义图形的绘制，比如箱型图、股票图等。\n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   * 获取 Shape 的关键点数据。\n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    // 计算每个 shape 的 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // 归一化\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin 几何标记。\n * 用于绘制小提琴图。\n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size 私有映射字段 */\n  private _sizeField: string;\n\n  /**\n   * 获取 Shape 的关键点数据。\n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    // 计算每个 shape 的 size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // 归一化\n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme 干啥要删掉\n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// 弧线包括笛卡尔坐标系下的半圆弧线、极坐标系下以圆心为控制点的二阶曲线、笛卡尔坐标系下带权重的三阶曲线、极坐标系下带权重的以圆心为控制点的二阶曲线\nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * 描边但不填充的区域图\n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * 填充的平滑曲面图\n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/** 描边的平滑曲面图 */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n// 根据数据点生成 Line 的两个关键点\nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  // 起始点从 y0 开始\n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n// 根据数据点生成 tick shape 的 6 个关键点\nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick 关键点顺序\n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n// 根据 tick 关键点绘制 path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I 形状柱状图，常用于 error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/** 漏斗图 */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/** 描边柱状图 */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/** 金字塔图，尖底漏斗图 */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); // 根据 connectNulls 值处理 points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // 最小值\n  const max = array[array.length - 1]; // 最大值\n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // 最小值\n    max, // 最大值\n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2维\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // 只有一个维度\n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], // 封闭 z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // 从大到小排序\n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // 转换为画布坐标\n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), // 获取 rect 绘图信息\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n// 添加 hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n// 所有的 SHAPES 都注册一下\neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * 平滑边界的小提琴图\n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * 空心小提琴图\n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * 平滑边界的空心小提琴图\n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n * 柱状图 label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   * 获取 interval label 的方向，取决于 value 的值是正还是负\n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points 中的 x/y 和 transpose 无关\n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   * 重载：根据 interval 值的正负来调整 label 偏移量\n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   * 重载：定制 interval label 的默认主题配置\n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    // 如果 interval label position 设置为 middle，则将主题中的 offset 覆盖为 0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // 处理漏斗图\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // 非漏斗图底部\n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: 使用包围盒的计算方法\n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n * 极坐标下的图形 label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc 获取 label offset\n   * polar & theta coordinate support「string」type, should transform to 「number」\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   * 获取 labelItems, 增加切片 percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * 获取文本的对齐方式\n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   * 获取 label 的位置\n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // 如果文本位置位于圆心，则不展示\n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * 获取圆弧的位置\n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * 计算坐标线点在极坐标系下角度\n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * 获取坐标点与圆心形成的圆的位置信息\n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   * 获取 label 的旋转角度\n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // 获取中心的位置\n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // 是否居中\n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n * 饼图 label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label text和line距离 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  // 配置 labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // 贴近圆周\n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * 碰撞检测算法\n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label text和line距离 4px */\nconst MARGIN = 4;\n\n/**\n * 配置 labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /** 坐标圆心 */\n  const center = coordinate.getCenter();\n  /** 圆半径 */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // 贴近圆周\n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    // 第三象限 & 第四象限\n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    // 默认 smooth, undefined 也为 smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 表示弧线的方向，0 表示从起点到终点沿逆时针画弧, 1 表示顺时针\n      let sweepFlag = 0;\n\n      // 第一象限\n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // 第二象限\n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // 第三象限\n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // 第四象限\n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // 圆弧的结束点\n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       * 移动至 (100, 100), 连接到 (100, 90), 以 (50, 50) 为圆心，绘制圆弧至 (150, 50);\n       * A 命令的第 4 个参数 large-arc-flag, 决定弧线是大于还是小于 180 度: 0 表示小角度弧，1 表示大角\n       * 第 5 个参数: 是否顺时针绘制\n       */\n      // 默认小弧\n      const largeArcFlag = 0;\n      // step1: 移动至起点\n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: 连接拐点\n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3: 绘制圆弧 至 结束点\n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: 连接结束点\n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 旧的拉线\n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: 连接结束点\n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2: 绘制 curve line (起点 & 结合点与圆心的斜率不等时, 由于存在误差, 使用近似处理)\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: 连接至起点\n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n * 饼图 outer-label 布局, 适用于 type = pie 且 label offset > 0 的标签\n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /** 坐标系 */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /** 坐标圆心 */\n  const center = coordinate.getCenter();\n  /** 圆半径 */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight 可以控制 label 的行高\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels 容器的范围(后续根据组件的布局设计进行调整) */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape 发生过调整\n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** 拐点偏移量, 暂不可配置 */\nconst INFLECTION_OFFSET = 4;\n/** 标签偏移量, distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/** 标签与牵引线的偏移量 */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /** 坐标圆心 */\n  const center = coordinate.getCenter();\n  /** 圆半径 */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // 文本被调整下去了，则添加拐点连接线\n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /** 是否在第一象限 */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /** 是否在 第二象限 */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /** 是否在 第三象限 */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /** 是否在 第四象限 */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n * 饼图标签 spider 布局, 只适用于 pie-spider 的标签类型\n * region 应该是 labelsRenderer 容器的范围限制(便于后续组件间布局)\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /** 坐标系 */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /** 坐标圆心 */\n  const center = coordinate.getCenter();\n  /** 圆半径 */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels 容器的范围(后续根据组件的布局设计进行调整) */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /** 从 pos.x 移动到 item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n * 将 label 限制在画布范围内，简单得将超出画布的 label 往画布内调整\n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // 超出左侧\n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // 超出顶部\n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // 整体超出右侧\n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // 超出右侧\n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // 整体超出顶部\n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // 超出底部\n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n * 根据图形元素以及 label 的 bbox 进行调整，如果 label 超出了 shape 的 bbox 则不展示\n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // 文本有可能发生旋转\n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // 超出则不展示\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy 贪婪算法\n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  根据如下规则尝试放置label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   —————————4————————   7\n *        |    2   |   3   |\n *        ——————————————————\n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label 防遮挡布局：在不改变 label 位置的情况下对相互重叠的 label 进行调整。\n * 不同于 'overlap' 类型的布局，该布局不会对 label 的位置进行偏移调整。\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label 防遮挡布局：为了防止 label 之间相互覆盖同时保证尽可能多 的 label 展示，通过尝试将 label 向**四周偏移**来剔除放不下的 label\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * 定义投影对象\n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. 获取投影轴\n */\nfunction getAxes(points: Point[] /** 多边形的关键点 */): Vec2[] {\n  // 目前先处理 平行矩形 的场景, 其他多边形不处理\n  if (points.length > 4) {\n    return [];\n  }\n  // 获取向量\n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  // 由于 矩形的平行原理，所以只有 2 条投影轴: A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * 绕指定点顺时针旋转后的点坐标\n * 默认绕原点旋转\n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * 转化为顶点坐标数组\n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. 获取多边形在投影轴上的投影\n *\n * 向量的点积的其中一个几何含义是：一个向量在平行于另一个向量方向上的投影的数值乘积。\n * 由于投影轴是单位向量（长度为1），投影的长度为 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /** 多边形的关键点 */, axis: Vec2): Projection {\n  // 目前先处理矩形的场景\n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * 快速判断两个无旋转矩形是否遮挡\n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * 判断两个矩形是否重叠（相交和包含, 是否旋转）\n *\n * - 原理: 分离轴定律\n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  // 如果两个 box 中有一个是不合法的 box，也就是不会被渲染出来的，那么它们就不相交。\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // 如果两个矩形没有旋转，使用快速判断\n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  // 分别获取 4 个关键点\n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // 获取所有投影轴\n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // 判断投影轴上的投影是否存在重叠，若检测到存在间隙则立刻退出判断，消除不必要的运算。\n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * 定义投影对象\n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. 获取投影轴\n     */\n    function getAxes(points: Point[] /** 多边形的关键点 */): Vec2[] {\n      // 目前先处理 平行矩形 的场景, 其他多边形不处理\n      if (points.length > 4) {\n        return [];\n      }\n      // 获取向量\n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      // 由于 矩形的平行原理，所以只有 2 条投影轴: A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * 绕指定点顺时针旋转后的点坐标\n     * 默认绕原点旋转\n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * 转化为顶点坐标数组\n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. 获取多边形在投影轴上的投影\n     *\n     * 向量的点积的其中一个几何含义是：一个向量在平行于另一个向量方向上的投影的数值乘积。\n     * 由于投影轴是单位向量（长度为1），投影的长度为 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /** 多边形的关键点 */, axis: Vec2): Projection {\n      // 目前先处理矩形的场景\n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      // 分别获取 4 个关键点\n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // 获取所有投影轴\n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label 防遮挡布局：在不改变 label 位置的情况下对相互重叠的 label 进行隐藏（非移除）\n * 不同于 'overlap' 类型的布局，该布局不会对 label 的位置进行偏移调整。\n * @param labels 参与布局调整的 label 数组集合\n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n * 获取 canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      // 出现溢出直接应用 overflowLabel 样式\n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // 水平方向：条形图系列\n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // 垂直方向：柱形图系列\n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n * 适用于 interval geometry 的数据标签位置自动调整布局方法\n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; // 最多显示 500 个数据标签\n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n * 为 interval geometry 定制的数据标签重叠自动隐藏布局方法\n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // 最后一个\n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // 第一组\n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // 最后一组\n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // 其他组\n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout 的配置类型\n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * 对同一组(相同 xField )的 Label 进行排序：第一个、最后一个、其他...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * 计算两个矩形之间的堆叠区域面积\n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n * 判断新添加的 Label 是否和已存在的发生重叠\n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n * 适用于 point geometry 的数据标签位置自动调整布局方法\n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // 重复位置，直接隐藏\n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout 的配置类型\n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * 对同一组(相同 xField )的 Label 进行排序：第一个、最后一个、其他...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * 计算两个矩形之间的堆叠区域面积\n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n * 判断新添加的 Label 是否和已存在的发生重叠\n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n * 适用于 point geometry 的数据标签位置自动调整布局方法\n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // 重复位置，直接隐藏\n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout 的可选配置 */\nexport interface LimitInPlotLayoutCfg {\n  /** 需要限制哪些方向上不能超过 Plot 范围，默认四个方向上都限制 */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /** 可以允许的 margin */\n  margin?: number;\n  /** 超过限制后的动作，默认 translate 移动位置; ellipsis 对 text 进行省略展示 */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n * 将 label 限制在 Plot 范围内，将超出 Plot 范围的 label 可选择进行隐藏或者移动位置\n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // 超出左侧\n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // 超出顶部\n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // 整体超出右侧\n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // 超出右侧\n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // 整体超出底部\n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // 超出底部\n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 单个 shape 动画\n * 渐现动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n * 单个 shape 动画\n * 渐隐动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * 对图形元素进行矩阵变换，同时返回变换前的图形矩阵\n * @param shape 进行矩阵变换的图形\n * @param vector 矩阵变换的中心点\n * @param direct 矩阵变换的类型\n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * 对图形元素进行剪切动画\n * @param element 进行动画的图形元素\n * @param animateCfg 动画配置\n * @param coordinate 当前坐标系\n * @param yMinPoint y 轴的最小值对应的图形坐标点\n * @param type 剪切动画的类型\n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * 入场动画\n * x 方向的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * 入场动画\n * y 轴方向上的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * 入场\n * 中心点的向四周的生长动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 入场动画\n * path 的入场动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // 设置虚线样式\n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // 对虚线偏移量做动画\n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 坐标移动动画\n * @param shape 图形\n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x 数值如果为负值，那么应该从右往左生长\n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    // 逆时针，需要将 startAngle 和 endAngle 转置，因为 G2 极坐标系为顺时针方向\n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  // 当 startAngle, endAngle 接近相等时，不进行 endAngle = Math.PI * 1.5 防止变化从整个圆开始\n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path 存在以下情况\n * 1. 饼图不为整圆的 path，命令为 M, L, A, L, Z\n * 2. 饼图为整圆的 path，命令为 M, M, A, A, M, Z\n * 3. 环图不为整圆的 path，命令为 M, A, L, A, L, Z\n * 4. 环图为整圆的 path，命令为 M, A, A, M, A, A, M, Z\n * 5. radial-line, 不为整圆时的 path, 命令为 M, A, A, Z\n * 6. radial-line, 为整圆时的 path，命令为 M, A, A, A, A, Z\n * @param path theta 坐标系下圆弧的 path 命令\n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * 饼图更新动画\n * @param shape 文本图形\n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  // 没有 diff 时直接返回最终 attrs，不需要额外动画\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack, 兼容 /examples/bar/basic/demo/radial-line.ts 动画\n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        // 将 path 保持原始态，否则会影响 setState() 的动画\n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 整体动画\n * 划入入场动画效果\n * @todo 放两张直角坐标系和极坐标系的图\n * @param element 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // 根据坐标系类型获取整体的剪切区域配置信息\n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; // 为 shape 设置剪切区域\n\n  // 更新 动画 获取了 toAttrs 需要重新更新上去\n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // 对剪切图形做动画\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // 动画结束需要将剪切图形销毁\n    },\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // 放大\n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n * 单个 shape 动画\n * shape 以自身中心点逐渐放大的进入动画\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n * 单个 shape 动画\n * 消失动画，shape 以自身为中心点的逐渐缩小\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n * 获取 facet title 的最佳默认配置，防止\n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // 文本阅读习惯从上往下\n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n * 根据角度，获取 ○ 上的点\n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * 镜像分面\n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * 根据总数和当前索引，计算分面的 region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // 画布半径\n    // 画布圆心\n    const center = { x: 0.5, y: 0.5 };\n    // 每隔分面间隔的弧度\n    const avgAngle = (Math.PI * 2) / count;\n\n    // 当前分面所在的弧度\n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO 没看懂\n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // 分面的中心点\n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // 右上角\n    const endAngle = (Math.PI * 1) / 4; // 左下角\n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // 不做任何处理\n    return option;\n  }\n\n  /**\n   * 设置 y 坐标轴的文本、title 是否显示\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // 不做任何处理\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * 镜像分面\n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // 默认显示一列\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // 每行有几列数据\n\n    // 总共有几行\n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      // 当前 index 在那个行列\n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   * 设置 x 坐标轴的文本、title 是否显示\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    // 当是最后一行或者下面没有 view 时文本不显示\n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * 设置 y 坐标轴的文本、title 是否显示\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * 计算分页数\n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * 索引值在哪一页\n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * 镜像分面\n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // 矩阵中行列相等，等于指定的字段个数\n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   * 设置 x 坐标轴的文本、title 是否显示\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // 最后一行显示\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * 设置 y 坐标轴的文本、title 是否显示\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // 第一列显示\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * 镜像分面\n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // 做一下坐标系转化\n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // 镜像最多两个\n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // 镜像最多两个\n      rowValuesLength = rowValues.length;\n    }\n\n    // 获取每个维度对应的数据配置片段\n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   * 设置 x 坐标轴的文本、title 是否显示\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // 非最后一行\n    // 当是最后一行或者下面没有 view 时文本不显示\n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   * 设置 y 坐标轴的文本、title 是否显示\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * 矩阵分面\n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * 生成矩阵分面的分面数据\n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // 获取每个维度对应的数据配置片段\n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   * 设置 x 坐标轴的文本、title 是否显示\n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // 非最后一行\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // 不是中间列\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * 设置 y 坐标轴的文本、title 是否显示\n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore 允许调整\n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x轴方向的每个分面的偏移\n    const yWidth = 1 / rows; // y轴方向的每个分面的偏移\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 预留1/3的空隙，方便添加连接线\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore 允许调整\n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * 获得中位数\n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // 先排序\n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // 奇数\n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // 偶数\n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * 获得平均值\n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/** 需要在图形绘制完成后才渲染的辅助组件类型列表 */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, 主要作用:\n * 1. 创建 Annotation: line、text、arc ...\n * 2. 生命周期: init、layout、render、clear、destroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /* 组件更新的 cache，组件配置 object : 组件 */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   * 因为 annotation 需要依赖坐标系信息，所以 render 阶段为空方法，实际的创建逻辑都在 layout 中\n   */\n  public layout() {\n    this.update();\n  }\n\n  // 因为 Annotation 不参与布局，但是渲染的位置依赖于坐标系，所以可以将绘制阶段延迟到 layout() 进行\n  public render() { }\n\n  /**\n   * 更新\n   */\n  public update() {\n    // 1. 先处理需要在图形渲染之后的辅助组件 需要在 Geometry 完成之后，拿到图形信息\n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      // 先看是否有 regionFilter/shape 要更新\n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // 存储已经处理过的\n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      // 处理完成之后，更新 cache\n      // 处理完成之后，销毁删除的\n      this.cache = this.syncCache(updated);\n    });\n\n    // 2. 处理非 regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // 存储已经处理过的\n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * 清空\n   * @param includeOption 是否清空 option 配置项\n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * 复写基类的方法\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * 清除当前的组件\n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter 比较特殊的渲染时机\n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        // 如果 geometry 开启，则监听\n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // 不创建\n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   * 创建 Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   * 创建 DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   * 创建 RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   * 创建 ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   * 创建 HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    // 转成 object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    // 入参是 [24, 24] 这类时\n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      // 如果数据格式是 ['50%', '50%'] 的格式\n      // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      // 入参是 object 结构，数据点\n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option 用户的配置\n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html 组件需要指定 parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // 合并主题，用户配置优先级高于默认主题\n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html 类型不使用 G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); // 如果 view 关闭动画，则不执行\n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   * 创建或者更新 annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // 拿到缓存的内容\n    let co = this.cache.get(this.getCacheKey(option));\n\n    // 存在则更新，不存在在创建\n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // 忽略掉一些配置\n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      // 对于 regionFilter/shape，因为生命周期的原因，需要额外 render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // 不存在，创建\n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // Note：regionFilter/shape 特殊处理，regionFilter/shape 需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n        // 其他组件使用外层的统一 render 逻辑\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * 更新缓存，以及销毁组件\n   * @param updated 更新或者创建的组件\n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone 一份\n\n    // 将 update 更新到 cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    // 另外和 options 进行对比，删除\n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option 中已经找不到，那么就是删除的\n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   * 获得缓存组件的 key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    // 如果存在 id，则使用 id string，否则直接使用 option 引用作为 key\n    return option;\n    // 后续扩展 id 用\n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    // 补全 ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // 只有一项数据时取当前值\n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      // 如果是 x 轴作为半径轴，那么只需要取圆弧收尾两个即可\n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update 组件的时候，忽略的数据更新\nconst OMIT_CFG = ['container'];\n\n// 坐标轴默认动画配置\nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /** 使用 object 存储组件 */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    // 先创建 gridContainer，将 grid 放到 axis 底层\n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * 更新组件布局，位置大小\n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate 更新之后，center 也变化了\n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   * 更新 axis 组件\n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // 处理完成之后，销毁删除的\n    // 不在处理中的\n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // 不存在，则是所有需要被销毁的组件\n        co.component.destroy();\n      }\n    });\n\n    // 更新缓存\n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * 更新 x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // 存在则更新\n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // 不存在，则创建\n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // 存在则更新\n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // 不存在则创建\n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // 存在则更新\n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // 不存在，则创建\n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // 默认不渲染转置极坐标下的坐标轴\n            return;\n          } else {\n            // 如果用户打开了隐藏的坐标轴 chart.axis(true)/chart.axis('x', true)\n            // 那么对于转置了的极坐标，半径轴显示的是 x 轴对应的数据\n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // 存在则更新\n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // 不存在则创建\n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid，极坐标下的 x 轴网格线沿着半径方向绘制\n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // 存在则更新\n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // 不存在，则创建\n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // 存在则更新\n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // 不存在则创建\n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // 存在则更新\n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // 不存在，则创建\n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // 存在则更新\n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // 不存在则创建\n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   * 创建 line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    // 计算 verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 等默认值需要有一个全局的配置的地方\n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // 配置的相对值，相对于画布\n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid 动画以 axis 为准\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x 轴对应的值如果是非 cat 类型，在整圆的情况下坐标轴第一个和最后一个文本会重叠，默认只展示第一个文本\n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid 动画以 axis 为准\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid 动画以 axis 为准\n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    // 坐标系类型也作为组件的 key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), // 如果 view 关闭动画，则不执行动画\n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * 方位常量转实际的 bbox 位置大小\n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n * 从配置中获取单个字段的 legend 配置\n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /** 用于多个 legend 布局的 bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    // 和 update 逻辑保持一致\n    this.update();\n  }\n\n  /**\n   * layout legend\n   * 计算出 legend 的 direction 位置 x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      // 先更新 maxSize，更新 layoutBBox，以便计算正确的 x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); // 这里只需要他的 width、height 信息做位置调整\n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      // 因为 legend x y 要和 coordinateBBox 对齐，所以要做一个简单的判断\n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // 更新位置\n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend 的更新逻辑\n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    // 已经处理过的 legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      // 存在则 update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        // 如果 cfg 为空，则不在 updated 标记，那么会在后面逻辑中删除\n        if (cfg) {\n          // omit 掉一些属性，比如 container 等\n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // 标记为新的\n          updated[id] = true;\n        }\n      } else {\n        // 不存在则 create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // 标记为新的\n          updated[id] = true;\n        }\n      }\n    };\n\n    // 全局自定义图例\n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // 标记为更新\n          updated[id] = true;\n        }\n      }\n    } else {\n      // 遍历处理每一个创建逻辑\n      this.loopLegends(eachLegend);\n    }\n\n    // 处理完成之后，销毁删除的\n    // 不在处理中的\n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    // 更新当前已有的 components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   * 递归获取所有的 Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   * 遍历 Geometry，处理 legend 逻辑\n   * @param doEach 每个 loop 中的处理方法\n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    // 非根 view，不处理 legend\n    if (!isRootView) {\n      return;\n    }\n\n    // 递归 view 中所有的 Geometry，进行创建 legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; // 防止一个字段创建两个 legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        // 如果在视觉通道上映射常量值，如 size(2) shape('circle') 不创建 legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   * 创建一个 legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   * 自定义图例使用 category 图例去渲染\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    // 直接使用 分类图例渲染\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * 创建连续图例\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * 创建分类图例\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * 获得连续图例的配置\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // 排序\n    items.sort((a: any, b: any) => a.value - b.value);\n\n    // 跟 attr 相关的配置\n    // size color 区别的配置\n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size 的选中前景色，对于 color，则直接使用 color 标识\n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // 基础配置，从当前数据中读到的配置\n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * 获取分类图例的配置项\n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // 图例项需要逆序\n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // 转换成像素值\n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   * 生成 id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   * 根据 id 来获取组件\n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    // 目前 legend 的布局是以 viewBBox 为参照\n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * 初始化\n   */\n  public init() {}\n\n  /**\n   * 渲染\n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // 监听事件，绑定交互\n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * 布局\n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        // 初始状态下的 view 数据过滤\n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      // 获取组件的 layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      // 默认放在 bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * 更新\n   */\n  public update() {\n    // 逻辑和 render 保持一致\n    this.render();\n  }\n\n  /**\n   * 创建 slider 组件\n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    // 添加 slider 组件\n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * 更新配置\n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * 进行测量操作\n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * 清除测量\n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   * 生成 slider 配置\n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // 用户配置的数据，优先级更高\n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // 因为有样式，所以深层覆盖\n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg 因为有数据数组，所以使用浅替换\n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   * 从 view 中获取数据，缩略轴使用全量的数据\n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   * 获取 slider 的主题配置\n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * 滑块滑动的时候出发\n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   * 根据 start/end 和当前数据计算出当前的 minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    // 如果是 xScale 数值类型，则进行排序\n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: 需要兼容，否则调用方直接取值会报错\n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   * 更新 view 过滤数据\n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    // 如果是 xScale 数值类型，则进行排序\n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    // 增加 x 轴的过滤器\n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * 覆写父类方法\n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * 覆盖父类\n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * 渲染\n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * 布局\n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      // 默认放在 bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * 更新\n   */\n  public update() {\n    // 逻辑和 render 保持一致\n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /** 设置滚动条位置  */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /** 获得滚动条位置  */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   * 获取 scrollbar 的主题配置\n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   * 获取 scrollbar 组件的主题样式\n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    // 如果是 xScale 数值类型，则进行排序\n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * 填充一些默认的配置项目\n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * 获取数据\n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    // 纵向做了 y 轴镜像之后，数据也需要镜像反转\n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // 三层\n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false 代表只显示当前拾取到的 shape 的数据，但是一个 view 会有多个 Geometry，所以有可能会拾取到多个 shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n * 背景框的 Action. 只作用于 interval 和 schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * 显示\n   * @param {ShapeAttrs} style region-path 的样式\n   * @param {number} appendRatio 适用于笛卡尔坐标系. 对于 x 轴非 linear 类型: 默认：0.25, x 轴 linear 类型: 默认 0\n   * @param {number} appendWidth  适用于笛卡尔坐标系. 像素级别，优先级 > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // 如果拾取数据同上次相同，则不重复绘制\n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      // 根据 x 对应的值查找 elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      // 根据 bbox 计算背景框的面积区域\n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; // 如果 x 轴是数值类型，如直方图，默认不需要加额外的宽度\n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            // 直角坐标系 非转置：最小值直接取 坐标系 minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * 隐藏\n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * 销毁\n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip 展示隐藏的 Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   * 显示 Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      // 锁定时不移动 tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    // 在 showDelay 毫秒（默认 16ms）内到 tooltip 上可以实现 enterable（调参工程师）\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   * 隐藏 Tooltip。\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    // 如果已经 enterable + 已经在 tooltip 上，那么不隐藏\n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    // 锁定 tooltip 时不隐藏\n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // 相同位置不重复展示\n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n * 存在多个 view 时，控制其他 view 上的 tooltip 显示\n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   * 所有同一层级的 tooltip 显示\n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   * 隐藏同一层级的 tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n * 用于组件文本省略后需要展示完整信息的 Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   * 显示 Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   * 隐藏 Tooltip。\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // 延迟生成\n      }\n      const tipContent = target.get('tip');\n      // 展示 tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); // 获取 tooltip 样式\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // 超长的时候，tooltip tip 最大宽度为 50%，然后可以换行\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // 不允许捕获事件\n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * 状态名称\n   */\n  protected stateName: string = '';\n\n  /**\n   * 设置状态是否激活\n   * @param enable 状态值\n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * 是否具有某个状态\n   * @param element 图表 Element 元素\n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * 设置状态激活\n   * @param enable 状态值\n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // 防止闪烁\n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * 设置状态\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * 清除所有 Element 的状态\n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n * 状态量 Action 的基类，允许多个 Element 同时拥有某个状态\n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // 是否忽略触发的列表项\n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // 设置由组件选项导致的状态变化\n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  // 处理触发源由 element 导致的状态变化\n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /** 组件的选项是否同 element 匹配 */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /** 设置状态是否激活 */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // 触发源由于 element 导致\n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // 触发源由组件导致\n      const delegateObject = getDelegationObject(this.context);\n      // 如果触发源时列表，图例、坐标轴\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // 防止闪烁\n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * 切换状态\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * 取消当前时间影响的状态\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n * 元素 active 的 Action，允许多个元素同时 active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public 方法是对外可用的反馈交互。使用方式，如：element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  // 获取颜色对应的 scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  // 获取连接的 path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // 添加连接的图形\n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // 使用图形连接\n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // 缓存\n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // 移除连接\n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   * 连接 elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // 不允许被拾取\n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   * 取消连接 elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * 清除所有连接\n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * 销毁\n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n * 区域设置状态的基础 Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   * 是否作用于当前 view 的 siblings，默认是 false 仅作用于自己\n   */\n  protected effectSiblings = false;\n  /**\n   * 是否受 element 的数据影响，还是受包围盒的影响\n   */\n  protected effectByRecord = false;\n  // 获取当前的位置\n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * 开始，记录开始选中的位置\n   */\n  public start() {\n    this.clear(); // 开始的时候清理之前的状态\n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // 如果没有开始，则不允许范围设置状态，保护性质\n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // 计算框选区域\n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // 不全部清理，会导致闪烁\n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * 选中\n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  // 根据选中的 element 的数据进行设置状态\n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  // 设置兄弟 view 的状态\n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      // 受 mask 影响\n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * 结束\n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  // 复写 clear\n  public clear() {\n    const view = this.context.view;\n    // 判断是否影响 siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n * 图表元素区域 Active 的 Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   * 图表元素 Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n * 单状态量的 Action 基类\n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // 在同一个 element 内部移动，忽视 label 和 shape 之间\n      if (!isElementChange(this.context)) {\n        return;\n      }\n      // 仅支持单个状态量的元素，只能由 element 触发\n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * 切换选中，只允许选中一个\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // 提前获取状态\n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * 取消当前时间影响的状态\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n * 仅允许单个 Element Active 的 Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   * 当前事件相关的 Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n * 清理 highlight 效果\n * @param view View 或者 Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n * 设置多个元素的 highlight\n * @param elements 元素集合\n * @param callback 设置回调函数\n * @param enable 设置或者取消\n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    // 需要处理 active 和 unactive 的互斥\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight，指定图形高亮，其他图形变暗\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  // 多个元素设置、取消 highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  // 设置元素的 highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      // 如果是设置 highlight ，则将匹配的 element 设置成 active，\n      // 其他如果不是 active，则设置成 unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      // 如果取消 highlight，则要检测是否全部取消 highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      // 检测所有 activeElements 都要取消 highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        // 都要取消，则取消所有的 active，unactive 状态\n        this.clear();\n      } else {\n        // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n        // 其他 element 状态不变\n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  // 单个元素设置和取消 highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  // 清理掉所有的 active， unactive 状态\n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n * 区域 highlight 的 Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  // 清理掉所有的 active， unactive 状态\n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   * 设置 highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider 添加事件\n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // 不允许多选\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * 切换状态\n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n * 单个 Element Highlight 的 Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  // 清理掉所有的 active， unactive 状态\n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n * 区域选中的 Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * 选中\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n * 允许多选的 Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * 选中节点，允许多选\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n * 单选的 Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * 选中\n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n * 列表项状态 Action 的基础类\n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /** 获取触发的列表组件 */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  // 获取所有允许执行 Action 的组件\n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /** 是否存在指定的状态 */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /** 清理组件的状态 */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  // 不是所有的 component 都能进行 active，目前仅支持分类 scale 对应的组件\n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      // 如果配置了限制的 component name，则要进行检测\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // 检测是否允许触发对应的状态改变事件\n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // 没有定义忽略的状态时，允许\n  }\n\n  // 设置组件的 item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // 设置状态\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // 被组件触发\n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  // 多个 item 设置状态\n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  // 单个 item 设置状态\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * 设置状态\n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * 取消状态\n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * 切换状态\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * 取消状态\n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n * 列表项（图例项、坐标轴文本）激活的 Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * 激活选项\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * 清理图例的 Highlight 效果\n * @param list 列表组件，图例或者坐标轴\n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action 的效果是 active 和 inactive 两个状态的组合\n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; // 当存在 unchecked 状态时不触发\n  // 如果 item.name 匹配，则设置 highlight 以及取消\n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  // 单个 item 设置状态\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  // 根据条件设置 highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      // 设置 highlight 时，保留之前已经 Highlight 的项\n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      // 检测 activeItems 是否要全部取消\n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n        // 其他 element 状态不变\n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight 图例项（坐标轴文本）\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  // 需要全部清理 active 和 unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      // 如果不是 component 的事件触发，则所有满足触发条件的组件都清除该状态\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n * 图例项和坐标轴文本选中的 Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n * 图例项取消勾选的 Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * 取消勾选\n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * 提供三个对外方法\n * 1. toggle 切换状态\n * 2. checked 选中\n * 3. reset 清除重置\n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  // 单个 item 设置状态\n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  // 根据条件设置 checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      // 设置 checked 时，保留之前已经 checked 的项\n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * 切换状态.\n   * 1. 当全部选中的时候 或者 当前 item 未选中时，进行激活操作\n   * 2. 否则，重置\n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      // 不知道 🤷‍♀️ 只认 unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked 图例项\n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   * 重置，需要全部清理 checked 和 unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1. 初始化，全部 checked。此时，点击 radio, clickItem 进入聚焦\n       * 2. 当前只选中一个\n       *    2.1 且选中 item 等于 clickItem，退出聚焦，全部重新选中\n       *    2.2 替换聚焦的 item\n       * 3. 其它，同 2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   * 显示 Tooltip (展示在上方)\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   * 隐藏 Tooltip。\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // 延迟生成\n      }\n      // 展示 tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // 避免遮挡，如果还不够的话，再考虑开放用户配置\n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip 限制的区域\n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // 不允许捕获事件\n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n * 辅助框 Action 的基类\n */\nabstract class MaskBase extends Action {\n  // mask 图形\n  protected maskShape = null;\n  // 组成 mask 的各个点\n  protected points = [];\n  // 开始 mask 的标记\n  protected starting = false;\n  // 开始移动的标记\n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // 获取当前的位置\n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  // 触发 mask 的事件\n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  // 创建 mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  // 生成 mask 的路径\n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * 显示\n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * 开始\n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // 开始时，保证移动结束\n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      // 开始时设置 capture: false，可以避免创建、resize 时触发事件\n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * 开始移动\n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   * 移动 mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * 结束移动\n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * 结束\n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * 隐藏\n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * 大小变化\n   */\n  public resize() {\n    // 只有进行中，才会允许大小变化\n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * 销毁\n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * 圆形辅助框 Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * 矩形的辅助框 Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // 添加图形\n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      // 约束到 0 - 1 范围内\n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x 轴方向扩展, y 轴方向占满全部\n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y 轴方向扩展, x 轴方向占满全部\n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n// 获取对应的 scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  // 约束值在 scale 的 range 之间\n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  // 范围大于整个 view 的范围，则返回 null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter 只用于：brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n * 范围过滤的 Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /** 允许外部传入 dims */\n  protected cfgFields: ['dims'];\n  /**\n   * 范围过滤生效的字段/维度，可以是 x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /** 起始点 */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y 是否生效\n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * 开始范围过滤，记录范围过滤的起点\n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * 过滤，以开始的点和当前点对数据进行过滤\n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // 如果没有开始，则不执行过滤\n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // 距离过小也不生效\n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    // 设置 x 方向的 filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    // 设置 y 方向的 filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * 结束\n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   * 取消同当前 Action 相关的过滤，指定的 x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // 取消过滤\n    }\n    if (this.hasDim('y')) {\n      // y 轴过滤仅取第一个 yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // 取消过滤\n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   * 对 view 进行过滤\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * 重新渲染\n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n * 多个点构成的 Path 辅助框 Action\n */\nclass PathMask extends MaskBase {\n  // 生成 mask 的路径\n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * 添加一个点\n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  // 生成 mask 的路径\n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview 设置画布的箭头，参看：https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n * 鼠标形状的 Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * 默认光标（通常是一个箭头）\n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /** 光标呈现为指示链接的指针（一只手） */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /** 此光标指示某对象可被移动。 */\n  public move() {\n    this.setCursor('move');\n  }\n  /** 光标呈现为十字线。 */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /** 此光标指示程序正忙（通常是一只表或沙漏）。 */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /** 此光标指示可用的帮助（通常是一个问号或一个气球）。 */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /** 此光标指示文本。 */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * 此光标指示矩形框的边缘可被向右（东）移动。\n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * 此光标指示矩形框的边缘可被向左（西）移动。\n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * 此光标指示矩形框的边缘可被向上（北）移动。\n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * 此光标指示矩形框的边缘可被向下（南）移动。\n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   * 光标指示可移动的方向 右上方（东北）\n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   * 光标指示可移动的方向 左上方（西北）\n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * 光标指示可移动的方向右下方（东南）\n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * 光标指示可移动的方向左下方（西南）\n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * 光标指示可以在上下方向移动\n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * 光标指示可以在左右方向移动\n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * 光标显示可以被放大\n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * 光标显示可以缩小尺寸\n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * 数据过滤。\n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    // 只有存在这个 scale 时才生效\n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * 过滤数据\n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // 列表类的组件能够触发\n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n * 数据范围过滤，但不在当前的 view 上生效，而在当前的 view 同一层级的其他 views 上生效，用于实现联动过滤。\n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   * 对 view 进行过滤\n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * 重新渲染\n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n * 元素过滤的 Action，控制元素的显示隐藏\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * 过滤\n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // 列表类的组件能够触发\n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // 直接控制显示、隐藏\n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * 清除过滤\n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   * 恢复发生的过滤，保持同 data-filter 命名的一致\n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * 过滤隐藏图形\n   */\n  public filter() {\n    // 仅考虑 mask 导致的过滤\n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // 根据框选的记录来做过滤\n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) 不生效，应该是数据的引用被改了\n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // 根据被框选的包围盒做过滤\n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask 过小时返回为 null，不能是空数组，否则同未框选到混淆\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * 清理所有隐藏的图形\n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix 默认的配置和用户配置\n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  // 绘制 Button 和 文本\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // 添加文本\n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // 添加背景按钮\n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // 在后面\n    // active 效果内置\n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // 重置位置\n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // 后面直接改成左上角\n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * 显示\n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * 隐藏\n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * 销毁\n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // 移动的最小距离\n\n/**\n * @ignore\n * View 支持 Drag 的 Action\n */\nclass Drag extends Action {\n  // Action 开始，不等同于 拖拽开始，需要判定移动的范围\n  protected starting = false;\n  // 拖拽开始\n  protected dragStart = false;\n  // 开始的节点\n  protected startPoint: Point;\n\n  /**\n   * 开始\n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * 拖拽\n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * 结束\n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View 移动的 Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * 开始移动\n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // 缓存开始时的矩阵，防止反复拖拽\n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * 移动\n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * 结束移动\n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * 回滚\n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // 是否支持对应字段的平移\n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * 回滚\n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n * 拖拽 Scale 的 Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * 开始\n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // 平移分类的度量\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * 结束\n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * 平移\n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // 平移度量\n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // 暂时仅处理连续字段\n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear 度量平移\n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // 只有第一次缓存，否则无法回滚\n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // 平移分类的度量\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * 回滚\n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n * 缩放 Scale 的 Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * 缩小\n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * 放大\n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // 缩放度量\n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // 暂时仅处理连续字段\n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear 度量平移\n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // 只有第一次缓存，否则无法回滚\n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // 使用使用原始度量作为缩放标准\n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // 平移分类的度量\n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              字段说明：${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // 超长的时候，tooltip tip 最大宽度为 50%，然后可以换行\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail-header\",style:('height:' + _vm.headerHeight + 'px;!important')},[_c('div',{staticClass:\"nav-box\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../imgs/logo.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/')}}}),_c('ul',[_c('li',{on:{\"click\":function($event){return _vm.$router.push('/projects')}}},[_c('span',{staticClass:\"w-font\"},[_vm._v(\"Projects\")]),_c('span',{staticClass:\"re-active\"},[_vm._v(\"Projects\")])]),_vm._m(0),_c('li',[_c('polkaConnect')],1)])]),_c('div',{staticClass:\"detail-content\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.projectObj.icon,\"alt\":\"\"}}),_c('div',{staticClass:\"right-content\"},[_c('h1',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.name)+\" \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"id\"},[_c('strong',[_vm._v(\"Project\")]),_c('strong',[_vm._v(\"#\"+_vm._s(_vm.projectObj.id))])]),_c('div',{staticClass:\"webside\"},[_c('a',{attrs:{\"href\":_vm.projectObj.webside,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.projectObj.webside)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.projectObj.twitter),expression:\"projectObj.twitter\"}],staticClass:\"twitter\"},[_c('a',{attrs:{\"href\":_vm.projectObj.twitter,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"../imgs/twitter.png\"),\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(_vm.projectObj.twitter ? _vm.projectObj.twitter.replace(\"https://twitter.com/\", \"\") : \"\"))])])]),_c('div',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.description)+\" \")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('span',{staticClass:\"w-font\"},[_vm._v(\"FAQ\")]),_c('span',{staticClass:\"re-active\"},[_vm._v(\"FAQ\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail-header\" :style=\"'height:' + headerHeight + 'px;!important'\">\r\n    <div class=\"nav-box\">\r\n      <img @click=\"$router.push('/')\" class=\"logo\" src=\"../imgs/logo.png\" alt=\"\"/>\r\n      <ul>\r\n        <li @click=\"$router.push('/projects')\">\r\n          <span class=\"w-font\">Projects</span>\r\n          <span class=\"re-active\">Projects</span>\r\n        </li>\r\n        <li>\r\n          <span class=\"w-font\">FAQ</span>\r\n          <span class=\"re-active\">FAQ</span>\r\n        </li>\r\n        <li>\r\n          <polkaConnect/>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"detail-content\">\r\n      <img class=\"icon\" :src=\"projectObj.icon\" alt=\"\">\r\n      <div class=\"right-content\">\r\n        <h1 class=\"name\">\r\n          {{ projectObj.name }}\r\n        </h1>\r\n        <div class=\"row\">\r\n          <div class=\"id\">\r\n            <strong>Project</strong>\r\n            <strong>#{{ projectObj.id }}</strong>\r\n          </div>\r\n          <div class=\"webside\">\r\n            <a :href=\"projectObj.webside \" target=\"_blank\">\r\n              {{ projectObj.webside }}\r\n            </a>\r\n          </div>\r\n          <div class=\"twitter\" v-show=\"projectObj.twitter\">\r\n            <a :href=\"projectObj.twitter\" target=\"_blank\"> <img src=\"../imgs/twitter.png\" alt=\"\">\r\n            {{ projectObj.twitter ? projectObj.twitter.replace(\"https://twitter.com/\", \"\") : \"\" }}</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"description\">\r\n          {{ projectObj.description }}\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport polkaConnect from \"@/components/polkaConnect\";\r\n\r\nexport default {\r\n  name: \"detail-header\",\r\n  props: {\r\n    \"projectObj\": Object\r\n  },\r\n  components: {\r\n    polkaConnect\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    headerHeight() {\r\n      return this.$route.path === '/' ? 300 : 300\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.detail-header {\r\n  background: url(\"../imgs/detail_header_bg.png\");\r\n  background-size: 100%;\r\n  font-weight: bold;\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n\r\n  .navbar-box-bg {\r\n    width: 1920px;\r\n    height: 60px;\r\n    opacity: 0.1;\r\n    background: #ffffff;\r\n    position: absolute;\r\n  }\r\n\r\n  .nav-box {\r\n    display: flex;\r\n    height: 60px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n\r\n    .logo {\r\n      width: 140px;\r\n      height: 26px;\r\n    }\r\n\r\n    ul {\r\n      display: flex;\r\n      height: 42px;\r\n\r\n      li {\r\n        height: 100%;\r\n        line-height: 50px;\r\n        position: relative;\r\n        overflow: hidden;\r\n        cursor: pointer;\r\n        color: #111;\r\n        margin: 0 30px;\r\n\r\n        .w-font {\r\n          position: relative;\r\n          top: 0;\r\n          left: 0;\r\n          transition: 0.2s;\r\n        }\r\n\r\n        .re-active {\r\n          position: absolute;\r\n          top: 40px;\r\n          left: 0;\r\n          transition: 0.2s;\r\n          background-image: linear-gradient(225deg, #54D500 0%, #2AAA00 100%);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n        }\r\n\r\n        &:hover {\r\n          .re-active {\r\n            top: 0 !important;\r\n          }\r\n\r\n          .w-font {\r\n            top: -40px;\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  .detail-content {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n\r\n    .right-content {\r\n      padding: 10px 0 0 20px;\r\n\r\n      .id {\r\n        color: #666;\r\n      }\r\n\r\n      .webside {\r\n        padding: 0 10px;\r\n        color: #FF7238;\r\n\r\n        a {\r\n          color: #FF7238 !important;\r\n        }\r\n        margin: 0 10px;\r\n      }\r\n\r\n      .twitter {\r\n        padding: 0 10px;\r\n\r\n        margin: 0 10px;\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        a {\r\n          color: #2aaa00 !important;\r\n        }\r\n\r\n        img {\r\n          margin-right: 10px;\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n      }\r\n\r\n      .description {\r\n        padding: 10px 0;\r\n      }\r\n    }\r\n\r\n    .icon {\r\n      width: 180px;\r\n      margin-top: 10px;\r\n    }\r\n\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail-header.vue?vue&type=template&id=791c4824&scoped=true&\"\nimport script from \"./detail-header.vue?vue&type=script&lang=js&\"\nexport * from \"./detail-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail-header.vue?vue&type=style&index=0&id=791c4824&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"791c4824\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"DetailsView\">\r\n    <detailHeader :projectObj=\"project\"></detailHeader>\r\n    <div class=\"DetailsView-content\">\r\n      <div class=\"left-content\">\r\n        <div class=\"row\">\r\n          <div class=\"name\">\r\n            VOLUME\r\n          </div>\r\n          <div class=\"value\">\r\n            {{ volume }}\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"name\">\r\n            IN TREASURY\r\n          </div>\r\n          <div class=\"value\">\r\n            {{ volume }}\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"name\">\r\n            DISTRIBUTED\r\n          </div>\r\n          <div class=\"value\">\r\n            100% OVERFLOW\r\n          </div>\r\n        </div>\r\n        <!--      <el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=\"70\"></el-progress>-->\r\n        <div class=\"row\">\r\n          <div>\r\n            IN WALLET\r\n          </div>\r\n          <strong >\r\n            {{myTokenBalance}}\r\n          </strong>\r\n        </div>\r\n        <!--        <div id=\"coin-chart\"></div>-->\r\n        <div v-show=\"!tokenAddress && tokenOwner==$store.state.app.account\" class=\"mangobox-button\"\r\n             @click=\"isShowCreate=true\" style=\"margin-top: 30px;padding: 10px 0\">\r\n          Create Token\r\n        </div>\r\n        <h2 class=\"not-begun\" v-show=\"!tokenAddress && tokenOwner!=$store.state.app.account\">\r\n          Fund-raising has not begun\r\n        </h2>\r\n        <div class=\"token-panel\" v-show=\"tokenAddress\">\r\n          <h4 class=\"sub-title\">\r\n            Tokens\r\n\r\n            <!--            <div class=\"mangobox-button\" @click=\"isShowMint = true\">-->\r\n            <!--              mintFor-->\r\n            <!--            </div>-->\r\n          </h4>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              Total supply\r\n            </div>\r\n            <div class=\"value\">\r\n              {{ tokenSupply }}tokens\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              Your balance\r\n            </div>\r\n            <div class=\"value\">\r\n              {{ myBalance }} tokens\r\n            </div>\r\n            <div class=\"mangobox-button\" style=\"padding:6px 10px\" @click=\"isShowManageToken = true\">\r\n              Manage Token\r\n            </div>\r\n          </div>\r\n          <h4 class=\"sub-title\">\r\n            Funding cycle #{{parseInt(currentCycleInfo.number)  +1}}\r\n          </h4>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              Distribution limit\r\n            </div>\r\n            <div class=\"value\">\r\n              {{currentCycleInfo.baseOn?currentCycleInfo.baseOn:\"Zero\"}}\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              Duration\r\n            </div>\r\n            <div class=\"value\">\r\n              {{currentCycleInfo.duration==0?\"Not set\":currentCycleInfo.duration}}\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              discountRate\r\n            </div>\r\n            <div class=\"value\">\r\n              {{currentCycleInfo.discountRate}}\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"name\">\r\n              weight\r\n            </div>\r\n            <div class=\"value\">\r\n              {{currentCycleInfo.weight}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"right-content\" v-show=\"tokenAddress\">\r\n        <div class=\"row\" style=\"position: relative\">\r\n          <div class=\"input-box\">\r\n            <input type=\"text\" v-model=\"amount\">\r\n          </div>\r\n          <strong style=\"position: absolute;left: 270px;top: 8px\">USDT</strong>\r\n          <div class=\"mangobox-button\" @click=\"pay\" style=\"padding: 0 30px\">\r\n            PAY\r\n          </div>\r\n\r\n        </div>\r\n        <div>\r\n          Receive\r\n          <strong> {{distributeAmountNumber}}/1USDT</strong>\r\n        </div>\r\n        <h3 class=\"sub-title\">\r\n          Activity\r\n        </h3>\r\n        <div class=\"paid-list\">\r\n          <div class=\"paid-item\" v-for=\"(item,index) in PayRecord\" :key=\"index\">\r\n            <div class=\"row paid-item-header\">\r\n              <div>\r\n                Paid\r\n              </div>\r\n              <div>\r\n                {{ item.time }}\r\n              </div>\r\n            </div>\r\n            <div class=\"row paid-item-content\">\r\n              <div class=\"value\">\r\n                ${{ item.value }}\r\n              </div>\r\n              <div>\r\n                {{ item.payer.substr(0, 6) + '...' + item.payer.substr(item.payer.length - 5, item.payer.length) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"create-token-dialog\" v-show=\"isShowCreate\">\r\n      <div class=\"mask\"></div>\r\n      <div class=\"content  animate__animated  animate__bounceInLeft\" @click.stop>\r\n        <h1>Create Token</h1>\r\n        <h3>Token Name</h3>\r\n        <input type=\"text\" v-model=\"tokenName\" placeholder=\"Token Name\">\r\n        <h3>Token Symbol</h3>\r\n        <input type=\"text\" v-model=\"tokenSymbol\" placeholder=\"Token Symbol\">\r\n        <div class=\"operate-btns\">\r\n          <div class=\"mangobox-button\" @click=\"issueTokenFor\">\r\n            Create\r\n          </div>\r\n          <div class=\"mangobox-button\" @click=\"isShowCreate=false\">\r\n            Cancel\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"create-token-dialog\" v-show=\"isShowMint\">\r\n      <div class=\"mask\"></div>\r\n      <div class=\"content  animate__animated  animate__bounceInLeft\" @click.stop>\r\n        <h1>Mint Token</h1>\r\n        <h3>Mint Amount</h3>\r\n        <input type=\"text\" v-model=\"mintAmount\" placeholder=\"amount\">\r\n        <div class=\"operate-btns\">\r\n          <div class=\"mangobox-button\" @click=\"mintFor\">\r\n            Mint\r\n          </div>\r\n          <div class=\"mangobox-button\" @click=\"isShowMint=false\">\r\n            Cancel\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"create-token-dialog\" v-show=\"isShowManageToken\">\r\n      <div class=\"mask\"></div>\r\n      <div class=\"content\">\r\n        <div class=\"close\" @click=\"isShowManageToken=false\">\r\n          x\r\n        </div>\r\n        <h1> Manage your token</h1>\r\n        <div class=\"operate-box\" @click=\"isShowBurn=true\">\r\n          <h3 class=\"title\">\r\n            Burn Token\r\n          </h3>\r\n          <div class=\"info\">\r\n            Burn your Token. You won't receive USDT in return because this project has no overflow.\r\n          </div>\r\n          <div class=\"icon\">\r\n            <img src=\"../imgs/caret-right.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"operate-box\"  @click=\"isShowClaim=true\">\r\n          <h3 class=\"title\">\r\n            Claim Token as ERC-20\r\n          </h3>\r\n          <div class=\"info\">\r\n            Move your Token from the Mangobox contract to your wallet.\r\n          </div>\r\n          <div class=\"icon\">\r\n            <img src=\"../imgs/caret-right.png\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"operate-btns\">\r\n          <div class=\"mangobox-button\" @click=\"isShowManageToken = false\">\r\n            Cancel\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"create-token-dialog\" v-show=\"isShowBurn\">\r\n      <div class=\"mask\"></div>\r\n      <div class=\"content  animate__animated  animate__bounceInLeft\" @click.stop>\r\n        <h1>Burn Token</h1>\r\n        <h3>Mint Amount</h3>\r\n        <input type=\"text\" v-model=\"burnAmount\" placeholder=\"burn amount\">\r\n        <input type=\"text\" v-model=\"burnMemo\" placeholder=\"Memo(optional)\">\r\n        <div class=\"operate-btns\">\r\n          <div class=\"mangobox-button\" @click=\"redeemTokensOf\">\r\n            Burn\r\n          </div>\r\n          <div class=\"mangobox-button\" @click=\"isShowMint=false\">\r\n            Cancel\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"create-token-dialog\" v-show=\"isShowClaim\">\r\n      <div class=\"mask\"></div>\r\n      <div class=\"content  animate__animated  animate__bounceInLeft\" @click.stop>\r\n        <h1>Claim Token</h1>\r\n        <h3>Mint Amount</h3>\r\n        <input type=\"text\" v-model=\"claimAmount\" placeholder=\"Claim amount\">\r\n        <div class=\"operate-btns\">\r\n          <div class=\"mangobox-button\" @click=\"claimFor\">\r\n            Claim\r\n          </div>\r\n          <div class=\"mangobox-button\" @click=\"isShowClaim=false\">\r\n            Cancel\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Chart} from '@antv/g2';\r\nimport detailHeader from \"../components/detail-header\"\r\nimport moment from \"moment\"\r\n\r\nfunction findMaxMin(data) {\r\n  let maxValue = 0;\r\n  let minValue = 50000;\r\n  let maxObj = null;\r\n  let minObj = null;\r\n  for (const d of data) {\r\n    if (d.Close > maxValue) {\r\n      maxValue = d.Close;\r\n      maxObj = d;\r\n    }\r\n    if (d.Close < minValue) {\r\n      minValue = d.Close;\r\n      minObj = d;\r\n    }\r\n  }\r\n  return {max: maxObj, min: minObj};\r\n}\r\n\r\nexport default {\r\n  name: \"DetailsView\",\r\n  components: {\r\n    detailHeader\r\n  },\r\n  data() {\r\n    return {\r\n      moment,\r\n      tokenOwner: \"\",\r\n      mintAmount: undefined,\r\n      project: {},\r\n      isShowManageToken: false,\r\n      isShowCreate: false,\r\n      isShowMint: false,\r\n      isShowBurn: false,\r\n      isShowClaim:false,\r\n      burnAmount: undefined,\r\n      burnMemo: undefined,\r\n      claimAmount:undefined,\r\n      volume: 0,\r\n      myBalance:0,\r\n      tokenSupply: 0,\r\n      projectId: null,\r\n      tokenName: undefined,\r\n      tokenSymbol: undefined,\r\n      amount: undefined,\r\n      PayRecord: [],\r\n      tokenAddress: undefined,\r\n      myTokenBalance:0,\r\n      currentCycleInfo:{},\r\n      distributeAmountNumber:0\r\n    }\r\n  },\r\n  methods: {\r\n    distributeAmount(){\r\n      this.$store.dispatch(\"MBERC20PaymentTerminal/distributeAmount\",\r\n       this.projectId,\r\n      ).then((res) => {\r\n        this.distributeAmountNumber =res\r\n      })\r\n    },\r\n    tokenBalanceOf(){\r\n      this.$store.dispatch(\"MBToken/balanceOf\", {\r\n        coinAddr:this.tokenAddress, owner:this.$store.state.app.account\r\n      }).then((res) => {\r\n        this.myTokenBalance =res\r\n        this.isShowBurn = false\r\n      })\r\n    },\r\n    redeemTokensOf() {\r\n      this.$store.dispatch(\"MBERC20PaymentTerminal/redeemTokensOf\", {\r\n        _holder: this.$store.state.app.account,\r\n        _projectId: this.projectId,\r\n        _tokenCount: this.burnAmount,\r\n        _token: this.tokenAddress,\r\n        _minReturnedTokens:0,\r\n        _beneficiary:this.$store.state.app.account,\r\n        _memo:this.burnMemo\r\n      }).then(() => {\r\n        this.isShowBurn = false\r\n      })\r\n    },\r\n    claimFor(){\r\n      this.$store.dispatch(\"MBTokenStore/claimFor\", {\r\n        _projectId:this.projectId, _holder:this.$store.state.app.account, _amount:this.claimAmount\r\n      }).then(() => {\r\n        this.isShowClaim = false\r\n        this.tokenBalanceOf()\r\n      })\r\n    },\r\n    currentOf(){\r\n      this.$store.dispatch(\"MBFundingCycleStore/currentOf\", this.projectId).then(res => {\r\n        console.log(res)\r\n        this.currentCycleInfo = res\r\n      })\r\n    },\r\n    getProjectTokenAddress() {\r\n      this.$store.dispatch(\"MBTokenStore/getProjectTokenAddress\", this.projectId).then(res => {\r\n        this.tokenAddress = res\r\n        if(res){\r\n          this.tokenBalanceOf()\r\n        }\r\n      })\r\n    },\r\n    tokenOwnerOf() {\r\n      this.$store.dispatch(\"MBProjects/ownerOf\", this.projectId).then(res => {\r\n        this.tokenOwner = res\r\n      })\r\n    },\r\n    pay() {\r\n      this.$store.dispatch(\"MBERC20PaymentTerminal/pay\", {\r\n        _projectId: this.projectId,\r\n        _amount: this.amount,\r\n        _token: this.$store.state.app.account,\r\n        _beneficiary: this.$store.state.app.account,\r\n        _minReturnedTokens: 0,\r\n        _preferClaimedTokens: false,\r\n        _memo: \"\",\r\n        _metadata: \"\"\r\n      }).then(() => {\r\n        this.getPayRecords()\r\n      })\r\n    },\r\n    getPayRecords() {\r\n      this.$store.dispatch(\"MBERC20PaymentTerminal/getPayRecords\", this.projectId).then(res => {\r\n        this.PayRecord = res\r\n        this.PayRecord.forEach(item => {\r\n          const timestr = item.time.replace(/,/g, '').trim()\r\n          item.time = this.moment(new Date(parseInt(timestr))).format('MMMM Do YYYY, h:mm:ss a')\r\n        })\r\n        console.log(res)\r\n      })\r\n    },\r\n    getBalanceOf(id) {\r\n      return this.$store.dispatch(\"MBSingleTokenPaymentTerminalStore/getBalanceOf\", {\r\n        _account: \"5FP3znY5SuthDe6xNE7oMyV5TPXdCsV6RBCNRRdCfRFdGuuy\",\r\n        _projectId: id\r\n      })\r\n    },\r\n    balanceOf(address) {\r\n      if(!address){\r\n        address=\"5DyQtzR89WGjAchokxH5Ntc2mxC9ruaUGi4nKYZCSq6VUMg1\"\r\n      }\r\n      return this.$store.dispatch(\"MBTokenStore/balanceOf\", {\r\n        _holder: address, _projectId: this.projectId\r\n      })\r\n    },\r\n    issueTokenFor() {\r\n      if (this.tokenName && this.tokenSymbol && this.tokenName.length > 0 && this.tokenSymbol.length > 0) {\r\n        return this.$store.dispatch(\"MBController/issueTokenFor\", {\r\n          _projectId: this.projectId, _name: this.tokenName, _symbol: this.tokenSymbol\r\n        }).then(() => {\r\n          this.isShowCreate = false\r\n        })\r\n\r\n      } else {\r\n        this.$eventBus.$emit('message', {\r\n          message: \"Please Input tokenName && tokenSymbol\",\r\n          type: \"error\"\r\n        })\r\n      }\r\n\r\n    },\r\n    mintFor() {\r\n      if (this.mintAmount > 0) {\r\n        this.$store.dispatch(\"MBTokenStore/mintFor\", {\r\n          _holder: this.$store.state.app.account,\r\n          _projectId: this.projectId,\r\n          _amount: this.mintAmount,\r\n          _preferClaimedTokens: false\r\n        }).then(() => {\r\n          this.isShowMint = false\r\n        })\r\n\r\n      } else {\r\n        this.$eventBus.$emit('message', {\r\n          message: \"Please Input Mint Amount\",\r\n          type: \"error\"\r\n        })\r\n      }\r\n\r\n    },\r\n    initChart() {\r\n      const data = [\r\n        {\r\n          \"Date\": \"04.01.2016\",\r\n          \"Close\": 126.12\r\n        },\r\n        {\r\n          \"Date\": \"05.01.2016\",\r\n          \"Close\": 125.688\r\n        },\r\n        {\r\n          \"Date\": \"06.01.2016\",\r\n          \"Close\": 119.704\r\n        },\r\n        {\r\n          \"Date\": \"07.01.2016\",\r\n          \"Close\": 120.19\r\n        },\r\n        {\r\n          \"Date\": \"08.01.2016\",\r\n          \"Close\": 121.157\r\n        },\r\n        {\r\n          \"Date\": \"11.01.2016\",\r\n          \"Close\": 117\r\n        },\r\n        {\r\n          \"Date\": \"12.01.2016\",\r\n          \"Close\": 111.487\r\n        },\r\n        {\r\n          \"Date\": \"13.01.2016\",\r\n          \"Close\": 122\r\n        },\r\n        {\r\n          \"Date\": \"14.01.2016\",\r\n          \"Close\": 117.76\r\n        },\r\n        {\r\n          \"Date\": \"15.01.2016\",\r\n          \"Close\": 114.397\r\n        },\r\n        {\r\n          \"Date\": \"18.01.2016\",\r\n          \"Close\": 116.373\r\n        },\r\n        {\r\n          \"Date\": \"19.01.2016\",\r\n          \"Close\": 120.547\r\n        },\r\n        {\r\n          \"Date\": \"20.01.2016\",\r\n          \"Close\": 113.733\r\n        },\r\n        {\r\n          \"Date\": \"21.01.2016\",\r\n          \"Close\": 114.098\r\n        },\r\n        {\r\n          \"Date\": \"22.01.2016\",\r\n          \"Close\": 123.833\r\n        },\r\n        {\r\n          \"Date\": \"25.01.2016\",\r\n          \"Close\": 125\r\n        },\r\n        {\r\n          \"Date\": \"26.01.2016\",\r\n          \"Close\": 124.866\r\n        },\r\n        {\r\n          \"Date\": \"27.01.2016\",\r\n          \"Close\": 120.264\r\n        },\r\n        {\r\n          \"Date\": \"28.01.2016\",\r\n          \"Close\": 122.296\r\n        },\r\n        {\r\n          \"Date\": \"29.01.2016\",\r\n          \"Close\": 124.502\r\n        },\r\n        {\r\n          \"Date\": \"01.02.2016\",\r\n          \"Close\": 127.936\r\n        },\r\n        {\r\n          \"Date\": \"02.02.2016\",\r\n          \"Close\": 132.513\r\n        },\r\n        {\r\n          \"Date\": \"03.02.2016\",\r\n          \"Close\": 129.95\r\n        },\r\n        {\r\n          \"Date\": \"04.02.2016\",\r\n          \"Close\": 129.275\r\n        },\r\n        {\r\n          \"Date\": \"05.02.2016\",\r\n          \"Close\": 127.898\r\n        },\r\n        {\r\n          \"Date\": \"08.02.2016\",\r\n          \"Close\": 134.9\r\n        },\r\n        {\r\n          \"Date\": \"09.02.2016\",\r\n          \"Close\": 122.819\r\n        },\r\n        {\r\n          \"Date\": \"10.02.2016\",\r\n          \"Close\": 120.108\r\n        },\r\n        {\r\n          \"Date\": \"11.02.2016\",\r\n          \"Close\": 119.447\r\n        },\r\n        {\r\n          \"Date\": \"12.02.2016\",\r\n          \"Close\": 117.8\r\n        },\r\n        {\r\n          \"Date\": \"15.02.2016\",\r\n          \"Close\": 122.8\r\n        },\r\n        {\r\n          \"Date\": \"16.02.2016\",\r\n          \"Close\": 121.865\r\n        },\r\n        {\r\n          \"Date\": \"17.02.2016\",\r\n          \"Close\": 126.3\r\n        },\r\n        {\r\n          \"Date\": \"18.02.2016\",\r\n          \"Close\": 128.259\r\n        },\r\n        {\r\n          \"Date\": \"19.02.2016\",\r\n          \"Close\": 125.724\r\n        },\r\n        {\r\n          \"Date\": \"22.02.2016\",\r\n          \"Close\": 130\r\n        },\r\n        {\r\n          \"Date\": \"23.02.2016\",\r\n          \"Close\": 129.948\r\n        },\r\n        {\r\n          \"Date\": \"24.02.2016\",\r\n          \"Close\": 132.5\r\n        },\r\n        {\r\n          \"Date\": \"25.02.2016\",\r\n          \"Close\": 128.08\r\n        },\r\n        {\r\n          \"Date\": \"26.02.2016\",\r\n          \"Close\": 122\r\n        },\r\n        {\r\n          \"Date\": \"29.02.2016\",\r\n          \"Close\": 122\r\n        },\r\n        {\r\n          \"Date\": \"01.03.2016\",\r\n          \"Close\": 123.449\r\n        },\r\n        {\r\n          \"Date\": \"02.03.2016\",\r\n          \"Close\": 130.139\r\n        },\r\n        {\r\n          \"Date\": \"03.03.2016\",\r\n          \"Close\": 132\r\n        },\r\n        {\r\n          \"Date\": \"04.03.2016\",\r\n          \"Close\": 135\r\n        },\r\n        {\r\n          \"Date\": \"07.03.2016\",\r\n          \"Close\": 123.905\r\n        },\r\n        {\r\n          \"Date\": \"08.03.2016\",\r\n          \"Close\": 125.155\r\n        },\r\n        {\r\n          \"Date\": \"09.03.2016\",\r\n          \"Close\": 126\r\n        },\r\n        {\r\n          \"Date\": \"10.03.2016\",\r\n          \"Close\": 126.778\r\n        },\r\n        {\r\n          \"Date\": \"11.03.2016\",\r\n          \"Close\": 129.656\r\n        },\r\n        {\r\n          \"Date\": \"14.03.2016\",\r\n          \"Close\": 127.64\r\n        },\r\n        {\r\n          \"Date\": \"15.03.2016\",\r\n          \"Close\": 124.786\r\n        },\r\n        {\r\n          \"Date\": \"16.03.2016\",\r\n          \"Close\": 124.469\r\n        },\r\n        {\r\n          \"Date\": \"17.03.2016\",\r\n          \"Close\": 123.5\r\n        },\r\n        {\r\n          \"Date\": \"18.03.2016\",\r\n          \"Close\": 124.061\r\n        },\r\n        {\r\n          \"Date\": \"21.03.2016\",\r\n          \"Close\": 123.5\r\n        },\r\n        {\r\n          \"Date\": \"22.03.2016\",\r\n          \"Close\": 129.002\r\n        },\r\n        {\r\n          \"Date\": \"23.03.2016\",\r\n          \"Close\": 129\r\n        },\r\n        {\r\n          \"Date\": \"24.03.2016\",\r\n          \"Close\": 131.31\r\n        },\r\n        {\r\n          \"Date\": \"29.03.2016\",\r\n          \"Close\": 133.354\r\n        },\r\n        {\r\n          \"Date\": \"30.03.2016\",\r\n          \"Close\": 129.298\r\n        },\r\n        {\r\n          \"Date\": \"31.03.2016\",\r\n          \"Close\": 127.4\r\n        },\r\n        {\r\n          \"Date\": \"01.04.2016\",\r\n          \"Close\": 122.376\r\n        },\r\n        {\r\n          \"Date\": \"04.04.2016\",\r\n          \"Close\": 119.467\r\n        },\r\n        {\r\n          \"Date\": \"05.04.2016\",\r\n          \"Close\": 120.695\r\n        },\r\n        {\r\n          \"Date\": \"06.04.2016\",\r\n          \"Close\": 118.725\r\n        },\r\n        {\r\n          \"Date\": \"07.04.2016\",\r\n          \"Close\": 127.539\r\n        },\r\n        {\r\n          \"Date\": \"08.04.2016\",\r\n          \"Close\": 129.8\r\n        },\r\n        {\r\n          \"Date\": \"11.04.2016\",\r\n          \"Close\": 129.5\r\n        },\r\n        {\r\n          \"Date\": \"12.04.2016\",\r\n          \"Close\": 134.465\r\n        },\r\n        {\r\n          \"Date\": \"13.04.2016\",\r\n          \"Close\": 133\r\n        },\r\n        {\r\n          \"Date\": \"14.04.2016\",\r\n          \"Close\": 137.35\r\n        },\r\n        {\r\n          \"Date\": \"15.04.2016\",\r\n          \"Close\": 137.2\r\n        },\r\n        {\r\n          \"Date\": \"18.04.2016\",\r\n          \"Close\": 132.611\r\n        },\r\n        {\r\n          \"Date\": \"19.04.2016\",\r\n          \"Close\": 135.479\r\n        },\r\n        {\r\n          \"Date\": \"20.04.2016\",\r\n          \"Close\": 139.05\r\n        },\r\n        {\r\n          \"Date\": \"21.04.2016\",\r\n          \"Close\": 142\r\n        },\r\n        {\r\n          \"Date\": \"22.04.2016\",\r\n          \"Close\": 135.761\r\n        },\r\n        {\r\n          \"Date\": \"25.04.2016\",\r\n          \"Close\": 136.174\r\n        },\r\n        {\r\n          \"Date\": \"26.04.2016\",\r\n          \"Close\": 134.782\r\n        },\r\n        {\r\n          \"Date\": \"27.04.2016\",\r\n          \"Close\": 128\r\n        },\r\n        {\r\n          \"Date\": \"28.04.2016\",\r\n          \"Close\": 121.5\r\n        },\r\n        {\r\n          \"Date\": \"29.04.2016\",\r\n          \"Close\": 120\r\n        },\r\n        {\r\n          \"Date\": \"02.05.2016\",\r\n          \"Close\": 123.966\r\n        },\r\n        {\r\n          \"Date\": \"03.05.2016\",\r\n          \"Close\": 122.538\r\n        },\r\n        {\r\n          \"Date\": \"04.05.2016\",\r\n          \"Close\": 120\r\n        },\r\n        {\r\n          \"Date\": \"05.05.2016\",\r\n          \"Close\": 120.21\r\n        },\r\n        {\r\n          \"Date\": \"06.05.2016\",\r\n          \"Close\": 121.01\r\n        },\r\n        {\r\n          \"Date\": \"09.05.2016\",\r\n          \"Close\": 125.4\r\n        },\r\n        {\r\n          \"Date\": \"10.05.2016\",\r\n          \"Close\": 120.622\r\n        },\r\n        {\r\n          \"Date\": \"11.05.2016\",\r\n          \"Close\": 123.85\r\n        },\r\n        {\r\n          \"Date\": \"12.05.2016\",\r\n          \"Close\": 122.963\r\n        },\r\n        {\r\n          \"Date\": \"13.05.2016\",\r\n          \"Close\": 126\r\n        },\r\n        {\r\n          \"Date\": \"17.05.2016\",\r\n          \"Close\": 130\r\n        },\r\n        {\r\n          \"Date\": \"18.05.2016\",\r\n          \"Close\": 128.845\r\n        },\r\n        {\r\n          \"Date\": \"19.05.2016\",\r\n          \"Close\": 130.17\r\n        },\r\n        {\r\n          \"Date\": \"20.05.2016\",\r\n          \"Close\": 129.741\r\n        },\r\n        {\r\n          \"Date\": \"23.05.2016\",\r\n          \"Close\": 129.668\r\n        },\r\n        {\r\n          \"Date\": \"24.05.2016\",\r\n          \"Close\": 126.886\r\n        },\r\n        {\r\n          \"Date\": \"25.05.2016\",\r\n          \"Close\": 128.239\r\n        },\r\n        {\r\n          \"Date\": \"26.05.2016\",\r\n          \"Close\": 127.239\r\n        },\r\n        {\r\n          \"Date\": \"27.05.2016\",\r\n          \"Close\": 127.457\r\n        },\r\n        {\r\n          \"Date\": \"30.05.2016\",\r\n          \"Close\": 127.37\r\n        },\r\n        {\r\n          \"Date\": \"31.05.2016\",\r\n          \"Close\": 130.756\r\n        },\r\n        {\r\n          \"Date\": \"01.06.2016\",\r\n          \"Close\": 133.232\r\n        },\r\n        {\r\n          \"Date\": \"02.06.2016\",\r\n          \"Close\": 126.47\r\n        },\r\n        {\r\n          \"Date\": \"03.06.2016\",\r\n          \"Close\": 126.385\r\n        },\r\n        {\r\n          \"Date\": \"06.06.2016\",\r\n          \"Close\": 128.331\r\n        },\r\n        {\r\n          \"Date\": \"07.06.2016\",\r\n          \"Close\": 130.914\r\n        },\r\n        {\r\n          \"Date\": \"08.06.2016\",\r\n          \"Close\": 133\r\n        },\r\n        {\r\n          \"Date\": \"09.06.2016\",\r\n          \"Close\": 133.041\r\n        },\r\n        {\r\n          \"Date\": \"10.06.2016\",\r\n          \"Close\": 133.041\r\n        },\r\n        {\r\n          \"Date\": \"13.06.2016\",\r\n          \"Close\": 129\r\n        },\r\n        {\r\n          \"Date\": \"14.06.2016\",\r\n          \"Close\": 129.166\r\n        },\r\n        {\r\n          \"Date\": \"15.06.2016\",\r\n          \"Close\": 124.687\r\n        },\r\n        {\r\n          \"Date\": \"16.06.2016\",\r\n          \"Close\": 122.77\r\n        },\r\n        {\r\n          \"Date\": \"17.06.2016\",\r\n          \"Close\": 126.461\r\n        },\r\n        {\r\n          \"Date\": \"20.06.2016\",\r\n          \"Close\": 127\r\n        },\r\n        {\r\n          \"Date\": \"21.06.2016\",\r\n          \"Close\": 125.594\r\n        },\r\n        {\r\n          \"Date\": \"22.06.2016\",\r\n          \"Close\": 127.438\r\n        },\r\n        {\r\n          \"Date\": \"23.06.2016\",\r\n          \"Close\": 124.44\r\n        },\r\n        {\r\n          \"Date\": \"24.06.2016\",\r\n          \"Close\": 122.131\r\n        },\r\n        {\r\n          \"Date\": \"27.06.2016\",\r\n          \"Close\": 120.53\r\n        },\r\n        {\r\n          \"Date\": \"28.06.2016\",\r\n          \"Close\": 120.296\r\n        },\r\n        {\r\n          \"Date\": \"29.06.2016\",\r\n          \"Close\": 125.877\r\n        },\r\n        {\r\n          \"Date\": \"30.06.2016\",\r\n          \"Close\": 126.404\r\n        },\r\n        {\r\n          \"Date\": \"01.07.2016\",\r\n          \"Close\": 130.147\r\n        },\r\n        {\r\n          \"Date\": \"04.07.2016\",\r\n          \"Close\": 129.152\r\n        },\r\n        {\r\n          \"Date\": \"05.07.2016\",\r\n          \"Close\": 125.719\r\n        },\r\n        {\r\n          \"Date\": \"06.07.2016\",\r\n          \"Close\": 129.269\r\n        },\r\n        {\r\n          \"Date\": \"07.07.2016\",\r\n          \"Close\": 131.713\r\n        },\r\n        {\r\n          \"Date\": \"08.07.2016\",\r\n          \"Close\": 146.969\r\n        },\r\n        {\r\n          \"Date\": \"11.07.2016\",\r\n          \"Close\": 201.7\r\n        },\r\n        {\r\n          \"Date\": \"12.07.2016\",\r\n          \"Close\": 202.01\r\n        },\r\n        {\r\n          \"Date\": \"13.07.2016\",\r\n          \"Close\": 195.45\r\n        },\r\n        {\r\n          \"Date\": \"14.07.2016\",\r\n          \"Close\": 220.49\r\n        },\r\n        {\r\n          \"Date\": \"15.07.2016\",\r\n          \"Close\": 238.07\r\n        },\r\n        {\r\n          \"Date\": \"18.07.2016\",\r\n          \"Close\": 270.282\r\n        },\r\n        {\r\n          \"Date\": \"19.07.2016\",\r\n          \"Close\": 258.39\r\n        },\r\n        {\r\n          \"Date\": \"20.07.2016\",\r\n          \"Close\": 243.1\r\n        },\r\n        {\r\n          \"Date\": \"21.07.2016\",\r\n          \"Close\": 237\r\n        },\r\n        {\r\n          \"Date\": \"22.07.2016\",\r\n          \"Close\": 208\r\n        },\r\n        {\r\n          \"Date\": \"25.07.2016\",\r\n          \"Close\": 188.02\r\n        },\r\n        {\r\n          \"Date\": \"26.07.2016\",\r\n          \"Close\": 198.65\r\n        },\r\n        {\r\n          \"Date\": \"27.07.2016\",\r\n          \"Close\": 188\r\n        },\r\n        {\r\n          \"Date\": \"28.07.2016\",\r\n          \"Close\": 180.99\r\n        },\r\n        {\r\n          \"Date\": \"29.07.2016\",\r\n          \"Close\": 186\r\n        },\r\n        {\r\n          \"Date\": \"01.08.2016\",\r\n          \"Close\": 181\r\n        },\r\n        {\r\n          \"Date\": \"02.08.2016\",\r\n          \"Close\": 179.33\r\n        },\r\n        {\r\n          \"Date\": \"03.08.2016\",\r\n          \"Close\": 186\r\n        },\r\n        {\r\n          \"Date\": \"04.08.2016\",\r\n          \"Close\": 187.212\r\n        },\r\n        {\r\n          \"Date\": \"05.08.2016\",\r\n          \"Close\": 184.5\r\n        },\r\n        {\r\n          \"Date\": \"08.08.2016\",\r\n          \"Close\": 189.5\r\n        },\r\n        {\r\n          \"Date\": \"09.08.2016\",\r\n          \"Close\": 202.5\r\n        },\r\n        {\r\n          \"Date\": \"10.08.2016\",\r\n          \"Close\": 202.9\r\n        },\r\n        {\r\n          \"Date\": \"11.08.2016\",\r\n          \"Close\": 200.5\r\n        },\r\n        {\r\n          \"Date\": \"12.08.2016\",\r\n          \"Close\": 195.98\r\n        },\r\n        {\r\n          \"Date\": \"15.08.2016\",\r\n          \"Close\": 196\r\n        },\r\n        {\r\n          \"Date\": \"16.08.2016\",\r\n          \"Close\": 192\r\n        },\r\n        {\r\n          \"Date\": \"17.08.2016\",\r\n          \"Close\": 196.3\r\n        },\r\n        {\r\n          \"Date\": \"18.08.2016\",\r\n          \"Close\": 200.25\r\n        },\r\n        {\r\n          \"Date\": \"19.08.2016\",\r\n          \"Close\": 195\r\n        },\r\n        {\r\n          \"Date\": \"22.08.2016\",\r\n          \"Close\": 200.01\r\n        },\r\n        {\r\n          \"Date\": \"23.08.2016\",\r\n          \"Close\": 199.99\r\n        },\r\n        {\r\n          \"Date\": \"24.08.2016\",\r\n          \"Close\": 195.65\r\n        },\r\n        {\r\n          \"Date\": \"25.08.2016\",\r\n          \"Close\": 195.074\r\n        },\r\n        {\r\n          \"Date\": \"26.08.2016\",\r\n          \"Close\": 191.98\r\n        },\r\n        {\r\n          \"Date\": \"29.08.2016\",\r\n          \"Close\": 193.8\r\n        },\r\n        {\r\n          \"Date\": \"30.08.2016\",\r\n          \"Close\": 192.45\r\n        },\r\n        {\r\n          \"Date\": \"31.08.2016\",\r\n          \"Close\": 194\r\n        },\r\n        {\r\n          \"Date\": \"01.09.2016\",\r\n          \"Close\": 199.1\r\n        },\r\n        {\r\n          \"Date\": \"02.09.2016\",\r\n          \"Close\": 206.21\r\n        },\r\n        {\r\n          \"Date\": \"05.09.2016\",\r\n          \"Close\": 201.98\r\n        },\r\n        {\r\n          \"Date\": \"06.09.2016\",\r\n          \"Close\": 201.1\r\n        },\r\n        {\r\n          \"Date\": \"07.09.2016\",\r\n          \"Close\": 245.25\r\n        },\r\n        {\r\n          \"Date\": \"08.09.2016\",\r\n          \"Close\": 238.01\r\n        },\r\n        {\r\n          \"Date\": \"09.09.2016\",\r\n          \"Close\": 235\r\n        },\r\n        {\r\n          \"Date\": \"12.09.2016\",\r\n          \"Close\": 237.98\r\n        },\r\n        {\r\n          \"Date\": \"13.09.2016\",\r\n          \"Close\": 223.55\r\n        },\r\n        {\r\n          \"Date\": \"14.09.2016\",\r\n          \"Close\": 222.05\r\n        },\r\n        {\r\n          \"Date\": \"15.09.2016\",\r\n          \"Close\": 233.26\r\n        },\r\n        {\r\n          \"Date\": \"16.09.2016\",\r\n          \"Close\": 234\r\n        },\r\n        {\r\n          \"Date\": \"19.09.2016\",\r\n          \"Close\": 235.81\r\n        },\r\n        {\r\n          \"Date\": \"20.09.2016\",\r\n          \"Close\": 239.8\r\n        },\r\n        {\r\n          \"Date\": \"21.09.2016\",\r\n          \"Close\": 238.1\r\n        },\r\n        {\r\n          \"Date\": \"22.09.2016\",\r\n          \"Close\": 241.35\r\n        },\r\n        {\r\n          \"Date\": \"23.09.2016\",\r\n          \"Close\": 237.8\r\n        },\r\n        {\r\n          \"Date\": \"26.09.2016\",\r\n          \"Close\": 232.36\r\n        },\r\n        {\r\n          \"Date\": \"27.09.2016\",\r\n          \"Close\": 238.95\r\n        },\r\n        {\r\n          \"Date\": \"28.09.2016\",\r\n          \"Close\": 237.52\r\n        },\r\n        {\r\n          \"Date\": \"29.09.2016\",\r\n          \"Close\": 237.5\r\n        },\r\n        {\r\n          \"Date\": \"30.09.2016\",\r\n          \"Close\": 235\r\n        },\r\n        {\r\n          \"Date\": \"04.10.2016\",\r\n          \"Close\": 230.82\r\n        },\r\n        {\r\n          \"Date\": \"05.10.2016\",\r\n          \"Close\": 233.5\r\n        },\r\n        {\r\n          \"Date\": \"06.10.2016\",\r\n          \"Close\": 227.094\r\n        },\r\n        {\r\n          \"Date\": \"07.10.2016\",\r\n          \"Close\": 227.783\r\n        },\r\n        {\r\n          \"Date\": \"10.10.2016\",\r\n          \"Close\": 232.55\r\n        },\r\n        {\r\n          \"Date\": \"11.10.2016\",\r\n          \"Close\": 229\r\n        },\r\n        {\r\n          \"Date\": \"12.10.2016\",\r\n          \"Close\": 225.6\r\n        },\r\n        {\r\n          \"Date\": \"13.10.2016\",\r\n          \"Close\": 228.45\r\n        },\r\n        {\r\n          \"Date\": \"14.10.2016\",\r\n          \"Close\": 230.19\r\n        },\r\n        {\r\n          \"Date\": \"17.10.2016\",\r\n          \"Close\": 228.375\r\n        },\r\n        {\r\n          \"Date\": \"18.10.2016\",\r\n          \"Close\": 228.05\r\n        },\r\n        {\r\n          \"Date\": \"19.10.2016\",\r\n          \"Close\": 232.85\r\n        },\r\n        {\r\n          \"Date\": \"20.10.2016\",\r\n          \"Close\": 238.45\r\n        },\r\n        {\r\n          \"Date\": \"21.10.2016\",\r\n          \"Close\": 225.05\r\n        },\r\n        {\r\n          \"Date\": \"24.10.2016\",\r\n          \"Close\": 214.747\r\n        },\r\n        {\r\n          \"Date\": \"25.10.2016\",\r\n          \"Close\": 218.5\r\n        },\r\n        {\r\n          \"Date\": \"26.10.2016\",\r\n          \"Close\": 207.95\r\n        },\r\n        {\r\n          \"Date\": \"27.10.2016\",\r\n          \"Close\": 215.764\r\n        },\r\n        {\r\n          \"Date\": \"28.10.2016\",\r\n          \"Close\": 222.98\r\n        },\r\n        {\r\n          \"Date\": \"31.10.2016\",\r\n          \"Close\": 219.458\r\n        },\r\n        {\r\n          \"Date\": \"01.11.2016\",\r\n          \"Close\": 218.522\r\n        },\r\n        {\r\n          \"Date\": \"02.11.2016\",\r\n          \"Close\": 220.714\r\n        },\r\n        {\r\n          \"Date\": \"03.11.2016\",\r\n          \"Close\": 216.305\r\n        },\r\n        {\r\n          \"Date\": \"04.11.2016\",\r\n          \"Close\": 216.25\r\n        },\r\n        {\r\n          \"Date\": \"07.11.2016\",\r\n          \"Close\": 214.85\r\n        },\r\n        {\r\n          \"Date\": \"08.11.2016\",\r\n          \"Close\": 213.45\r\n        },\r\n        {\r\n          \"Date\": \"09.11.2016\",\r\n          \"Close\": 206.045\r\n        },\r\n        {\r\n          \"Date\": \"10.11.2016\",\r\n          \"Close\": 211\r\n        },\r\n        {\r\n          \"Date\": \"11.11.2016\",\r\n          \"Close\": 210.954\r\n        },\r\n        {\r\n          \"Date\": \"14.11.2016\",\r\n          \"Close\": 215.16\r\n        },\r\n        {\r\n          \"Date\": \"15.11.2016\",\r\n          \"Close\": 211.49\r\n        },\r\n        {\r\n          \"Date\": \"16.11.2016\",\r\n          \"Close\": 218\r\n        },\r\n        {\r\n          \"Date\": \"17.11.2016\",\r\n          \"Close\": 223.2\r\n        },\r\n        {\r\n          \"Date\": \"18.11.2016\",\r\n          \"Close\": 229.5\r\n        },\r\n        {\r\n          \"Date\": \"21.11.2016\",\r\n          \"Close\": 233.949\r\n        },\r\n        {\r\n          \"Date\": \"22.11.2016\",\r\n          \"Close\": 237.3\r\n        },\r\n        {\r\n          \"Date\": \"23.11.2016\",\r\n          \"Close\": 241.182\r\n        },\r\n        {\r\n          \"Date\": \"24.11.2016\",\r\n          \"Close\": 234.479\r\n        },\r\n        {\r\n          \"Date\": \"25.11.2016\",\r\n          \"Close\": 232.55\r\n        },\r\n        {\r\n          \"Date\": \"28.11.2016\",\r\n          \"Close\": 238.5\r\n        },\r\n        {\r\n          \"Date\": \"29.11.2016\",\r\n          \"Close\": 233\r\n        },\r\n        {\r\n          \"Date\": \"30.11.2016\",\r\n          \"Close\": 234\r\n        },\r\n        {\r\n          \"Date\": \"01.12.2016\",\r\n          \"Close\": 230.51\r\n        },\r\n        {\r\n          \"Date\": \"02.12.2016\",\r\n          \"Close\": 222.938\r\n        },\r\n        {\r\n          \"Date\": \"05.12.2016\",\r\n          \"Close\": 225.8\r\n        },\r\n        {\r\n          \"Date\": \"06.12.2016\",\r\n          \"Close\": 231\r\n        },\r\n        {\r\n          \"Date\": \"07.12.2016\",\r\n          \"Close\": 232.849\r\n        },\r\n        {\r\n          \"Date\": \"08.12.2016\",\r\n          \"Close\": 234.473\r\n        },\r\n        {\r\n          \"Date\": \"09.12.2016\",\r\n          \"Close\": 241.82\r\n        },\r\n        {\r\n          \"Date\": \"12.12.2016\",\r\n          \"Close\": 242.501\r\n        },\r\n        {\r\n          \"Date\": \"13.12.2016\",\r\n          \"Close\": 234.98\r\n        },\r\n        {\r\n          \"Date\": \"14.12.2016\",\r\n          \"Close\": 229.1\r\n        },\r\n        {\r\n          \"Date\": \"15.12.2016\",\r\n          \"Close\": 227.999\r\n        },\r\n        {\r\n          \"Date\": \"16.12.2016\",\r\n          \"Close\": 207.995\r\n        },\r\n        {\r\n          \"Date\": \"19.12.2016\",\r\n          \"Close\": 201.7\r\n        },\r\n        {\r\n          \"Date\": \"20.12.2016\",\r\n          \"Close\": 205.97\r\n        },\r\n        {\r\n          \"Date\": \"21.12.2016\",\r\n          \"Close\": 197.799\r\n        },\r\n        {\r\n          \"Date\": \"22.12.2016\",\r\n          \"Close\": 189.89\r\n        },\r\n        {\r\n          \"Date\": \"23.12.2016\",\r\n          \"Close\": 190\r\n        },\r\n        {\r\n          \"Date\": \"27.12.2016\",\r\n          \"Close\": 201\r\n        },\r\n        {\r\n          \"Date\": \"28.12.2016\",\r\n          \"Close\": 199.95\r\n        },\r\n        {\r\n          \"Date\": \"29.12.2016\",\r\n          \"Close\": 200.9\r\n        },\r\n        {\r\n          \"Date\": \"30.12.2016\",\r\n          \"Close\": 199\r\n        },\r\n        {\r\n          \"Date\": \"02.01.2017\",\r\n          \"Close\": 199\r\n        },\r\n        {\r\n          \"Date\": \"03.01.2017\",\r\n          \"Close\": 202.8\r\n        },\r\n        {\r\n          \"Date\": \"04.01.2017\",\r\n          \"Close\": 201.6\r\n        },\r\n        {\r\n          \"Date\": \"05.01.2017\",\r\n          \"Close\": 195.1\r\n        },\r\n        {\r\n          \"Date\": \"06.01.2017\",\r\n          \"Close\": 196\r\n        },\r\n        {\r\n          \"Date\": \"09.01.2017\",\r\n          \"Close\": 197.98\r\n        },\r\n        {\r\n          \"Date\": \"10.01.2017\",\r\n          \"Close\": 203\r\n        },\r\n        {\r\n          \"Date\": \"11.01.2017\",\r\n          \"Close\": 207\r\n        },\r\n        {\r\n          \"Date\": \"12.01.2017\",\r\n          \"Close\": 207.9\r\n        },\r\n        {\r\n          \"Date\": \"13.01.2017\",\r\n          \"Close\": 197.95\r\n        },\r\n        {\r\n          \"Date\": \"16.01.2017\",\r\n          \"Close\": 190.55\r\n        },\r\n        {\r\n          \"Date\": \"17.01.2017\",\r\n          \"Close\": 195\r\n        },\r\n        {\r\n          \"Date\": \"18.01.2017\",\r\n          \"Close\": 195.201\r\n        },\r\n        {\r\n          \"Date\": \"19.01.2017\",\r\n          \"Close\": 194.05\r\n        },\r\n        {\r\n          \"Date\": \"20.01.2017\",\r\n          \"Close\": 194\r\n        },\r\n        {\r\n          \"Date\": \"23.01.2017\",\r\n          \"Close\": 194\r\n        },\r\n        {\r\n          \"Date\": \"24.01.2017\",\r\n          \"Close\": 192.05\r\n        },\r\n        {\r\n          \"Date\": \"25.01.2017\",\r\n          \"Close\": 192.5\r\n        },\r\n        {\r\n          \"Date\": \"26.01.2017\",\r\n          \"Close\": 194.98\r\n        },\r\n        {\r\n          \"Date\": \"27.01.2017\",\r\n          \"Close\": 191.32\r\n        },\r\n        {\r\n          \"Date\": \"30.01.2017\",\r\n          \"Close\": 193\r\n        },\r\n        {\r\n          \"Date\": \"31.01.2017\",\r\n          \"Close\": 187\r\n        },\r\n        {\r\n          \"Date\": \"01.02.2017\",\r\n          \"Close\": 187\r\n        },\r\n        {\r\n          \"Date\": \"02.02.2017\",\r\n          \"Close\": 187.45\r\n        },\r\n        {\r\n          \"Date\": \"03.02.2017\",\r\n          \"Close\": 196\r\n        },\r\n        {\r\n          \"Date\": \"06.02.2017\",\r\n          \"Close\": 196.9\r\n        },\r\n        {\r\n          \"Date\": \"07.02.2017\",\r\n          \"Close\": 196.75\r\n        },\r\n        {\r\n          \"Date\": \"08.02.2017\",\r\n          \"Close\": 192\r\n        },\r\n        {\r\n          \"Date\": \"09.02.2017\",\r\n          \"Close\": 195\r\n        },\r\n        {\r\n          \"Date\": \"10.02.2017\",\r\n          \"Close\": 196\r\n        },\r\n        {\r\n          \"Date\": \"13.02.2017\",\r\n          \"Close\": 198.35\r\n        },\r\n        {\r\n          \"Date\": \"14.02.2017\",\r\n          \"Close\": 192\r\n        },\r\n        {\r\n          \"Date\": \"15.02.2017\",\r\n          \"Close\": 191.9\r\n        },\r\n        {\r\n          \"Date\": \"16.02.2017\",\r\n          \"Close\": 193.5\r\n        },\r\n        {\r\n          \"Date\": \"17.02.2017\",\r\n          \"Close\": 194.85\r\n        },\r\n        {\r\n          \"Date\": \"20.02.2017\",\r\n          \"Close\": 194.8\r\n        },\r\n        {\r\n          \"Date\": \"21.02.2017\",\r\n          \"Close\": 193.05\r\n        },\r\n        {\r\n          \"Date\": \"22.02.2017\",\r\n          \"Close\": 194.85\r\n        },\r\n        {\r\n          \"Date\": \"23.02.2017\",\r\n          \"Close\": 195.9\r\n        },\r\n        {\r\n          \"Date\": \"24.02.2017\",\r\n          \"Close\": 197.5\r\n        },\r\n        {\r\n          \"Date\": \"27.02.2017\",\r\n          \"Close\": 197.5\r\n        },\r\n        {\r\n          \"Date\": \"28.02.2017\",\r\n          \"Close\": 199\r\n        },\r\n        {\r\n          \"Date\": \"01.03.2017\",\r\n          \"Close\": 197\r\n        },\r\n        {\r\n          \"Date\": \"02.03.2017\",\r\n          \"Close\": 192\r\n        },\r\n        {\r\n          \"Date\": \"03.03.2017\",\r\n          \"Close\": 199\r\n        },\r\n        {\r\n          \"Date\": \"06.03.2017\",\r\n          \"Close\": 200.5\r\n        },\r\n        {\r\n          \"Date\": \"07.03.2017\",\r\n          \"Close\": 207.5\r\n        },\r\n        {\r\n          \"Date\": \"08.03.2017\",\r\n          \"Close\": 206\r\n        },\r\n        {\r\n          \"Date\": \"09.03.2017\",\r\n          \"Close\": 200.1\r\n        },\r\n        {\r\n          \"Date\": \"10.03.2017\",\r\n          \"Close\": 200.05\r\n        },\r\n        {\r\n          \"Date\": \"13.03.2017\",\r\n          \"Close\": 205.55\r\n        },\r\n        {\r\n          \"Date\": \"14.03.2017\",\r\n          \"Close\": 202\r\n        },\r\n        {\r\n          \"Date\": \"15.03.2017\",\r\n          \"Close\": 202.05\r\n        },\r\n        {\r\n          \"Date\": \"16.03.2017\",\r\n          \"Close\": 207\r\n        },\r\n        {\r\n          \"Date\": \"17.03.2017\",\r\n          \"Close\": 216.95\r\n        },\r\n        {\r\n          \"Date\": \"20.03.2017\",\r\n          \"Close\": 219.8\r\n        },\r\n        {\r\n          \"Date\": \"21.03.2017\",\r\n          \"Close\": 215.05\r\n        },\r\n        {\r\n          \"Date\": \"22.03.2017\",\r\n          \"Close\": 227.998\r\n        },\r\n        {\r\n          \"Date\": \"23.03.2017\",\r\n          \"Close\": 229\r\n        },\r\n        {\r\n          \"Date\": \"24.03.2017\",\r\n          \"Close\": 227.437\r\n        },\r\n        {\r\n          \"Date\": \"27.03.2017\",\r\n          \"Close\": 221.679\r\n        },\r\n        {\r\n          \"Date\": \"28.03.2017\",\r\n          \"Close\": 220\r\n        },\r\n        {\r\n          \"Date\": \"29.03.2017\",\r\n          \"Close\": 222.8\r\n        },\r\n        {\r\n          \"Date\": \"30.03.2017\",\r\n          \"Close\": 217.092\r\n        },\r\n        {\r\n          \"Date\": \"31.03.2017\",\r\n          \"Close\": 215.03\r\n        },\r\n        {\r\n          \"Date\": \"03.04.2017\",\r\n          \"Close\": 224.9\r\n        },\r\n        {\r\n          \"Date\": \"04.04.2017\",\r\n          \"Close\": 220\r\n        },\r\n        {\r\n          \"Date\": \"05.04.2017\",\r\n          \"Close\": 218.075\r\n        },\r\n        {\r\n          \"Date\": \"06.04.2017\",\r\n          \"Close\": 221.1\r\n        },\r\n        {\r\n          \"Date\": \"07.04.2017\",\r\n          \"Close\": 219.49\r\n        },\r\n        {\r\n          \"Date\": \"10.04.2017\",\r\n          \"Close\": 220\r\n        },\r\n        {\r\n          \"Date\": \"11.04.2017\",\r\n          \"Close\": 216.15\r\n        },\r\n        {\r\n          \"Date\": \"12.04.2017\",\r\n          \"Close\": 216.2\r\n        },\r\n        {\r\n          \"Date\": \"13.04.2017\",\r\n          \"Close\": 216.995\r\n        },\r\n        {\r\n          \"Date\": \"18.04.2017\",\r\n          \"Close\": 227.58\r\n        },\r\n        {\r\n          \"Date\": \"19.04.2017\",\r\n          \"Close\": 232.6\r\n        },\r\n        {\r\n          \"Date\": \"20.04.2017\",\r\n          \"Close\": 231.086\r\n        },\r\n        {\r\n          \"Date\": \"21.04.2017\",\r\n          \"Close\": 229.673\r\n        },\r\n        {\r\n          \"Date\": \"24.04.2017\",\r\n          \"Close\": 230.1\r\n        },\r\n        {\r\n          \"Date\": \"25.04.2017\",\r\n          \"Close\": 232.98\r\n        },\r\n        {\r\n          \"Date\": \"26.04.2017\",\r\n          \"Close\": 228.15\r\n        },\r\n        {\r\n          \"Date\": \"27.04.2017\",\r\n          \"Close\": 223.96\r\n        },\r\n        {\r\n          \"Date\": \"28.04.2017\",\r\n          \"Close\": 231\r\n        },\r\n        {\r\n          \"Date\": \"02.05.2017\",\r\n          \"Close\": 229.715\r\n        },\r\n        {\r\n          \"Date\": \"03.05.2017\",\r\n          \"Close\": 229.5\r\n        },\r\n        {\r\n          \"Date\": \"04.05.2017\",\r\n          \"Close\": 230\r\n        },\r\n        {\r\n          \"Date\": \"05.05.2017\",\r\n          \"Close\": 234.1\r\n        },\r\n        {\r\n          \"Date\": \"08.05.2017\",\r\n          \"Close\": 234.5\r\n        },\r\n        {\r\n          \"Date\": \"09.05.2017\",\r\n          \"Close\": 233.5\r\n        },\r\n        {\r\n          \"Date\": \"10.05.2017\",\r\n          \"Close\": 238.9\r\n        },\r\n        {\r\n          \"Date\": \"11.05.2017\",\r\n          \"Close\": 238.95\r\n        },\r\n        {\r\n          \"Date\": \"12.05.2017\",\r\n          \"Close\": 237\r\n        },\r\n        {\r\n          \"Date\": \"15.05.2017\",\r\n          \"Close\": 239\r\n        },\r\n        {\r\n          \"Date\": \"16.05.2017\",\r\n          \"Close\": 237.1\r\n        },\r\n        {\r\n          \"Date\": \"17.05.2017\",\r\n          \"Close\": 241\r\n        },\r\n        {\r\n          \"Date\": \"18.05.2017\",\r\n          \"Close\": 242.6\r\n        },\r\n        {\r\n          \"Date\": \"19.05.2017\",\r\n          \"Close\": 242.1\r\n        },\r\n        {\r\n          \"Date\": \"22.05.2017\",\r\n          \"Close\": 241.7\r\n        },\r\n        {\r\n          \"Date\": \"23.05.2017\",\r\n          \"Close\": 245.15\r\n        },\r\n        {\r\n          \"Date\": \"24.05.2017\",\r\n          \"Close\": 252.05\r\n        },\r\n        {\r\n          \"Date\": \"25.05.2017\",\r\n          \"Close\": 259.8\r\n        },\r\n        {\r\n          \"Date\": \"26.05.2017\",\r\n          \"Close\": 266.05\r\n        },\r\n        {\r\n          \"Date\": \"29.05.2017\",\r\n          \"Close\": 269.05\r\n        },\r\n        {\r\n          \"Date\": \"30.05.2017\",\r\n          \"Close\": 273\r\n        },\r\n        {\r\n          \"Date\": \"31.05.2017\",\r\n          \"Close\": 268.5\r\n        },\r\n        {\r\n          \"Date\": \"01.06.2017\",\r\n          \"Close\": 267.7\r\n        },\r\n        {\r\n          \"Date\": \"02.06.2017\",\r\n          \"Close\": 266.716\r\n        },\r\n        {\r\n          \"Date\": \"05.06.2017\",\r\n          \"Close\": 266.716\r\n        },\r\n        {\r\n          \"Date\": \"06.06.2017\",\r\n          \"Close\": 286.5\r\n        },\r\n        {\r\n          \"Date\": \"07.06.2017\",\r\n          \"Close\": 276.2\r\n        }\r\n      ]\r\n      const chart = new Chart({\r\n        container: 'coin-chart',\r\n        autoFit: true,\r\n        height: 500,\r\n      });\r\n      chart.scale({\r\n        Date: {\r\n          tickCount: 10\r\n        },\r\n        Close: {\r\n          nice: true,\r\n        }\r\n      });\r\n      chart.axis('Date', {\r\n        label: {\r\n          formatter: text => {\r\n            const dataStrings = text.split('.');\r\n            return dataStrings[2] + '-' + dataStrings[1] + '-' + dataStrings[0];\r\n          }\r\n        }\r\n      });\r\n\r\n      chart.line().position('Date*Close');\r\n      // annotation\r\n      const {min, max} = findMaxMin(data);\r\n      chart.annotation().dataMarker({\r\n        top: true,\r\n        position: [max.Date, max.Close],\r\n        text: {\r\n          content: 'max：' + max.Close,\r\n        },\r\n        line: {\r\n          length: 30,\r\n        }\r\n      });\r\n      chart.annotation().dataMarker({\r\n        top: true,\r\n        position: [min.Date, min.Close],\r\n        text: {\r\n          content: 'min：' + min.Close,\r\n        },\r\n        line: {\r\n          length: 50,\r\n        }\r\n      });\r\n      chart.render();\r\n\r\n    }\r\n  },\r\n  created() {\r\n    this.projectId = this.$route.query.id\r\n    this.project = this.$route.query\r\n    this.getBalanceOf(this.projectId).then(res => {\r\n      this.volume = res\r\n    })\r\n    this.balanceOf().then(res=>{\r\n      this.volume = res\r\n    })\r\n    this.balanceOf(this.$store.state.app.account).then(res=>{\r\n      this.myBalance = res\r\n    })\r\n    this.getPayRecords()\r\n    this.getProjectTokenAddress()\r\n    this.tokenOwnerOf()\r\n    this.currentOf()\r\n    this.distributeAmount()\r\n  },\r\n  mounted() {\r\n    // this.initChart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.DetailsView {\r\n  background: #F8F8F8;\r\n\r\n  #coin-chart {\r\n  }\r\n\r\n  .DetailsView-content {\r\n    width: 1000px;\r\n    margin: 30px auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .sub-title {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin: 30px 0;\r\n      font-size: 1.3em;\r\n      font-family: Roboto-Bold, Roboto;\r\n      font-weight: bold;\r\n      color: #2AAB00;\r\n      line-height: 24px;\r\n\r\n      .mangobox-button {\r\n        padding: 6px 20px;\r\n      }\r\n    }\r\n    .not-begun{\r\n      font-size: 26px;\r\n      text-align: center;\r\n      padding: 10px 0;\r\n    }\r\n    .left-content, .right-content {\r\n      width: 45%;\r\n\r\n\r\n      .input-box {\r\n        input {\r\n          width: 320px;\r\n          height: 36px;\r\n          background: #F8F8F8;\r\n          border-radius: 10px;\r\n          border: 1px solid #D8D8D8;\r\n        }\r\n      }\r\n\r\n      .row {\r\n        justify-content: space-between;\r\n        margin: 10px 0;\r\n\r\n        .name {\r\n          color: #999;\r\n        }\r\n\r\n        .value {\r\n          font-weight: bold;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    .right-content {\r\n      .input-box input {\r\n        padding: 0 60px 0 10px;\r\n      }\r\n\r\n      .paid-list {\r\n        .paid-item {\r\n          padding: 6px 0;\r\n          color: #CCCCCC;\r\n\r\n          .paid-item-content {\r\n            .value {\r\n              color: #111;\r\n              font-weight: bold;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .create-token-dialog {\r\n    z-index: 1000;\r\n    text-align: center;\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    margin-left: -50vw;\r\n    top: 0px;\r\n    left: 50%;\r\n    will-change: opacity;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: opacity 0.1s ease-in-out 0s;\r\n\r\n    .content {\r\n      z-index: 2000;\r\n      position: relative;\r\n      background-color: rgb(255, 255, 255);\r\n      width: 800px;\r\n      padding: 50px;\r\n      max-height: 600px;\r\n      border-radius: 1em;\r\n      margin: 10px;\r\n      overflow: auto;\r\n\r\n      .close {\r\n        position: absolute;\r\n        right: 20px;\r\n        top: 0px;\r\n        font-size: 32px !important;\r\n        cursor: pointer;\r\n      }\r\n\r\n      input {\r\n        width: 460px;\r\n        height: 50px;\r\n        background: #F8F8F8;\r\n        border-radius: 10px;\r\n        border: 1px solid #D8D8D8;\r\n        padding: 0 10px;\r\n      }\r\n\r\n      .operate-box {\r\n        margin-top: 20px;\r\n        border: 1px solid #2AAA00;\r\n        text-align: left;\r\n        padding: 10px;\r\n        border-radius: 5px;\r\n        cursor: pointer;\r\n        position: relative;\r\n\r\n        .icon {\r\n          position: absolute;\r\n          right: 10px;\r\n          top: 28px;\r\n\r\n          img {\r\n            width: 20px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .operate-btns {\r\n        margin: 20px;\r\n        display: flex;\r\n        justify-content: center;\r\n\r\n        .mangobox-button {\r\n          padding: 10px 30px;\r\n          margin-right: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .mask {\r\n      width: 100%;\r\n      height: 100%;\r\n      position: fixed;\r\n      z-index: 1000;\r\n      background-color: rgba(0, 0, 0, 0.4);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=1dd44f07&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=1dd44f07&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dd44f07\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","project","_v","_s","volume","_m","myTokenBalance","directives","name","rawName","value","tokenAddress","tokenOwner","$store","state","app","account","expression","staticStyle","on","$event","isShowCreate","tokenSupply","myBalance","isShowManageToken","parseInt","currentCycleInfo","number","baseOn","duration","discountRate","weight","amount","domProps","target","composing","pay","distributeAmountNumber","_l","PayRecord","item","index","key","time","payer","substr","length","stopPropagation","tokenName","tokenSymbol","issueTokenFor","isShowMint","mintAmount","mintFor","isShowBurn","isShowClaim","burnAmount","burnMemo","redeemTokensOf","claimAmount","claimFor","staticRenderFns","require","isArrayLike","isFinite","contains","arr","indexOf","filter","func","result","push","difference","values","toString","isType","type","call","isNil","undefined","Array","isArray","each","elements","rst","i","len","isObject","k","hasOwnProperty","keys","Object","obj","isFunction","isMatch","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","firstValue","data","flatten","concat","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","prototype","splice","pullAt","indexes","last","previous","fn","init","remove","str","uniq","cache","Map","r","has","set","tmpMap","j","val","head","o","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","l","groups","array","clamp","fixedBase","base","round","parseFloat","toFixed","isNumber","PRECISION","Number","isInteger","isNumberEqual","b","precision","abs","mod","n","m","RADIAN","PI","toRadian","degree","lowerCase","toLowerCase","substitute","match","charAt","slice","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","constructor","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","method","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","clone","debounce","wait","immediate","timeout","context","args","arguments","later","apply","callNow","resolver","TypeError","memoized","_i","get","MAX_MIX_LEVEL","_deepMix","dist","src","level","maxLevel","deepMix","isEmpty","size","isEqual","other","isString","valueKeys","otherKeys","map","identity","object","forEach","_mix","mix","src1","src2","src3","ctx","defaultValue","p","keyArr","path","idx","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","LAYER","DIRECTION","COMPONENT_TYPE","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","STEP","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","FORE","MID","BG","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","FIELD_ORIGIN","MIN_CHART_WIDTH","MIN_CHART_HEIGHT","COMPONENT_MAX_VIEW_PERCENTAGE","ENGINES","getEngine","G","Error","registerEngine","engine","initConstants","tr","tbody","thead","tfoot","td","th","createDom","test","RegExp","$1","container","innerHTML","dom","childNodes","removeChild","modifyCSS","css","style","getElementSize","ele","getComputedStyle","clientWidth","paddingLeft","paddingRight","height","clientHeight","paddingTop","paddingBottom","getChartSize","autoFit","w","h","removeDom","parent","parentNode","WILDCARD","EventEmitter","evt","callback","once","_events","events","wildcardEvents","doEmit","es","_this","length_1","cfg","_super","visible","__extends","Base","changeVisible","off","destroyed","EE","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","c","q","s","t","u","z","String","params","catmullRomToBezier","crp","d","iLen","x","y","ellipsePath","rx","ry","res","rad","x1","cos","x2","y1","sin","y2","pathToAbsolute","pathArray","pa0","dots","mx","my","start","crz","pa","ii","jj","pop","kk","l2c","q2c","ax","ay","_13","_23","a2c","angle","large_arc_flag","sweep_flag","recursive","xy","f1","f2","cx","cy","_120","rotate","X","Y","sqrt","rx2","ry2","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","p2","bx","by","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","pi","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","p2s","parsePathArray","base3","p1","p3","p4","t1","t2","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px","py","px2","py2","isPointInsideBBox","bbox","rectPath","box","r1","r2","r0","vb","isBBoxIntersect","bbox1","bbox2","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","pow","t12","t3","alpha","atan2","end","interHelper","bez1","bez2","justCount","l1","l2","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","interPathHelper","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","intersection","decasteljau","points","left","right","recurse","middlePoints","reverse","splitCurve","count","segments","leftSegments","rt","segment","cmd","splitSegment","temp","fillPath","source","sourceLen","targetLen","ratio","segmentsToFill","floor","filled","unshift","obj1","obj2","getMinDiff","del","add","modify","levenshteinDistance","sourceSegment","targetSegment","fillPathByDiff","diffMatrix","changes","minPos","diff","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","event","originalEvent","timeStamp","GraphEvent","defaultPrevented","preventDefault","propagationStopped","removeFromArray","isBrowser","isParent","shape","isCanvas","getParent","isAllowCapture","element","capture","defaultCfg","getDefaultCfg","__spreadArray","to","from","pack","ar","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","getNodeVersion","matchUserAgent","ua","matched","_a","browser","regex","uaMatch","exec","matchedRule","versionParts","createVersionParts","detectOS","searchBotMatch","isNode","output","invert","out","a00","a01","a02","a10","a11","a12","a20","a21","a22","b01","b11","b21","det","multiply","b00","b02","b10","b12","b20","b22","fromTranslation","fromRotation","fromScaling","ARRAY_TYPE","Float32Array","random","create","glMatrix","subtract","scale","distance","hypot","normalize","dot","transformMat3","mag","cosine","acos","exactEquals","sub","vec","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","leftMultiply","transform","actions","matrix","action","direction","v1","v2","angleTo","direct","ang","vec2","angleLargeThanPI","multiplyMatrix","multiplyVec2","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","DELEGATION_SPLIT","_cloneArrayAttr","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","attr","checkExistedAttrs","animations","animation","onFrame","delay","startTime","getDefaultAttrs","initAttrs","initAnimate","zIndex","getDefaultMatrix","opacity","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","isHit","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","sort","children","getChildren","destroy","totalMatrix","currentMatrix","parentMatrix","invertMatrix","clipCfg","canvas","getCanvas","clipShape","ShapeBase","getShapeBase","shapeType","Cons","originAttrs","cons","cfgName","isPaused","timeline","timer","initTimer","repeat","pauseCallback","resumeCallback","animateCfg","easing","_b","noop","formatToAttrs","getTime","id","uniqueId","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","current","eventObj","relativeShape","paths","propagationPath","getEvents","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","eventName","currentTarget","delegateTarget","delegateObject","emit","translateX","translateY","getMatrix","newMatrix","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","SHAPE_MAP","INDEX","setCanvas","child","setTimeline","getComparer","compare","taskHead","taskTail","Container","minX","Infinity","maxX","minY","maxY","xArr","yArr","getBBox","getCanvasBBox","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","group","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","invertFromMatrix","isClipped","getShape","preParent","_applyElementMatrix","clear","getChildByIndex","contain","findAll","className","frame","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","bind","clearNow","Timer","_call","_time","_next","restart","timerFlush","e","wake","nap","poke","t0","sleep","clearInterval","setInterval","factory","extend","definition","Color","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","format","trim","rgbn","Rgb","rgba","hsla","NaN","g","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hsl","hsl2rgb","basis","v0","v3","linear","exponential","gamma","nogamma","constant","define","copy","channels","assign","displayable","rgbGamma","colorRgb","rgbSpline","spline","colors","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","zero","one","am","bm","bs","bi","lastIndex","string","date","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","custom","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","elasticOut","elasticInOut","EASING_MAP","getEasing","d3Ease","registerEasing","easeFn","isColorProp","prop","includes","isGradientColor","IDENTITY_MATRIX","_update","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","matrixFn","interpolateArray","update","elapsed","Timeline","isFinished","d3Timer","animators","removeAnimator","isAnimatePaused","autoDraw","draw","animator","stopAnimate","CLICK_OFFSET","LEFT_BTN_CODE","EVENTS","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","el","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","addEventListener","_eventCallback","_onDocumentMove","_onDocumentMouseUp","removeEventListener","point","clientX","clientY","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","dx","dy","_getEventObj","parent_1","emitDelegation","_clearEvents","PX_SUFFIX","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","getElementById","appendChild","setDOMSize","eventController","supportCSSTransform","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","getBoundingClientRect","top","clearEvents","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowLeft","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","minNum","maxNum","getBBoxByArray","piMod","pointAt","pointDistance","cross","lengthSquare","pointToLine","tangentAngle","EPSILON","nearestPoint","tCallback","segNum","increaseRate","_t","d1","next","d2","snapLength","totalLength","nextX","nextY","quadraticAt","p0","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","line","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","delta_c","delta_t","derivativeXAt","xRotation","startAngle","endAngle","derivativeYAt","atan","xAt","yAt","getAngle","getPoint","xDim","xs","xAngle","yDim","ys","yAngle","relativeVector","relativePoint","ellipse","vector","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","nextPoint","distance_1","mergeBBox","mergeArrowBBox","startArrowBBox","endArrowBBox","Util","offScreenCtx","getOffScreenContext","getTextHeight","lineHeight","lineCount","spaceingY","getLineSpaceing","getTextWidth","save","textArr","subText","measureWidth","restore","assembleFont","textBaseline","textAlign","regexTags","regexDot","parsePath","tag","smoothBezier","smooth","isLoop","constraint","prevPoint","nextCp0","cp1","cp0","cps","hasConstraint","prevIdx","d0","catmullRom2Bezier","pointList","cp2","controlPointList","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","command","prePoint","startTangent","endTangent","arcParams","cp","preSegment","_d","_e","_f","_g","_h","dx1","dy1","dx2","dy2","tolerance","dcmp","onSegment","isInPolygon","isBetween","getLineIntersect","E","D0","D1","kross","sqrKross","sqrLen0","sqrLen1","parseToLines","lines","lineIntersectPolygon","isIntersect","intersectBBox","box1","box2","isPolygonsIntersect","points1","points2","isIn","isPointInPolygon","lines1","lines2","getPathBox","lineWidth","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","extra","getExtraFromSegmentWithAngle","xExtra","yExtra","currentAndPre","currentAndNext","preAndNext","currentAngle","stroke","path2Segments","rect","circle","polyline","polygon","DEFAULT_Y","MARGIN_RATIO","DODGE_RATIO","GAP","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","pre","isAdjust","groupedDataArray","mergedData","getDimValues","_","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","extendStatics","setPrototypeOf","__proto__","__","__assign","marginRatio","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","cacheMap","adjustData","frameIndex","getDistribution","groupData","range","getAdjustRange","valueArr","valIndex","getDodgeOffset","position","tickLength","offset","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","randomNumber","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","negative","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","step","leftPercent","names","field","_getAttributeValue","ret","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","createTmp","title","display","body","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","calColor","fixedPercent","toRGB","defaultView","getPropertyValue","matches","cArray","gradient","colorArray","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","getTickMethod","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","formatter","setDomain","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","threeDigits","fourDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","args_1","dayNames","monthNames","monthNamesShort","dayNamesShort","defaultI18n","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","today","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","dateTZ","parser","validateFields","UTC","getter","_lo","_hi","lo","hi","mid","FORMAT_METHOD","timeFormat","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","tickCount","bisector","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","Linear","getInvertPercent","calBase","log","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","nextTick","minIndexPercent","maxIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","d3Linear","D3Linear","domain","DEFAULT_COUNT","e10","e5","e2","_domain","i0","i1","tickIncrement","ceil","d3ArrayTicks","power","LN10","error","snapMultiple","snapType","div","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","d3LinearTickMethod","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","span","half","legibility","extended","onlyLoose","step_1","fill","best","score","sm","dm","delta","log10","cm","minStart","maxStart","i_1","lStep","calculateLogTicks","avg","pretty","h5","unit","nu","ns","calculatePowTicks","quantileSorted","sorted","linearPretty","calculateTimeTicks","timeCat","catTicks","getYear","createYear","diffMonth","minYear","maxYear","minMonth","maxMonth","creatMonth","diffDay","diffHour","diffMinus","timePretty","yearInterval","monthInterval","mmMoth","dMonths","mday","ddays","hours","dHours","dMinus","minSecond","dSeconds","seconds","console","warn","cat","rPretty","quantile","registerScale","ATTRIBUTE_MAP","getAttribute","registerAttribute","Opacity","Size","isTransposed","originalMatrix","Coordinate","initial","isReflect","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","getCoordinate","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","getAngleByMatrix","xVector","applyMatrix2BBox","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","hasClass","cName","regionToBBox","region","pointsToBBox","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","setClip","toPx","getTextPoint","lineLength","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","originCfg","newCfg","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","fields","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","inst","localId","getElementId","elem","offScreenRender","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","initGroup","GroupClass","newGroup","getDelegateObject","moveElementTo","addGroup","isComponent","component","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","elmentName","originOpacity","elementName","originElement","newAttrs","originGroup","preElement","elementId","childComponent","origChildComponent","pick","replaceAttrs","getReplaceAttrs","updateAnimation","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","ELLIPSIS_CODE","strLen","charAtLength","charCodeAt","ellipsisString","reseveLength","charLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ELLIPSIS_CODE_LENGTH","OPTIMIZE_THRESHOLD","getMaxLabelWidthOptimized","labels","texts","label","maxLen","maxIdx","code","getMaxLabelWidth","getLabelLength","isVertical","ellipsisLabel","limitLength","ellipsisText","getEllipsisText","labelLength","codeLength","ellipsisFlag","reserveLength","newText","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","maxTextLength","backgroundStyle","tagBg","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","findById","textShape","lineShape","overflow","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","textCfg","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","getHeight","offsetWidth","getOuterWidth","getWidth","bLeft","pLeft","pRight","bRight","mRight","mLeft","offsetHeight","getOuterHeight","bTop","pTop","pBottom","bBottom","mTop","mBottom","HtmlComponent","containerTpl","containerClassName","getContainer","pointerEvents","resetStyles","applyStyles","initCapture","initVisible","setAttribute","defaultStyles","domStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","domWidth","domHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","active","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","items","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","self","getSideVector","align","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","states","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","isRotate","getRotateAngle","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","isHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","setLabelsAngle","labelRotate","tickWidth","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","axisVector","normal","verticalVector","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","large","sweep","vecLen","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","backgroundShape","LineCrosshair","CONTAINER_CLASS","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","backShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","rightArrow","onNavigationAfter","cursorX","updateArrowPath","arrow","hasStates","itemStates_1","elName","statesStyle","HANDLER_HEIGHT_RATIO","HANDLER_TRIANGLE_RATIO","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","currentValue","maxValue","setValue","preValue","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","railShape","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","isVertcal","getRailCanvasBBox","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","elementsLength","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","float","marginLeft","getOutSides","limitBox","hits","getPointByPosition","getAlignPoint","outSides","hasOneKey","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","getOffset","resetCrosshairs","node","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","getSmoothLinePath","dataToPath","getAreaLineY","lineY","linePathToAreaPath","areaPath","lineYPx","Trend","isArea","areaStyle","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","DEFAULT_HANDLER_WIDTH","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","PADDING","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_STYLE","trackColor","thumbColor","lineCap","DEFAULT_THEME","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","getPointsBox","centerX","centerY","uniqueValues","Set","polarToCartesian","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","coordStartAngle","coordEndAngle","diffAngle","getPolygonCentroid","sourceShape","targetShape","padEnd","targetLength","padValue","sourceLength","omit","sourceArray","targetArray","BBox","subBBox","fromRange","gap","toPoints","getXDimensionLength","isPolar","getRadius","convert","isFullCircle","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","getCoordinateBBox","dateRegex","getDefaultType","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","ScaleCtor","syncScale","newScale","change","getName","alias","getDefaultCategoryScaleRange","widthRatio","getMaxScale","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisRegion","isRect","getAxisFactorByRegion","isAxisVertical","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","foregroundGroup","getLayer","createFacetViews","facetToView","removeView","viewBBox","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","getTheme","getOptions","coordinateOption","geometries","coordinateType","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","createAction","actionName","actionOption","ActionClass","registerAction","createCallbackAction","_points2path","isInCircle","_convertArr","coord","_convertArcPath","_convertPolarPath","cur","curPoint","angleRange","flag","middleConvertPoint","_filterFullCirleLine","subPath","catmullRom2bezier","getSplinePath","constaint","splinePath","convertNormalPath","convertPolarPath","transposed","equals","getMaskBBox","maskShape","maskBBox","getMaskPath","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","getElements","geom","views","subView","getElementsByField","getElementValue","getElementsByState","stateName","getElementsBy","model","getModel","intersectRect","shapeBBox","pathToPoints","shapePoints","getComponents","co","getSpline","isInBox","getSilbings","point2Normalize","normalPoint","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","arg","getAction","methodName","executeAction","actionObject","STEP_NAMES","START","SHOW_ENABLE","END","ROLLBACK","PROCESSING","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createInteraction","interaciton","createAxisStyles","styleSheet","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createLegendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createThemeByStyleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","legendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","defaultTheme","Themes","registerTheme","snapEqual","value1","value2","getXValueByPoint","xScale","getXScale","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipTitle","positionAttr","getFields","titleField","titleScale","tooltipTitle","getAttributesForLegend","attributes","attribute","getTooltipValueScale","tmpScale","tmpScaleDef","scaleDefs","inferedScaleType","getTooltipValue","valueScale","eachValue","getTooltipName","nameScale","groupScales","getGroupScales","findDataByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipOption","addItem","mappingData","callbackParams","itemCfg","getTooltipItemsByFindData","tooltipCfg","elementsMap","getTooltipItemsByHitShape","findItemsFromView","tooltipItems","findItemsFromViewRecurisive","childView","isAutoPadding","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","getComponentControllerNames","getComponentController","option","wrapperOption","CoordinateController","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","shouldExec","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentBBox","exceed","componentPadding","expand","inc","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","shrink","tooltipController","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","ALL_EVENTS","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","geometryScales","groupFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","removeAttribute","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","uniqItems","subItem","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","snapItem","aItem","yDistance","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","firstItem","getGuideGroup","toFront","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","parseAnimateConfig","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","animateFunction","doGroupAppearAnimate","minYPoint","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","zIndexReversed","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","appendConditions","eachGroup","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","groupScale","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","fs","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","currentShapeCfg","preShapeCfg","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","getRotateMatrix","rotateRadian","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","getOverlapArea","xOverlap","yOverlap","checkShapeOverlap","dones","done","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","layouts","Promise","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","themedLabelCfg","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","offsetPoint","getDimValue","isAvg","isFunnel","centroid","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","handleUserMarkerStyle","adpatorMarkerStyle","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","getCustomLegendItems","itemMarker","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","isStack","shapeAttrs","eachLinePoints","getPath","getSinglePath","getRangePath","topPoints","bottomPoints","topPath","bottomPath","createDarkStyleSheet","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","antvDark","getPixelRatio","devicePixelRatio","inBox","mergeRegion","region1","region2","regexPR","addStop","addColorStop","parseLineGradient","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseRadialGradient","fx","fy","fr","createRadialGradient","parsePattern","patternStr","pattern","onload","createPattern","Image","crossOrigin","complete","parseStyle","CanvasPattern","parseRadius","r3","r4","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isAllow","isInView","drawPath","arcParamsCache","beginPath","tangent","getStartTangent","ArrowUtil","lastPath","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath","refreshElement","_cacheCanvasBBox","getRefreshRegion","cacheBox","validCache","validBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","mergeView","viewRegion","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","bboxMethod","getBBoxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","paramsCache","isPointInPath","hasArc","isPointInStroke","qDistance","cDistance","inArc","extractPolygons","polygons","polylines","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","inRect","rectWithRadius","Rect","inRectWithRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","_clearFrame","clearRect","clipView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","AbstractCanvas","SHAPE_TO_TAGS","SVG_ATTR_MAP","lineDashOffset","miterLimit","class","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","targetIndex","nodeType","currentIndex","insertBefore","targetNext","setShadow","blur","addShadow","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","LETTER_SPACING","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","config","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorAttr","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getIntervalRectPath","coor","getFunnelPath","isPyramid","swap","getRectWithCornerRadius","backgroundCfg","backgroundPath","findMinDistance","sourceArr","getDodgeCount","xValues","normalizedSize","wr","dodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","coordinateWidth","SHAPES","HOLLOW_SHAPES","drawPoints","pointPosition","Point","subX","xCount","yCount","xOffset","yOffset","Schema","normalizeSize","num","sizeArr","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","getArcShapeWeightPath","arc1","arc2","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","getTickPoints","getTickPath","interpolateCallback","middleX","middleY","getInterpolatePoints","interpolatePoint","getInterpolatePath","getInterpolateShapeAttrs","interpolatePoints","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getBoxPath","getCandleYValues","getCandlePoints","yValues","getCandlePath","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","appendAngle","PieLabel","isLabelLimit","MARGIN","antiCollision","plotRange","isRight","overlapping","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","rPow2","dyPow2","distribute","lineHeight_1","totalR","totalHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","innerPoint","itemX","itemY","invisible","endY","drawLabelline","smoothConnector","breakPoint","breakPoint3","largeArcFlag","xSign","slope1","slope2","pieOuterLabelLayout","LEFT_HALF_KEY","RIGHT_HALF_KEY","separateLabels","labelsContainerRange","dxPow2","dx_offset","INFLECTION_OFFSET","LABEL_OFFSET_X","LABEL_TEXT_LINE_OFFSET","inRight","inflectionPoint","pieSpiderLabelLayout","totalOffset","halfHeight","originalPos","limitInCanvas","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","limitInShape","MAX_TIMES","bitmap","xGap","yGap","Greedy","hasGap","spiralFill","greedy","maxTimes","dxdy","dt","maxDelta","nt","fillGap","times","accessedCache","adjustLabelPosition","fixedOverlap","getAxes","AB","BC","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersectRect","rect1Points","rect2Points","url","queue","worker","Worker","onmessage","resolve","onmessageerror","reject","MyWorker","onError","postMessage","terminate","createWorker","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","generateUtils","hideOverlap","methods","eventData","JSON","layoutCode","memoKey","stringify","cb","post","e_1","preset","isContrastColorWhite","isDark","adjustColor","fromObject","bgColor","fillWhite","shouldInShapeSingle","shouldInShape","moveInShape","intervalAdjustPosition","inShape","filterLabel","MAX_CNT","filteredLabels","intervalHideOverlap","todo","groupedLabels","addCurrentGroup","curItems","sortLabels","sortedLabels","hasSome","rightText","pointAdjustPosition","sortedCollections","upFail","downFail","pathAdjustPosition","getCanvasContext","DOT_WIDTH","translateX_1","textShapes","textBox","fadeIn","fadeOut","transformShape","scaledMatrix","doScaleAnimate","endMatrix","growInX","growInY","growInXY","pathIn","positionUpdate","scaleInX","scaleInY","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","sectorPathUpdate","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","waveIn","doShapeZoom","zoomIn","zoomOut","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getMean","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","wrappedRender","_k","html_1","wrappedHtml","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","eachLegend","existCo","getComponentById","getCategoryCfg","getContinuousCfg","createFieldLegend","customCfg","createCustomLegend","loopLegends","getGeometries","doEach","isRootView","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","DEFAULT_PADDING","DEFAULT_SIZE","DEFAULT_CATEGORY_SIZE","MIN_THUMB_LENGTH","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","ActiveRegion","xValue_1","elements_1","eleData","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","showDelay","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","linkGroup","group_1","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","clearList","ListHighlight","activeItems","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","allChecked","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","PADDING_RIGHT","PADDING_TOP","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","DISTANCE","Drag","dragStart","MIN_DISTANCE","Move","startMatrix","isMoving","DIM_X","DIM_Y","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoom","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","curRange","isWheelDown","wheelEvent","deltaY","DEFAULT_WHEELDELTA","MousewheelScroll","wheelDelta","scrollbarController","currentStart","nextStart","correction","nextRatio","AXIS_DESCRIPTION_TOOLTIP","AxisDescription","descriptionTooltipStyle","isPointInView","isInPlot","CanvasEngine","SVGEngine","Edge","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","headerHeight","$router","projectObj","icon","webside","twitter","polkaConnect","computed","findMaxMin","maxObj","minObj","detailHeader","moment","projectId","distributeAmount","tokenBalanceOf","coinAddr","owner","_holder","_projectId","_tokenCount","_token","_minReturnedTokens","_beneficiary","_memo","_amount","currentOf","getProjectTokenAddress","tokenOwnerOf","_preferClaimedTokens","_metadata","getPayRecords","getBalanceOf","_account","balanceOf","address","_name","_symbol","message","initChart","Close","created","mounted"],"sourceRoot":""}